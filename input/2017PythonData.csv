message
Is it possible to switch between conda and virtualenv? That is I want to switch the actual environment managers not just environments in them … I typically use conda but want to try something out that requires virtual env and is not compatible with conda.  Thanks.
"What is it that ""requires virtualenv"", most things I know don't require anything other than an interpreter and dependencies"
<@Beula> zappa …. at least if you don’t want to mess with the zappa-conda fork.
i don’t see why you couldn’t use a virtualenv for virtualenv things and conda for conda things. the issue is when you try to mix them together but as long as you’re pointed at the right python interpreter things should work.; what have you tried so far?
Ok. So … I’m not sure how to ‘point’ it at the right thing … not even sure where to start.; Just switch the path/env settings?
with virtualenv you activate the environment and it does a lot of handy little things for you like setting the python python.; so you activate the virtualenv when you want to use zappa.; `source /venv-name/bin/activate` should do it; are you using python 2 or python 3?
"Conda does the same really, so ```conda create envname``` gives you a conda environment; and then ```source activate envname``` sets it up; you can use ```which python``` to check which one you are using"
"but i think the issue is with the library <@Hillary>, :re <https://pythondev.slack.com/archives/C07EFMZ1N/p1497625527626658>"
3 … and (maybe this is just a dumb question) but I was worried that installing using conda to install virtual env is not what I wanted.
"but as <@Johana> said, probably best to not try and mix them up; Oh, hadn't seen zappa before"
when you do `which python` what comes up?
Normally the conda one.
"that’s where we would run into our first issue. we wouldn’t want to be using the conda one. we would want something like the system python, i believe."
Right… thus my question :slightly_smiling_face:; Seems like I need to be able to deactivate conda and ‘activate’ python3 (sytem would be python2) and then use virtual env.  Thanks for getting me started on the right track.
"when you create the environment, you can specify something like: ``` virtualenv envname --python='path/to/python'```; if that helps"
"Yes, thanks <@Hillary>"
then follow <@Johana> advice on activating
conda sets the path to point to its bin directory … so I may need a way to not do that when trying to do virtualenv/zapp stuff … before I can activate the zappa env (if I understand this correctly).
related to this? <https://github.com/Miserlou/Zappa/issues/167>
Yes. I just wanted to explore Zappa without having any conda/virtualenv issues. Don’t need conda for this so wanted to switch to using virtualenv and wasn’t sure how to do it. I think I have a strategy now.  Thanks everyone.
heya
sup <@Rona>; how’s the masters program going?
oh I am done
nice!
graduate a month ago
congrats!
so now I got time for python meetups; thansk <@Johana>
haha.. cool :thumbsup:
anything on your end
same old stuff for the most part. i’m just trying to achieve perfect work/life ~balance~ harmony. lol
me to; I am like 75% coding; if not 10 % of no coding is spent thinking of coding; the rest is sleep; and some netlfix; 75% of coding is doing work coding
that’s good.
I should say 50% coding 15 % work none coding
python or .net?
.net; but some python also
or both
I just love both
you try some iron python?
I want to
you doing C# or VB?
I want to try WPF in iron python; even if I have no need; powershell and c#
cool
vb hell no
lol; i agree there. i tried to do iron python LONG time ago. i was a dba but the dev was a C# guy and he was said to have been the best in the university. the university was doing consolidation at the system level so he applied to work at our little lab basically to hide.; i tried to take the opportunity to learn what i could but he ended up not being able to do much coding.
anyone who uses macs; this is good <https://monodraw.helftone.com/>; oh wow
haha that’s interesting.
brb
"do you know how to display ascii art in python; is it just this longstring = """"""\
You can use multiple lines
and newlines
are preserved
""""""; <@Johana>  check this out <https://gist.github.com/itadder/0538cce16f1cb162c288c85c557367b7>; that cool; just learning more python; trying to think of a project to do on the weekends that is not super hard but uses python"
"If you're short on ideas, feel free to check in on the <#C2FMLUBEU|community_projects>"
ahh thanks
:smile:
Such a good bot.
almost as if sometime he is control by a human :smile:
:open_mouth:; Wait a second.; So you *were* snooping on our private conversation? :flushed:
I don't know what conversation but I can make <@Alesia> say what I want
"Oh, alright. So you can't see our convo?; Alright.; Not that I say anything bad."
"if <@Alesia> is in a channel (public or private) we could snoop with the logs. In private messages <@Alesia> doesn't see them, only when you use `/` commands"
We should probably put that in the intro doc just so we are fully transparent. I think we spoke about that before and filed an issue already
slackline is also listening to stuff but only on general
hey guys
hey buddy
"I have installed a python package with pip, made some changes on the source code, recompiled it with `python -m compileall .` but when I run package_name -arguments my changes weren't applied; any tips?"
compileall?
yeah I did this at `/usr/local/lib/python2.7/dist-packages/mypackage`
oh
"I also removed the previous .pyc file; before recompiling; apologies if I'm asking in the wrong channel, I didn't find one for pip issues"
"help is a good channel to ask in n/w.; did you install your package with `-e`?; `pip install -e ""path/to/package""`"
<@Johana> no; just `pip install mypackage`
that would be your issue; -e allows it to be editable; it creates symlinks to where your package exists to the site-packages dir so that you can edit the files and see the changes.
hmm; so I need to reinstall it
you can install it again on top (i think).; but it’s probably safer to uninstall first
"okay; `mypackage should either be a path to a local project or a VCS url beginning with svn+, git+, hg+, or bzr+`"
is it local?
no
"hmmm.. this package is on pypi?; you’re going to want a local copy of whatever package this is. if you are editing it and expecting to see the changes.; for example lets say this is my project dir.

```
|--- requests
|--- my_awesome_app
```; these are two python packages. requests has been cloned down from github but i would like to edit it separately and see the changes in `my_awesome_app`; i would go into the `my_awesome_app` dir and activate the virtualenv.; then type `pip install -e ""../requests""`"
virtualenv?; uuuh let me see if I can figure something out by cloning the repo
"yes, a virtualenv is short for “virtual environment” it basically makes a copy of your python binaries and places them in a separate location (again using symlinks). This separate location acts as an isolated environment in which you install dependencies/packages. What you gain from this is the ability to only have the packages and package versions you need for that particular project.; if you are using python3 it comes with virtualenv capabillity"
does `pip install` look for any particular file?
pip install will be looking for a `setup.py` file in the root of the package.
great; I think I got this
":thumbsup:; it takes a bit to get used to. virtualenvs, pip, and so forth but once you get the process down it will be second nature.; and once you start working with multiple projects with different requirements/dependencies and even python versions you’ll see why this extra stuff exists."
hey it worked!
the important thing is to try and start using these practices early on so that they become habit as they are typically used by python developers.
it actually really works!; this is going to be my first pull request; thank you so much <@Johana>
that’s fantastic. i’m glad i could help.
Does anyone have a pro tip for freeing up disk space on a SSD?
links
`rm -rf /`
"BleachBit; and ZFS; (compression is freeing space, right?)"
"Depends on what OS, but on mac there is a diskutility thing that is used to erase free space, I have seen that reclaim a bit. Also cleaning up a docker cache, if you use docker"
I want to use setattr inside a class’s init method. Should I use it on `self` or `self.__dict__` ?
"Hey guys for my django web app I'm trying to figure out why my page went from working to a page not found error. It's saying:
Page not found (404) Request Method: GET Request URL: .... Using the URLconf defined in EMC_site.urls, Django tried these URL patterns, in this order: $queue_system/ $admin/ The empty path didn't match any of these. You're seeing this error because you have DEBUG = True in your Django settings file. Change that to False, and Django will display a standard 404 page.
but it WAS JUST WORKING. I didn't change any code just came home from school. I found that the interpreter was no longer set to python 3.6, it wasn't set to anything so I'm wondering if other things may have changed? Thanks for any help! I'm hoping it is a commonly known problem if something is just working and then starts to give you this error if you come one and off wifi or something. Another one of my projects happens to be having the same problem. I also tried typing /admin or /queue_system after the web address too. Neither worked."
"<@Reda> 
```
&gt;&gt;&gt; class A:
...   def __init__(self):
...     setattr(self, 'a', 5)
... 
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; vars(a)
{'a': 5}
&gt;&gt;&gt; ```"
<@Natividad> are you running it in a virtual env?
Can you edit an active/open excel doc in python?
"whats the use case?; you could, but changes wouldn't be replicated; and trying to keep changes in sync between the excel program and the python program would be a headache; so, I'd say this is something that you could do in theory, but I'd not bother"
"Yea, I have a client who wants to add rows to a work sheet as he makes selections and I assume he'd like the worksheet open to see the changes. I told him I could just do it in vba but he'd rather have a separate:face_with_rolling_eyes: program apparently.; How would I go about it, if he insists?; I thought you'd run into the same issue as having a workbook open by two different people at the same time"
"<@Staci>, I think it’s possible with A LOT of work. I don’t know if there are libraries in Python that actually allow you to open and edit without saving a new version. You can copy an existing workbook, make changes and save that one over the old one."
google docs :slightly_smiling_face:
"<@Meg>, my thoughts exactly"
or office 365; those already have collaboration built into them; why re-invent the wheel; and end up handing the client a 10K bill for development time
"haha; <@Staci>, if you’re still keen ~to~ on trying, the best library i’ve seen so far for pretty formatting/excel writing is <http://xlsxwriter.readthedocs.io/>"
"Actually, I remember pywin32 can do stuff with Excel documents.; And bonus: you *can* access already opened documents; But that's crazy of course."
"Yea, I've worked with excel before, but never on an open document."
<@Staci> I have done something similar by feeding the worksheet live data and cells update automatically as new data comes in. But I used excel dev tools. I dont think one can edit an open excel sheet otherwise.
yeah the only real live option is to write some awful VBA glue in the excel to speak to something external via python; it's my eternal hope that they at least put in some sort of c# or powershell automation into excel at some point but I've been hoping for like 10 years now :(
"hi folks, i got trouble while trying pandas, how to slice a dataframe using  Int64Index?
I’m search an index base on value ```id = df.loc[df['time'] ==1496587067]``` Then I got an `Index` object `id`, I want to get 10 elms before that index. Which way I should go?"
"<@Winnifred> not exactly.  xlsxwriter is only for creating and writing to excel files.  It can't open and read from existing files; right there at the top of the FAQ <http://xlsxwriter.readthedocs.io/faq.html>; &gt;&gt;&gt;Can XlsxWriter use an existing Excel file as a template?
No.

XlsxWriter is designed only as a file writer. It cannot read or modify an existing Excel file."
how do I get an elastic IP to my ec2 instance? the instance is already running and when I click on it’s description. It’s empty
"before a user account can be created in my app it checks whether someone with the same username exists, and then whether someone with the same email has already registered, as both of these are supposed to be unique. Do I really need to check these individually? I know the insert query will fail if the values aren't unique since the columns are set to `unique`, but is there a way to know _which_ one caused the error, so that for example I can tell the user whether their username is taken or whether their email address is already registered."
<@Thomasina> your DB will throw an Integrity error with the name of the field in the message. So you can probably parse that one to find out. It could be easier if you are using some ORM but I am not sure.
"<@Hermina> Hi. How about this snippet:
```
import pandas as pd

l_num = [num for num in range(10)]

df = pd.DataFrame({
    'num': l_num
}, columns=['num'])

l_id = df.loc[df['num'] == 5]
first_match_id = l_id.index.get_values()[0]
print(df[first_match_id - 5:first_match_id])
```"
<@Reda> Just use self
"Thanks, I thought there will be a shorter way rather than get the Int index, and slice it with int type :slightly_smiling_face:"
Base on your conditional. It may has many matches id. So i think this maybe the shortest way :slightly_smiling_face:.
"<@Meg> yep, agreed. I mentioned open and edit wasn’t possible in my first comment (at least with the popular python excel libs)."
"hey team, soz for a really noob question, i use python 3.6 but need 3.5 in order to use one the libraries, what shall i do? :grimacing:
i thought that virtualenv has to be helpful but i'm stuck somehow :("
What breaking changes keep the library from working with 3.6? I can't think of any from the changelog 
"hey <@Beula> thnx for your response, apparently mysql-connector doesn't work on 3.6"
Follow this: <http://python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs/>; where it says: export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python2.7; use this command: export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3.5; then activate the virtual enviroment with source my_project/bin/activate
Did you try it <@Corrine> or is that just what the docs say. There isn't any reason it shouldn't unless they depend on dicts being unordered or something like that.
yeap I’ve tried it
"(Note that you can change the name ""my_project"" to anything else you want to write as the name of your virtual enviroment)"
"What's the error? In any case, <@Deann> 's solution should work if you have python 3.5 installed ; I'd probably use `which python3.5` so it grabs which is in your path (for example on osx it's probably at /usr/local/bin"
"error message: Failed to build mysql-connector
Installing collected packages: mysql-connector
  Running setup.py install for mysql-connector ... error
    Complete output from command /usr/local/opt/python3/bin/python3.6 -u -c “import setuptools, tokenize;__file__=‘/private/var/folders/tb/4df8hrw97hs40qhx0jmklvzw0000gr/T/pip-build-pa9ighsx/mysql-connector/setup.py’;f=getattr(tokenize, ‘open’, open)(__file__);code=f.read().replace(‘’, ‘\n’);f.close();exec(compile(code, __file__, ‘exec’))” install --record /var/folders/tb/4df8hrw97hs40qhx0jmklvzw0000gr/T/pip-rc6qs_md-record/install-record.txt --single-version-externally-managed --compile:"
Isn't mysql-connector python 2 only?
doesn’t seem like it; 3.2 3.3 3.4; which one are you using when you have to use MySQL?
I haven't used mysql with 3.6; Only postgres 
roger thnx <@Meg>
"Regarding Python Classes. How do we create classes (along with inheritance) to be able to do something like, Class().Function(data).toJSON 
toJSON being a @property function.

So really I'm looking to take the return of Class().Function(data) and pass it to the toJSON property to format the data.

Anyone have an idea?"
<@Rolf> did you mean like chaining methods?
Yes.; I've looked into @property methods @staticmethods; Just can't figure it out
`@staticmethod` just means a function doesn't require an instance of itself to operate on; the key to chaining methods is that you have to return a copy of `self` on chainable methods
What do you mean
"```
class Foo:
    def __init__(self):
        self.data = [] # whatever your initial data here would be
        return self
    def Function(self, data):
        self.data = do_thing_with_data(data)
        return self
    def toJSON(self):
        return json.dumps(self.data)
```; something like that would have basic chainable class init and `Function` methods"
"like just the fuction needs something like this?
''' 
class CLASS(object):
    _x = None
    def __init__(self):
        pass
    
    def something_to_do(self, var1, var2):
        x = var1 + var2
        return x
    
    @property
    def toFloat(self):
        return float(_x)
    '''"
"```
class Foo:
    def bar(self):
        # do work
        return self

    def baz(self):
        # do other stuff
        return self

    @property
    def json(self):
        return self.__dict__

Foo().bar().baz().json
```"
"Awesome!; I didn't try that ... why didn't I try that?; Hmm this didn't work. 
```class CLASS(object):
    _x = None
    def __init__(self):
        pass
    
    def something_to_do(self, var1, var2):
        x = var1 + var2
        return x
    
    @property
    def toFloat(self):
        return float(_x)
    
    
print(CLASS().something_to_do(1,2).toFloat)```; ```Traceback (most recent call last):
  File ""Untitled 2.py"", line 15, in &lt;module&gt;
    print(CLASS().something_to_do(1,2).toFloat)
AttributeError: 'int' object has no attribute 'toFloat'
```"
"your `return x` needs to be `return self`; because `return x` is just returning the result of `var1 + var2`, which is just an int"
"```class CLASS(object):
    _x = None
    def __init__(self):
        pass
    
    def something_to_do(self, var1, var2):
        _x = var1 + var2
        return self
    
    @property
    def toFloat(self):
        return float(_x)
    
    
print(CLASS().something_to_do(1,2).toFloat)

```; ```Traceback (most recent call last):
  File ""Untitled 2.py"", line 15, in &lt;module&gt;
    print(CLASS().something_to_do(1,2).toFloat)
  File ""Untitled 2.py"", line 12, in toFloat
    return float(_x)
NameError: name '_x' is not defined
```"
"ahh, so `_x` in that scope doesn't exist; that will need to be `self._x = var1 + var2`"
Wow .. ok .. that one I knew .. just too focused on other things ..; Just completely missed it like a noob.; yup .. perfect .. thanks man.; Returning the self was what I was missing.; thanks
"no problem!; its okay, method chaining is a bit of an odd thing to work out at first"
Yeah. Just didn't occur to me to pass the object along.
"If we know it unique, on that col, can we do it cleaner? Anyway i’m vnmese :wink:"
"Has anyone come across this issue while using `peewee` or `PyMySQL`?

<https://github.com/coleifer/peewee/issues/1296>

Help pls!!"
I have a file( test.txt ) which contains a no. and i want to store that no. in a variable; new to python
"<@Jessie> Can you declare your problem a bit?
Like given a little example."
"<@Jessie> this sounds like you have quite a basic problem (opening and reading a file, finding the right value and storing it); But considering you are new to the language it is probably worth you doing an online tutorial to learn more about python. We could try and help you but there will  likely be more questions and you would be better served by a more formal resource."
actually i want to write a script that mail me if root partition is motr than 90% in use...i am fetching that percentage using awk and then appending it to a file and i want to read that file and save that percentage in a variable.. so that i can do if elase on that
"hi. what is the most pythonic/efficient way to check for 2 conditions as in:

i have 3 string-templates
`template1 = 'Main'` 
`template2 = 'Other'`
`template3 = 'Final'` 

- if `template1` is `Main` and its length &lt; 10, take `template1`, otherwise take `template2` and check its length and if thats too long, take `template3` (each string can be dynamic, so that sometimes `Main` is shorter and sometimes the last. but it should always start by checking `Main`); (it should be easy for the experts out there but i cant seem to get my head around it - ideally without a `Class` or `lambda` function)"
"length &lt; 10?; if it's main, then its length is 4, right?"
"sorry for the confusion. i tried to include all necessary information. the templates are just names and part of a dict which contains the string --&gt; like: 
`main_template = {'string' = 'foo', 'template' = 'Main'}`
`other_template = {'string' = 'bar', 'template' = 'Other'}`
`final_template = {‘string’ = ‘toto’, ‘template’ = ‘Final’}`; <@Suellen> makes more sense now?"
"yeah; ```
def take_template(*args):
    for template in args:
        if template['Template'] == 'Main':
            return template

        if len(template) &lt; 10:
            return template

    return template
```; how about that; change appropriately"
thanks <@Suellen>. however i quite dont understand how the other templates are used here in their order. maybe very beginner question
"`for template in args` -- loop over all passed arguments (in order, as they are positional arguments); return the first found main template, or the first found ""len&lt;10"" template; otherwise just return the last one"
"No idea why i am getting two outputs........
""""""
""""""; eccentric@debian:~/Downloads$ cat test.py 

import os
DISK_SPACE = os.system(""df -Th | grep /dev/sda6 | awk '{print $6}' | cut -d'%' -f1"")
print DISK_SPACE
eccentric@debian:~/Downloads$ df -Th | grep /dev/sda6 | awk '{print $6}' | cut -d'%' -f1
80
eccentric@debian:~/Downloads$ python test.py 
80
0
eccentric@debian:~/Downloads$"
"`os.system` returns 0; i. e. successful result; `os.system` calls a program (or a number of them) that you specify, and they print to the terminal; then `os.system` returns 0, because everything was successful; then you print `DISK_SPACE` and that's your 0."
what if i dont want to have that 0; i just want to have size of my disk
don't `print DISK_SPACE`
i can do if else on the basis of DISK_SPACE and this 0 wont interrupt me ????
... I don't understand.
"Why bother writing to a file and then having python read it and email? Unless you are using that file for other usages, it's probably easiest to just call the subprocess from python and email based on your condition."
"Now i am not printing. I wonder why it's still printing 80
""""""
import os
DISK_SPACE = os.system(""df -Th | grep /dev/sda6 | awk '{print $6}' | cut -d'%' -f1"")

if DISK_SPACE &gt; 90:
    print ""warning""
else:
    print ""everything is fine""
eccentric@debian:~/Downloads$ python test.py 
80
everything is fine
"""""""
because os.system just spawns a bunch of processes with current context; `df` prints to the terminal
actually i just want to save that output to DISK_SIZE variable
"please format your code, use backticks on both sides instead of quotes:  ` ``` ` <@Jessie>"
backtics says syntax error
"In slack, my friend"
oh...:grimacing:; thanks
The short of it is this: `os.system` does not capture the stdout from the subprocess - you need to use the `subprocess` module: <https://docs.python.org/3/library/subprocess.html#popen-constructor>
"```
import subprocess

output = subprocess.check_output('df -h | fgrep udev', shell=True)
print(repr(output))
```"
"If I have an unknown # of properties that come from a JSON document that I want to attach to a Python class and then use that new class for every record moving forward, what's the best way to do that?  I was trying to grasp python class factories and was struggling a bit with it"
"wow, do you really want exactly that?; that's crazy!; ```
import json

class A:
    def __init__(self, json_data):
        self.__dict__.update(json.loads(json_data))

text = '{""a"": 7, ""b"": 10, ""flag"": true}'
a = A(text)
print(vars(a))
```"
thanks
"<@Rikki> If it's crazy but works, it's not crazy :wink:; (but actually it IS)"
"Well, the properties come from json source 1, and the attributes come from json source 2; so I want to just build out my template from source 1 and then loop through the thousands of records in source 2 with the template as my container.; the structure of the json is goofy though so i have to load it and process it separately from the standard .loads().  good times."
so I have a question is there a slack channel for bokeh or flask?; I have a question on integrating those two
there is <#C0LN2AD7T|flask>
is this the place to ask?; <@Meg> Thank you :slightly_smiling_face:
"I saw a YouTube video where someone used similar but for xml and made it where he could import classes defined in xml, it was pretty cool.; Sorry, that is to the above with json to class with variables."
what the best way to check if  the answer is yes and do something only of it yes; SyntaxError: unexpected EOF while parsing
"<@Rona> can you give more context? Are you trying to read from user input, or check a value?"
read from a user
So what do you have now
"recent = int(raw_input(""Provide a number: "") or num_len ); trying to learn also shutil.copy"
Please be sure to use code formatting
oh
"Break down your problem into small components, what is the current issue? ""Provide a number"" suggests to me that you are not looking for ""yes"""
"nope; I am looking to see if some number was provided, if not use the full legth of the array"
"""the array"" is pretty vague, I think you need to expand on your issue a bit more; <https://stackoverflow.com/help/how-to-ask>"
let me think about this more on my own; thanks <@Beula>
Sounds like you are trying to do an if statement
I think I figured a better way; brb
anyone worked with PyMC?
"So, I broke our mysql cluster, how's everyone else's day going?; Apparently a query caused a table to lock and never unlock."
"We had that during a deploy once <@Meghan> - someone's console had a lock on a table during a deploy and it got stuck.; You may ask ""why does someone have production access to have a console open"" - but that's beside the point :joy:"
"With the data we are working with, it wouldn't surprise me if we ended up doing that.; We have weekly cron jobs that truncate then insert hundreds of thousands of records.; Unfortunately, much of the data we are working with isn't indexed when we get the data."
"Dang, that is a bit of data."
"Would be nice to index it, but then those bulk inserts become insert or updates and would likely take a long time."
Was the fix pretty difficult today?
"Don't think he has it fixed yet. Thankfully, not my baby."
"Any reason to roll your own test framework? It looks like one big issue is that you don't handle exceptions in the runner, so cleanup won't be guaranteed"
has anyone used pyflot? how is compared to bokeh?
"Can anyone explain why this works?
```
with open(path, 'rb') as file_:
        for chunk in iter(lambda: file_.read(4096), b""""):
            hash_obj.update(chunk)
```
Specifically the `b""""`?"
"<@Ouida> the docs for `iter` explain it pretty well (<https://docs.python.org/3/library/functions.html#iter>).

The second argument is a ""sentinel"" value, which will create the stop condition when the result of the callable (the lambda function) equals that value; So each iteration it will check the result of the lambda against that value, if they're equal it raises `StopIteration`, a special built in exception to exit a loop."
"<@Beula> I handle exceptions in the real code, they are included in the ""do some stuff, execute the actual test"" comment. In any event, I thought it made sense to execute the tests this way, and I have a Jenkins job that that does so by executing main.py (each test case being called from within the main file). Really I'm just curious if that goes against any conventions or industry practices because I want to correct any bad habits. I don't really have a reason for rolling my own framework other than to get better at coding (this is my first coding job)."
"I'd say that, from experience, don't ever roll your own at work. That's free time stuff until you find a deficiency in community accepted frameworks (unittest or pytest, in the python world for the big couple). Every time I have rolled my own it has bitten me hard.; <@Yessenia> - the `illegal byte sequence` is from stderr of the subprocess, one of the pipes is getting something it can't handle. From the try local it's the `cut -c30`.; If you know you don't want whatever is from that, you can just use `stderr=subprocess.PIPE` and it will be captured (and not printed to the python console). Since from the console you will get bytes back, you'll need to decode and probably strip them"
"<@Beula> sure, but what is `b`? it’s not an identifier?"
`b''` is a bytes object
ohh; okay yeah that makes sense… ha
"You have a few of those: `r''` -&gt; raw, `b''` -&gt; bytes, `f''` -&gt; f (format)-string"
so `b''` is basically an empty byte object?
Are there any that you recommend for UI testing?
Pretty much; I use pytest for everything
"hi, all…i’ve got a strange problem with sqlalchemy, the full description is here <https://stackoverflow.com/questions/44615074/sqlalchemy-increasing-memory-on-simple-query>; but I don’t understand if this problem is due to sqlalchemy or something related to python memory management"
"Hey guys does anyone know what `-rin` does in the context of `grep -rin ""email"" */log`"
<@Robbin> `man grep`; Then press `h` to learn how to navigate and search
<@Robbin> -r = recursive / -i = ignore case / -n = print line number
<@Daniella> Thank you so much for that :slightly_smiling_face:
you are welcome
"Hey guys I'm a bit stuck with converting a string date to a datetime object getting this error:

```  time data '2017-06-20T15:07:12+01:00' does not match format '%Y-%m-%dT%H:%M:%S%z' ```

CODE:

``` current_action_date = datetime.strptime(request.data['date'], ""%Y-%m-%dT%H:%M:%S%z"" ) ```

request.data['date'] printed gives ``` 2017-06-20T15:07:12+01:00 ```

Useing Django RestFramework on 3.6

Any ideas what I am doing wrong?

Thanks for any help you can provide ! I'm really baffled by this one !"
Do you control the client code for this? Looks like the timestamp offset is the wrong format for `%z`. `+01:00` should be `+0100` iirc for that one 
Yeah its from an android app. Ahhh thanks a million will figure out a way to change that !
that’s completely valid ISO 8601 formatting
<https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior>; you might want to check here if there is something for the `:`
"For datetime reference:
<https://docs.python.org/2/library/datetime.html>"
"`	UTC offset in the form +HHMM or -HHMM (empty string if the object is naive).`; way to not conform to ISO standards :confused:"
"Yeah Joe is right, the colon should be valid, per the spec :("
"<@Deedee> <@Cristine> is using 3.6, not python 2 :slightly_smiling_face:; well looks like an opportunity to be a python contributor haha"
yeah i have no idea this isn't working !; it should do it just going to filter the string on client side before marshaling it
<@Patty> you'll have to hack in both cases unless you want to break a *lot* of code
yeah i havent even looked at the source but im sure its not pretty; also i aint got no time for that i get married in 2 months from today
or add another letter for the `:`; like `%z` and `%Z`
<@Patty> congrats
Why is pycharm treating the name config as if it was a link?
<@Meghan> can you provide more context?
"```help(config)
Traceback (most recent call last):
  File ""&lt;input&gt;"", line 1, in &lt;module&gt;
NameError: name 'config' is not defined```

Opened the console, type config, and it becomes a link.; I do have a module in a directory named config, but other modules dont' get that treatment."
"If you click the link, does it take you there? Seems like that may be what they are _trying_ to do, and just miss the mark for others?"
Clicking on the link doesn't do anything.
weird ¯\_(ツ)_/¯
"huh, funny"
"In the above, dreamer is the other library, so, idk. Interesting anyway. There is also a config.ini file in the directory."
"That is weird, mine doesn't for anything I see in my project"
"Hi to all! Can you help with my code, please? I cant upload images, thnks!
""""""def client_registration(request):
    form = ClientForm(data=<http://request.POST|request.POST> or None)
    userform = UserForm(data=<http://request.POST|request.POST> or None)
    all_fintessclubs = Fitnessclub.objects.filter(is_active=True)
    competitions = Competition.objects.filter(is_active=True)

    if <http://request.POST|request.POST> and form.is_valid() and userform.is_valid():
        userpost = userform.save()
        post = form.save(commit=False)
        upload_images = ['client_avatar' or 'image_portrait' or 'image_profile' or 'image_back']
        for image in upload_images:
            try:
                post.image = request.FILES['%s'] % image
            except KeyError:
                pass
        post.user = userpost
        post.save()"""""""
"Sooo, what happens when you DO upload something?"
<@Britta> can you please format your code (add three backticks on each side: ` ``` `); read the intro doc for our standards :slightly_smiling_face:
oh; what the..
Going to run into a loop with these bots competing. :slightly_smiling_face:
"haha, looks like we haven't deprecated the slack response"
<@Suellen> everything is up (text data) except images
did you try to log the variables while you upload an image?; e. g. at which point the state becomes different from what you expect?
I check in admin and there is no any
"what does `upload_images` look like? (log it to console)
does the for loop work alright?; how many times does it iterate, log it too; I bet you'll find something strange right away if you log"
"<@Britta> Back ticks (above the tab key on the US/ISO keyboard):

```
def client_registration(request):
    form = ClientForm(data=<http://request.POST|request.POST> or None)
    userform = UserForm(data=<http://request.POST|request.POST> or None)
    all_fintessclubs = Fitnessclub.objects.filter(is_active=True)
    competitions = Competition.objects.filter(is_active=True)

   if <http://request.POST|request.POST> and form.is_valid() and userform.is_valid():
        userpost = userform.save()
        post = form.save(commit=False)
        upload_images = ['client_avatar' or 'image_portrait' or 'image_profile' or 'image_back']
        for image in upload_images:
            try:
                post.image = request.FILES['%s'] % image
            except KeyError:
                pass
        post.user = userpost
        post.save()
```"
"I understand your idea, thank you!; sorry, ok :slightly_smiling_face:"
One thing you're doing is changing the value of `post.image` each iteration of that loop; Is it `pass`ing each loop? Do any of those keys exist in `request.files`?; <@Britta> ^
you can add those file fields on your form <@Britta>. Then you can pas the `request.FILES` to the form constructor and it handles that for you.
"Anyone know if this is the right shorthand for a one liner? `featured_image=(n == selectedImageIndex)`; n is from `enumerate` and would be `0` `1` `2`, etc. `selectedImageIndex` would be `1` in this case.; Python doesn’t moan but it doesn’t seem to be working"
Is this the right channel to post novice Python questions?
Sure
"Ok, cool. 
I’m trying to learn more about `super()`

Here’s a code snippet I’ve written:
```
class MyList(list):
    def __len__(self):
        print(""calculating the total number of items in the list"")
        super(MyList, self).__len__()
```
And when I instantiate `MyList` I get the following error:
`TypeError: an integer is required`

what am I doing wrong?"
"- `super(MyList, self).__len__()`; + `return super(MyList, self).__len__()`; actually, what Python version are you targeting?; `return super().__len__()` is much nicer :slightly_smiling_face:"
Instantiating in Python 3 with that code would be fine I think? But trying to do `x = MyList()` `x.len()` would return `AttributeError: 'MyList' object has no attribute 'len'`
I’m using Python 2.7.x
"... come to think of it, if you don't do any processing at all, you can just skip this method; if you don't implement it yourself, an original one will be used from `list`"
well I’m just practicing with `super`. Let’s say I want to log or print before `__len()__` is executed; ok why do I have to use `return`?
You’re saying return the result of my parent classes `len` method.
"ok so I did this as well but no return was necessary:
```
class MyDict(dict):
    def __setitem__(self, key, value):
        print(""adding key: {} and value: {}"".format(key, value))
        super(MyDict, self).__setitem__(key, value)

    def __getattr__(self, key):
        if key not in self:
            return 'key not recognized'
        else:
            return self[key]

```"
`setitem` doesn't return anything useful; and there is a return statement in your `getattr` :))
ah I see
What is the best way to convert a list to a dict? The only thing is I want to specify my keys from outside the list. So the list is basically the values of the dict and I will provide the keys separately.
"```
&gt;&gt;&gt; values = ['one', 'two', 'three']
&gt;&gt;&gt; keys = [1, 2, 3]
&gt;&gt;&gt; d = dict(zip(keys, values))
&gt;&gt;&gt; d
{1: 'one', 2: 'two', 3: 'three'}
```"
Perfect exactly what I was looking for.
"Hey guys, I'm new to deploying django applications and I've been fighting an issue for two days now, could anyone help me with this? <https://stackoverflow.com/questions/44666555/django-wsgi-no-module-named-site> I just posted a question in stack overflow and I'm completely stuck at the moment"
"<@Blossom> I think you have a type-o in your question:

```
activate_this = os.path.join( PROJECT_DIR, 'env/shinra/bin', 'activate_this.py'$
```

The `$` is invalid and would cause a syntax error"
"oh yeah let me edit that, thanks!"
"Otherwise, some questions:

1. Where are you running the `python3 -i ...wsgi.py` command from? The app may not be in your PYTHONPATH
2. Why are you not using  uwsgi or gunicorn to serve the app, vs trying to run it directly?"
ive tried running it from both /var/www/shinra/ and var/www/shinra/shinra; I ran it with uwsgi and gunicorn both and was able to get them both to serve the app (without the static files) but I was never able to configure either apache or nginx correctly for my EC2 instance; And the tutorials to configure either of those are old
"If you're at all familiar with ansible, here is how I have my recent Django app served from gunicorn ; <https://github.com/mrasband/ansible/blob/master/ottter.yml>"
"Oh no idea, but the line exec_start seems to be what I ran when I tried with gunicorn and that worked perfectly so being able to run that as a bash or something would be great; My question there would be, is it ok to run the gunicorn command to start serving the app, store that command to run on server start and just use nginx to feed my static files?; But now that I remember I couldn't do both at the same time, I could only run gunicorn when nginx was stopped and viceversa; I'll do everything again from scratch and see if I manage to work around it now with gunicorn and nginx"
"Sounds like you're competing for ports and running into collisions. Nginx should handle 443 and 80, and forward to the ""upstream"" port (if using gunicorn) used by gunicorn (the `-b` flag can set this); With Django it's also pretty much required to use nginx (or another webserver) to serve the static files (created via `./manage.py collectstatic`)"
"yeah I thought as much, so I began from scratch and was able to put my app up using `gunicorn --workers 3 --bind 0.0.0.0:8000 shinra.wsgi`; now, having that, do you have any resource I could use (that could work with either 1.10 or 1.11 and python 3) for setting that up with nginx?; ah.. here is where I got stuck; <https://pastebin.com/r8MrQAPi>; Thats my bash script, I never got it to work haha; Does anyone know how make gunicorn use the python from my virtual environment? for example: `/home/ubuntu/venvs/shinra/bin/gunicorn -c /home/ubuntu/venvs/shinra/bin/python /home/ubuntu/shinra/scripts/gunicorn_config.py shinra.wsgi`; running `/home/ubuntu/venvs/shinra/bin/gunicorn -c /home/ubuntu/shinra/scripts/gunicorn_config.py shinra.wsgi` only works inside my virtual env and not with supervisor; never mind, I got it to work now, my directories were all wrong"
If this data is going to be used in a form that you post the json some where look at might help <https://github.com/kushalpandya/JSONify>
"Hello, are there open source APIs to access street traffic feed live?"
<@Clarence> it's more likely that individual cities and towns will be responsible for publishing feeds if they want to; so no global one
"Hi guys, im developing an app in React. It has some content that i need to send to a database, not sure how to get it to communicate. I'm using React, Axios, Django. Any examples or things i need to be looking at?"
I'd suggest `django-rest-framework` for django. Will make the API construction easier
<@Meg> so using a simple ajax request using axios or jquery i can post my contents over this API to the database?
"and if you're not doing so, use `create-react-app` to get a good project boilerplate with a very high quality webpack configuration; so, what happens is when you wire up `axios` in your react app, it creates a request to the server via GET, PUT, POST, etc; and while you can think of this as similar to jquery's `$.ajax()` method, its a little different"
ok
have you done anything like this before?
"no thats why im kind of confused; ive been able to feed data into my react components; but now posting to the django setup; its not so clear in my mind; im going through the DRF tutorial; dos my axios post request need to point to a view URL that takes in a post, grabs what i send and stores?"
"correct; and if you're using DRF, the URL is mapped to at least an `APIView` implementation; which contains a `get(self, request, ...)` or `post(self, request, ...)` implementation"
ok; so all that classic jazz if request.GET; etc.
out the window
"Could you point me to any documentation, guides, tuts that i could look up? i fail to communicate what i am searching on google; brings up different stuff; a simplified example is what i need from somewhere to just establish an easy proof of work"
"server side or client side?; I mean, the DRF tutorial is pretty good"
yeh perhaps client sided; sending the post request to the DRF API
ah ok
processing it
"<https://daveceddia.com/ajax-requests-in-react/>; so that would help client side; server side, really depends on _what_ data you're sending"
<@Mirna> I am trying to get the value inside the li and strip out some text. I will test your code
and whether you need to seiralize it to a model instance
<@Mirna> Thanks
yeh i would i'll be sending json to the database; thanks for the help though; it confirms im heading in the right direction with DRF
"yeah; and what makes things easy is it can handle the serialization/deserialization for you; so you can send in a model representation via json from your client; and it will deserialize it to a model instance which you can do more stuff with; and then sending data back out to the client, it will serialize models to JSON"
"ok nice, and just ajax post to the url view which receives the data"
"correct; or get, put, etc"
superb thanks man
:thumbsup:
:100:
The ansible I linked has a `role/nginx` that has the nginx setup steps :)
"I'm evaluating celery/redis alternatives for task queuing and scheduling. Someone mentioned redislite and apscheduler. Does apscheduler do task queuing or just scheduling? Also, any other alternatives?; This is being used for a Django environment."
`concurrent.futures.ProcessPoolExecutor` is good at queuing when you don't need ETA scheduling
"So if I'm just firing off a task (not scheduling), that would be a good way to go?; I like that."
"Redis-lite would be if you kept celery to make it easier to distribute, otherwise APScheduler could call manage.py commands in your app and be deadsimple"
"ah. gotcha.; I was looking at if there was maybe en embedded task queue manager, but I'm not coming up with much. APScheduler looks to be a good route.; Can you fire off tasks immediately without scheduling them using apscheduler?"
"Yeah I think the decorator returns the original function. So you could just call it directly iirc; Interesting thought, embedded task queue manager. I think in many cases someone would just use Cron or windows scheduler "
True.
<@Rolland> we're also using huey
I was actually just looking at that one. Can you start it right from django?
<@Vada> from an author of Peewee?
<https://github.com/coleifer/huey>; not sure if they authored peewee but maybe; And what do you mean by start it from django?
"Well, I'd like to not have to run and manage extra processes."
it will use workers like celery
ah. ok.
"hello everyone, I've requirement where dataset is large like 10 millions records, i want to use django rest framework in order to provide that data.

Question : which one is the best ORM which is efficient for large datasets?

1. Django ORM
2. SQL alchemy

"
SQLalchemy is more performant especially if you're using Core.
<@Dave> thanks for the suggestion. I've those data on microsoft SQL server.; would like to move to postgresql.
"yeah, will be cheaper in the long run; no sql server license :slightly_smiling_face:"
<@Romona> <http://docs.sqlalchemy.org/en/latest/faq/performance.html>
how about django ORM? Not good from performance point of view?
if you use sqlalchemy you can reflect your mssql database and then create its exact schema in postgres.; and you could use sqlacodegen to create the models.; i've done this very thing to move a .net application to python.
"I think ""performance on large data sets"" and ""ORM"" are mutually exclusive. ORMs exist for development convenience, not high performance."
"^; and furthermore, you should use pagination and such to actually retrieve the data"
"That's not to say you _can't_ get good performance - you can, if you know the ORM well and/or you have access to low level commands like SQLAlchemy Core"
Ultimate plan is this only. Move web API .Net to django API.
"But they're not designed for that purpose, and will probably impede you somewhat"
and there are times you will have to write and execute raw sql
sqlalchemy's orm does a pretty good job in general.
"It depends a lot on the nature of the querying. If you have good indexing set up and you're only working with a few records at a time, the ORM usually doesn't care if there are 10, 10000, or 1000000 rows in a DB; But if you're doing ""big data"" stuff where you routinely hit large amounts of the table... that's a different matter"
reducing joins helps a lot too
"yup, ORM joins are often nowhere near as efficient as raw SQL joins"
one thing I like about django is you can print out the sql query for a given db access; and then look at it to see if you can improve it
SQLAlchemy can do this too!
"by django, I mean the django framework, not the ORM; since it is possible to replace the default ORM with sqlalchemy (though I've never done this), but the API is largely the same"
"yea, you can mix sqlalchemy and django orm. it's all just python at the end of the day. however, if you swap out one for the other you lose all the benefits of the django orm and how it integrates with the framework."
"If performance is a factor than use SQLAlchemy core to work on this large data set. If deadlines are more of a factor that use Django ORM since you're already use DRF. Just make sure to use eager loading on relationships where you can to optimize queries.

<http://ses4j.github.io/2015/11/23/optimizing-slow-django-rest-framework-performance/>"
any good tutorials you all would recommend on packaging for somebody who's never done it?
how can i do this in python
why don't you create store proc?
how can i do that; ?
"<@Norris>, can you give more context around the error? Things like an overview of what you're trying to do, your input, the expected output and the current error you're receiving."
"in the comand like i get this error; File ""dev.py"", line 18
SyntaxError: Non-ASCII character '\xc3' in file dev.py on line 19, but no encoding declared; see <http://python.org/dev/peps/pep-0263/> for details; its a valid sql code; and also valid python code"
what version of python are you using?
<@Winnifred> its 2.7.12
"Okay, try declaring your source encoding by adding this to the top of your file:"
thanks; worked; but i dont get any data
`cur.execute(query)` only executes your query. You will need to fetch the results.; good stackoverflow reference to your encoding issue above:; <https://stackoverflow.com/questions/10589620/syntaxerror-non-ascii-character-xa3-in-file-when-function-returns-%C2%A3>
<@Yessenia> look at the `json` module
That's invalid JSON - do you get that in an array instead?
"<@Beula> I get it while parsing a website, it's inside a html-table."
"<@Yessenia> what he’s saying is that format, when when parsed with the `json` module, will fail as its not valid JSON. you can check if it’s valid here: <http://www.jsoneditoronline.org/>"
"<@Patty> Thanks; Quite simple to fix, .split(',') then I have a list and something to work with :slightly_smiling_face:"
"Not that simple, because `,` can be within a json block; If you can garantee that format - it could be that simple and skip odd `,`'s, otherwise parsing matching brackets is a simple stack issue"
greatings; how can i put this type of date format in a mysql query?; 2017-06-14 00:00:00; date and time
What have you tried?
datetime.date(2017-06-14 00:00:00); import datetime
Please format code with backticks around it
what do you mean
<https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
"```
`code`
```"
That was unnecessarily hard :stuck_out_tongue:
That's also invalid python you posted - so already it suggests that you aren't really showing what you have tried :confused:
"makes it easier to format code for readability compared to regular text; so, `datetime.date` requires three inputs; `year`, `month`, `day`; all have to be integers; eg, `datetime.date(2017, 05, 17)`"
the thing is that i get this format from jquery date time picker
<@Norris> <https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime>
is there any way i can manage the format i posted because all my data is saved like that and  i have to do the queries in that format to get the correct detail; from the database; my queries have to with date and time values because in the database are saved in this format
You mean they are not saved as datetimes?
Anyone here used dreamfactory? Trying to insert a list of rows using a stored procedure. Hoping not to have to do thousands of calls to the sp.
date and time; 2017-06-14 00:00:00; 2017-06-14 23:59:59
"As what column type?; How are you querying?; Please give more relevant info, you can see <https://stackoverflow.com/help/how-to-ask> for tips on how to ask good questions"
i think you are been an ass; if you dont know; dont say anything; <@Beula>
You realize I am asking more questions to better understand your question to actually solve it right?; Calling people names is not something we tolerate here.
:smile:
"yea, stop being a poo poo head."
#Banned
"Was about to drop some spanglish to let her know what was up... but yeah, account deactivated"
<@Johana> poo poo head... them's is fightin' words ...
"<@Norris> there are ways to format datetimes. depending on what you are using to query the database some of this can be done for you. we don't really know if questions aren't posted with example code that replicates what you are trying to do or code that shows what you have tried.; hence, the reason you are being directed to a SO guide."
I think that person is go bye bye.
why isn’t “poo poo head” in the list of profanity for <@Hung> ?
Do you find the language to be obscene?; Or silly?
"Hate to repeat myself, but I think it may have been missed in that fun.; Anyone here used dreamfactory? Trying to insert a list of rows using a stored procedure. Hoping not to have to do thousands of calls to the sp."
"no, never heard of dreamfactory."
lol <@Meghan>
sounds pleasant.; you can fire off stored procedures with sqlalchemy.
sounds like a dream ~
that's about all i know.
"I  thought about it <@Patty>, but didn't want to go there.... lol"
"dreamfactory is a php application that provides a rest api for many databases. It's really nice in ways, can be frustrating."
sounds like the opposite of a dream.; php; comatose
"Well, learning how to do deal with it is fun, and the documentation is lacking and somewhat outdated."
mummification
"That's a dangerous proposition. I don't care about the language, the issue is leaking a database and relations to an API. It's good to try to have some separation of the view layer and the persistence layer"
"It is nice not having to deal with mysql library deficiencies and install issues. Also makes it easier to protect a database.; We're using stored procedure calls through the rest api, so very little is exposed to the user, and it's per key for access."
i'm mostly just joking around. sorry i can't be more help.
Just hoping I don't have to call my stored procedure once per row to insert... it's going to be hundreds of thousands of rows.
Are you locked into DreamFactory?
"That is good to hear, though sprocs scare me for other reasons :joy: . Bad flashbacks"
No. We've been using it for a few months though.
"Had never heard of it before, looking through their site, looks solid. Last couple of API's I did were w/ Slim (PHP framework). Sorry, can't help."
If we keep breaking the mysql cluster maybe we'll switch to postgres and something else. :slightly_smiling_face:
crunchy mysql
Does anyone have experience making large requests to facebook endpoints?
What's that?
<@Meghan> just me being facetious
"oh, okay."
"<@Winnifred> not here, sorry"
<@Winnifred> yes - what kinds of requests
"endpoints related to advertising campaigns! /campaigns, /adsets, /ads"
Ah I dealt more so with querying and pulling info on pages; but what kind of stuff are you wondering about?
efficient ways to grab several thousand records/json arrays
"u can use python with just requests and json thats what I always use; actually just with requests even; `requests.get('url').json()`  you just want to look at their documentation and dig a little to find out how you can make the most requests possible - because some of their apis do allow batching, or multiple queries at one time"
hey what is the best way to write a list of json objects to a file; I was thinking of writing it into a csv; where each row is a basically a json object or should I save it as a json file?
"<@Thelma> You should probably either do a CSV, which would mean breaking the JSON into columns in your CSV or just a file where each line is a new JSON object; You could make the JSON a column of the CSV, technically, but that would be kind of awkward to use again"
yeah that is very awkward and hard to use I am thinking of latter
Are you going to want to search them for anything? If so - you may be best served to dump the contents into a database so you can query and such
yeah right now I just want to work with files and if needed we can move to db
how big is the file
its quite small 1200x250x4 float array is basically what it is
dump it as json then either transfor in refine in a matter of seconds or drop it on here if its small enough: <https://konklone.io/json/>
oh it is better if I automate it I just dumped as a json object; thanks  guys!
"hey guys I have a quick question 
```
dict = {....}
keys = dict.keys()
values = dict.values()
dict2 = dict(zip(keys,values)
```
will dict and dict2 be the same always?"
"since dictionaries are unordered, I would suspect the output of zip to produce the same results as the original dict, barring mutation of keys or values; this is my best guess; contents and keys i'm confident in; ordering, not sure but think they probably will be the same; I assume that shallow copy or deep copy is not related to your problem; if uncertain, instead of `dict == dict2` you could ask `all(dict.keys() in dict2)`"
"Since dictionaries don't keep order like <@Dorothy> said, the calls to `keys` and `values` are not guaranteed to be in the same order (though the resulting lists _do_ maintain their order but are not created in order). Because of that, zipping them back together will not be equal (because keys may have new values and order may not be the same). However if you used an `OrderedDict` then keys and values lists will maintain order, so calling `zip` in that instance would result in the same results "
"hi, i'm getting TypeError: 'dict' object is not callable when using data = request.json(). any ideas why? thanks in advance!"
"hi <@Vanetta>, what is `request`?; hrm, I've never used bottle but it looks like `request` is implicit.  Is it safe for me to assume you want to convert the request to json?"
<@Winnifred> yeah
<@Winnifred> :taco: 
"Okay, per <https://bottlepy.org/docs/dev/api.html#bottle.BaseRequest.json>, it looks like you can only use that method if the content type header is application/json or application/json-rpc. I'm guessing it's not. You can probably see this if you directly print the `request` object. If you still want to force this to json, you can `import json` then use `json.dumps(request)`.; thanks, <@Beula> :smile:"
"Thank you for taking time to understand the problem, ask clarifying questions and answer!"
thanks!!
"Any tips on forming an LLC would be welcomed. I'm based in the USA (Colorado, specifically); I'm looking to funnel contract work through the LLC and a few other ventures. "
"```
for v in o:
    print(v['label'])
```; o is a list"
"<@Ciera> Then I get : TypeError: list indices must be integers or slices, not str; I really don't see what I am doing wrong"
when you load your string as json in `o` it load a list. Because your json is a list; so you need to iterate over the list to get each label/value inside
ajj; [0]
"```
import json
raw_string = '[{""label"":""2012"",""value"":2715016.0},{""label"":""2013"",""value"":2911467.0},{""label"":""2014"",""value"":3254471.0},{""label"":""2015"",""value"":3522816.0},{""label"":""2016"",""value"":3906514.0}]'

o = json.loads(raw_string)
for info in o:
    print(info['label'])

```"
Thank you
"Maybe someone has an idea on a bit of a headscratcher I have.
I have a project which essentially is a python app with currently npyscreen ui running on a raspberry pi. The idea is that a user can search for games using the app on the pi. Wonderful, works well. The issue is that I’m aiming it for RetroPie, where the majority of it’s users only have a controller connected, so no keyboard to enter details. How would I solve this? I was thinking of maybe creating an onscreen keyboard, or perhaps have up and down arrows to go down letters of the alphabet and left and right to move the cursor, but then how do you move to the next input box, or button? Anyone have any ideas?"
how many button are there on a controller ?
"Well say someone has the bare bones, a NES USB controller, you are looking at 4 buttons and D"
This is the best I've seen. Navigating through almost 100 keys using left/right is a pain.
"True, but the issue there is that it counts on analog. Many users will have USB retro pads like NES and SNES (myself included) which cannot easily move diagonal let alone hold it there. And the NES USB controller has a total of 4 buttons, with only 2 really free to play with, so that makes this perhaps too difficult"
Can you do long press? 
I should imagine so yes
<@Timothy> you could offer two interfaces: one with the controller that is a bit slower for input (maybe also detect NES vs SNES for number of buttons to help us SNES controller users) and another that allows for just using a keyboard as well. i tend to keep a spare logitech wireless keyboard connected to my retropie; also THANK YOU for adding something that is MUCH NEEDED in emulation station; <@Timothy> :taco:
<@Beula> do you think you need the limited liability aspect?  what kind of other ventures are you thinking?
"I'm also organizing a conference, so I think that is really where the LLC starts to make sense"
"<@Patty> you sound like you have the same setup as me, wireless logitech keyboard and snes usb controller. I think that’s probably the way I’m going to do it. Have it determine whether to use keyboard or on screen and then create an onscreen keyboard if it’s a controller."
"I guess I'm late to the retropie discussion, but I would aim for as simple as possible. Assume the user an NES control and nothing more, and if possible avoid an onscreen keyboard, because those are always a pain.

I have an HTPC with a logitech keyboard/touchpad that I use in addition to a XB One control, but I would guess this is the exception rather than the norm. And, it's not retropie, so I like being able to use a browser and other things."
"Ah, yeah, I could see that then."
Question: How do you create a view with python &amp; django
You have return as a parameter.; <https://docs.djangoproject.com/en/1.11/topics/http/views/>
Should it now be a function
Django has great documentation. The one I sent you is about creating views. Normally you have `request` as a parameter for a view function. This will contain information pertinent to that particular request.; Returning an HttpResponse is correct though.
Requesting the view.py file. I remember now. Thanks Man
"Hello guys; I might need some help; I am trying to use virtualenv to install requirements.txt which required a C++ Microsoft Visual Studio Build tools.; I've installed this and configured PATH, and now when when requirements.txt runs cl.exe it gets this error:; fatal error C1083: Cannot open include file: 'io.h': No such file or directory; If I run it using the VS Command Shell, then i get the same error but with a different file; unistd.h; I'm not sure what I should do to fix this, or if I can skip having these entirely? Some posts have implied that these files aren't even necessary"
Why override the defaults?  You can run `PYTEST_DEBUG=1 python -m pytest` to see the debug
What do you mean override the defaults?; Running that command gave me a long ugly stack trace
The `pytest.ini` is just the defaults
Yes; Well
but just drop your test functions to be outside the class
No dice
I reproduced it locally and it finds them fine.
Collected 0 items
Your class doesn't match the `python_classes` config key
That's what I was trying to override with the ini; Ahhh; I see
You also need `self` as an arg to class methods (which is how those will be treated)
"Ahh, adding self worked; :taco: <@Beula>"
:pacman:
"Which of course is there in the actual test classes I've got written, forgot to include them in the sample"
Does anyone know the problem I'm dealing with?; It's been keeping me from making progress
"<@Marcela> we have a channel dedicated to windows (<#C5XHHMXHB|os_windows>). It's small, but growing. A large portion of the community isn't on windows (or those that are are a bit quieter) - so we are trying to gather that knowledge there.; Can you list the contents of the `requirements.txt`?"
Yes; and i added that channel; I was wondering if maybe I should just install a Ubuntu terminal and use that as my environment? I think I've seen someone do that before but I'm not sure. I would rather avoid that and get it working on my Windows though
Did you catch which dependency this error pops up under? My guess would be `cython`
yes; I believe it is Cython; well; it's running cl.exe; I'm not sure what for; actually it might be 'bitfield'
<@Marcela> <https://github.com/cython/cython/wiki/InstallingOnWindows>
looks like bitfield?
"It looks like you may be using anaconda? If so, I think they have pre-compiled everything for you; I use unix for a reason..."
"yes, i was wondering, could anaconda be the issue here???; do i need to install a separate python, and use a virtualenv for that"
"I am not sure, but I think instead of `pip install -r requirements.txt` -&gt; maybe use the anaconda packages ¯\_(ツ)_/¯"
mmmm
"yea, you’ll need to see if anaconda has it in their package manager.; <https://gist.github.com/luiscape/19d2d73a8c7b59411a2fb73a697f5ed4>; this might help :point_up:"
"Coming at this about 6 hours late, but any C/C++ process that is trying to #include &lt;io.h&gt; or &lt;unistd.h&gt; isn't configured properly for Windows. Arguably that's a flaw with the packages setup process but it also means there is usually a prebuilt lib somewhere online."
<@Gabriele> doesn't MinGW have `unistd.h`?
"<@Suellen> Probably, but it's not 2002 any more"
what do you mean? :confused:
MinGW is what people used on Windows when Visual C++ cost money and there was no other decent alternative
VC can be used without tearing hair out?
"Yes, unless you prefer gcc, in which case no"
well I'm glad that's finally so
hello mike; <@Gabriele> How do I fix this?; there is a setup.py that contains #include io.h; but i could not remove that line
Install the package via a different method. Its website might have some clues
"Yeah, I suggested using anaconda since it should have the precompiled one available"
"yeah i am trying that but am running into different issue; it says it cannot find bitfield on the proper channels; but i found this one here; <https://anaconda.org/pypi/bitfield>; and im running

conda install -c pypi bitfield; and its not working; is it easier to set up a virtual linux env at this point? lol ugh"
Without the exact errors it's hard to say
"PackageNotFoundError: Package missing in current win-64 channels:
  - bitfield; sry didnt clarify"
"kill windows, go to linux? ¯\_(ツ)_/¯; basically, even though windows has made good strides in becoming more development friendly outside of C# and Java, it still has a long ways to go; so, for anything outside basic python, I'd just go to linux"
`(Mac or Linux) &gt; windows`
with the exception of c# and visual studio
"I've usually been able to develop just fine on Windows; it's the people who work only on Mac and Linux who tend not to put the extra work in to make their stuff work on Windows. And I guess it's up to them, since nobody's paying them"
or try the linux subsystem; might be worth it if you can't fully migrate
"<@Marcela> I'm intrigued as to why you can find a package online, and which claims to be platform-independent, but it appears to not show up when you use `conda install`. That's probably worth taking up with someone more familiar with using conda"
yep; that error pissed me off lol
"If you don't _need_ to use anaconda then find the regular package and see if there's a Windows version; You said ""there is a setup.py that contains #include io.h"" but that's not true of the bitfield package, so it's not clear what your actual problem is"
"Hi, guys
is there one option to use round function and rounding the value
for example
2.59 -- show 2.60"
<https://docs.python.org/2/library/functions.html#round>
"On documents there is a note about that: Note The behavior of round() for floats can be surprising: for example, round(2.675, 2) gives 2.67 instead of the expected 2.68. This is not a bug: it’s a result of the fact that most decimal fractions can’t be represented exactly as a float. See Floating Point Arithmetic: Issues and Limitations for more information."
yup.  what's the question?
"look this function: qtd_lata = round(120 / (18 * 3), 2); returns: 2.0; But if i don't use round function"
are you using python 2 or 3?
Related: Division changed in python: <https://www.python.org/dev/peps/pep-0238/>; You can just make any of those numbers a float
Python 2.7.9
"```
python 2
In [5]: 120 / (18 * 3)
Out[5]: 2

3
&gt;&gt;&gt; 120 / (18 * 3)
2.2222222222222223
```"
`120.0 / (18 * 3)`
<@Gabriele> I tried using virtualenv to install requirements.txt that way but had huge problems
or `from __future__ import division`
Or :point_up::skin-tone-2:
"&gt;&gt;&gt; from __future__ import division
&gt;&gt;&gt; 140 / (18 * 3)
2.5925925925925926; in this case i need 3; understood"
or `from __future__ import division`
?; If i use round; its show 2.0
"if you dont want to switch versions of python, use `from __future__ import division` or change one value to a float; what happens when you called `round` after using `from __future__ import division`?"
"try run this:; from __future__ import division
round(140 / (18 * 3), 2); the result is 2.59; i need in this case rounding to 3.0"
"the second argument to `round` is how many significant digits to give, you’re asking it for 2; hence it being 2.59; remove the second argument to the round function to get a whole number"
@flasp look at code formatting with slack; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
perfect JOE
"```
from __future__ import division
round(140 / (18 * 3))
```; should equal 3.0"
very good man; so easy; ahauuaa
"<@Marcela> virtualenv won't change the underlying problem, unfortunately. It just changes where the final packages get stored"
yeah; i cant edit setup.py to remove #include io.h for some reason
"Why do you think there is that include inside setup.py?; #include is a C/C++ construct, setup.py is Python"
"idk, tbh; this is my first time setting up a python environment"
some cursory googling makes this sound like a VS issue
yeah; ive installed all i can; llo; lol; i believe its vs2015_runtime because anaconda automatically installs that one for me; however when i try to install it myself in venv i am getting the io.h issues; or maybe that is still a completely separate issue; the fact that it cannot detect bitfield in anaconda even though i am looking right at the package is weird to me
because VS doesn’t know where to look for the header: <https://stackoverflow.com/questions/40018405/cython-cannot-open-include-file-io-h-no-such-file-or-directory>
yeah i remember trying that two days ago; i forgot why it wasnt working; should try again today
"I know I mentioned it earlier but references to io.h are usually a bad sign on Windows, and references to unistd.h are almost certainly wrong; It implies that something is not picking up the platform correctly; or just isn't designed to build on Windows at all"
"we also have <#C5XHHMXHB|os_windows> and someone may know there, or maybe a linux VM would be easier at this point ¯\_(ツ)_/¯"
"ugh, looks like pyconfig.h is usually output by the configure script... so who knows what state it might be in when a Windows compiler gets hold of it"
"yeah i believe that is one of the problems; read in another thread that windows has a tendency to mishandle the script; if i put Linux Bash on Windows, am I able to set up an environment that way?; or linux VM yeah like joe suggested"
"why don't you skip windows entirely; and go straight to linux vm?; you've been bashing your head against this issue for, what, two days now?; I'd say you've given it an honest effort, now use something that _works_"
"yeah. i think im just stubborn; its a side project so im not rushed for time; but its time to admit defeat lol; if i remember correctly, there are vms that are basically terminal only right?"
"the VMs just run whatever image you give them, and most linux images are the full OS. why do you ask?"
You could do `vagrant`; Pretty easy to set up and reproduce your dev env that way
i was just thinking of minimalistic options; but i guess i'd like IDEs and guis and such
hello; anyone know regex that find url link with specific type eg:<http://eg.com/asd.pdf>
type of what?; what is specific about that that you need to match?
specific extension; like .pdf; .mp4
Are you more concerned with the extension itself or what kind of file it is?; Because you can get a lot from the `Content-Type` header when you make a request to it; Unless you only have strings that are the URLs; And if you go that route the `mimetypes` module can guess and extension from that
"<https://raw.githubusercontent.com/EbookFoundation/free-programming-books/master/free-programming-books.md>; im trying to get only pdf link; im already used mimetypes but its iterates all link,all i want is find url with .pdf extension then download it"
So only save the ones with the correct mimetype. <@Meg> if I'm missing anything feel free to step in this is more your wheelhouse
yea correct
"here's what I'd do.

install <https://pythonhosted.org/Markdown/> and beautiful soup; and requests; use requests to get that link you posted above, put it into python-markdown to convert to html"
Yes thank you I'm on my phone and scraping is a lot to type
"then use beautifulsoup to extract all `&lt;a&gt;` tags ending in `.pdf`; that'll give you a list of URLs; you can then use `requests` to get the content of each link, then use basic python file IO to write the response data to a file on your machine; a possibly simpler version would be to get the text content of that link; split each line by `(`, and check if each result ends in .pdf; but not sure how accurate it would be, since there are different ways a `(` can appear in markdown"
"ok, i'll try the first solution; thanks you very much"
good luck
"going through the jquery tutorial, and i'm a bit confused about this lesson: <http://try.jquery.com/levels/2/challenges/4>; when switching between the descendant and direct child selectors, i don't see a difference between the two on the html; as in, the same bit of code is being highlighted regardless of which one i choose; if that's the point, then ignore this, but i was under the impression that it would highlight a smaller subset of the code"
"Here is my solution for <http://www.practicepython.org/exercise/2014/01/29/01-character-input.html>; Questions
1) Is there a cleaner/better way to verify input than the while...try...except block I used?
2) I am repeating error string in ""except"" and in last line of while loops. Any way to have it err while only having that error message in code once?
3) Lines 17 - 23. How can I do isalpha(strip(fname)) in python? do I have to fname = strip(input...) on line 19?
4) Open to any suggestions on how to improve/optimize that code."
"Good day Pythonist, does anyone can help me about my django template varaible {{SITE_NAME}} because i can't see it from the template even in view by request.SITE_NAME; thanks in advance"
"Is there a generally-accepted 'best' unit-testing package? Or is it a subjective choice between nose, py.test, etc?"
`pytest`!; no thinking required
"What are the advantages? I'm not a big fan of the setup/teardown syntax, but I could get used to it."
"really easy fixtures, parametrized tests; ```
@pytest.mark.parametrize(""test_input,expected"", [
    (""3+5"", 8),
    (""2+4"", 6),
    (""6*9"", 42),
])
def test_eval(test_input, expected):
    assert eval(test_input) == expected
```; And I really like how you don't need classes, because you really don't."
"Okay. I'll try it for a week. And if I don't like it, I'll blame you. :wink:"
:dizzy_face:
thanks
"Hi there! I'm working with a fairly big set, adding many items in a loop, i'm using Jupyter notebook on a anaconda environment on Windows. At some point after 5 or 6 million elements the function 'all_combinations.add(''.join(tuples))' Fails with 'MemoryError: ' Any idea?"
It could be that your data set is just too big for the amount of RAM in your computer. Are you using 64 bit Anaconda or 32 bit?
"i just found out that the python env that i'm using in anaconda is 32 bit, i'll try with the 64 bit version. it's strange anyway as i was monitoring the amount of ram used and it never went up of more that 200/300 MB on a 16GB ram machine"
"It could be that the operation you wanted to perform tried to allocate 2GB or more in one go and failed, meaning you never saw it go from 300MB to an intended 2300MB (or similar)"
~Can a generator be used here?~
"kylotan, by chance, do you know how to create a 64 bit python anaconda environment?"
anaconda offers downloads of each - you'd probably want to uninstall the 32 bit version and install the 64 bit one
"i usually tend to install the 64 bit version the of software i use, is there a way to verify that indeed my anaconda installation is a 64 bit one? running python inside an environment says 32 bit"
"Task Manager shows whether each running process is 32 or 64 bit; Not sure how to verify the installation itself, since I don't use anaconda personally."
"hello is there a way  to execute ""curl '<http://example.cm/bla>' --data '{""method"":""wallet_new_address""}'"" but in python way?"
look at this module :slightly_smiling_face:
"using this &gt;&gt;&gt; payload = {'key1': 'value1', 'key2': 'value2'}
&gt;&gt;&gt; r = requests.get('<http://httpbin.org/get>', params=payload); does the '--data' count?"
"I think when you use --data with curl, it will do a HTTP POST request, with the data in the request body.; To do the same with `requests`, you'd use `r = <http://requests.post|requests.post>(""<http://httpbin.org/post>"", data=payload)`; So, `<http://requests.post|requests.post>()` instead of `requests.get()` to make a HTTP POST request."
"ok, thanks you; gonna try that one"
"<@Minh> all the HTTP verbs correspond to a method in `requests`.  Therefore, `PUT` translates to `requests.put(...)`, `GET` as `requests.get(...)`, and so on; <http://docs.python-requests.org/en/master/api/>"
Hi everyone. Which service or tool for crawling website with javascript? For me i used phantomjs and selenium. But their performance is so poor.
"I often use `requests` in combination with `BeautifulSoup` (using the `lxml` parser).; However, that's not a JavaScript solution. Sorry!"
<@Mirna> is this some sort of single page web app?
Kind of. Because some pages need to excute javasript for rendering full content. So i have to find some browser which can excute javascript for making dynamic crawler.; But according to real life experience. I see phantomjs or selenium is so slow; one minute they can only render 5-6 page; Which cannot serve my purpose
Maybe spread the workload out to multiple VMs and let each do a part of the URLspace?
<@Mirna> can't you just repeat queries that javascript is making and get the data from the backend directly?
Can i make DM with you <@Collette> ?
Let's keep our conversation public; I'm not the only one who can help you
"Ok. I’m afraid that i will mess our channel.
So the problem is i’m making a crawler which can extract the article main content of any news website.; So for making that i have to get the css and javascript for detecting which is article page and navigation page.; My only bottleneck is page rendering tools. For this i used phantomjs and selenium.; But with their pool performances i can’t really use this for production"
"Yeah, you said that a couple of times already."
and not the only who need to solve it
<@Mirna> have you seen my previous question?
"Yup already. But it can’t help. Some web pages make different requests ajax for rendering full content each page. So if i write some algorithm for detecting those request format and fake it. It will make my issue extremely complex. So for reducing the complex, i used some service which can return me the full content after javascript executing.; <@Collette> and sorry for repeating my issue. I just want to centralize again all of my issue."
"You still have to parse the returned page, right? Then how parsing different parts is it more complex than rendering everything and parsing parts as a whole?; You don't need to write an algorithm to detect requests. You just need to open the page, to look into web inspector and copy-paste related queries from ""Network"" tab; That's pretty much it"
Because I have to find a way to deal with “Any” pages not for specific one as you suggest.
"You have to find a way to deal with all pages you're interested in, yes.
If that's such a huge problem, then your only way is to use selenium/headless chrome/whatever"
"Yes, so i want to ask if someone had deal with this problem already."
"<@Mirna> Apparently your problem is slowness and lack of processing capacity. Maybe using multiple machines is an option?; I mean, instead of machine 1 processing news sites A, B and C in succession, you start 3 machines, where machine 1 will process news site A, machine 2 news site B and machine 3 news site C. That will give a 3x speedup."
"Yes i’ve already done that. But i wonder if there is some tool can do this better than phantomjs either selenium. Right now i used 3 servers but only 200 page/ minute has been rendered.
I used cache and proxy and image replacing for reducing the time cost. But it is only slightly better"
"sorry to interject, i haven't read everything, but one instance per core (minus 1-2 cores for main process) gives us about 30 headless browsers per machine; on a second-to-largest GCC instance; also, headless chrome :heart:"
I used to open 10 instance of headless browser per machine. But the time cost increases with instance of headless browser. More instance ---&gt; more time for rendering.; I don’t know if i’m doing something wrong with that
how many cores on these machines?
8 cores.
10 is too many then :slightly_smiling_face:
Anywho thanks for your suggestion with headless chrome. I will take a try with it; :slightly_smiling_face:
"so, phantom is notorious for being slow, and having problems; not surprising since its been a one-person project for a number of years now.  given the challenges of browser development, phantom's state of functionality is impressive with that restriction; however, it is now deprecated and no longer supported since headless chrome came out; and unfortunately, this is an instance of where horizontal scaling will have to be used, where you distribute the tasks to be executed among a cluster of similar instances; just like with celery workers, there's a sweet spot that can be hit with tasks on each machine for optimium efficiency, but that takes alot of experimenting to do.; <@Mirna> what instance size are you running this on, and what provider?  AWS, GCC, Azure?"
It’s running on my own server company. Not provided by any companies above.
then your only option is to either reduce the rate of crawling or add more hardware; because the primary issue is rendering the page and there is a significant lack of options for that
Thanks for your advice Jason.
good luck
how do i set the size to python from openpyxl.chart  BarChart
"<@Arline>, did you see this SO thread?; <https://stackoverflow.com/questions/36603753/openpyxl-change-the-dimension-of-a-chart>"
thanks i fixed; it; thanks
"heh, nice!"
<@Winnifred> how do i auto ajust a graph in an excel file?
I’m not sure what you mean by auto adjust.
because i have alot of data and the graph just its small and i can't view the graph; i don't want the BarChart  to distort
So you want to write a BarChart to an excel sheet that’s large enough to view both x and y axis?
hi there anyone know how can i add a chart pie with persentages <http://xlsxwriter.readthedocs.io/example_chart_pie.html>
Has anyone converted a batch process to something more evented? Language or ecosystem isn't necessarily relevant - I just am curious of the paths people may have taken
"Only to the degree of going from ""big batch process"" to ""cron job or HTTP request -&gt; tiny bit of big batch process"""
"<@Arline> `chart.add_series({..., 'data_labels': {'percentage': True}})`"
have you got any guide; ??
"<https://github.com/jmcnamara/XlsxWriter/blob/3588b318cbabd318c88ad4cb232f10a820705402/dev/docs/source/working_with_charts.rst#chart-series-option-data-labels>; there is an example for line charts there, but the principle is the same for pie charts"
"Where I can find some projects to really get started at programming? Maybe an abstract question but, 1 year programming (and like two months in Python [I was fallen in love of Java, then I hated it]).; Then (today) I realized I need to put my -tiny- knowledge in practice..."
"hmm there are lot of MOOC’s i.e. Coursera (which has introduction classes) and there are sites like HackerRack, code academy to help to code :slightly_smiling_face:; hope that helps"
<@Lana> <https://github.com/karan/Projects> that may help you
"Thanks, as I said, I know how to code, I'm searching for real-life projects to get real stress :stuck_out_tongue:"
<@Lana> Depends on what gets you excited :slightly_smiling_face: I started by automating away silly things I had to do for work every day. Later as I knew more I started writing some web-apps
"You can do a clone of a site you like, something that tracks movies and how you like them, etc"
<@Beula> Looks so difficult to me :disappointed:
"Which part?

1. Automate repetitive tasks: This should be pretty small to start, maybe you check for a stock price every day. Just do it with python instead of logging into a website

2. Small webapp: This is much bigger since you need to also know HTML and CSS"
"thats how I also got started <@Beula>   - i still get excited about all the new ways to do things, that I learn every day lol"
"Will try it, If I get stuck... Well, this is why the channel was made :stuck_out_tongue:"
I'm trying to convert the categorical values to dummy numerical. but I get error. how can i fix it?
"```  &lt;script async src=""{{ site.baseurl }}/scripts/loadCSS.min.js""&gt;&lt;/script&gt;
  &lt;noscript&gt;
    &lt;link href=""{{ site.baseurl }}/style.css"" rel=""stylesheet""&gt;
  &lt;/noscript&gt;```
but if I need to add another stylesheet, how to do it?"
You can have as many link elements as you want
"and where do I add styles?
in noscript? - it's not working."
The noscript stuff only runs when there is no script. So I'm guessing that 'loadCSS.min.js' handles all your stylesheets. I'm guessing that's part of some client-side framework you're using
"In General, I can't understand how to make styles with loadcss"
Why are you using it?
"```  &lt;script async src=""{{ site.baseurl }}/scripts/loadCSS.min.js""&gt;&lt;/script&gt;
  &lt;noscript&gt;
    &lt;link href=""{{ site.baseurl }}/style.css"" rel=""stylesheet""&gt;
  &lt;/noscript&gt;```
this example is not correct?
Want to speed up the website and listen to `google page speed`, <@Gabriele>"
You need to understand how loadCSS works if you want to use it
it true:slightly_frowning_face:
"The standard way to use CSS is the `&lt;link&gt;` element, as seen in the noscript section. If you have those link elements outside of the noscript, they will work; I suggest getting it working properly first, and worrying about optimisation later"
"Opening a file in Python - is it relative to the file location calling the file open?; I’m hard coding a path for now, and have `fp = open(""../../../media/images/e772778c-9002-4268-a515-b3ced6175723.png"", ""r"")` but it isn’t finding it. That file does exist though; Or is it best to go from the root?"
"Opening a file is much the same in most languages - it's relative to the current working directory, which _might_ be the directory that the program lives in, but it can be anything; What is quite typical is to have the program configuration specify a base directory, and for the application to find files relative to that"
"what is the best (=efficient, pythonic) way to scrape a lot of (ca. 100k) urls which are stored in a list of dicts (e. g. `[{'url': '<http://foo.com/bar|foo.com/bar>', 'category': 'moon'}, ...]` ) and return their status code? i am currently using `urllib2` library which takes about 22s for 100 urls - which would be awfully long when doing it for 100k urls."
"Opening files is something I’ve done very little weirdly :smile: I’ll give base directory a try though, cheers; `requests` is preferred over `urllib2` nowadays I think; <http://docs.python-requests.org/en/master/>; Could also try running it async? I guess it’ll be taking so long because it’ll be waiting for the request to come back before moving onto the next one"
<@Temika> could you explain this a bit more? i am not completely clear on how to setup async code; <@Temika> i have experienced issues with `requests` on multiple occasions where the url would not be opened correctly vs. `urllib2` never had this so far. thats why i have opted for the latter
Are you running Python 2 or 3?
currently 2.7; and on mac (if that changes anything for you)
"Ah, I’d have suggested `asyncio` but I’m not sure if that has been back ported to 2.7, I think it got released in 3.3. I’m sure others in here might know the answer though :smile:; <http://stackabuse.com/python-async-await-tutorial/>; I’ve followed this before and it was pretty good. Might give you a hand on understanding a bit more. But as I say, I think it is Python 3.3 onwards"
<@Aimee> `grequests` is not a bad place to start; just try to not get banned
Hello. Any suggestions for a reliable package to implement token based authentication with Flask? 
You might want to try <#C0LN2AD7T|flask>
<@Aimee> there's a <#C5PHT9EGK|webscraping> channel :slightly_smiling_face:
"Is this flask of Django? They each have a helper to generate the urls for static assets. For flask: `url_for('static', filename='style.css')` and Django you need to load the static plugin and use their helper (it escapes me off the top of my head)"
"Anyone have experience with Stripe’s API in Python?; Currently trying to upload a file to stripe, their example code is -

```
with open(""/path/to/a/file.jpg"", ""r"") as fp:
  stripe.FileUpload.create(
    purpose=""dispute_evidence"",
    file=fp
  )
```

When I run this *exact* code under Python 3.5 I get the error `UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte`. Adding in `with open(""media/image1.png"", ""r"", encoding=""ISO-8859-1"") as fp:` (which I assume I don’t want), the file goes through to Stripe which they throw back as error `We don't currently support that file type. Try uploading a file with one of the following mimetypes: image/jpeg, image/png` but it is a png :disappointed:"
encoding mismatch
Also tried `PIL` `Image` type which didn’t work.
"you are opening it with ISO-8859-1, it wants utf-8; just becaues it has `.png` doesn’t mean it’s a valid png, meaning its mimetype wouldnt be png"
"When I pass in `encoding=""utf-8""` I still get back the same error above `UnicodeDecodeError`"
"How about ""rb"" instead of ""r""?"
`ValueError: binary mode doesn't take an encoding argument`; With `rb` ^
so take the encoding argument back out
Oh woops; That worked :smiley:; Thanks <@Gabriele> :taco:
:+1:
whhaaaa? am I supposed to be handing out tacos when someone helps me?; Not enough flour or corn for that.
Check the intro doc :slightly_smiling_face:; Also the topic
taco bot is pretty annoying when it comes to DM’s though :joy:; I’ve turned off DM notifications about receiving / handing out tacos each week about 6 times now and it *still* does it
"so, got a question about python string casing.  I have a large number (25K) PDF documents indexed in SOLR via `pdfminer`.  Problem is, text casing is irregular, to say the least; is there a library I can use to apply grammar rules in regard to text casing?"
Just tread it :joy: great sense of humor. Thanks for the link.; <@Beula> :taco:
What would be the intended end result?
"```
PrinCiPleS oF bioloGyi 

PrinCiPleS oF bioloGy ii 
```

to

```Principles of Biology I
Principles of Biology II```"
"Okay, so you're seeking some sort of normalised form"
correct
based on regular english rules governing capitalization
I can find things for spelling correction
"You're potentially looking at PhD level amounts of NLP here to do it properly, but maybe you don't need _properly_"
"but not with capitalization; yeah, agreed; I mean, I could lowercase them all"
The example you gave is a good edge case... because capitalisation works differently if the context is a heading
"correct; all this is text extracted from a PDF; so, source is pretty questionable, in a structured format perspective"
I'd probably just lowercase them to make it simple
"What is the purpose of changing the case? Is it for display to end users, or for facilitating search, or...?"
display to end user
<https://pypi.python.org/pypi/gingerit>
"basically, enter in a search query, and list of results shows"
<https://pypi.python.org/pypi/language-check>
with click handlers for selection
<https://pypi.python.org/pypi/grammar-check/1.3.1>; <@Meg> check those 3 modules; Haven't tried any of them actually but would love to hear your feedback :slightly_smiling_face: 
"I would presume you'd index on `lower(thing)` and search that way, but find in the document fuzzily based on the string for display (granted not sure if solr supports that)"
"well, solr search is case insensitive by default, I believe; <@Jamey> thanks for the tips!"
"Oh I see, it's really just what is contained in the doc isn't necessarily correct. :whoosh:"
"Personally I'd just do `[sentence.lower().capitalize() for sentence in sentences]` and wait to see if that was sufficient. :slightly_smiling_face:; Finding where one sentence ends and another starts, in badly scraped data... well, that's another problem"
oh agreed; text is tricky
"<@Gabriele> may be a script can be written to search for `\n` as well as `.` and `,` in the data to detect the start of new sentences?"
It's better than nothing
Hope any of them would be usefull :smiley:
"Hello guys, has anyone tried Dan Bader’s Python Tricks The Book? I wanted to know if it is really good as it is claimed on the author’s page"
i’ve heard his stuff is good but i have no experience with it personally.
"You could always look for ends of sentences, capitalize next alpha character. Search against databases for pronouns and such"
Hello guys I got a huge problem
<@Hyman> ask away
We've been ask as assignment the implementation of Dijkstra's and Bellman Ford's algorithm for calculating the shortest path in a given graph
So what's the issue?; run into a problem?
I don't really know how to start and that's my problem
"Well were you given code to start off with as far as ""i will give you this input"" in order to build the graph you have with the path weights and what not?"
The Input to the algorithms is an oriented graph with weights
"So then you have to build the graph in the code, yes?"
More precisely compute the shortest path from a given source to all the other nodes
"I understand that, I am just asking if you have anything to build off of like code given to you to complete the task or if you have to start from scratch and build the graph in code then calculate it."
You need to code the algorithm from scratch and supply it with a graph in a text file and it'll calculate the shortest path in it
can you give an example input
"<@Hyman> how much experience do you have writing code?; for example, there are quite a number of existing examples of the algorithms you're talking about"
basic i'm just starting
"ok; can you describe the steps on how you execute the algorithm?; and do you understand why those steps are necessary?; if so, then the next step you take is translating your written description of the process into pseudocode; once you have a reasonable sequence of actions, you then implement the pseudocode in your language of choice; frankly, the first two items are always the most difficult; because it requires you to understand the problem domain; once you understand it, making it work is usually much less effort"
"oof graph theory for a beginner. do you understand how those algorithms work, <@Hyman> ?"
Yes I understand how those work
just having trouble translating described steps to code?
"I saw this today, <https://github.com/stackimpact/stackimpact-python>. Looks nice, but don't think we could use that internally. Anyone have any experience with Stack Impact, or know of something that would provide similar data without sending it to an outside source? Even just having the data print out at the end of a run would be great."
<@Meghan> I dont know of any tool that does all of that. But I know of many tools that do peices; What data are you mainly interested in?
"The charts are pretty, but I would just like to see which calls are blocking and for how long.; For most of my code it's pretty clear anyway, and I throw in timing decorators at the really long ones."
"so, if you just want CPU profiling, then vprof works really well."
Having a monitoring system for users who use my scripts would be nice too though. Right now I just have them email the logs if somethign goes wrong.
"So, for ""errors"", I highly recommend sentry; basically, anyone not using sentry, should be doing it right now; its a game changer"
"Having a syslog server for loggign would be amazing, however the logs get extremely large for some scripts.; One of them produces a log so large the last step in the script is to zip and delete its own logs."
"So, what do you actually use the logs for though?; just trying to figure out what went wrong?"
"Determine why some data was missed or not parsed correctly, why communication failed on a device, why an exception occurred.; Yeah"
I would try using sentry instead of logging; it might change your life
"The worst of them runs as a cron job and downloads a few hundred mb of text from 60 routers.; I'll take a look, tahnks."
"here is the page: <https://sentry.io/welcome/>; but its an Open source project, so you can host it yourself and dont have to use the SaaS"
"Is anyone aware of a standard library utility related to the `ast` module that can extract the source of a function without evaluation? Or more specifically, the ability to trace the execution path to a function without evaluation?"
"what are you really looking for?; there are various ones for different things; if you just want to look at the function, etc, then `inspect` works pretty well; &gt; the ability to trace the execution path to a function without evaluation
What does this mean? you want to look and see what the ""stack"" might look like had the function ran?"
"<@Signe> Right, I'm essentially trying to get the stack without actually executing the code."
Hello. How in Data Frame Pandas to remove the top line. So the second line became the title?
can you display what your dataframe looks like and what you want it to look like?; i.e. are you trying to just drop a row?
"<https://stackoverflow.com/questions/31328861/python-pandas-replacing-header-with-top-row>
Thank you, <@Wilber> help me.; `df.to_csv(""file_name.csv"", sep=',', encoding='utf-8')`
does why is that so
`,a,b,c,d,e,f`
and <http://imgur.com/zDdawCWl.png> this is what I get"
"not really understanding what the issue is, is it upon export you're getting the indices?"
"<@Georgeann> try `df.to_csv(""file_name.csv"", sep=',', encoding='utf-8', index=False)`"
"Thank you very much, guys. I'm happy."
(Y)
<@Wilber> it <https://en.wikipedia.org/wiki/Thumb_signal> ?
exactly
"<http://imgur.com/ob9JKs8l.png> - reminded; `df = pd.read_html(URL)`
I can not understand, he analyzes the page and looks for a table?
That is what I have used XPath was a mistake?"
<@Carlie> thats a really really hard problem. Especially with the dynamicness of python
"Yeah, I think I'm just going to take a crack a dumbed down approach that just works for simple functions."
"So, `inspect` will give you the source code, then you can keep going down that path"
"<@Georgeann> I believe `read_html` tries to find a `&lt;table&gt;` tag in the HTML, so if you want to load an HTML table into a DataFrame, then that would probably be a good usage instead of trying to extract it yourself with XPath or another XML parsing library.; Thanks for your help!"
"Can anyone help me parse this string?; `u'[""Create Content""],[""Facebook"", ""Twitter""],[""Photography""],One sweet vision'`; I'd like to return a list of 3 strings and a list; each of the strings can have more than one string, but the last item is always just one string; ast.literal_eval fails because the last string item doesn't have quotes"
<@Staci> show us what you have and we will help you solve the issues you run into
"This is ugly; returning `['Create Content', 'Facebook, Twitter', 'Photography', 'One sweet visio']` atm"
"<@Staci> why don't you do a sequence of tokenization steps with ""split()"" ?"
Is it always going to be that format?
"It's always going to be &lt;list&gt;, &lt;list&gt;, &lt;list&gt;, &lt;string&gt;; not exactly sure what you mean when you say tokenization steps; <@Levi> **"
"<@Staci> if this is a string, then you can tell that there is a ""],["" motiff that would split it into the logical pieces.; You just have to examine it, think, and then act."
"let me try; returns `['Create Content', ('Facebook', 'Twitter'), 'Photography', 'One sweet vision']`; I guess I was hoping there was a way to do it more pythonic than this brute force route I took"
sometimes it just has to be ugly
"Can anyone see any major drawbacks of having a simple boolean 'can_write` field on a user object for a very limited scope permissions (literally for the forseeable future: read/only and read/write)? We have a different user object per subdomain (not my call) - and rather than porting a whole permissions framework over, to me this seems reasonable"
"well , it's like the 'is_admin' field ,right?,isn't the best choice,but it's fine , i don't see any drawbacks ""for a very limited scope permissions"""
I figure that's enough to not lock us in too much if we need more. A simple migration could get us to a more involved permissions model
"Hi guys. There is one site that returns response in string like: `{""ConsignorName"": ""first part ""second part""""}` which should be json. Result should be `{'ConsignorName': 'first part ""second part""'}`. And I can't just `json.loads(data)` because it fails with `json.decoder.JSONDecodeError: Expecting ',' delimiter:...`.  So I somehow need to cast this string in dict. Maybe u know some easy fast pythonic way to do this? So far I came up with blunt operations with split and check for double quotes inside double quotes and u can see it's already getting boring and I'm gonna stop right here :sweat:"
"It is actually broken JSON, so I'm surprised that it returns it. You can `strip` the { and }, then use `split` on the "":"", and you should have the key and the value"
"Ikr, I was like ""how does it even work??"" Someone definetaly needs to reformat their data... :sigh:"
Probably they're not using a json library to generate that output. I guess they're just concatenating strings and hope for the best.
they can replace unicode quotes after converting it into string
These people would write `&lt;consignorname&gt;&lt;first&gt;Jan&lt;second&gt;de Vries&lt;/first&gt;&lt;/second&gt;&lt;/consignorname&gt;` if they were to output XML ;-)
U know the funny thing? They return xml and inside that xml is a string that should represent json. Like wtf :laughing::sweat_smile:; I'm surprised `requests` can even parse that
"I recently scraped an angular website which also did something like that: a response which is a HTML fragment of a page, with a DIV in it that contained JSON. And in that json data was a string field filled with serialized json! It's like a <https://en.wikipedia.org/wiki/Matryoshka_doll>; Anyway, with a few calls to BeautifulSoup and json.loads() I finally got to the data that was needed."
At least u had valid json ._.
"<@Venita> ```def replace(m):
  s = m.groups()[0].replace('\""', '\\""')
  return ': ""{}""'.format(s)


re.sub(r': ""([^,}]+)""', replace,'{""first"": ""aaa ""bb"""", ""ConsignorName"": ""first part ""second part"""", ""second"": """"ddd""""}')

```  madskilz :slightly_smiling_face:"
Oh my god... U must be a regex guru! :pray: Thank u so much!
urw ^^ though i’m not sure that it can process all cases %)
"Only tangentially Python related, but does anyone know good ways of generating code-related documents offline? I'm struggling with static blog generators like Pelican because trying to coerce Pelican and Pygments and ReStructuredText to cooperate to do what I want is twisting my mind"
"hmm, not python but have you looked at jekyll?"
I'm on Windows and Jekyll is a bit awkward on that platform
"ah, okay, just thought id toss that one out there"
sphinx should be able take care of the pygments and ReStructuredText parts.
"I think my problem is that ReStructuredText is really not that good; If you want more control over the formatting, for instance. Rules like ""Multiple successive blank lines are equivalent to a single blank line"" make it awkward to introduce whitespace for readability; And if I want to highlight the code, I can do that in blocks via Pygments, but not in literals"
i’ve personally started writing my own markdown filters/extensions for things that I need.
"Not sure if anyone can help, but have a quick question regarding <#C5XHHMXHB|os_windows> , powershell more specifically.; <https://pythondev.slack.com/archives/C5XHHMXHB/p1498673610887626>"
I'd be surprised if that's the case... but is it not working for you?
provide**
"<@Johana>  That sounds useful, especially since I've found that both Markdown and reST each only do about 80% of what I want... a different 80%... but unfortunately I only need to do this one piece of documentation then I'll probably never need it again, so it's hard to justify the time expense"
"<@Myong> I believe powershell requires a path be stated to any executable not in the search path. But, a ./myscript.py is sufficient.; Or, in this case, .exe; <@Signe> I showed the lead engineer Sentry. System looks cool, but he thinks we would hit the 20k transactions per day fairly quickly. Do you know of similar systems without limits?"
"""Fixed"" my documentation problem by hand-editing the HTML and CSS, and planning to use highlight.js to highlight the code blocks. Felt like the static site generators were just giving me extra hoops to jump through, in the end."
"Hi, all.
How do I calculate the difference between two dates is best?
The output should only be in months.
The only way I could.
```
In [25]: startDay
Out[25]: datetime.datetime(2017, 6, 1, 0, 0)


In [26]: endDay
Out[26]: datetime.datetime(2017, 1, 1, 0, 0)


In [27]: startDay - endDay
Out[27]: datetime.timedelta(151)


In [28]: different = startDay - endDay


In [29]: different.days//30
Out[29]: 5```"
How do you define months in this context?
<@Gabriele> sorry?
A month is not a fixed unit of time (at least not in the cultures I know of)
I need to know how many months have passed between two dates
If you want the intuitive answer then I think you will just have to check the difference in years and months individually
"for example I started it today - June 2017, and the end - June 2016. The difference - 12 months; I think the best way is to pass the Python..."
Does this work? `((endDay.year - startDay.year) * 12) + (endDay.month - startDay.month)`
works; Thank you. You are a genius.
You can't use timedelta for this because a span of 30 days is over a month if the span starts on Feb 1st and under a month if the span starts on Jan 1st; no problem
exactly...
"<@Meghan> if you self host, there is no limit; I would recommend that. With docker its really not all that hard to host it; thats what I do. All similar systems will have some type of limit. There is also bugsnag, and rollbar, but they all have limits; self hosting is the only way to have no limits. Oh, I guess google cloud has one called stack-driver that is just a flat monthly fee + minimal data charges"
use `dateutil`
"or `maya` or `arrow`, etc"
That's cheating :wink:
"```
&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; from dateutil.relativedelta import relativedelta
&gt;&gt;&gt; from pprint import pprint
&gt;&gt;&gt; start = datetime(2017, 1, 1)
&gt;&gt;&gt; end = datetime.today()
&gt;&gt;&gt; delta = relativedelta(end, start)
&gt;&gt;&gt; pprint(vars(delta))
{'_has_time': 1,
 'day': None,
 'days': 27,
 'hour': None,
 'hours': 22,
 'leapdays': 0,
 'microsecond': None,
 'microseconds': 510107,
 'minute': None,
 'minutes': 53,
 'month': None,
 'months': 5,
 'second': None,
 'seconds': 28,
 'weekday': None,
 'year': None,
 'years': 0}
```"
"He may have misread that then, I'll look at it. Thanks."
I don't think arrow helps here
"if you don't need to do anything complex, dateutil is nice and small"
"Just use a unix timestamp and do maths in second offsets :wink: Of course, then there is the problem of leap seconds..."
"and often is already installed as a dependency of another package; arrow is cool, but it's for really complex stuff"
"just don't use dateutil for parsing, because it often guesses wrong"
this way i was able to style it differently in css.
<@Johana>  Looks like a good approach. Something I'll consider if I find myself doing this again
"whats the cleanest/shortest way to check if any value in a tuple is in another tuple?; for example:
```
for i in tup1:
  for j in tup2:
    if i == j:
      return True
return False
```; I have a feeling there are some built in's I can use..."
"<@Beula> they needed an offset in months (see thread); ```
&gt;&gt;&gt; start = datetime(2016, 12, 29)
&gt;&gt;&gt; end = datetime.today()
&gt;&gt;&gt; (end - start).total_seconds() / (3600 * 24 * 30)
6.065205603584491
&gt;&gt;&gt; delta = relativedelta(end, start)
&gt;&gt;&gt; pprint(vars(delta))
{'_has_time': 1,
 'day': None,
 'days': 30,
 'hour': None,
 'hours': 22,
 'leapdays': 0,
 'microsecond': None,
 'microseconds': 924491,
 'minute': None,
 'minutes': 56,
 'month': None,
 'months': 5,
 'second': None,
 'seconds': 52,
 'weekday': None,
 'year': None,
 'years': 0}
&gt;&gt;&gt;
```
Using seconds is just wrong :confused:"
<@Suellen> then convert back
you can't count how many months passed if you only have unix timestamp 1 and unix timestamp 2
"```
[ x for x in tup1 if x in tup2]
```"
"`any(x in y for x in (1, 2, 3, 4))`; I guess you said any value, so `any`; the perk of `any` over the list is it will short circuit itself on the first found one"
"ya.. that works. Is it possible without an explicit loop? (im getting picky, but im challenging myself)"
since at least 1 is true; probably operator
basically I want `if anything_in(some_list) in other_list)`; but I dont think thats possible
I think you could do a fancy with intersections or unions
there is intersections for set not sure for tuple
oo now we are getting somewhere
:thinking_face:
`len(set(tup_1) &amp; set(tup_2)) &gt; 0`
"Yep, that looks like where i was trying to get"
downside: no short circuiting
true.
"probably fine if your dataset is always little; <@Suellen> Sorry, sarcasm doesn't always translate to text"
"`takewhile(lambda x: x not in b, a)` :stuck_out_tongue:; no loop"
"Hello; ```; ```import json
import urllib
from pprint import pprint
from urllib import request, parse

import pytest


class TestApp(object):
    TEST_URL = '<http://0.0.0.0:5001/>'

    def test_create_user(self):

        values = {
            ""data"": {
                ""email"": ""<mailto:cicciopizzo20@gmail.com|cicciopizzo20@gmail.com>"",
                ""password"": ""test"",
                ""first_name"": ""ciccio"",
                ""last_name"": ""pizzo"",
                ""role"": ""1"",
                ""address"": {
                    ""country"": ""Italy"",
                    ""address_line"": ""Test Address, 1998, WXDJI Neverland"",
                    ""coordinates"": {
                        ""lat"": ""41.0914808"",
                        ""long"": ""16.8672337""
                    }
                }
            }

        }

        headers = {
            ""Content-Type"": ""application/json""
        }
        data = urllib.parse.urlencode(values)
        data = data.encode(""ascii"")
        url = self.TEST_URL + 'api/user'
        req = urllib.request.Request(url, data, headers)

        with urllib.request.urlopen(req) as response:
            the_page = response.read()

        assert the_page.status == ""success""
```; Sorry to disturb you… I am doing TDD for the first time and I have an error that I cannot solve; I did not find many textbooks covering the topic even though it’s a must have nowadays…; This was made using some common sense rather than textbooks…; It’s the base case scenario… db set up correctly with the needed data for booting the app, etc."
&gt; I did not find many textbooks covering the topic
that's the issue anyway?
"The issue is that I get request.py:1320: URLError; <@Suellen> , I am using flask anyways"
Is there a way to specify a categorical type or a type that's a set of constant values with `typing`?
"if I have a June 2017, then I can take a single month.
It can't understand."
"say, a string that is expected to be either `'production'` or `'dev'`, or a int that's only valid for `range(0, 100)`"
use an enum?
It looks like it-s working
I’m running a virtual environment and keep getting this `error: ModuleNotFoundError: No module named 'requests'` when trying to run my script
"have you tried google searching for ""requests module"" <@Sherry> ?"
"Yes, I know what the requests module is, lol.; Anyway, when I type pip3 list it shows up `requests (2.18.1)`"
are you doing that while activated in the virtualenv?
yup!; it’s really weird haha
<@Sherry> can you try `which python3` and make sure that's the one from that virtualenv? I have had a sourced virtualenv before where somehow the path was screwed up and was using the system python still
"seems to be the one from that environment; I created a new file with a single `import requests` line and am still getting the same error, so i’m pretty sure my environment is messed up. I will delete it and try again though"
do you have other python3's in your PATH somewhere
How can I check? I do notice there’s a 3.51 and 3.6 now
"There’s probably a clever command to do it all in one go, but `echo $PATH`will show you your path and you can poke around a few folders to see."
`which python3` will show which one is resolved in your PATH
it’s showing python 3.5.1; which is weird because when i go into the folders it’s showing python27 files; hmm; i think im fixing it; `virtualenv --python=/usr/local/bin/python3 ultra_monitor`; i guess it assumed I wanted python2
"maybe check which directories are in a search path, maybe it will help to solve a mystery:

```
print( sys.path )
```"
Do that outside of my environment?
"Yeah, if you installed `virtualenv` with `python2` (or `pip` from py2) - it will use that interpreter as the default if you don't give the `--python/-p` flag"
"hmm, i gave it the python3 flag and it’s still giving the same error"
"Silly question, I am sure, but did you `pip install -r requirements.txt` since re-creating the env?"
yup!; pip3
Figured so :slightly_smiling_face:
But it seems to be using my system libraries. Is that weird?
"It looks like we have similar environments <@Sherry>. I make my venvs like so `mkvirtualenv --python=""/Library/Frameworks/Python.framework/Versions/3.5/bin/python3"" new virtualenv`; not exactly the same and I use `mkvirtualenv`"
Ahh okay; why is it not `/usr/local/bin/python3`?
he installed via the python installer; `/usr/local/bin/python3` is from brew
"Thanks, <@Beula>. I actually didn’t have a solid answer there :neutral_face:. These are notes I took a long time ago that became a habit."
"Hmm, i still can’t get it to work; I’ve used the `--python=""/Library/Frameworks/Python.framework/Versions/3.5/bin/python3""` flag when creating the environment; here’s my terminal output from when i CD"
what do you get when you run `python -V`
A very long output!
I think it’s because you don’t have a pip3 under `bin` folder.
"capital `V`; you did lowercase, which is a verbose log of the interpreter starting"
"so it’s using a default `pip3` which installs libs into `/usr/local/lib`, but search path in environment is looking into `./lib/&lt;version&gt;/site-packages`?"
"whoops, sorry!"
"Looks like having a space in there is causing your problems; So it's falling back to the system:

```
zsh: /Users/yousefissa/PycharmProjects/Small Projects/HOC/ultra_monitor/bin/pip3: bad interpreter: ""/Users/yousefissa/PycharmProjects/Small: no such file or directory
```"
python 3.51; Hmm
rename `Small\ Projects` to `small_projects`
I can move it to my desktop
Or create your virtualenv at `~/.virtualenvs/my_project`; which is pretty standard
"Giving it a go; Perfect, that worked! Thank you!; What does adding this (`~/.virtualenvs/my_project`) at the end of the virtual environment actually do?"
"It sets the location, is that what you are asking?; `virtualenv -p $(which python3) ~/.virtualenvs/my_project`"
it’s the destination of where the virtualenv will be created.
"So now you need to `source ~/.virtualenvs/my_project/bin/activate` when you need it; I add that to an `autoenv.zsh` script, so each project in my shell auto-sources.; If you use `virtualenvwrapper` it's even easier:  `mkproject -p $(which python3.6) my_app` and then later you can `workon my_app` and it auto put you in your source :slightly_smiling_face:"
Thank you so much guys! I’ve got a lot to learn about virtualenvironments
"i use `pyenv` with `pyenv-virtualenv`. both of them together allow you to use a `.python_version` file. The python_version file is kept in the root dir of your project. When you change into the project’s dir it will activate the right virtualenv for you. it’s quite nice although the instructions of getting it going weren’t all too clear. 

<https://github.com/pyenv/pyenv>
<https://github.com/pyenv/pyenv-virtualenv>"
:taco: <@Beula>
if you are on a mac you can install both with brew.
:taco: <@Suzanna>; :taco: <@Winnifred>; okay im done!
"virtualenvwrapper is nice too. i used that since the beginning. if you don’t want to leave behind virtualenvwrapper there is a plugin. 

<https://github.com/pyenv/pyenv-virtualenvwrapper>"
hi has anyone familiar with lmbda in aws?; need some help troubleshooting a function
<@Margareta> just ask and see if someone can help.
<@Margareta> I can try :slightly_smiling_face:
"```
def lambda_handler(event, context):
    reservations = ec.describe_instances(
        Filters=[
            {'Name': ['Backup'], 'Values': ['jira_backup']},
        ]
    ).get(
        'Reservations', []
    )

    instances = sum(
        [
            [i for i in r['Instances']]
            for r in reservations
        ], [])

    print ""Found %d instances that need backing up"" % len(instances)
``` 
not sure why i get 0 instances found while testing my function; trying to build a function that will backup ebs volumes"
looking
"i get the following error `Invalid type for parameter Filters[0].Name, value: ['Backup'], type: &lt;type 'list'&gt;, valid types: &lt;type 'basestring'&gt;: ParamValidationError`"
"try `""Backup""`?; instead of `['Backup']`"
`An error occurred (InvalidParameterValue) when calling the DescribeInstances operation: The filter 'Backup' is invalid: ClientError`
what is `'Backup'` when it comes to your EC2 instances?
its tag
ok
"key and `jira_backup` its value; this is example syntax i c 
```
response = client.describe_instances(
    Filters=[
        {
            'Name': 'string',
            'Values': [
                'string',
            ]
        },
    ],
```"
Are you able to display this tag in your AWS console?
yes
hmm
"```
aws ec2 describe-instances --filters ""Name=tag:Backup,Values=jira_backup""

 ""Tags"": [
                        {
                            ""Value"": ""jira_backup"",
                            ""Key"": ""Backup""
```"
"in `reservations = ec.describe_instances`, Where is ec defined?"
<@Deedee> `ec = boto3.client('ec2')`
nevermind; <https://gist.github.com/ryansb/c5807c6785f326e9510d> &lt;-- no brackets around tag-key
<@Deedee> THANKS! ur example helped me to realize i was useing `'tag-key'` instead of `'tag-value'`; and this is why things were failing
"full disclosure, NOT MY EXAMPLE hahaha"
well not ur example but whatever u provided as an example; :stuck_out_tongue_winking_eye:
glad it worked hahaha cheers
"Hi Guys...

```application.add_url_rule(
     apipath + ""/apis/
     view_func=api_view,
     methods=[ 'GET', 'PUT', 'PATCH', 'DELETE' ])
```
This is how i'm adding rules to my flask-app
but for ONLY patch request it's giving error as

``` 
&lt;html&gt;&lt;title&gt;405: Method Not Allowed&lt;/title&gt;&lt;body&gt;405: Method Not Allowed&lt;/body&gt;&lt;/html&gt;[
```

Even if the method is there for PATCH, why PATCH isn't getting routed ?


any mistakes or something to add up ?"
"how do I make
`01` to `Jan`.
?"
have a dictionary mapping which would pretty much do the trick
it's complicated. the standard library won't help me?
`data = {01: 'Jan'}`
you can use `datetime` though
our use `datetime`
`calendar.month_abbr`
"yeah, i was looking at the same <@Georgeann>; <@Georgeann> but it starts with empty item"
"can't understand how to pass a number to return the month; ```In [99]: calendar.month_abbr[3]
Out[99]: 'Mar'```"
"```In[14]: calendar.month_abbr[int(""03"")]
Out[14]: 'Mar'```"
"eh I have a stupid issue with imports, what I am trying to do: <https://www.dropbox.com/s/oajyhncno1xz5p4/Screenshot%202017-06-29%2012.17.07.png?dl=0>

what I get: `ModuleNotFoundError: No module named 'exercises'`
the `playground` dir in the project root is a virtualenv dir, all worked fine until I added extra directory structure (the `python-mega-course-udemy` dir) any help please?"
`.exercises`?
<@Suellen> hmm doesnt seem to work
"import pygame

pygame.init()
screen = pygame.display.set_mode((600,480))

done = False

font = pygame.font.SysFont(""comicsansms"", 72)

text = font.render(""Hello, World"", True, (0, 40, 0))

while not done:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            done = True
        if event.type == pygame.KEYDOWN and event.key == pygame.K_ESCAPE:
            done = True

    screen.fill((255, 255, 255))
    screen.blit(text,
                (320 - text.get_width() // 2, 240 - text.get_height() // 2))

    pygame.display.flip(); I WANT ONLY THE TEXT AND NOT THE CONTAINING PYGAME WINDOW"
"No all-capitals please... if you're hoping to just draw the text on top of your desktop background, then unfortunately that's not (practically) possible; That would require that you create a transparent window, which is beyond the scope of what pygame is for"
so is there a way to add text which can be moved anywhere on screen
"yes, but probably not with Pygame, and implementation depends on the platform"
python 2.7
"no, the actual operating system platform"
ubuntu
because transparent windows depend on the underlying window manager
pygame is not necessary
unfortunately I can't help you
?
<@Johna> have you tried to google before asking here?; <https://www.pygame.org/docs/ref/display.html#pygame.display.set_mode>
i google  but can't find anything good
"Pygame is a wrapper for SDL, and SDL doesn't support this natively. There are per-platform ways to do transparent windows, but I don't know what they are, so I can't recommend anything; You will probably want to find some platform-level documentation for this task, and then look for a Python library or package that encapsulates that"
"Oh, you _actually_ want a fully transparent window"
<@Jerica> did you get it figured out?
"<@Deedee> I just did, I added an init file into the wrapping dir and renamed it to have underscores not hyphens, I had no idea python would ignore hyphenated dir names"
dir names must follow the same rules as variables :slightly_smiling_face:
nice
Give the man a :taco:!
"better yet
:burrito::coffee: <@Jerica>"
"hehe, the :taco: should go to PyCharm, the hint this would be the issue was a tiny wheel in the project file explorer that appeared with the correct dir name :smile:"
"Haha, woot jetbrains!"
more like JetBros!
I've got a dockerfile I'm creating for initializing a test database. I have the `.sql` and everything for it. Should I use a shell script to run the `.sql`?
"With python typehinting, what's the right way to show a generator return value?; :facepalm: `typing.Generator`"
I'm using python. I have a column of time series in formate of ( ```pattern = '%Y-%m-%d %H:%M:%S' ``` The datatype is Series and I need to convert it to string. I searched and I found out I need to use ```Data .astype(str) ``` to convert it to String. I used it but still that column is Series and not string. .astype() didn't convert. What's the solution. How may I do it?
"for example. You can find innumerable examples if you search ""stringify python"" on google"
"Knit pick, you should probably consider `from __future__ import print_function` to be writing code that's compatible with the future of the language if you're writing python2"
"can somebody help me to understand where is the problem in the following statement
```
        ec.create_tags(
            Resources=to_tag[retention_days],
              Tags=[
                {'Key': 'DeleteOn', 'Value': del_snap },
                {'Key': 'Created', 'Value': today },
            ]
        )
```; this is the error I am getting
```
{
  ""stackTrace"": [
    [
      ""/var/task/lambda_function.py"",
      76,
      ""lambda_handler"",
      ""{'Key': 'Created', 'Value': today },""
    ],
    [
      ""/var/runtime/botocore/client.py"",
      253,
```; i have a variable `today = datetime.date.today()`"
I would presume it needs to be a string
comma after `today }`; ?
That's valid; <@Margareta> what's the other end of the stack say?; You could try `today.isoformat()`
<@Beula> <https://gist.github.com/pleegor/f82958c0755b33d96fe286d79bab8bbe>
"Yeah, on line 35; A Date object isn't valid, you need to choose a date format as a string (isoformat is a standard)"
"something like that?; ```
Tags=[
                {'Key': 'DeleteOn', 'Value': del_snap },
                {'Key': 'Created', 'Value': today.isoformat() },
```"
"yeah, should work"
thanks <@Beula> !!!! works as expected!!!
":thumbsup::skin-tone-4:; AWS has pretty good errors, they're just awkward to read in that format :smile:"
yeah awkward errors + python noob = :see_no_evil:; thanks again <@Beula> !
Any time!
"Anyone ever use the slack api? Is it possible to remove a user from the group??
I see like channel remove but not group remove"
<@Alba> I forgot I found out about this a bit ago - I think this is what you want (the undocumented APIs): <https://github.com/ErikKalkoken/slackApiDoc/blob/master/users.admin.setInactive.md>
"Yes thank you! I found this before too, an undocumented api to invite someone to a group
<https://stackoverflow.com/questions/30955818/slack-api-team-invitation>"
Yeah we use the invitation for the <http://pyslackers.com|pyslackers.com> site :smile:
does anyone know of a way to fetch and update a user with a single db trip in django?
<@Lasonya> why?
i'm looking for a way to optimise my db calls; <@Collette>
<@Lasonya> have you profiled your views? Are you sure fetching and updating users is the most expensive operation?
well for large data sets it sure is <@Collette>. how do you mean 'profiled your views '?
I mean what makes you think that this is the most expensive operation? Do you _think_ so or you have profiled your code so you _know_ it's the most expensive operation?
"Looking up one record in your user table, and updating that record, is really the bottleneck? That sounds quite suprising to me, too."
"That may be the bottleneck, for sure. Which is likely to be fixed by creating a proper index."
anyways in sql you are able to retrieve data from an `update` query
<@Ruben> <@Collette> won't it be performant to have one db trip to fetch and update rather than have two trips?
"<@Lasonya> please, google about premature optimization"
Your remark smells like premature optimisation
Ha
i like this <@Ciera>
"<@Ciera> Some DBMSses indeed can, see RETURNING clause in PostgreSQL's UPDATE. <https://www.postgresql.org/docs/9.1/static/sql-update.html>"
yeah that's what I was referring to
...but don't expect such things to work in MySQL or Oracle.; I never found the need to return something from an UPDATE (except maybe the nr. of records that were changed) because what I put into the UPDATE I have available in my program anyway.; <@Ciera> So I'm curious about for what you want such a feature.
we use it from time to time when we need to return ids for some processing (for example)
"&gt; what I put into the UPDATE I have available in my program anyway
Not when there is an SQL function / expression in an UPDATE clause"
you have available what you put in the update but you might not have all the row; if you have read only data for example
"Ah ok, I see. That might be handy indeed."
I have to add: I don't think `UPDATE ... RETURNING ...` will increase performance substantially for a typical web app; even the fastest ORM (something like Peewee) is still quite slow
if your db is on the network you gain a bit; but otherwise not really. It's just a nice to have
"plus if I can get an empty page in 30 ms and a heavy page in 40 ms, then there is no point in optimizing just yet"
Thanks guys <@Ciera>  <@Ruben>  <@Collette>  <@Suellen> :taco:
yum yum!
any pandas people in here?
I’ve used it a little
"I'm trying to do a groupby on a df; and the field I'm trying to group on needs to be preprocessed; I'm trying to figure out how to offload the preprocessing of that field to C so its not slow as crap; it seems like `df.groupby(by=func_to_preprocess, df.ColumnToGroup)` should work, but the `by=` field seem to want the column header; or a function; but not both"
"<@Rudolph>, what is the function doing?"
"preprocessing the string, I'm just going to use `apply` to manipulate the column, then pass the column into groupby; I was overthinking it :slightly_smiling_face:"
"lol, definitely"
thanks <@Winnifred>
"if it’s 1 “column”, use `.map`"
"In general, take a look at `.applymap`, `.map` and `.apply`. All very useful when you learn how they operate on the dataframe."
<https://pythondev.slack.com/archives/C07EYDP25/p1498837563310648>; <https://gyazo.com/c534d09b18e44c51e407a16605c992c3.png>
"Hi guys ,is there something like django-restframework or flask-restplus for tornado?"
"Hey!; I can’t seem to import the slackclient correctly; I keep getting an import error. I tried googling around and their fixes didn’t really work; it’s installed for sure, so I don’t know why I can’t import"
can you do a `pip freeze`; or `pip3 freeze`
"The issue is your `pip3` is from `python 3.6` but your `python3` command is running `python 3.5`; ```
# from pip3 install slackclient...
Requirement already satisfied: slackclient in /usr/local/lib/python3.6/site-packages

# and from the python3 command
Python 3.5.1 (v3.5.1:37a07cee5969, Dec  5 2015, 21:12:44) 
```; Execute the script with `python3.6`"
nice spot
"<@Sherry> - consider using some virtualenvs to avoid this in the future :slightly_smiling_face:; I will work on a video for that, it's been coming up a lot recently"
ooo we can add it to the learning resources.
"ahh i figured it out, i used pip3.5, which i’ve never used before; I’m getting a new computer in a few days, how can I prevent myself from having 7 different python versions?; and yes, I was setting up the virtualenv wrapper but ran into an error doing so"
"what model mac, windows, etc.?"
mac!
on a mac i install brew and then install python2 and python3. you definitely don’t want to use system python for anything.; then i use penv to manage python versions and virtualenvs.
ahh ok
"Yeah, mac is popular enough I can focus on it. Then I can learn windows :stuck_out_tongue:; I'll try to do it over the weekend and it'll be free"
Thanks!!
windows you just install python from the msi.; and make sure you check the box to add python to the path.
Yah i’m trying to install virtualenvwrapper; but am getting that; my virtualenvwrapper seems to be here `/Library/Frameworks/Python.framework/Versions/3.5/bin/virtualenvwrapper.sh`
your going to want to add some lines to your `.bash_profile` or `.bashrc` file.
"it’s different if i’m using zsh, correct?"
"```
export WORKON_HOME=$HOME/.environments
source /usr/local/bin/virtualenvwrapper.sh
```; something like that; yea you put it in your zshconfig however you have that setup.; i load my zsh config via my own script that i call at the end of the config zsh uses.; `WORKON_HOME` is the dir where all your virtualenvs are installed when you write the `mkvirutualenv` command"
Just the last line should be sufficient 
i trimmed it down to those two.
Sorry spotty internet the rest of it popped through haha
"yeah, `~/.zshrc`"
Done!; got it
:thumbsup::skin-tone-4:
so now no need to run this?
I wish more shells had bash compatibility layers like `fish` does 
the last two lines you paste into your shell config
yup
you could run them yourself from the command line but that isn’t too efficient to do every time you open a terminal.
ahh ok; thanks!
if you ever use pyenv you will need to do something similar.
"It’s bad practice to use folders with spaces when making the virtual environment, right?"
"on a mac you can install that with brew. it makes everything super easy.; dang, want to see how things get dated over time? this is a super simple ansible playbook for installing virtualenvwrapper from a yr ago. <https://gist.github.com/mikefromit/4281f29013fe3b4306a87cb64a2ad1fd>"
"virtual environments are extremely cool, but they definitely have a learning curve to them"
"lots of things have changed in ansible now.; yea, i was a bit confused by them when i first started.; i was thankful for those few tutorials i found that really went through creating those."
why would i want the virtual environment in the standard environment folder and not in my project folder?
i remember on my first projects i pushed to github i had committed my virtualenv.; lol; when you need to manage python versions.
haha ouch; my first push had my twitter app tokens!
yea that was bad. i’ve never done that but i’ve done some google hacks to look at when ppl did that.
"Haha yah, luckily it was just a monitor i was setting up."
i ran a python script to use a custom google search with a googlehack string and then i had splunk index all the results. since the api only allowed a certain amount of calls for free I ran a cron daily.; i did my due diligence and contacted ppl.
Yeah the main problem with vanilla virtualenv is you end up with folders all over the place and management is a mess
Is pyenv still used a lot?
If I don't use virtualenvwrapper I use pipenv or just docker (but local dev with docker on python isn't the best since you still need a local install for code completion
Hmm I get code completion in webstorm doing local docker dev. I mount the volume where the code is
"Node uses `node_modules` which is a sibling of the project, python uses `site-packages` which isn't - so my guess is that may be why"
Yeah was just realizing that
Unless you do a virtualenv in the root of the project?
Node is fun but callbacks are a headache haha
"Yeah, maybe that works - but then why bother with developing in docker?; callbacks are getting less and less common <@Sherry> , at least! :slightly_smiling_face:"
Current LTS of node has promises by default ; I'd call callbacks dead :)
I’ve heard! they’re very confusing at first
Next LTS has `async/await`
I m new to python community and has not worked much
Can someone suggest me some tutorials to help me start with data mining ?
And also clustering
anybody know how to intercept a form submission event? I can't seem to figure out how to target the submit event or bind a click event to the form submission button
<@Magdalena> something like <https://stackoverflow.com/questions/5384712/capture-a-form-submit-in-javascript> ?
Hey guys what are the best books to read regarding Python for fundamentals. I know for Django its two scoops
<@Alba> Do you already know how to program?
Yeah. Looking for something more design focused and best practices; Currently reading idiomatic python; But that's more of like a skim
"Ah ok. I came from C++ a long time ago, and I found the standard Python tutorial quite a good read. And I found some 'Python for C++ programmers' online texts."
Not a big cpp fan haha
I had no choice.
Effective Python is good
<@Alba> <http://www.allitebooks.com/fluent-python/>
Will take a look at both of those books :)) hopefully I can find a free download. The fluent python one is an early release; Meh I think the early release will be fine; Thank you very much <@Rickey> !
<@Ruben> thanks for the link! do you know if it's significantly different than if I use jquery to do this? I had trouble with targeting the correct element 
hola oclay que bola; que pasa; tambien eres programando del python
"Hi, I need a suggestion. I am planning to start a new project for logging user analytics using MongoDB. 
Which framework will be better to use with Mongo - Flask or Django?"
flask
at one point in time around django 1.4 mongo was great with django but then ppl stopped maintaining some core libraries.
"+1 for that use case; Though if you are doing user analytics, you may need something lower latency since that may be a ton of events"
i built my recent highlighter with elastic search. it worked really well. I would imagine throwing kibana on there could make for a neat analytics platform.; <https://www.elastic.co/products/kibana>
<@Johana> Can you tell me more about it?
i’ve built an elk stack for logging at my old place of employment. it depends on what you mean by analytics :wink:.; you could analyze the data with scripts and use things like stochastic gradient descent and things like that or you can build dashboards.; not sure how you’re trying to check out these events.; we used the logs to determine if there were issues in the network.
"I will log request, pageviews and other user actions."
do you have any experience with flask?; or python web frameworks?; i try not to assume things.
Yes I've decent experience on django
k; just a sec let me bust out a code sample.
I can learn flask fast; pycharm is slow :stuck_out_tongue:
i also had to get my kid off of the table.
okay
for user analytics you could use django or flask. to get the user events you’ll need some sort of middleware. i’m not talking about that part. what i’m showing is how to get data into elastic search.; once you have data in elastic search then the kibana parts comes into play but you will also need to figure that part out.
ok; Waiting :slightly_smiling_face:
"ya, wondering if i should make a big gist. there are several things involved."
ok take your time :slightly_smiling_face:
"dang i need to edit this in a bigger window. lol; either way, in flask you’ll need to do something like that and establish a connection with elastic search.; when your app starts up.; there may be a flask-extension for it already; where you can simply add in the right settings."
ok then
i’ve updated it with the model. you need to create a model to describe how your document is structured.; oh cool. yea you can use this :smiley: <https://github.com/chiangf/Flask-Elasticsearch>
You used Flask + ES + Kibana?
no kibana; in my project recently.; my past project with ES and Kibana didn’t have flask
How did you build dashboard?
i built the dashboard with kibana.; flask is only involved in this process b/c it’s generating the event.; i’m just showing how to save data to elastic search in python with a flask view. once you have data in EL then you can use Kibana to do analytics. Kibana could be installed on a totally different server.; hmm.. i could probably PR this elastic search model code i have with this flask extension.; it’s nice mapping a document to a class.
"Yeah, that will be nice."
i know it’s a lot of pieces there and gaps but you get started down the path you will get each working :wink:.
i've few questions.
k
"Can you tell me about the architecture part, or process flow.; Is it something like this - 
1. User creates an event.
2. Flask view logs data in ES.
3. Kibana gets data from ES and shows it in dashboard.; Aren't you using any async tasks queues like rabbitmq or kafka?"
you could but in the most basic sense you would use the middleware to do a post on elastic search with the data about the event.
"I found this blog post for similar usecase - <http://engineering.hackerearth.com/2015/02/26/logging-millions-requests-what-it-takes/|engineering.hackerearth.com/2015/02/26/logging-millions-requests-what-it-takes/>
They used kafka + rabittmq + mongodb + S3 + redshift to build complete architecture; ES will be better than this?"
"oh idk about that. i haven’t used all those before. what i proposed was for something simpler but it could grow to using those things once you need “web scale”. hence, the “logging millions of requests everyday”."
"okay, thanks :slightly_smiling_face: Now I should connect the dots using the code you provided.; One quick question, how many servers u used? What will be minimal cost to setup this?"
"yea, i’m thinking i may need to do an example app for this now.; do you already have a site you’re trying to integrate this into?; or your just interested in getting it going on your own site?"
I want to integrate it to a website running on Django.
<https://qbox.io/blog/how-to-elasticsearch-python-django-part1>
cost involved?
oh idk the cost we had our own vm infrastructure.
How many VMs you used?
there was a central server that ran logstash and the elastic search server with kibana so 2 servers. we also had another server running OSSEC.; it’s been a few years now. i’ve slept since then and don’t remember all the details as i’m not involved in networking admin anymore.; <https://qbox.io/blog/welcome-to-the-elk-stack-elasticsearch-logstash-kibana>; i remember our biggest problem was storage.; there was also grokking all the different kinds of logs.; the one big gripe about ES is that it’s easy to get data in there but hard to take it back out. to combat this while you save a document for EL to index you can also create a record in a relational db. this will help for other kinds of reporting.; for logs we didn’t care about the relational db part. we needed to analyze them in real-time and then archive them.; you can also get ES running super quick with docker.
Why RDBMS and not MongoDB?
"well ES is already a document store. using something like Mongo would be redundant but i guess if you wanted to you could.; it’s generally not a good idea to try and do things a relational database can do in a document database like joins. i suggested saving to a rdbms in the process mainly so you can take advantage of an rdms at the same time. this won’t be needed for every application.; this is my docker-compose.yml for ES:
```
version: '3'
services:
  elasticsearch:
    image: nickstenning/elasticsearch-icu
    ports:
      - '127.0.0.1:9200:9200'
```

you can type `docker-compose up` and it will start the service for you."
"So I should store data in both, ES and RDBMS if I want to access it frequently?"
i don’t know what you should do b/c i don’t know the requirements i was just letting you know what you could do :wink:; &gt; i suggested saving to a rdbms in the process mainly so you can take advantage of an rdbms at the same time. this won’t be needed for every application.
"Hmm. By storing document in RDBMS, did you mean creating schema based on keys in document?"
"yea, you can save the data to the db and get back from the database the inserted record. That would look like this maybe `{""id"": 1, ""name"": ""a1gupta"", ""role"": ""1"", ""created_on"": ""2017-10-11 343434""}`. once you get what the database has you send it to ES.; that’s how you would make a search engine with ES btw. which is what i did recently. you can take those same values in the dict and pass them as query params to a search endpoint."
Thanks <@Johana> . I think I should start now to understand it better. :upside_down_face:
code it the way you see it :smiley: it looks like there may be a few problems to solve before getting to ES like getting the events you want.; i’m sure there are some django plugins that can help you with that.; ppl in the <#C0LMFRMB5|django> channel would know.
"I have something seemingly complex and puzzling. I’m trying to add dynamic localization to my library which also powers a REST API. I was able to add the gettext _() function by running this at my root before importing the other modules

```
LOCALE = os.path.join(os.path.abspath(os.path.dirname(__file__)), 'locale')
gettext.install('app, LOCALE)

from app import foo, bar
```

That works great. However, I want to add dynamic localization for certain functions. Ex:

```
# Using system
foo()
# Using given locale
foo(lang='es')
# Goes back to system
foo()
```

I’m trying to do this by running within a context switcher:

```
@contextmanager
def set_language(lang: str=None):
    # Set language
    if not lang is None:
        gettext.translation('app', LOCALE, languages=[lang], fallback=True).install()
    yield
    # Revert to system default
    gettext.install('app', LOCALE)

def foo(lang: str=None):
    with set_language(lang):
        print(_('Foo the bar'))
```

But I’m getting this opaque error and can’t figure out how to isolate it

```
print(_('Foo the Bar'))
TypeError: 'bool' object is not callable
```

The interesting part is that it works on the first call to foo but not the second. My guess is that something is going on after the `yield` which screws the system up, but I’m not sure where, why, or how to ask the right question; OH MY GOD. I’ve been testing this in the REPL. I have a function which returns a boolean that gets “thrown away”, but the REPL assigns it to `_` which overwrites the global `_` set by `gettext.install()`; Thoughts on how to make gettext REPL-safe?"
<@Elane> don't use `install`?
"Hey, everyone. In <#C5PHT9EGK|webscraping> I asked the question. I think it's more appropriate. Who is not difficult, come in, please.; ```    d[""Jan. 5, 2017""]
    Out[43]:
    {'issue': u'importmant',
     'url': '<http://www.roga.html>'}
```
if in the dictionary I want the date to add another `issue` and the `url` how to do it properly?; ```    d[""Jan. 5, 2017""]
    Out[43]:
    {'issue': [u'importmant', u""very importmant""],
     'url': ['<http://www.roga.html>', ""<http://www.kopita.com|www.kopita.com>""]}```
I think that this kind of suit me, but I don't know how to do it..."
"```
&gt;&gt;&gt; from collections import defaultdict
&gt;&gt;&gt; d = defaultdict(list)
&gt;&gt;&gt; d['issue'].append('important')
&gt;&gt;&gt; d['issue'].append('very important')
&gt;&gt;&gt; d['url'].append('<http://google.com>')
&gt;&gt;&gt; d['url'].append('<http://yahoo.com>')
&gt;&gt;&gt; d
defaultdict(&lt;class 'list'&gt;, {'issue': ['important', 'very important'], 'url': ['<http://google.com>', '<http://yahoo.com>']})
&gt;&gt;&gt; dict(d)
{'issue': ['important', 'very important'], 'url': ['<http://google.com>', '<http://yahoo.com>']}
```"
"Thank you :clap::blush: ; Did not understand until the end. I hope to help.
```z = {u'Jan. 5, 2017': {'url__result': ['<http://www.something.htm>'], 'issue': [u'something_issue']}}
```
For example I have the following date is the same.
I want to add to `z` - 
```url__result = ""<http://www.google.com|www.google.com>""
issue = ""import""
```

What should I use?"
"and the date stay the same? So Jan 5, 2017 would have two {url_result, issue} sets?"
"<@Deedee> I want this ```    d[""Jan. 5, 2017""]
    Out[43]:
    {'issue': [u'importmant', u""very importmant""],
     'url': ['<http://www.roga.html>', ""<http://www.kopita.com|www.kopita.com>""]}```; I have a few lists with these dates, I need a dictionary, the Date can be the same as each other, so I need to get my dictionary are not overwritten as I have now, and added new values."
"actually, take another look at leovp's solution."
"The decision is good, but I can't figure out how to make the key ""10.01.2007"" was {'issue': ['important'], 'url': ['<http://google.com>']} .
And what if the next date goes ""10.01.2007"" the data was added to the list to ""important"" to ""<http://google.com|google.com>"". I have overwritten now.; ```from collections import defaultdict
d = defaultdict(list)
d['issue'].append('important')
d['url'].append('<http://google.com>')
z = {}
z[""10.01.2005""] = dict(d)
z
Out[13]: {'10.01.2005': {'issue': ['important'], 'url': ['<http://google.com>']}}
```; how to continue to add data, I do not understand.; `append` to the list...for sure...now try"
"So there can be multiple `{'10.01.2005': {'issue': ['important1', 'important2'], 'url': ['url1', '<http://google.com>']}}` ?"
all. tired better not to sit at the computer. go to the beach.
"so if important3 and url3 came in, there are different ""10.01.2005"" that it can go into?"
"append, it list.; `z[date][""issue""].append(df[""issue""][i])`
everything is very easy.))"
"I don't think you can use a dictionary for this. Hopefully someone else can confirm, but I think you're looking at using a list instead."
z[date]['issue'] is probably a list
Exactly :)
"In PyCharm, can you have the project run kick off a bunch of things at once? For example, I want to run Django, Celery Workers, and Celery Beat"
If you find out that share it with me. I have to open like 5 command windows to get started
`subprocess.open` at the start of the script ? :smile:
"haha, no kidding. I guess if you don't need a bunch of workers you can run beat and the worker:

```
celery -A &lt;your proj&gt; worker --beat -l debug --scheduler django
```"
Is that it?
I think those block before starting
`&amp;`
<@Beula> i use honcho to do that now.
I tried to run the worker and beat with django-beat and it didn't seem to work
<https://github.com/nickstenning/honcho>
And running django in a docker container involves too much hacking. I prefer to just run postgres and redis in it
but you can use it as a library.
Looks like celery got rid of the `--autoreload` option :cry:
you don’t necessarily need the Procfile
Yeah <@Mariano> I have docker running postgres and redis
I wrote it on version 3 because i'm a cool kid
thanks <@Johana> I will look at that; What's new in v3?
It changes the version field to `3`; idk what else
haha; time to update...
<@Beula> good example here:   <https://github.com/hypothesis/h/blob/master/h/cli/commands/devserver.py#L60-L89>
`os.environ[‘PYTHONUNBUFFERED’] = ‘true’`
sorry about that paste
:sweat: Now we are on docker-compose 3 too :wink:
the example is the click cli that hypothesis (pyramid app) uses. then you can put this in your make file. <https://github.com/hypothesis/h/blob/master/Makefile#L30>
Oh nice - I'll keep that in my back pocket. I like keeping things stupid simple as long as I can
"with flask, webpack, and react it’s nice."
Yeah - that totally makes sense
wow that's handy
"Yep, honcho is great. already in love"
glad you likez. :smile:
are there any good channels like this for javascript? im having a small bug
try <#C45V5EJ15|javascript> or <#C07EYDP25|webdev>
"Hi, all.
I have three pandas data frame.
Challenge them to unite and write the result to a file.
The first two has common headers. a third plug on the left.
```len(frames)
Out[1]: 3
result = pd.concat(frames)
result.to_csv(""file_name.csv"", sep='\t', encoding='utf-8', index=False)```
Everything is good, except a wrong result, not beautiful.
<http://imgur.com/VIoHXnel.png> this problem
<http://imgur.com/cdUxjkrl.png> - so it looks in the editor
and need
<http://imgur.com/gmY8UtKl.png>
<http://imgur.com/1e4fRKnl.png>
I hope for your help, just don't know what I'm doing wrong.
Thank you."
"Looks like you need `merge`, not `concat`."
"<@Suellen> the first two data frame which has common columns normally unites, the problem with the third.
the third has no common poles with the first two.
the `merge` would be for the first and second if I understand correctly.
But why? And so they're fine."
"Due to having no common columns and no index, the third df is just appended to the end; df.merge will merge the third df and the big one despite no common data between them"
"nothing happens.
first two should be together? Then the two third?; ```f = pd.merge(frames[0], frames[1])
g = pd.merge(f, frames[2])
Traceback (most recent call last):
  File ""/home/cat/.virtualenvs/mof/local/lib/python2.7/site-packages/IPython/core/interactiveshell.py"", line 2882, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File ""&lt;ipython-input-2-2943dd979cc4&gt;"", line 1, in &lt;module&gt;
    g = pd.merge(f, frames[2])
  File ""/home/cat/.virtualenvs/mof/local/lib/python2.7/site-packages/pandas/core/reshape/merge.py"", line 53, in merge
    copy=copy, indicator=indicator)
  File ""/home/cat/.virtualenvs/mof/local/lib/python2.7/site-packages/pandas/core/reshape/merge.py"", line 553, in __init__
    self._validate_specification()
  File ""/home/cat/.virtualenvs/mof/local/lib/python2.7/site-packages/pandas/core/reshape/merge.py"", line 928, in _validate_specification
    raise MergeError('No common columns to perform merge on')
MergeError: No common columns to perform merge on
```"
"[silly] question for the slack bot experts: in many examples I keep seeing a variable named BOT_ID, what is this ID? All I get from slack is the bot token"
that's not a silly question. It's the id of your bot that slack return when you use <https://api.slack.com/methods/rtm.connect>; or `rtm.start` it's useful to filter message coming from your bot; but normally they shouldn't need it as they can easily retrieve it for you
"this is a pretty basic questions - but when an exception is thrown the rest of the code after where the exception occurred is not executed unless it was handled in a `try` `except`?; I'm deciding whether I should test code with a context manager of an object that throws an exception, although I don't think I am correct in the what happens"
yes. you can add a `finally` if you want a piece of code to always be executed; it depends on the what but in some case it can overlapp yes
"so let's say that's the code and we're expecting a new_object to be created based on the paramteters, but an exception can occur like a URLError or something; what I'm trying to do is test the correct exception is thrown/handled; so I was thinking..."
`as new_object` looks strange to me
If you are testing code I believe both pytest and unitest have special context manager to test errors
"just do
```
with self.assertRaises(URLError):
    new_object = NewObject(param_to_cause_exception)
```"
yah that is unittest
"also, don't test anything else in this function; you're testing only the fact that wrong URL causes an exception"
in that case if the assert is correct the test will continue as expected
with the `as new_object` I can pass it through the rest of the code as an exception object which I found here<https://docs.python.org/2/library/unittest.html#unittest.TestCase.assertRaises>
but <@Suellen> make a good point; oh ok. You want to test what is in the exception ?
thanks <@Suellen> that does make sense; right; and how the rest of the code responds to that <@Ciera> if that makes sense
both object have the same name that's a little confusing; you can interact with the exception after the `with` like any other object. For example to check what's inside
"right, check error codes and such; I think I was incorrectly thinking of how the object would be handled if an exception was thrown (not under test); in my test I am asserting the correct exception is thrown given a bad parameter; I think I've got it from here thanks guys <@Suellen> :taco: <@Ciera> :taco:; I think I just gave you guys 2 tacos each but you guys were great so keep 'em"
thanks good luck :slightly_smiling_face:
Best way to order a list based on another list?
there is something like `sorted()`; and I guess you can pass like a lambda to do custom sort
"```
&gt;&gt;&gt; order = ['b', 'c', 'a']
&gt;&gt;&gt; sorted(['a', 'b', 'c'], key=order.index)
['b', 'c', 'a']
&gt;&gt;&gt; 
```"
yeah <@Vada> helped me on the django channel. btw have a :taco:
<@Suellen> :taco: I missed that you could just provide order.index instead of a full on lambda. This will be much better
:heart:
Do you have a specific question about dns ?
<@Ciera> I'm using namecheap; Does this record look alright?; Or should it be the whole domain name?
this will point `www.my_awesome_website` to the same IP as `c.storage....`; no you don't need to put the whole name
so this should work :confused:
yes; if you do `dig www.my_awesome_website` you should see the result
"yep; kinda...; But of course it doesn't work, therefore my question :slightly_smiling_face:"
well it seems to be pointing the right way
"```
--2017-07-03 21:02:46--  http://.../
Resolving ... (...)... 2a00:1450:4010:c08::80
Connecting to ... (...)|2a00:1450:4010:c08::80|:80... failed: Network is unreachable.

```; Maybe I'm unlucky and DNS take an unusually long time to update?"
`2a00:1450:4010:c08::80` is the correct IP; are you sure your network is correctly setup ? can you try on IPv4 ?
"```
wget www.[domain] -O -
--2017-07-03 21:04:04--  <http://www[domain]/>
Resolving www.[domain] (www.[domain])... failed: Name or service not known.
wget: unable to resolve host address ‘www.[domain]’
```; Huh, now dig returns way less data then 1 minute before.; Alright, it's probably Namecheap shenanigans; There is a reason they are not ""Nameexpensive"""
did you change something ? I had one time a saved that wasn't taken into account so I just redid it; they are usually not too bad
:slightly_smiling_face:; Thanks for your help
"<@Elin> you'll need to add a lot more context, such as environment (is this selenium?) etc; Libraries you're using, that kind of stuff; the website is the one that manages the folders - so I am not following what you are trying to do from the selenium side?"
"At the moment the uploaded files are at the same directory as the script, upload works fine."
So the server code needs to change to support saving in another directory - otherwise it's a vulnerability (directory traversing attack)
Maybe os.path.join() can help?
Do you control the server side code?
"Do you mean the website where I post the ads or the machine where my script runs?; Script runs on my OSX, website is not mine, so no access."
"And you want to store the photos from the client machine in a different folder, or the server?"
"On my machine, at the moment, at the same folder as my python script, and I want to store the photos in a subfolder."
"Oh, okay. Yeah, you should be able to just move them and `os.path.join`"
"great, I will try now …"
<@Beula> you've used the undocumented Slack method `setInactive` right? It says here that this method doesn't work on the free tier. Is this true?
"I've not used that one, sorry :("
Thanks :))
"Hello all, I am looking for some help with python syntax...trying to run a module for salt <https://github.com/cedwards/saltstack-fim-module/blob/master/fim.py> but  I am getting the following syntax error 
```
  File ""fim.py"", line 133
    return 'FIM data rotated.'
SyntaxError: 'return' outside function
```
Anyone know what could that be?"
"It looks fine to me, but double-check the whitespace and line endings, because the interpreter might be getting confused"
"Hi folks, i’m having a bunch of jobs, detail data of the job is stored in db. I want to create a pool, to process those jobs, after finished one, add a new one to the pool. My question is, do we have any lib to support that pattern? Or I have to write pool, queue logic, and a While loop to push into queue? I’m using python 2.7. Thanks"
"concurrent.futures for python 3; take a look at the docs, it's very easy :slightly_smiling_face:
and maybe you'll reconsider using legacy python"
(but `futures` is backported to 2.7 as well :wink: )
"ugh, you're not supposed to tell!"
"… Thanks, I’ll try it"
2.7 for life! (Or at least until I start a new project.)
"umm, I have questions
1. about `map` vs `as_completed`, if I dont care for the result order, I should use `as_completed` right?
2. If I use `map`, then even my 2nd job finished earlier than the 1st, my executor still wait for the 1st to finished then push new job to the executor?"
<@Gabriele>  I am thinking it might be due to missing dependencies for the `checksum` def. But I am not sure how to check that as the logs dont help much
<@Hermina> jobs are pushed when a pool isn't completely full; Take a look: <https://pymotw.com/3/concurrent.futures/>; There you can see better (almost real-life) examples.
<@Kymberly> Missing dependencies in Python don't cause syntax errors
Anyone knows how to set an script to run every 2nd sunday in a month ?
linux/mac/windows ?
Linux. I'm using crontabs on django-beat; I haven't found a way to do that using a crontab
there must be :stuck_out_tongue:
I have seen some hacking with bash but i think i don't have that available; just a plain crontab
don't have shell? how?
<https://stackoverflow.com/questions/11683387/run-every-2nd-and-4th-saturday-of-the-month>; it seems you need a small bash script indeed
The crontab is ran by a scheduler built with on top of celery. Introducing the equivalent to the bash script will involve too much hacking i think; meh. I'll just run the script every sunday (well they are celery tasks). And have the task checking if it's on the week that i want
that should be the easiest
I saw that the weekdays and the day of the month are an `or` proposition on crontabs
I imiagne you could also run it only between the 7 and the 14 and only check if it's sunday; more like 7 - 13 :stuck_out_tongue:
That too. Or run it every sunday and check if it's between 7 and 14. I think this option will run less unnecessary times. There isn't much load on the system that i'm building so it doesn't matter; :taco: <@Ciera>
woot thanks
:point_up:
"What’s wrong with the following substring in my SQLite Create Table command?

&gt; 24h_volume_usd; Turns out columns cannot start with numbers. To anyone else curious"
"Beat me to it... I suspected it, but was actually googling to confirm that"
"haha i’m very unexperienced with SQL, so I just assumed it was allowed; the error wasn’t particularly specific but whatever, thanks anyways khdc"
"For questions on getting some of the community projects up and running, would this be the right place to ask (or the <#C2FMLUBEU|community_projects> channel)? Have some questions about configuration for setting up the website in development -- just don't want to clutter the projects channel. :slightly_smiling_face:"
it's best to ask in <#C2FMLUBEU|community_projects> <@Jacinta> <@Beula> (who is the main dev for the website atm) might miss it here
"Feel free to join us over in <#C2FMLUBEU|community_projects> :)  sorry, was off biking and grilling today!"
Hi peeps. What is the most state-of-art machine learning technique or research project on learning langauge?; *language (clearly i have a reason for my research)
"What do you mean by 'learning language'? This is a VERY wide field; Are you familiar with word2vec? It's not the 'most' state of the art but it represented a big step forward a few years ago and is widely used; (You might also reach a more specific audience in <#C2J4B66PK|machine_learning> , but there are fewer people there)"
"Hello guys, I got a huge problem"
"Cool, thanks! No worries, biking and grilling should always take precedence."
<@Hyman> best to say your problem
OK bro here it comes
"someone will read it and say something, but you need to put your issue out first"
There is a website and a WiFi network. And what i want to do is to automatically connect any person on my WiFi to the website without theme authenticate themselves directly on the website
"Simple, flippant answer: disable authentication on your website"
"No no, that isn't that. Persons on my WiFi can connect themselves but those out of it need to authenticate themselves"
do you have a static IP?
"No, no static IP"
"then sorry; if you had a static IP through your ISP, then you could check the IP address on the incoming request; and then filter to authentication if necessary"
"If you're on a Windows domain you can do more, but that's a bit specialized"
"can you run custom code on the wifi router?  you might be able to have it regularly send its ip; when it updates you might have a moment where the site isn’t accessible, but it might do the trick."
My problem now is to authenticate a person from it's IP address since I don't want to change even the website code
"why?; ok, better step back and describe things in more detail; because it sounds like you're trying to do some things that are not advisable"
"and depending on how secure you want this, IP whitelisting may not be the best bet"
"since you can spoof and use VPNs, and more"
"Have the site listen on 2 network interfaces, one inward-facing to your network, one outward-facing to the internet, and the inward facing one can use different auth criteria"
"<@Meg> Let me explain it more detailly; There is a website that I am setting up and i want to grant direct access to persons i a given location that is persons connected to my WiFi. If a person is connected to my WiFi, he can access the website with no problem, but if he is not in my WiFi, he should enter a passcode before proceeding to the site's content"
why?
"why do you want to have such a huge hole in your authentication; just have them sign in; and keep a session cookie active for them; and so when they re-access the site, their login session is still active"
"I've seen this sort of thing done before to facilitate company intranets, and that's done primarily just by virtue of listening on an inward-facing network address. But sometimes there is still extra auth anyway, because it's not a great hardship."
Is it the case that it’s irrelevant *who* the user is that accesses content?  i.e. there is no user data specific to a user?
...also that.
"if it’s truly irrelevant who people are, then yeah, I’d combine <@Gabriele>’s comment with a VPN from the wifi router to the network that second interface is on"
not a bad suggestion; <@Hyman> do you have the expertise to do this?
"what's the best way to join on a string x time the same value ?; like `', '.join('hello' for _ in my_list)`; But it seems a bit overkill"
<@Ciera>: is there a better way than that?
`'hello ' * n`; where `n` is the number of times to repeat
But won't it add a space at the end?
"that does each letter <@Meg>; can do that `('hello',) * n`; I completly missed your point <@Meg> in fact :smile:; got it"
"`('hello, ' * n).strip(', ')`?"
I feel the original was good enough tbh
Wait. Got it :ok_hand:@ndevox
I hoped something existed for that. I'll stay with the for loop more readable
"Quick side question for my project server; is forcing https everywhere bad?; should i rollback and switch to 1? Not really python but web related, haha"
"hey, arent you in the sneakerbible? ^"
"No, I run House of Carts."
Crazzyyyyy haha.
woah; <@Sherry> : you looking for extra developers haha
"Lol, DM me."
House of Carts?
<@Johana> it’s a sneaker group that I run
“run” :troll:; we need :dad_pun:
:run:; :laughing:
is this even legal?
Kind of depends on your locality
"its bots to circumvent/deal with purchasing ASAP, including CAPTCHA breaking; <@Sherry> is this what you ask for help with here?"
"He asked about SSL, I thought - what are you seeing for captcha?"
looked into what house of carts was
"<@Patty> : it's legal, just breaks site ToS I think"
"Oh. Yeah, the community is generally against enabling breaking TOS or anything Illegal ¯\_(ツ)_/¯"
"its a big grey area, so, yeah"
What? I asked for help with setting up a SSL certificate that has nothing to do with a sneaker group..
I think it's more the soliciting DMs for help and such
"Ah, okay. He’s the one who asked if I needed a dev, but there’s not really a need right now.; No worries though"
"Okay, generally speaking - the group would prefer to not be used for anything gray-area or illegal, whether DM, public, or private channels"
Sure
I am trying to read a .nc file using netCDF4 and get this error (NetCDF: HDF error) I have installed all the prerequisites (<http://unidata.github.io/netcdf4-python/>). is anybody familiar with this error
recent i study flask - micro web framework. I need some good stuff about flask. Who know the good material about flask?
you'll have more luck in <#C0LN2AD7T|flask> :slightly_smiling_face:
<@Meg> I got your suggestions about the VPN
Anyone using GCP here?; Wondering if I can ssh with a service account but can't see any docs anywhere
So i have a type error issue; added b ref; I got it thanks all sorry for the bother I needed to talk it out i suppose.
no problem :slightly_smiling_face: If it's helping you
I am just getting my feet wet with building stuff out of bits and parts i find and cleaning it up for my use.  I am still quite noob. This slack has pulled me out of the fire many times where i wanted to bang my head into the wall
Question about unit testing and type hinting - is there a simple way to assert that a function call returns a certain type and that there are no other type warnings if return types have already been hinted in the function signature?
mypy probably; It's pretty intelligent in type inferring
is it possible to run nosetests with mypy?
anyone have any recommendations on best ways to test flask api’s?  I am writing an api in flask and want to do unittests on it but not sure the best way to do it with flask
do you want unit tests or integration tests?
"well this is all sorta new to me as far as testing goes I haven’t done it much in the past but I want to mainly ensure the code works and get back proper responses, etc; since its basically a bot"
"So there are various levels of testing. If you want a lot of confidence, you should do `end-to-end` testing; which basically means you spin up your app, then use `requests` to hit the api's and check that they actually work; an integration test would be just calling the handler, not using http. And a unit test would only check the logic of one function alone, as in, the function where the logic is"
"yea basically the end to end is what I want; take the code spin up the flask app and make calls to the routes to verify they work; before it deploys the code to heroku, etc; so this will be a part of my jenkins setup; I’ve never done testing in the past lol need to learn how to integrate it into my projects"
"Unfortunantly I dont know of any ""api testing frameworks"" in python"
its more of how do I test flask
but its really not very hard to just write tests that use requests
since its a flask app
and call your app
yea if thats all it is I guess I can do that
You also might want to look at: <http://flask.pocoo.org/docs/0.12/testing/>; or ask more questions in <#C0LN2AD7T|flask>
"I was more curious how I test it and where for example where do I spin up the code and test it or does it just do it all local, etc; yea I’ve been looking over that doc; problem is that one is very db driven and I’m not even using a db yet, just want to test simple flask routes, maybe I’ll just go the route of requests; I’ll see what I can find, thanks"
if you dont have a DB then ignore the DB code; the rest will still work
yea thats why I’m checking it out just wasn’t sure if there was anything else or if this is the only info I’ve asked in flask too; didn’t realize they had a channel
"code review help: package all html file keys from a S3 bucket with a provided prefix into a list; so, I have a bunch of websites scraped and archived on S3; I want to get the key names for the html files only, for indexing in solr; this is the naive solution, and while it works, I think it could be improved.  Any options?"
"i think you can use map, Not sure if it would improve the code"
"could change line 12 to be `for item in page.get('Contents', []):` or whatever empty iterable you want; saves a line"
"Similarly `if item.get('Key', '').endswith('htm') or item.get('Key', '').endswith('html'):`"
I thought of that; but feel the readability is so-so
yeah gets a little overly verbose there
"Well, I tried :slightly_smiling_face:"
"I like `any(key.endswith(x) for x in ['html', 'htm']):` so you can arbitrarily add more extensions if you want; but neither is ""right"" or better"
I like this one
"alright, thanks; It was the nested looping and checks that I was unsure about; wanted to be sure I wasn't missing something more pythonic"
You never know what Python has up in its sleeve
<@Meg> now flatten all of the loops into a one-liner
#ProTip - don't
do that only if you want to be a clever bastard and screw with the people taking over after you :smile:
generating DELETE statements from a dictionary that came from a csv lol
:facepalm:
i flattened it for funsies
showoff; :smile:
it was a one-off script ¯\_(ツ)_/¯; the actual code i think is on my other machine
don't you mean off-by-one?; :smile:
don’t you mean off-by-one?; now i want to start an #ugly_code channel; taking this to <#C07EFN21K|random> before i confuse newcomers
Hello guys; How can I implement a Single Sign on system for persons connected to a WiFi
this the same thing you were asking about the other day?
<@Hyman> what kinda of enviroment do you have for wifi.; <@Hyman> define single sing on.  To my network ears that sounds like 802.11x; for your needs
"got a celery question here.

I have a master task, for lack of a better word, that takes in a list of URLs and chunks it up to an appropriate number of sub-tasks to execute for indexing in a solr server

I'd like to be able to record in the model record for that particular instance _how_ many URLs were successfully indexed.  But as the sub-tasks are executing asynchronously, with no feedback to the parent task, I'm having a hard time figuring out how to update the db on completion of the last sub-task.; Only thing I can think of is for each subtask to increment/update the db record on completion.  Is there a more elegant way to do this with Celery?"
"I don't think that is too inelegant, but you could have the parent task get all results of the subtasks by polling them and do it that way - not sure it's much more elegant though"
"yeah, agreed; thats about what I was thinking as well; but its pretty necessary for the parent and child tasks to be on different queues"
Anyone have experience trying to persist CloudSearch/Elasticsearch search results? I am working on a system that maps document ids to search queries so relational data can be added in an RDS. However because documents AND search queries can be edited you need to routinely re-run the search to see if new documents need to be added in the mapping table or delete the outdated ones and the runtime is just going to grow as documents and saved search queries are added.
<@Meg> - I don't think which queue they run on matters for getting a result
<@Beula> I have to think about the queue and workers getting clogged up
"yeah, so the master task blocking them will cause issues"
"correct; thus, the different queues"
"It would only block on 1 worker; But yeah, in that case - DB increment seems like the option"
"alright, thanks; nice to know I'm on the right track :slightly_smiling_face:"
<@Collette> - any other thoughts :point_up::skin-tone-4: ?
"nobody else here uses python or the tools I use, so its good to get confirmation; he's probably sleeping right now; but woould be interested in his and <@Patty>'s feedback as well"
"I thought they had an on-done callback option, but I am not seeing it"
"<http://docs.celeryproject.org/en/latest/userguide/tasks.html#on_success>; that's about the closest, I think"
"ill catch up in a few, fire at work; not a literal fire"
"ok, good luck; need some marshmallows?"
literal fire by my mountain house :disappointed: may cancel my bike trip :cry:
whoops; colorado
no its someone using RUBY of all things spamming us with bad requests
snowbound seven months of the year; the rest you're bone dry; <@Beula> having fun with Joe's API?; :smile:
LAWL; Can ruby run fast enough to spam it?
eventually; probably not DDOS level of spam though; like the one that took down kreb's blog
"oh yeah, that was crazy; that was the IoT hack, IIRC"
"yep; well, I'm out; time to get home and head out on the bike for a bit; good evening/night/morning!"
no ruby cant DDOS aws im sure :stuck_out_tongue:
we have a really bad customer that spams us a lot with bad requests and they seem to do it scripted and its 400 400 400 400 and they dont handle errors in their scripts so it just keeps going
:facepalm:
"<@Meg> I was going to suggest `on_success` with a handler to write results to the db; you could also get the values from calling it e.g.,: ```
result = task.apply_async(*args, **kwargs)
result.collect() # after processing is complete this list grows```; <http://docs.celeryproject.org/en/latest/reference/celery.result.html>"
"personally i prefer `on_success`, however i would then make sure that if there is an error that you handle responding with either how many were indexed, or bail the whole indexing out (probably not this because lol solr reindexing speeds); or you can consider ANY indexing a “success” and still use `on_success`; man, i miss my job where i did a ton of celery and solr"
"Yeah, I'll probably do that in the master task, combined with polling of the subtasks. When the subtasks complete, the master will finish as well, and then can handle success, failure, etc"
Oh so Joe suggests it and now it's okay the master task blocks! table flip /s
Is abort() not a flask function anymore?
<@Sherry> it is; <http://flask.pocoo.org/docs/0.12/api/#flask.abort>
"LOL, thanks! I forgot to import it."
"Ha, no. I'm combining both your suggestions! :grinning:"
"Hi again, I have a flask app that I am running that is collecting real time slack data from my slack server. I am appending messages to a list (i’m using RTM in python) and need my flask app to constantly allow get requests to view the messages. I am having a hard time figuring out threading with flask. Are there any good guides to do so?"
Try using some type of caching system like redis. Every flask request lives in it's own thread. So communication between them can be hard and i think it's not recommended; try to use something like `redis` to store that list
"Thanks, I’ll look into it!"
<@Mariano> :taco:
"How might I make an endpoint require authentication in Flask-restful? I know in Flask you can use `@auth.login_required` but having difficulty finding out about doing it in Flask-restful; I mean, just that specific aspect"
I think you want: <https://flask-restful.readthedocs.io/en/0.3.5/extending.html#resource-method-decorators>
"<@Beula> Oh, nice! Thanks."
"This helped me as well. TY, <@Beula>  :taco:"
:taco: <@Mariano>; is <@Beula> the taco legend? :thinking_face:
<@Lenny> leaderboard; Not yet.
Oh no... Your catching up.; Guess i better start farming again
I want to mine tacos. Currently at 0 tacos. :smile:
"Hang out at <#C07EFMZ1N|help> and <#C07EW4DNE|learning_python> ; Oh, this is help &gt;.&lt;; I get a lot of tacos from writing blog posts and using them to help answer questions when relavant; But thats a lof of effort"
"<@Signe> I think you are a taco mining bot, you certainly aren't human, my friend."
"Lol; I also push myself to use the opportunity of people asking questions to learn myself; If someone has a question i dont quite know the answer too, i try to find it, mainly for me. But then once i do, i get tacos, sometimes; Im here to learn what i dont know that i dont know"
"<@Signe> I think we should have a digress bot, which warns when chatters are going out of channel topic area."
Is that a hint to me ;) im always guilty of that
1/2 of those tacos are from me in the 2 wks I've been here. :laughing:; I PUT YOU ALL ON THE MAP!
You sent me 100+ tacos?
"<@Signe> Wasn't hinting anyone, just a random thought. Should have been on <#C07EFN21K|random>. My bad."
Haha no worries. Im just being silly. Tone is hard on slack :(
<@Signe> joking. Have had lots of help from everyone here (especially those from list). Incredibly grateful.
<@Alesia> would have anything to add ?
Its an interesting idea for a slash command for people to annonymously report digression. Maybe add a feature request in <#C2FMLUBEU|community_projects> for sirbotalot?
yup
Glad your enjoying the community
<@Signe> :taco:
:tacobell: 
Hi; Does anyone have experience in `protobuf`? I want to know how to map a `dictionary` to `protobuf`. I’ve tried this one : `<https://github.com/davyzhang/dict-to-protobuf>`. But it doesn’t work in nested case.
"<@Mirna>
found in one of my projects:
`from protobuf_to_dict import protobuf_to_dict, dict_to_protobuf`; The library is called `protobuf3-to-dict`; And it handles nested data"
Ah I see thx <@Suellen>
There's also <https://github.com/google/protobuf/blob/master/python/google/protobuf/json_format.py#L112> that from the protobuf library
So I ended up trying to use Flask-HTTPAuth as recommended in this thread <https://github.com/flask-restful/flask-restful/issues/492> however I'm getting `AttributeError: 'function' object has no attribute 'as_view'` even with the most basic demo code. I'm not sure why it wouldn't work...
<@Carri> Thx a lot Christ :smile:
"Well, functions don't have `as_view`"
"Yes, but I'm not sure why it would be doing that in the first place. I'm just using the standard Flask, Flask-Restful, and Flask-HTTPAuth libraries like in the project, but the `@auth.login_required` decorator throws that error. The project linked in the thread uses it in the same way but apparently doesn't have that problem...; I have all the requirements installed so... :confused:"
<https://github.com/flask-restful/flask-restful/blob/ff64cdbef03aa2ce108a7dc06ca336035ec68b70/flask_restful/__init__.py#L444>; Flask-restful registers a view like this; and the view is supposed to be a class; which have an `as_view` method it seems; but `@auth.login_required` returns a function. do you apply this decorator to a class?
Oh shooooooooooot!! Wow! You're right! I had it on a class rather than a function.; Thanks a million!
:slightly_smiling_face: you're welcome
"I gotta keep learning, maybe someday I can be as good with Python as you seem to be. :smile:"
Is it considered bad practice to append the working dir to the `sys.path` ?
i think it may be frowned upon. i usually try to avoid it but when i need alembic `env.py` to be aware of my metadata i do this so that i can import it and have it do autogenerated migrations. The benefits i get out of that are huge so i think it’s worth appending to the sys.path.
"In general cases, yes"
ok. It's the only solution I found for <@Alesia> to import plugins without the need to have them installed
`python -m sirbot` would add the CWD; if sirbot is an executable module
yeah but it's ugly :smile: there is a `sirbot` entry point; so it's just `sirbot --config file`
then make them pip installable!
yeah they should be but your custom config is also a plugin; so making a `setup.py` and installing that every them you modify isn't very user friendly
What's the config look like?
ya pip installable would fix it
my solution is to add to the sys path only on `ModuleNotFoundError` so if every thing is installed no problem
"Is it not just a yaml in `~/.sirbotrc`; if that works and it makes the user experience better, that's a good solution"
yes but you also need to do your business logic; what sirbot-pythondev is to us; just wanted to know if it was `oh my god never do that` or more `best not to but hey it's python go ahead`
The latter :slightly_smiling_face:; Making a better user experience is worth it if only the library has to deal with it!
"Single, otherwise it includes all that whitespace "
Hey guys reading some idiomatic Python and saw they had a pattern match on a tuple. Just wondering what `user` would look like here for this to be able to work
"It's just iterable unpacking, you don't need the parens even for it. The ""user"" here is some sequence type.

You can do that with dicts I think now, but only 3.6+ retain order"
"try `(name,age) = chase.values()`, can't confirm the order "
Thanks guys :)) I see what you mean now <@Beula> and <@Shelly> got it to do what i wanted it to do haha
<@Alba> Are we worth some tacos ?
same tacos fam; :taco: :taco: :taco: :taco:; <@Shelly> :taco:; <@Beula> :taco:; haha; what are these tacos lol
lol
"Hi all. 

Am new to programming, I have been playing with python for a few weeks. Where could I find mini projects online to test myself. 

Thanks  "
<@Kenda> Hackerrank
"<@Suellen> Thanks, never seen that site before. "
"<@Kenda> They have a large set of Python challenges, from very basic stuff to XML parsing and working with big datasets.
<https://www.hackerrank.com/domains/python/py-introduction>"
Hi peeps. I need some advice on architecture. I have an ios app that captures videos and saves them on firebase. Now I want to build a remote pipeline for video processing in real-time. The pipeline needs to send back to the app some texts.; What protocol would you use?
"<@Suellen> this is what I was looking for this should keep me occupied. 
Thanks "
"I am setting up a new machine for dev. I was about to go fix my ""no such file or directory: /usr/local/bin/virtualenvwrapper.sh"" error, but paused to think about whether I should still be using virtualenvwrapper. I'm doing Python 2.7 and 3.5 dev. Is there anything better these days? How should I be managing my environments as a ""modern"" Python developer?"
"<@Kyoko> I'd recommend pyenv; you can install and use pypy, py27, py34, py35 and py36 all at the same time; need a virtualenv? `pyenv virtualenv 3.5.2 myproject-3.5.2`"
Thanks <@Suellen>. I'll check it out
"Hi there, i need to find a package or a solution for log http call and retry failed call with an GUI or website. Anyone got some got lib or package ?"
<@Loise> Can the requests library do what you want? There are some retry examples in <https://stackoverflow.com/questions/15431044/can-i-set-max-retries-for-requests-request>
Yes it’s good start but i want to log failed call (with http code error) for edit post params in a gui or web app and resend request.
"maybe `logging` will do what you want?
something like:
```
import logging

logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger(__name__)
```
Then under your requests `response` object do something like

```
logger.debug('http status: {}'.format(response.status))
```"
"<@Beula> Do you know why sometimes they dont get credited even though they were sent? not a big deal just curious - there were a couple that I ""received"" but last I checked they never got tallied"
"<@Martha> it only works in public channels, if they don't send you may need to `/invite <@Lenny>`"
cool thanks
"Getting this annoying error — requirements are satisfied, chromedriver in the right place, this error comes upon launching a chrome window"
"it implies there's a problem with the server, but it could also just be that the package doesn't handle that situation properly. It's unlikely to be your fault"
<@Gabriele> how can I fix it?
"That depends on what you mean by fix. If the server is broken and you don't control the server, it's unfixable. If the package just doesn't understand something the server is doing, it's probably possible to patch the package, but that would probably be a job for the package maintainer"
"the reason being is `str(None)` results in `'None'`, which is a string; open up a python shell; enter in `str(None)`; ```In [1]: str(None)
Out[1]: 'None'```"
anyone know how to get ids from transmission using their api?; <http://transmissionrpc.readthedocs.io/en/release-0.7/reference/transmissionrpc.html#transmissionrpc.Client.get_files>
"<@Meg> Thanks for reply! Yeah, but there is function which does not filter it:"
"<@Hyacinth> instead of screenshots, pleas copy and paste the code. You can paste code w/ ""+"" button to left of message area."
"or use code formatting; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>; so the reason why that function is not working is because you're using `and` for everything; there's no way a variable can be `''` and `' '` at the same time; so, for you, the best thing would be to break it out into an if-else conditional test"
"Well, it's look like my brain stopped working :smile: I'm trying to fix it now..."
how firm is the requirement that a list test include a sub-list?
yeah
"eg `test_items = [['None'], '', ' ', 'item']`?"
"Right. In fact, it's looks like `list = [ [item,item1,item3], item, [item4,item5], [None] ] `; So i need to check when there is no value."
and definition of no value is an empty string; or a string with just spaces; or an item of type `None`; correct?
"`not val` satisfies `None` and `""""`
the other two are strings so can be matched like `val not in (' ', 'None')`; ```
is_empty([None]): False
is_empty(): False
is_empty(None): False
is_empty(['None']): False
```"
"Thank you! Unfortunately, it doesn't work :disappointed:"
"wait.. so in your code snipet, it's supposed to return F, T, T, F?"
"I tried to add valid ones.; I'm confused also :smile:; All day working at one task, and finally done 90%, but this thing get me mad :smile:"
"haven't forgotten about you, milo.; I think I'm going to get banned for this but the problem is that it needs some way of determining what is being passed (string, or list); so if list, and first element exists and that first element is 'None', then it is empty; also, if val does not exist (None or empty), it is also True (is_empty); ```
is_empty([None]): True
is_empty(): True
is_empty(None): True
is_empty(['None']): True
is_empty(1): False
```"
"Оh, man! Thank you soo much! I hope you live near me, so i can buy you a beer or something!! Thanks!; <@Deedee> Please, don't ban him, ban me, i'm a noob :smile:"
"hey, what about `"" ""` or `["" ""]`? &lt;-- spaces; As for the alcoholic refreshment, I'm near an airport. Just tell me where to go. :laughing:"
"Eheheheh :smile: Come to Serbia dude! :smile: 

I will add that option, don't worry :slightly_smiling_face: I was in trouble to determine is list or what :slightly_smiling_face:"
packing bags yo
<@Deedee> See ya mate!!
"Hi all.
Can't deal with pandas.
I have six columns 1,2,3,4,5,6
I need to merge into one on 1 and 4, 2 and 5, 3 and 6
How to do it - I do not understand.
```first_column = [df[""1""], df[""4""]]
second_column = [df[""2""], df[""5""]]
third_column = [df[""3""], df[""6""]]
result = pd.concat(first_column, second_column, third_column)```
not working.
Used `append` - did not help."
"`pd.concat([first_column, second_column, third_column])` perhaps ?"
"oops, it looks a bit strange at the end; but that's not the point :stuck_out_tongue:"
Thank you very much.
has anyone worked with `gspread` to retrieve and write data to google spreadsheets? getting data from the spreadsheet works totally fine but i am having trouble writing to it. followed the documentation. maybe someone has had similar issues and i am missing something
Anyone here familiar with SVN?
The version control software?
Yeah.; Oh the joys of not being able to use Git
I spent several years with it. What's the problem?
Got a huge code base of multiple versions of a project and I needed to basically just get the newest versions. It seems that something happened to my local directory so it may or not be updating and checking out everything from the server; But it seems like a common issue is a `forcibly closed connection` also `truncated http response` and `hash mismatch`
ugh... sounds weird. Are you pulling from an HTTP repository then?
"The hash mismatch problem seems fixed by going to the local directory where the issue occurred and running `svn update --set-depth empty` then `svn update --set-depth infinity`; <@Gabriele> yes; It's a outside hosted server; outside of our network that is; Also occasionally run into hanging on update. I use the CLI cause the GUI is just way too slow having to cleanup due to locked repo.; Where in the console it will just sit for a while; and eventually I have to `ctrl-c` and then `svn cleanup` and `svn update`; It probably wouldn't be such a huge PITA, but it's a massive repo"
"yeah... sorry that I probably can't help, because I've never had that sort of problem with it"
"No problem, thanks anyways"
"Guys, anyone worked with docker?"
lots of us have <@Bella>
Could you help me? I can’t connect mysql image with my python image;(
I presume you are using compose?
Just post your question :smile:
"one moment;); &gt;I presume you are using compose?
no:slightly_smiling_face:"
"first I running, MySQL image
```
docker run --name my-db  -e MYSQL_ROOT_PASSWORD=t123  mysql  
```

then I build the image for the python app
```
docker build --rm -t myapp:dev -f Dockerfile .
```
Dockerfile body
```
FROM python:2.7
RUN apt-get update &amp;&amp; apt-get install -y python-dev

ENV DEBIAN_FRONTEND noninteractive
RUN echo ""en_US.UTF-8 UTF-8"" &gt; /etc/locale.gen &amp;&amp; locale-gen

ENV PYTHONPATH /app

RUN mkdir app
WORKDIR /app/

# Ensure that Python outputs everything that's printed inside
# the application rather than buffering it.
ENV PYTHONUNBUFFERED 1

# Defaults to PIP
ENV PIP_NO_CACHE_DIR off
ENV PIP_DISABLE_PIP_VERSION_CHECK on

ENTRYPOINT [ ""/bin/bash"" ]
```

then I running my app image
```
docker run --name=test-app -p 8000:8000 -it -v $PWD:/app --link my-db --env-file=.env myapp:dev
```

and tried to run flask app in the docker container, and got error
```
Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock'
```; Spend a lot of time, and can’t find solution:disappointed:"
"Looks like you are trying to access the MySQL server through the socket, I think you need to set it to use the port and the hostname `my-db` (or whatever `link` arg you name)"
"```
docker run --name -p 3306 -h localhost  -e MYSQL_ROOT_PASSWORD=t123  mysql  
```
something like this?"
"No, it's what you link it as, so the `docker run --name=test-app -p 8000:8000 -it -v $PWD:/app --link my-db --env-file=.env myapp:dev` The `--link my-db` would name the link `my-db`; So I think you need to change your mysql connection string to be looking at the port, not a local socket"
"okay I’ll try.
```
docker run --name=test-app -p 8000:8000 -it -v $PWD:/app --link -p 3306 -h localhost my-db --env-file=.env myapp:dev
```
this one;)? sorry, I :disappointed:confused"
"that looks invalid, `--link` requires an argument; I am saying, just use what you originally posted, but in your app code where you connect to the database, use the hostname `my-db`; What lib are you using to talk to your DB?"
"mysql-python; and uri for now
```
SQLALCHEMY_DATABASE_URI = '<mysql://root:t123@localhost/dstore>'
```"
"So presuming you are using `--link my-db`, you should be able to change `localhost` to `my-db` for the host"
"One moment, I’ll try."
"<@Beula> unrelated question, but can you theoretically share the socket between containers? or is this too ridiculous?"
<@Beula> Thanks! it’s working!!! beer from me:beers:
"I am sure there is a way, since a container can declare volumes it provides. I would think that's possible; But I just use the ports, since it's just simpler"
I spend all day for this:disappointed:
"I'm just thinking network might be slower, especially abstracted away by docker..."
"app was running, But when I checked in browser, I can’t open the app.
app running on 50 port, I think I need to add `EXPOSE 50` to the Dockerfile?
<@Beula>"
"<@Beula> :taco:; <@Bella> not enough info on ""cant open the app""; just port forwarding should expose; but your docker run port forwards port 8000 not port 50; so that might be your issue"
"no, 8000 didn’t work too, I’ll try rebuild image, and will add `EXPOSE`; <@Signe> thanks for help; !"
"The taco bot should be renamed to 'tacos y cervezas' or for a more relaxed/friendly label, 'tacos y chelas' or 'tacos y unas frías'"
<@Bella> FYI: <https://github.com/pyslackers/community/blob/master/introduction.md#taco-bot-taco>
"Question about os.stats().st_atime; It's a timestamp representing the last time a file was accessed; but its returning a negative number; -11644473600; which if I use the absolute value represents a Dec 31, 2338; Does this mean the file has never been accessed?"
Does `stat &lt;file&gt;` in your shell report the same thing?
"um, let me check."
<@Staci> shouldnt atime be an unsigned number?
"Sorry, took me a minute; This is on a network shared drive; 12/31/1600; for all the tiles; files*; Weird"
it seems that you haven't accessed your files in a while :wink:
haha I'm just wondering how they managed to access them back in 1600 with no computers
"That’s Windows for ya; (well, Active Directory)"
I wonder if it has anything to do with noatime family of mount flags. they are often used with ssds
"with AD, times are represented as tickts from midnight, Jan 1 1600 in active directory, powershell cant handle it; it means it wasnt accessed"
Well I just opened the file
Powershell and AD have different epochs as well; 0001 vs 1600
I think the network shared drive is doing something weird with the last accessed date
I bet it doesn't update it to save drive's lifespan
"yeah since it’s probably managed through AD; basically, it’s a combination of python, Windows, PowerShell, and Active Directory in a storm of a mess"
:sweat:
AD permissions may also be preventing you (or the script) from seeing the last modified time
"That last accessed date was going to come in handy; But it's all fucked; There are like 100,000 files I'm trying to work with, and find out which ones need to be uploaded to a new server and which ones are trash"
have you tried disabling the archive bit on any of the files?; its the checkbox marked “Archive” that comes up when looking at the info
"I noticed it, I haven't attempted anything yet; What does that do?"
"ah wait, is the network drive running on a windows server?; its a bit that gets marked when the file is archived - which has some weird definitions"
"I'd have to check our admin, I'm not sure what system we're using. I think it's hosted by another company"
"sorry running out the door but if this isnt turned on on the share, you wont get back access times: <https://gallery.technet.microsoft.com/How-to-enable-File-and-af674be4>"
"Thanks for the info <@Patty> 

This is probably a silly question, but do you by chance know if this was enabled if it would retro date everything accessed previously? This is probably a pipe dream, but maybe the data is stored locally on everyone's own PCs?"
Anyone ever worked with Stripe to create a UK managed account?
<@Staci> if auditing is the issue and it wasn’t on then you probably wont. Unless someone replaced a file with their local version then maybe; Have you tried `os.path.getmtime(path)`?
"I haven't. I'll test it; Same thing, pretty sure both methods are retrieving the same attribute"
"Anyone on tonight? Or maybe tag me if you see this in the morning?

How would I get the index of a namedtuple field through code without looking at the definition? This is so I can write a code that will use this named tuple by field name rather than index so if the indexes change later down the line with code changes it won't break, and for easier reading?

```
Query = namedtuple('Query', 'dt record_type query client')

def _counts_generic(queries: list, index_to_count=0, include: list=None,
                    exclude: list=None) -&gt; dict:
    if include is None:
        include = []
    if exclude is None:
        exclude = []

    counter = Counter()
    for entry in queries:
        if _query_filter(entry.client, include, exclude):
            counter[entry[index_to_count]] += 1
    return counter

def counts_client(queries: list, include: list=None, exclude: list=None) \
        -&gt; dict:
    return _counts_generic(queries, 3, include, exclude)```

With the counts_client function, I am sending a hardcoded index right now, but I would like to send Query.client. As expected, using Query.client doesn't work here and raises a TypeError for tuple indices must be integers or slices, not property."
"1st, this:
```
 if include is None:
        include = []
    if exclude is None:
        exclude = []
```
to:
```
if not include:
   include = []
if not exclude:
   exclude = []
```"
"Oh, good catch. Oops. PyCharm should have told me that one."
"```
 counter = Counter()
    for entry in queries:
        if _query_filter(entry.client, include, exclude):
            counter[entry[index_to_count]] += 1
    return counter
```; walk me through this"
"Counter is the Counter from collections. Queries is a list of the Query namedtuple. _query_filter is essentially grep and returns a boolean as to whether to include that entry in the counter or not.

index_to_count is the index of the named tuple. That is where I would much prefer to say Query.query rather than entry[index_to_count]; Or, Query.client, I think it was in that example.; I have two functions, at present, that use the _counts_generic, rather than each repeating the whole function and specifying entry.query or entry.client from the namedtuple.; ```
def counts_query(queries: list, include: list=None, exclude: list=None) -&gt; dict:
    """"""
    Counts queries and returns a Counter of all domains queries
    
    Filters are literal and must match exactly
    
    :param queries: list of Query namedtuples
    :param include: list of items to include, works as whitelist
    :param exclude: list of items to exclude, works as blacklist
    :return: Counter keyed to dns query
    """"""
    return _counts_generic(queries, 2, include, exclude)


def counts_client(queries: list, include: list=None, exclude: list=None) \
        -&gt; dict:
    """"""
    Counts client requests and returns a Counter of all clients
    
    Filters are literal and must match exactly
    
    :param queries: list of Query namedtuples
    :param include: list of items to include, works as whitelist
    :param exclude: list of items to exclude, works as blacklist
    :return: Counter keyed to client ip query
    """"""
    return _counts_generic(queries, 3, include, exclude)


def _counts_generic(queries: list, index_to_count=0, include: list=None,
                    exclude: list=None) -&gt; dict:
    if not include:
        include = []
    if not exclude:
        exclude = []
    counter = Counter()
    for entry in queries:
        if _query_filter(entry[index_to_count], include, exclude):
            counter[entry[index_to_count]] += 1
    return counter


def _query_filter(entry: str, include: list = None, exclude: list = None)\
        -&gt; bool:
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False
```

Don't know if more code helps."
"```
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False
```
Does this work the same if:
```
if include:
        if entry in include and entry not in exclude:
            return True
elif entry not in exclude:
            return True
else:
    return False
```
?"
"Yeah, it would. I shouldn't program at night. :slightly_smiling_face:; Though, in yours the else isn't necessary."
"technically, this could all be brought down to:
```
if entry not in include:
    return True
else:
   return False
```
right?"
"No. Include is a whitelist, if include is empty it should give all entries not in exclude."
"because in both of the first 2 if's you are demanding that `entry` not be an element of exclude; okay,
```
def _query_filter(entry: str, include: list = None, exclude: list = None)\
        -&gt; bool:
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False
```; this is yoru orginal code; so if `include is None`, it goes to the `else` and checks that `entry` be an element of `exclude`; right?; sorry... NOT an element of `exclude`"
Right.
"but if include NOT None, you are checking that `entry` not an element of `exclude`"
"```
    if include:
        if entry in include and entry not in exclude:
            return True
    elif entry not in exclude:
        return True
    return False
```

I could remove the if include and include it in the next if"
"I'm just saying that `if include:` doesn't seem to have any bearing on what the condition does.; because entry still has to NOT be an element in `exclude`; so essentially this function returns False when entry is in exclude, regardless of anything else that happens."
"If include isn't an empty list then the entry is included if not in exclude. If include has entries and the entry matches one of the items in include then the entry is included if not in exclude.; So, if whitelist then only include entry if it is in whilelist (and also not in blacklist).

If only blacklist include everything not in blacklist."
brb
"The first if is necessary as well, because without it the code would see if entry is in an empty list, which it never will be and the lack of whitelist means nothing gets through.; It might be better if I changed those variables names to whiltelist and blacklist."
"<@Meghan>  Check this out:
```
def _query_filter(entry: str, include: list = None, exclude: list = None):
    
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False

print(""Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: ""
      + str(_query_filter('test', ['this', 'is', 'a', 'test'], ['whatever'])))
print(""Entry: 'test', include is [], exclude is ['whatever']: ""
      + str(_query_filter('test', [], ['whatever'])))
```
output:
```
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: True
Entry: 'test', include is [], exclude is ['whatever']: True
```; `if include` has no value b/c the very next line you are checking for the exact same thing that the `else` checks; as it is written, `_query_filter()` returns True if `entry` is NOT in `exclude` and False for anything else"
I think you misunderstand the meaning of include.
"```
def _query_filter(entry: str, include: list = None, exclude: list = None):
    
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False

print(""Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: ""
      + str(_query_filter('test', ['this', 'is', 'a', 'test'], ['whatever'])))
print(""Entry: 'test', include is [], exclude is ['whatever']: ""
      + str(_query_filter('test', [], ['whatever'])))
print(""Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever', 'test']: ""
      + str(_query_filter('test', ['this', 'is', 'a', 'test'], ['whatever', 'test'])))
print(""Entry: 'test', include is [], exclude is ['whatever', 'test']: ""
      + str(_query_filter('test', [], ['whatever', 'test'])))
```
output:
```
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: True
Entry: 'test', include is [], exclude is ['whatever']: True
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever', 'test']: False
Entry: 'test', include is [], exclude is ['whatever', 'test']: False
```"
"Here is one set of my tests for it. The first test shows what the raw data is.
```
    def test_counts_query_unfiltered(self):
        counts = pypihole.counts_query(self.test_log)
        self.assertEqual(counts['unifi'], 2)
        self.assertEqual(counts['openvpn'], 2)
        self.assertEqual(counts['<http://docs.google.com|docs.google.com>'], 1)

    def test_counts_query_include(self):
        counts = pypihole.counts_query(self.test_log, ['unifi'])
        self.assertEqual(counts['unifi'], 2)
        self.assertEqual(counts['openvpn'], 0)

    def test_counts_query_exclude(self):
        counts = pypihole.counts_query(self.test_log, exclude=['openvpn'])
        self.assertEqual(counts['unifi'], 2)
        self.assertEqual(counts['openvpn'], 0)
        self.assertEqual(counts['<http://docs.google.com|docs.google.com>'], 1)

    def test_counts_query_include_and_exclude(self):
        counts = pypihole.counts_query(self.test_log,
                                       include=['unifi', '<http://docs.google.com|docs.google.com>'],
                                       exclude=['openvpn'])
        self.assertEqual(counts['unifi'], 2)
        self.assertEqual(counts['openvpn'], 0)
        self.assertEqual(counts['<http://docs.google.com|docs.google.com>'], 1)
```; All of the tests pass as it is currently.; Include is a whitelist, but only used if it isn't an empty list. If include is an empty list then it is ignored.; Your example is the intended result.; It works similarly to the include used on some routers, or like grep in a way. If include isn't specified everything is returned True. If include is populated then it acts as a whiltelist. And exclude works as a blacklist."
"output:
```
'Entry: 'test' NOT IN exclude:
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: True
Entry: 'test', include is [], exclude is ['whatever']: True
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever']: True
Entry: 'test', include is [], exclude is ['whatever']: True
 
Entry: 'test' IN exclude:
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever', 'test']: False
Entry: 'test', include is [], exclude is ['whatever', 'test']: False
Entry: 'test', include is ['this', 'is', 'a', 'test'], exclude is ['whatever', 'test']: False
Entry: 'test', include is [], exclude is ['whatever', 'test']: False
```; &gt; If include isn't specified everything is returned True
That's not what is happening."
"Sorry, that should say if include isn't specified, and exclude doesn't trigger, then it is returned True."
but I could be wrong. Probably best to wait for someone else to chime in
"There is no problem with that code, it tests perfectly."
ok
"Sorry if I was unclear on that.; My question is about the namedtuple.; Rather than sending entry[index] I am wondering, short of a dict or a class, if there is a better way, that is closer to sending entry.query.; <@Deedee>, here you go: <https://github.com/TomFaulkner/pypihole>"
Posting this b/c it got pushed up a ways. In case anyone else wants to give it a shot.
Thanks.; Full code to the above: <https://github.com/TomFaulkner/pypihole>
"<@Meghan> the easy answer is that you should never change the indexes/order on a named tuple; Thats a breaking change. If your concerned about that, you should probably use a class or dictionary and not let people use indexes"
"Yeah, I think I probably have to agree there. As nice as namedtuples are, that does make it easy to break things should the data being analyzed changed."
"<@Meghan> Are you trying to get the index of the property, when you first defined it?
`Query._fields.index('client')`; Not sure if I understood correctly"
"You did, that works well.; However, it also starts with an underscore. I can't imagine standard lib changing that, but...; Actually, in the case of a namedtuple, it might make sense to do the underscore to avoid someone naming one of their fields 'fields' and breaking things."
"I know we already went over this but I really think that:
```
    if include:
        if entry in include and entry not in exclude:
            return True
    else:
        if entry not in exclude:
            return True
    return False
```
Should read be:
```
    if include and entry in include and entry not in exclude:
        return True
    else:
        return False
```"
"Except then if include is empty it returns false, which is not the desired effect.; It is an optional whitelist."
ok
"<@Meghan> Just checked the docs, it says ""In addition to the methods inherited from tuples, named tuples support three additional methods and two attributes. To prevent conflicts with field names, the method and attribute names start with an underscore."""
"Nice. :smile:; Thank you!; Ended up using getattr for this on the namedtuple. getattr(mytuple, 'fieldname') :slightly_smiling_face:"
<@Meghan> Wouldn't that be the same as mytuple.fieldname ?
"That's what I've been wondering the whole time, I feel like the point of a named tuple is to be able to use the `.` operator."
"<@Beula> also, a nice repr; But today we have `attrs`"
"And it be immutable, etc"
"i need help 

this following code is not working

list1 = [1, 2, 3, 4, 5]
list2 = [""a"", ""b"", ""c"",""d"", ""e""]
dict1 = {}
for index1 in xrange(len(list1)):
	dict1[list1[index1]] = list2[index1]
print(dict1); error -&gt; NameError: name 'xrange' is not defined"
"<@Reina> I guess you are using Python3. Python3 does not have xrange, instead you can use range."
<@Shelly>  yes sir i am using python3; now problem solved :smile:; Thanks
I would prefer a :taco: :wink:
"<@Shelly>  sir now i am doing this exercise

Use the dictionary, port1 = {21: ""FTP"", 22:""SSH"", 23: ""telnet"", 80:
""http""}, and make a new dictionary in which keys become values and values
become keys, as shown: Port2 = {“FTP"":21, ""SSH"":22, “telnet"":23,
""http"": 80

my ans is --&gt;
port1 = {21:""FTP"",22:""SSH"",23:""Telnet"",80:""HTTP""}
port2 = {}

for v,k in port1.items():
	port2.append(v + "" : "" + k)

but showing error"
"Python supports dictionary comprehensions, `port2 = {value:key for key, value in port1.items()}` so iterating the `key, value` pair from each item of the dictionary, and switching their positions for the comprehension will work"
"thanks
this is what i did 

res = dict((v,k) for k,v in port1.items())
print(res)

and works fine"
<@Reina> You can also use `zip` to build a dictionary from a sequence of keys and a sequence of values:
"```ports = [21, 22, 80]
services = [""ftp"", ""sftp"", ""http""]
port_to_service = dict(zip(ports, services))
print port_to_service
```"
<@Ruben>  thanks i got it :smile:
"I need help, I have
```while True:```
and I need to restart script for 2 hours
How to do that ?"
crontab?
"no, this is python script witch provision some API request and I have 
```while True:
            time.sleep(15)```
but I need to restart script every two hours because API security keys expires after two hours, and then I need to again generate that key"
ok; then so have your script execute; and then use crontab to execute it from the OS every two hours; that would be the easiest way to do it
"yes, script is execute but I wish to restart itself scipt if posible :slightly_smiling_face:"
????
"```
from threading import Timer

def get_new_api_keys():
    # do some thing

t = Timer(20 * 60, get_new_api_keys)
t.start()
```; you could set a timer for example to refresh your API keys"
You’re better off using `crontab` over keeping script running. Better chances of it running successfully because a long-running process can die for a lot of reasons
or a slightly more complete example for a recurring timer <https://stackoverflow.com/a/24488061/69893>
"if you really want to get complex, you can write a daemon; and hook into systemd or something to run"
"other options could be using signals, and trapping `SIGHUP`, and using a cronjob to send a `kill -HUP $(pgrep APPNAME)`; and have your signal handle in your python app to refresh API keys on receiving a HUP"
at that point may as well just run the script with cron itself ¯\_(ツ)_/¯
"cron isn't going to kill your script if it runs perpetually, it'll just spawn another instance"
"Ah, sorry should have added that if you run it with cron to kill using `Timer`"
But what if he wants to run it on Windows? Task Scheduler?
"No, linux; I put my script in cron for test, but I think cron don’t close old script ?"
"Your script should terminate when it is done. If you make it loop forever, you have a problem."
"yes, loop forever, because export some data for monitoring over API"
"Maybe it's better to use the Timer-based solutions suggested above, and use `supervisord` to make sure the script always runs (and is restarted if it ends for whatever reason). In that case you don't have to use a cron job.; Also, do the API keys expire on certain fixed times, or exactly two hours after they have been generated?"
API expires after 2 hours of starting script
How does the API provider know when you start your script? Does the script ask for keys when it starts for the first time?
"Yes, script do first get request and then give some code which I use in params when doing new request to API. After 2 hours this code expires and my export of data stop."
are you continually hitting an API and just need the re-register of the API key to run every 2 hours?
"Yes, but I have while loop forever !"
"<@Tristan> but between getting the new API keys you are running other requests, correct? Also, what site is this? There may be a way to get longer API keys"
"Joe, I get this code from api and then I request one api every 15 seconds in ```while True: ``` loop  and parsing response. After 2 hours code expires and my loop don’t have response. This is proxmox KVM virtualization."
"ah okay, yeah then the previous mentions of daemonizing the process is probably your best bet"
"Hey, versioning and giving my commits build numbers is something I've neglected for a while. How should I go about it? I'm using Mercurial + Kiln currently, and I know there is a tag system which can help out with that but I'm just not sure where to begin. Isn't the best practice to have something like `&lt;major&gt;.&lt;minor&gt;.&lt;hotfix&gt;.&lt;build&gt;`? Also, is there a way to make this automatically generated?"
"I prefer to make my versioning explicit... at least the major/minor/hotfix slots. It's not usually practical for an automated system to know whether a given change is API-breaking or not, after all"
"It really depends on what you're making. If it's a web app or API, then build numbers should be fine. However for a library you do want explicit versioning. Some ci solutions allow you to have a manual intervention point"
"Hey guys, I'm trying to run Docker (with a Debian image) on a Mac. My Python installation on Mac has case-sensitive imports but not in Docker, and this is breaking the `queue` module which has both `queue` and `Queue`. I'm guessing the Python build on Mac deals with Mac having case-insensitive file system but in Docker it's a Debian build so it doesn't, but because Docker is using case-insensitive file system, it causes issue. Is there any way around this?"
"<@Kiersten> <@Beula> The issue is that I want to pass the field name to a generic function so it can be used to filter on any field name. <https://github.com/TomFaulkner/pypihole/blob/master/pypihole/pypihole.py> See the counts_client and _counts_generic functions. (line 62 and 69-70 in particular)

I do access the namedtuple with the entry.client and such wherever possible, of course. But, I don't think that is possible here."
"<@Gabriele> <@Beula> Thanks, I'll think about what exactly it is I'm doing. I think manual versioning is the way to go for now, and ignore tagging commits."
"I do tag commits... it's just a manual process for me, or facilitated with git-flow or whatever"
"General question, that came up in the TestPodcast slack group: what preferred docstring format do people use? reStructuredText, Google, etc?"
reStructeredText here but i have used google and numpy before; numpy is really nice to use when having to make ML researchers document their code.; <https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt>
interesting; I do the default pycharm (reStructuredText) too
Shouldn't the math.pow arguments be the other way around?
Also: <https://pypi.python.org/pypi/backoff/1.4.0>
That packaged didn't work for me because I am yielding a generator and need the state vs just re-calling the function
aha
"the short is I am hitting a few APIs with `requests` that do pagination, and sometimes they give random 502s because their SLA isn't great"
for a second i thought that was a joke class telling people to leave you alone when you were coding
"I think the `pow` is right <@Gabriele> - the retry count^backoff-factor; is that not the normal way to do it?; for my case, it goes from 10s, 21s, 33s"
"hmm, I guess"
"Nah, I think you are right. 1.1^1, 1.1^2, etc makes sense; <@Gabriele> :taco:"
<@Shelly> :taco:
<@Margy> did you get your problem figured out?  could you share how you tried to import things?  This shouldn’t be a problem
<https://github.com/h2non/riprova>; <@Beula>
"ooh, that’s neat"
"Thanks <@Suellen> - I'll take a gander. Looks pretty neat, and likely that I could just define a nested function to make sure the state is kept correctly across paged requests; Oh man, that lib showed me `pook`, which looks pretty awesome for testing"
"<@Junita> I did more research on my problem. It seems on Mac/Windows, Python enforces case-sensitivity with import at compilation. Because I run Debian in Docker on Mac, Python does not enforce case-sensitivity (it's Debian) but the filesystem is not case sensitive, so import does not distinguish cases. One of my dependencies uses `queue`, which internally imports `Queue`. Without case-sensitivity, it causes circular import, where `queue` imports itself. There are others reporting this type of issue: <https://forums.docker.com/t/python-import-source-files-from-docker-volumns-can-not-distinct-upper-lower-cases-in-lib-name/20527> . I worked around this with a very ugly hack, by appending the path of `Queue` at the front of `sys.path` right before a call that results in `queue` getting imported, and then I delete the path from `sys.path` after. I only need this for development so it seems to be OK."
"I’d be shocked if there’s a case mistake in the python standard library.  It was Queue in Python 2, and is queue in Python 3 - are you sure perhaps it’s not an issue of the python version?"
"Looks like there is some platform-specific case-handling behavior (PEP 235) and it predates things like Docker, so maybe it's not surprising it gets confused"
Right but the general issue for people using Docker on Mac is that it’s “Linux” so the file system isn’t case-sensitive.  This isn’t so much a Docker issue as an issue of people being exposed to a case-sensitive file-system
"I think the `queue` is for backwards compatibility for 3 to 2; ```
from __future__ import absolute_import
import sys
__future_module__ = True

if sys.version_info[0] &lt; 3:
    from Queue import *
else:
    raise ImportError('This package should not be accessible on Python 3. '
                      'Either you are trying to run from the python-future src folder '
                      'or your installation of python-future is corrupted.')
```; The import on line 6 is circular without case-sensitivity"
"Well there is a class Queue in the Queue module, maybe that’s messing it up?   What happens if you do `from Queue import Queue`?"
"The issue was, that small piece of code tries to import `Queue`, while it itself is `queue`, which effectively allows code to import python2 `Queue` even though they refer to python3 `queue`; But it broke without case-sensitivity; The actualy implementation of `Queue` is perfectly fine"
oh - is your python file itself named queue.py?
"There is a queue module (basically the code I pasted), I think it's a dependency from another package; Probably just to bridge python 3 and 2"
Following instructions from <https://docs.pytest.org/en/latest/getting-started.html>
"Without looking it up, I believe fcntl is a Linux only library.; ```NAME
    fcntl

MODULE REFERENCE
    <https://docs.python.org/3.6/library/fcntl>
    
    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

DESCRIPTION
    This module performs file control and I/O control on file 
    descriptors.  It is an interface to the fcntl() and ioctl() Unix
    routines.  File descriptors can be obtained with the fileno() method of
    a file or socket object.
```"
"<@Meghan> yeah that is consistent with what I'm seeing after some further reading, but why would that happen when following the Windows instructions?"
<@Noemi> can you link the instructions you are following?
<https://docs.pytest.org/en/latest/getting-started.html>
Hmm. But pip was happy when you ran the install?
"Hey, I've been working with python lately, and I think I have most of the basic stuff down, but I'm kinda lost as to where to go moving forward, and so I wanted to ask if there was any advice for going 'beyond the basics', and really getting confident with python and everything it has to offer. Thanks!"
Build something with it!
doesn’t sirbot have a command for what’s next?; nice <@Elena> :point_up:
It's `/file &lt;name&gt;`
ah ok
Is the interpreter set up right? 
yeah. I'm restarting the IDE
pycharm can't handle my code :100:
too good for it.
"Haha, woot; :dagger_knife: "
ha. Missed the `{}` around the json response. It wasn't that wrong
"Haha, yep. I was looking at general structure vs details "
Hi guys! Anyone who knows how to set up queued or delayed mails in django? Kind of like how you do in Laravel
<@Zackary> have you looked at something like django-celery?
"<@Junita> No - I will have a look at it. Thanks!; <@Junita> btw, do you know anything about best practice for using environment vars in Django? It’s very easy with Laravel, pulling the env vars from a .env file… But django doenst seem to do it that way.

So far, I have just placed an env.py file in the root of the project, and imported it into my settings.py."
"yeah I actually wrote a little tool to simplify doing that in my python projects: <https://github.com/jimjkelly/yaep>; but the basics if you don’t want anything fancy is just `os.getenv(KEY, default)`; oh, and loading the `.env` file I suppose"
"Okay, thanks <@Junita>"
"Yeah, pip was happy, confirmed that all of my dependencies are there too. I am puzzled"
I'm using Flask and have fallen victim to the surprisingly common circular dependency issue. Do I pretty much have to use an app factory pattern to get around this?
"<@Thomasina> pretty much, if you have source to look at we may be able to suggest something else, but my guess is the factory is the simplest way"
"I also found that it helped to avoid various flask extensions, because they would usually mean dragging in a further dependency on the `app` object to implement whatever behavior the extension added"
<@Thomasina> Here is a sample app we deprecated from <#C2FMLUBEU|community_projects> - <https://github.com/pyslackers/website-old>
"<@Beula> Well, my current code works, _but_ I'm making use of `from models import *` and using any other method of import fails. I heard that importing like that should generally always be avoided though. I'm not entirely sure why that is (yet) so I'm not sure if it's worth fussing over or if I might as well continue with it as is.; <@Gabriele> I'm using several Flask extensions, but I suppose the issue in this case comes from Flask-SQLAlchemy specifically. I'm wondering why the extensions exist if they're so prone to these problems though? Is the user just expected to use an app factory pattern? I'm surprised that even the most basic Flask tutorials seem to have this issue. The first tutorial I ever did wouldn't run due to a circular import error, even though the tutorial didn't mention any error and seemed to produce the correct results of the app running as if there was no error."
It's discouraged because it pollutes the namespace with everything from `models`; Including its imports
All I can say is that I stripped Flask-SQLAlchemy out for exactly this reason. Other people managed to coerce it into working. :slightly_smiling_face:
"for example:

```
# module a.py
import secrets

def do_thing():
    pass

# module b.py
from a import *
locals()   # will have do_thing and secrets available...!
```"
<@Gabriele> To be frank the reason I'm using the extension is because it seemed a lot more straightforward to use than SQLAlchemy by itself. Guess I'll have to choose between app factory and that.
Any reason you dislike the app factory? I'd say the extension is worth it IMO
"I have an app factory, and even that didn't solve all my problems, because various functionality likes to have the app at module-level for decorators, etc"
"<@Beula> Despite being a coder for longer than I'd like to specify, I've never had to implement an app factory pattern, and I'm wondering how much learning there would be. I generally learn pretty quickly but I am on a fairly tight schedule."
"It depends on if you need to import the app elsewhere to work with it, I usually avoid that (but sometimes you cant)"
Also wondering if that is in fact the best move considering what Kylotan said. If implementing the pattern would still leave me with import issues later on...well...it sounds like it could be more efficient to just ditch problematic extensions
"In those cases, I use an `init_app` in a module that initializes the top level things that need to be decorated by `@app`; I can't say I have had those issues; You just need to pass the app around sometimes during the startup/bootstrap phase"
The app factory is really simple. Giving it the name 'factory' makes it sound like some sort of complex pattern but really it's just a function that returns a thing.
"Yeah, I added a link to a thread above <@Thomasina> for reference"
"<@Beula> so to be clear, `init_app` is a method of a module separate from the main module that runs the init code that I'd usually have in my main module, or...?"
"Yeah, it's simply a way to lazily initialize other things that depend on the app object; for example, how I do blueprints: <https://github.com/pyslackers/website-old/blob/master/pyslackers/blueprints/__init__.py#L7>; And how I do the external dependencies (extensions): <https://github.com/pyslackers/website-old/blob/master/pyslackers/external.py#L28>"
"Yes, blueprints. I see most Flask-based projects on GitHub use these but I'm not using them _at all_. I think I'm probably missing something here."
blueprints help you keep the `app` out of most of your files
"yeah, that will cause you issues. But you can do an `init_app` style like this, rather than importing the app directly (which is probably why you have the issue); to get around it temporarily; but blueprints == important"
"Ya, even though I don't completely understand it, I feel that I should be implementing blue prints and an app factory pattern asap to avoid even more headaches later on..."
"Yeah, they are really helpful"
It's annoying that this stuff is buried towards the back of the Flask docs (if I remember correctly) because I'd contend it's almost impossible to build a non-trivial Flask app without it
They want people to get the initial wins to like it; Part of why I am not using flask as much is that it encourages crap like this: <https://github.com/pyslackers/website-old/blob/master/pyslackers/external.py#L39>
"<@Gabriele> Ya, it boggles my mind how non-obvious these things are to new users of Flask such as myself. I wasn't even aware these things existed for awhile, never mind that they were at all important."
"Unfortunately most blogs and stuff only show happy path projects, few people educate on good patterns"
"`from .models`
How does that work? O_o"
relative import; <https://docs.python.org/3/tutorial/modules.html#intra-package-references>
"Ohhh, I see. Being rather new to Python I hadn't seen that before. Didn't exist in any other language I'd been coding in either. I take it that's something to avoid as well? I think I fell victim to at least a few of those tutorials that have some not-so-good practices mixed in with them"
"relative imports are okay, but yeah - generally importing in a function/class/method is discouraged"
"yeah, relative imports themselves are actually quite good"
Do imports by themselves generally have a lot of overhead?
relative imports lets you avoid refactor annoyances with renaming packages and such
you get to be quite explicit about where you are getting stuff from; in the general case I wouldn’t worry about import overhead
"<https://wiki.python.org/moin/PythonSpeed/PerformanceTips#Import_Statement_Overhead>; &gt; import statements can be executed just about anywhere. It's often useful to place them inside functions to restrict their visibility and/or reduce initial startup time. Although Python's interpreter is optimized to not import the same module multiple times, repeatedly executing an import statement can seriously affect performance in some circumstances."
"I imported some APIs within functions because I thought it was kind of wasteful to import - for example - a Yelp, FourSquare, and EventBrite library when only the TicketMaster library would be needed for a certain call to my API, and after learning you can import in functions in Python."
"It actually does have impact that matters; Ideally you'd only do that at app-startup, not each call (e.g. don't import into an http endpoint handler)"
"...yeah, I was about to say that. You usually want this sort of thing out of the way at startup time"
"Wouldn't the result be the same? I mean, at the risk of sounding like an idiot (this is my first PaaS project), every time someone calls my API doesn't `app.py` - in my Procfile: `web: python app.py` - run again and the whole process starts over?"
"no; At least not usually. Python servers, including Flask, are typically long-running processes. They sit waiting for requests, and when they've finished with one, they wait for the next"
"you also want to use gunicorn (or a different interface server); don't use the flask devserver for prod; but the way some of those work is as <@Gabriele> said. Some will restart a subprocess after it's handled some number of requests to limit memory growth, or something similar"
"Oh no, how do I know if I'm using the devserver on Heroku? It completely slipped my mind and I didn't use gunicorn...so I guess I am? :dizzy_face:"
`python app.py` suggests you are
Well...yes...I think I am. I guess when I was brand new and just starting the project I somehow thought that Heroku would take of the server stuff...guess that doesn't make much sense.. whoops
"It's fine in the short term if you're still developing or have a tiny number of users, but you'll probably want to test in a 'proper' config sooner rather than later to verify that everything still works; For example, we had big problems when we moved our Flask app to Elastic Beanstalk because it has its own particular way that it expects Flask apps to be structured, which didn't match our existing setup"
"So - and I still can't believe I didn't already realize this - Heroku runs my project on a server but it's truly a bare server without any HTTP functionality for example, which is why something like gunicorn is needed, right?"
they have a load balancer in front
"No, it's more that Flask has its own built-in HTTP server that is not designed to run at scale, just to service your local developer requests and that's about it"
"So, without the Flask server running, Heroku would take care of that part? :upside_down_face:"
thats what you need gunicorn for
"no; Without the flask server or gunicorn running, heroku would show an error page"
"Go here, scroll down to ""The Web Server"": <https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xviii-deployment-on-the-heroku-cloud>"
"so the flow is something liek this

request -&gt; Heroku LB -&gt; Heroku Instance -&gt; Guincorn/wsgi -&gt; Flask/Django; the internal flask http server is not meant for production; its slow, can't scale at all"
"<@Gabriele> Haha, I had learned a lot of what I know from that tutorial but hadn't gone through the whole thing. Guess I should've taken time to do the _whole_ thing."
thats why you need to have somethign up front to separate into processes and handle concurrent requests
i’ve used the factory pattern and blueprints since the beginning with many extensions and never had any issues.
Any preferred web hotels to use for hosting django?
"Depends on what you want, there is <http://pythonanywhere.com|pythonanywhere.com>, <http://heroku.com|heroku.com> as two _easy_ solutions (infrastructure as a service); I just use Digital Ocean or AWS (usually the former)"
DO for personal; AWS for work
<@Meg> Wow. That's a super clear explainer! Thanks!; <@Meg> So gunicorn takes care of this process splitting and such?
correct
"DO for personal but if you are new to AWS you can get a year free of their micro-instances which is really nice.; <https://aws.amazon.com/free/>; &gt; These free tier offers are only available to new AWS customers, and are available for 12 months following your AWS sign-up date. When your 12 month free usage term expires or if your application use exceeds the tiers, you simply pay standard, pay-as-you-go service rates (see each service page for full pricing details). Restrictions apply; see offer terms for more details."
And is the benefit of using blueprints solely to help with avoiding circular import issues?
"if you don’t have a lot of experience with all that stuff I’d say Heroku can be a good first step; as matt said, infrastructure as a service makes things nice and easy"
"<@Thomasina> - no, blueprints are just a good way to break up your app into components and separate concerns.; They can help with the import issue since you decorate the route with `@bp.route` instead of `@app.route` though"
<@Beula> the breaking up an app into components thing sounds like good OOP really. So blueprints somehow extend this concept?
I'd say it's more about general modularity than OOP
"Ah, ok; Also, I'm using Flask-restful so I don't have any route decorators, instead `api.add_resource(API_Users, '/users/')` :speak_no_evil: Not sure if that makes a difference in your example, <@Beula>"
"I am not familiar with that one, but it looks like they probably build on top of blueprints and you have to register the `api` with your app"
"Register the api? Sorry... I'm not sure if I understand. :disappointed: ""Register""? Which `api` might that be?"
"Ah, no you use `Api(app)` or `api = Api(); api.init_app(app)`; That is what I was looking for"
"```
api = Api(app)

class HelloWorld(Resource):
    def get(self):
        return {'hello': 'world'}

api.add_resource(HelloWorld, '/')
```; api = Api(app) is registering api with app, no?"
"Ah, yes, that's right. I guess it's the ""you have to register the `api` with your app""...this is what I'm already doing, right? I'm not sure if it was meant that I need to do this (e.g. I haven't done it) or if it's just being stated that I was required to do this..."
"to do this with a blueprint you can do:
```
#extensions.py
api = Api()
```


```
from extensions import api
bp = Blueprint('api', __name__, url_prefix='/api/v1')

api.init_app(bp)

class HelloWorld(Resource):
    def get(self):
        return {'hello': 'world'}

api.add_resource(HelloWorld, '/')
```"
"Guys, hi
I have searched for it a little bit, but still dont find information

When I write a custom path in django logging settings like ‘filename’: ‘logs/main.log’ a error occur saying that there is no such file

Am I really should create it manually? Or there is a way it can be done automatically, if no such file exist?"
"<@Johana> Oh nice! Thanks for the example! Makes a lot more sense to me now.; So I guess I should dive into learning to implement gunicorn, blueprints, and app factory patterns now. Thanks for the help guys! I can't tell you how much I appreciate it."
i haven’t updated this in a while but it’s a good approach to using blueprints and app factory pattern. <https://github.com/mikefromit/real_world_flask>
i had many ideas for it initially but it was pushed up mainly to help someone who had a project structure question.
"Here is another take, but it's a cookiecutter so slightly less obvious to read: <https://github.com/mrasband/cookiecutter-flask>"
mine is slightly based off mattupstates blog article <http://mattupstate.com/blog/how-i-structure-my-flask-applications/>; i asked him tons of questions about his structure in the #pocoo channel on irc.; this was when i was learning flask. i don’t use everything he does.
"I guess adding a procfile to either/both would help newbies that use heroku, even if they don't use heroku it at least shows the ""prod command"""
flask project structure is interesting and i have found that even my own has evolved over time as i pick up new conventions. i do run several flask apps in production for my organization. one of them runs our biglearn platform and is very similar to the link i posted.; it powers this guy: <https://openstax.org/openstax-tutor>; i don’t mention that to toot my own horn. i just happen to love flask and i want to assure everyone that it can run enterprise level stuff.
"<@Ciera> re: github api 

did you find out if you can invite a user to a team if they haven't joined the organization yet?"
Yeah it's not possible
"<@Noemi> no clue. but I would suggest you have your dev and deployment environments on the same OS; and if you can't, use docker or vagrant to do so; then you would avoid OS-distinct issues like this"
<@Noemi> are you running the tests in both instances from the root of the api_tests folder?
A possible exception would be Java webapps where you're using Tomcat/Jetty/some other container
"<@Junita> yes, root of the directory; Just noticed a hint on the pytest output saying to make sure modules/packages have valid python names. What makes them invalid names?"
"I have a set of UI tests structured the same way using pytest and selenium, I don't have this issue with those"
"my guess is there’s something different about the environment, which beyond the general wisdom of OS issues would ensure that general setup is the same (python version, dependency versions, etc)"
"Hmm alright, I guess I'll have to keep looking into it; Same error when I execute the python file directly without the pytest runner"
"to a degree that makes sense, `base` is not in the same directory; test runners will usually do a little magic to make all this work though"
"Yeah, the same approach works in my other test suite"
"essentially, they’ll add your project root to your `PYTHONPATH`"
That shouldn't be something I need to do manually though right?
"no it often is taken care of automatically, but I haven’t really used pytest much because I’m a relic and nobody told me that nose wasn’t a thing anymore"
<@Junita> well I just spun up a VM with the same OS as our dev server and I am seeing the error there too. Now to figure out what's causing it
"yeah I wouldn’t be surprised if it’s an environment configuration issues rather than strictly an OS issue, but that does sort of bring out a strength of something like Docker - not just that the OS is the same but the environment is configured the same; because otherwise yeah, you end up spending time chasing down stuff like this; doesn’t resolve the problem though.  :confused:"
Anyone have an idea if there's a way to block the width of the console using Python? I'm currently coding a text-based game and I would like to don't let the user change the sizes of the console/terminal.
"<@Junita> okay, so I think PyCharm must doing something to resolve the import paths for me. The code, which also errors out on the command line of the VM I created runs in the PyCharm debugger. When I print out sys.path I see the path I am trying to import from though, so I really don't know..."
"ah, yeah, that might do it"
"But again, I don't know why the same isn't happening with my other test suite"
is the other test suite within the same hierarchy?
"Yeah, both on the desktop of my dev box and both in the Jenkins home directory on the dev server; Alright, at pycharm &gt; run &gt; edit configurations if I uncheck Add content roots to PYTHONPATH, it fails from the IDE as well; Now we're getting somewhere; I think..."
"Have you tried with `python -m pytest` instead of `pytest`?; That said, with `pytest` you may be better served using fixtures instead of base classes for a few reasons:

1. It doesn't need to be importable
2. It allows you to test the library code and the installed code (depending on how you invoke it)
3. Tests are simpler being functions, IMO"
"From the file I was trying to import into, I commented everything out including the import statement, printed out sys.path and ran just that script from the command line with pytest. Sure enough, the directory I was trying to import from was not there, so it looks like if I want to keep using my current method, I need to add it manually; <@Beula> I have not really done much with fixtures before, but in this case it sounds like it could work since currently the only thing I have in my base are some values and a method that generates a key from them using hashlib; Also, you make a good point about functions vs classes; For tests"
"<@Detra> has a book about testing with pytest, maybe worth the look.; The way I like to do pytest allows you to test your app without installing it, and after installing it - so you get a pretty nice dev workflow"
"I am pretty sure I found the problem, and it comes back to forgetting the shebang since I wrote the code originally on windows...."
these kinds of things are why we all try to all at least use posix-compliant systems. one guy here was writing on a Windows machine and the line endings got all messed up
"I wish I could chuck mine out the window tbh. The more code I write on Windows, the more I loathe it; :joy::joy::joy::joy: slackbot; :taco: <@Beula> <@Junita> <@Patty> <@Meg>"
how are the specs of the machine <@Noemi> ? any chance of just using a VM?
<@Patty> setting up a fresh one right now as a matter of fact
"Hello, everyone! I’m learning Python and working on a personal project. Does anyone know and/or could point to the appropriate source how to build a Facebook share-like button with all the functionalities behind it? Meaning: if some blogsite has a list of blog posts and users have their own profile pages, by clicking on a share-like button below a blog post, the summarized blog post gets saved to her/his profile page. Thank you."
"<@Parker> a few things that can help us help you - what framework is the site written in, and are you using any front end framework?"
<@Patty> I’m not using any particular framework at this point. Right now I’m just trying to find any possible way to implement that.
"It’s going to depend on those factors, so before being able to share content, you’ll first need a way to create, store, retrieve, and show content to like and/or share"
<@Ciera> damn :disappointed:
"Hi folks, I ask yet but I can’t find resolution. Some advice I need. I have script with some export of data which collecting data over API. To work correctly over API I must to get some seurity key over API, that key expires after 2 hours. That script open HTTP server and listen on some address. Because is work as server I have
```while True:
            time.sleep(15)

               collecting data command
                collecting data command````
But after 2 hours I need to start function to collect new API secure key.
How to resolve that ?
I tryed to add variable ```wakeup = time.time()``` and to add in while loop 
```if wakeup - time.time() &gt; 7200:
              api_key()```
but I understand that can’t work on this way. :disappointed:"
"<@Tristan>  That last way will work, if you do the expression the right way around; `time_elapsed = time.time() - start_time`; another way is just to wrap your usual requests in a function that will request the new API key and re-request if necessary"
"<@Gabriele> How to integrate that in
```while True:
        time.sleep(15)```

The best way is to restart whole script after 2 hours, but I don’t want to use cron.
Do you have some idea ?"
wrap that script in another script that re-runs it until it's killed?; and just have the inner script quit out after 2 hours. Although I don't see why you need to restart the script
How to integrate ```time_elapsed = time.time() - start_time``` in my while loop ?
"How do you think? That tells you how long has passed. When a certain time has passed, you'll want to break out of the loop (if you want to restart the script), or get a new token/key (if you don't)"
"sorry I’m newbie in python. Can I add this in while loope whith if, and when certain time has passed to call my function for new key ?"
"Before the loop, when you get the token for the first time: `start_time = time.time()`; And in the loop, before each request:
```
if time.time() - start_time &gt;= 7200:
    api_key()
```; You'll probably want a value lower than 7200 anyway, because waiting until the last second means you might get a failed request at the end"
"kylotan, thank you."
"(also, test it with a number like 60, so you don't have to wait 2 hours to see if it's correct or not!); No problem."
"So, configuring a Python app to use gunicorn on Heroku, the docs show `web: gunicorn hello:app` for the example Procfile but doesn't really explain what `hello:app` represents. Is it `&lt;class&gt;:&lt;method&gt;` or something like that?"
<@Gabriele> Of course. Thank’s :wink:
<@Thomasina> I'm guessing it is probably module:function
"<@Gabriele> Do you have some idea ?
I added start_time variable before loop, and added this in loop. My loop now looks:
```while True:
        if time.time() - start_time &gt;= 60:
            get_key()

        time.sleep(15)```
When I start script, after 60 seconds scripts run get_key function what is good, but then on after each 15 second again."
"ah, of course. you'll need to reset start_time to time.time whenever you get a new key."
"I supposed, but how I can to do that in this if statement ?; <@Gabriele>; Can I only to add again ```start_time = time.time()``` in this if statement ?"
yes
cool !
"you could probably improve the code by setting that time inside the get_key function, so that you don't need it in the if statement"
"yes, I thinking about that. Thank you <@Gabriele> I will test !"
"If I run `python manage.py db init` on my server it works, but then I run `python manage.py db migrate` and I get `Path doesn't exist: 'migrations'. Please use the 'init' command...`. :neutral_face:"
Not sure what I'm doing wrong.
is there a directory named migrations after init?; `app/migrations`...; maybe it was expected in the root directory
But I have no idea why it's doing that since last time I used `init` this problem didn't occur and I changed literally nothing...
"no idea, but now I'm afraid to update flask-migrate"
"Only difference is this is on a new server; Oh...maybe they changed something? Hmm...; I guess not. I tried running it locally rather than on Heroku and it worked as expected.; Running locally it uses `/migrations/`, on Heroku it uses `/app/migrations/` :neutral_face:; Just confirmed it"
Environment variables?
"<@Suellen> I'm not sure, but checking on Heroku the `app` folder does indeed contain my application and there is no `migrations` folder in it even though the log up there says otherwise.; So if I run the Python scripts while inside bash on the server it works perfectly...weird"
I suppose this is one of the reasons why I'd avoid managed PAAS if possible; DO/AWS over Heroku
"<@Meg> Well, I'm using Heroku because with lower traffic it's cheaper, and because AWS would take longer to learn and I probably don't have enough time with this project"
"true, AWS/DO require you to have a good amount of knowledge/time to learn beforehand; and that's a selling point of heroku"
"Ya, I mean, I will use AWS eventually, but when I have the time to learn its ins and outs. Actually I started with AWS but switched to Heroku once I realized the complexity, haha"
but don't forget they're built on top of AWS; so you're actually using AWS services through Heroku
"I'm surprised they're allowed to make a product with AWS that competes with AWS, but I guess it's because anyone who pays for Heroku pays indirectly for AWS."
"correct; and AWS really doesn't care about that; since more customers for Heroku means more services Heroku pays them for; and its a useful service; I think things would be different if heroku were provider-agnostic; eg, pick between Azure, AWS, DO, etc"
"Ya, that's true"
"So, after reading up I _think_ I kinda get _what_ a blueprint is now, except I don't really understand _why_ one should use blueprints. All the examples seem to show either very abstract things or super simple things that don't seem to benefit from a blueprint as far as I can understand."
"I have separate blueprints for standard view routes, for JSON APIs, and for admin and testing APIs. I can quickly turn off the whole admin and testing APIs by commenting out the single line that attaches that blueprint; I can also mount all the routes in one blueprint with a different URL path with just one change"
yeah I actually have all of my blueprints feature toggleable by environment variables; and essentially the benefit is modularity
"I see. Then, I suppose the difficulty I'm having is in understanding how I can use them in my own project. Hopefully it will become clearer after I learn more about them."
"_How_ to use them is very straightforward. The docs show that. _Why_ to use them is trickier, until you have done enough big projects that you start valuing modularity from the start."
"Yes, I do value modularity greatly but always felt that the package -&gt; class -&gt; property/method approach was comprehensive enough. Naturally I'm trying to think of something similar to blueprints in any other language but the examples I see for blueprints seem like things that - to me - in any other language could be done just as easily with classes.; And since Python has classes and the like this confuses me."
"blueprints aren't a language feature, they're a Flask feature; It's giving you a way to make a Flask app out of smaller sub-apps that you might want to mix and match, or change independently; (assuming we're talking about Flask blueprints and not some other blueprints... just noticed we're not in <#C0LN2AD7T|flask>)"
"I think an important point is that if you don’t see the need, you don’t need to use them.  It’s worth exploring them to know they’re there, but you’ll know when you need them."
"Yes, I meant Flask. ""Sub-apps""? So would you perhaps say that this is a way of building an app, but having different parts of the app actually be different apps, where each one is coded like an individual Flask app, and then everything is ""plugged in"" to each other?"
"If everything is working fine without them for you, there’s no need to over-engineer your project."
"they're not entirely 'sub-apps' but they are modular parts of a larger app, yes."
"<@Junita> If I don't implement them now though, and my Flask API grows in complexity over time, will it be a major headache when the time comes to use blueprints though?"
I don’t think so.  I refactored some things into blueprints on a previous app and it really wasn’t that bad.; To the extent it will be a pain it will likely be untangling some of the things that have grown to annoying for you; But with a good test suite refactoring isn’t so bad.  So write good tests.  :slightly_smiling_face:
"<@Junita> Ah ok. Thanks. :slightly_smiling_face: Then, would you perhaps be able to give me an example of where blueprints would be very useful? All the examples I see are abstract or purely for example and wouldn't be very helpful in a real-world scenario."
"So one example is that as <@Gabriele> and I said, it’s quite easy to “turn on” and “turn off” a blueprint - I literally do it based on the presence of environment variables.; so for example when I launched a product we had an Invite system; which was a blueprint, and we were able to turn on and off the need for invites via a simple environment variable change, no need to rebuild and redeploy.; that’s perhaps a pretty niche example of a concrete use though - I really think the modularity is the real benefit.; Things just are cleaner and easier to work with, reason about, etc. when working with them, in my opinion.   But that’s a bit more subjective"
Would that be very different from a simple `if os.environ['INVITE_PAGE'] == 1:` in the code for the endpoint where the page would be though?
you'd have to add that for every single endpoint
"Oh, good point! (pun intended :wink: )"
"Right, as well as any other associated stuff you’ve done."
"I'm using Flask-Restful which means that the various methods for endpoints (POST, GET, PATCH, etc.) are grouped into classes. However it does feel a bit messy since that means `/users/`, `/users/&lt;user_id&gt;/`, `/users/auth/`, `/users/&lt;user_id&gt;/friends/`, `/users/&lt;user_id&gt;/friends/requests/` and others all have their own classes (some with similar names...I mean how am I supposed to meaningfully differentiate the first two by name?). I'm wondering if this setup could benefit from blueprints in some way."
Maybe.  I only briefly messed with Flask Restful so I’m not too familiar with it.
"I'm wondering if anyone even uses Flask-Restful for complex APIs, or if it's generally only used for simple ones.; Gonna use this <https://pythonhosted.org/Flask-Testing/> and wondering if it's ok to put my testing code within my app's main script, or if it should be in its own script"
testing code should be outside the app
"So, in its own module then?"
i use flask-restplus and from what i understand it is inspired from flask-restful.; I believe using a `class` and inheriting from Resource is a the same pattern.
I usually have my tests in a separate directory alongside the package for the main app. But I don't use Flask-Testing or any other extension so I don't know what that recommends.
`print(__name__)` would print the name of the current...method?...module?
It should be the module. <https://docs.python.org/3/library/__main__.html>
So if my primary application script is `app.py` and I have `app = Flask(__name__)` I suppose I'm setting it to `app` then? I'd test but my code is in the middle of a major change so I can't run it.
"Yes, unless you're running the app.py file directly"
It's best to explicitly replace `__name__` with a string in the Flask initializer
"Hi guys! I have launced an aws instance with SES(full access) role, Now how can i send an email to AmazonSES without smtp {username/password} credentials on server. An example in python or any relevant link would be great. Basically i dont want the creds to be on server."
"```if __name__ == '__main__':
    port = int(os.environ.get('PORT', 5000))
    app.run(host='0.0.0.0', port=port)```
So this should not be in the production code, otherwise it'll run the Flask dev server, right?"
"No that is fine, that only runs if you directly call `python file.py`; But if you use gunicorn, `gunicorn file:app` it would not run the devserver"
"Ah, ok. gunicorn runs a specific function unlike Python which runs the entire script...I should've noticed that. Thanks!; <@Beula> In <https://github.com/pyslackers/website-old/blob/master/pyslackers/> you have `pyslackers.__main__:app` in `Dockerfile` but in `__main__.py` there is no `app` function. Instead `app` is a variable as in `app = create_app(resolve_config(os.getenv('PY_ENV', 'dev')))`. How does that work?"
"Gunicorn uses that as the WSGI gateway, it's the ""callable"" for the spec; So `app` is a `Flask` instance, and that is a callable (per how wsgi works)"
"Oh, wow. @.@ Every time I think I'm understanding everything there's something new to learn. I'll add WSGI to my list of things to learn more about."
you don't have to worry too much about it fortunately - just enough
"Oh, really? Good to know. Thanks!; Wow. Ya, I expected it to be quite a bit more complicated. Makes sense!; By the way, you have `from pyslackers import create_app, models` in __main__.py but there is no `pyslackers` module...?"
`pyslackers` is the package the whole app is in; `create_app` is from `pyslackers.__init__`; models is another module
"<@Beula> Oh ok, that's what I thought but for some reason when I run my app - Broadway - locally with Python I get ""No module named broadway"" from the line `from broadway import create_app`"
"I'm thinking maybe this is from running __main__.py directly, and perhaps I need a script to run from the parent folder that acts as the true primary script, but I'm not sure"
"yeah, you want `python -m broadway`; the `-m` runs it as a module, executing `__main__.py`; but it sets the PYTHONPATH to be the CWD"
"Ah, ok! That worked though. Even though I didn't know better I did think that running `__init__.py` or `__main__.py` directly seemed a bit...off. Haha I'm so thankful for your help and this whole Slack. :slightly_smiling_face:; Are Python devs just more helpful people? Seems like it."
"We’re more efficient than other developers, so we have time to be helpful.  :stuck_out_tongue:"
I am at a ruby job and avoid it a lot
"Haha, while initially I wasn't crazy about Python, the more I learn about it the more I like it, and one of those reasons is that I feel it can be very efficient, to create all kinds of things rather quickly"
"I use the `__main__` trick to get around some annoyances with importing, python pathing, etc. Because with that way, gunicorn can pick it up and I keep the top level directory clean; I hate how the top level directory can get so cluttered :smile:"
"Ya, the cluttered top level was something that I disliked. Before this I was making apps with Adobe Air and most of the time I'd have a single script in my top level and then have everything else in sub directories which felt really organized. Glad to know how to do this in Python."
"I think I may be slightly non-standard in that regard. But since `flask` introduced the CLI, I have been liking this approach.; For aiohttp apps, it made it so I could just have an optional CLI to run the application"
flask introduced a CLI?  heh.  here I’ve been making a manage.py entry point for all these years.
yea it uses click now.
I suppose that makes sense.
Oh wait...do I not need `manage.py` for my DB deployment then?
you can still have a manage.py.
the click cli in flask supports it.; <http://flask.pocoo.org/docs/0.12/cli/#custom-scripts>
it’s funny because I’ve been meaning to go through the Flask docs again because I knew there were probably a ton of things like that which have changed over the years.
"It's pretty nice, for example with the `flask-migrate` extension:


```
export FLASK_APP=website/__main__.py
flask db migrate
flask run
```"
"So I can use this to make deployment more elegant than having to run `python manage.py db init`, `python manage.py db migrate`, and `python manage.py db upgrade` separately?"
yeah I was always writing that stuff myself like a sucker
"Yeah, you can make a custom command that does those for you; `db init`, if using flask-migrate, is only a 1 time thing though, just setting up the local config and migrations folder; so neither `db migrate` nor `db init` would be needed during deployment"
"Oh, nice. Guess I'm kind of micro-optimizing by wanting to combine the init and migrate into one command as well then. Haha"
"I do the upgrade/run at boot each time so it's always up to date for prod ¯\_(ツ)_/¯; but init is one time ever for a project, and migrate creates the migrations; so I don't think you need those often enough, those are developer run manually"
"Ah, ok.; Good point; In `__main__.py`, `from broadway import create_app` results in `No module named 'broadway'`... Hmm... It's definitely the right name"
how are you running it?
`python -m broadway`; From the module's parent directory
"and the dirs are:

```
broadway
  - __init__.py
  - __main__.py
```
?"
Yep
python2 or 3?; delete out your __pycache__ dirs
Same error. :thinking_face:
"Oh, there is a `__pycache__` at the top level too - do you have an `__init__.py` in the `backend` dir?; That would cause it"
"Oh, no but there used to be. It became my Broadway module."
"is this pushed somewhere, or a work thing?"
I'm working on the company repo which I've cloned. The above image is from the local copy. I'm just trying to run it locally on my own PC
"Yeah, I was just hoping to see the code to look for anything funky; hmm; and `pwd` has you in the `backend` directory?"
Could such a thing be cause by a circular import error?; Yep
"It shouldn't, you'd probably see a circular import related error in my experience; :thinking_face: not sure what to suggest given what I can/can't see; what's main.py look like? just `from broadway import create_app`?; I think it may be the broadway from the `__init__`, try changing the `import broadway.external` to `from . import external`; external looks ok, the init otherwise looks ok and then in `__main__.py` I think the `.external` may be a problem; Usually in this case, I would comment out pretty much everything in __init__ and make sure that imports. Then start re-adding things; I gotta get back to work, I will check back in a bit"
"So I commented out lines one by one as you said and found the problem line. It's `app.config.from_object(config)`. The way I have this set up is that I pass in `os.environ['APP_SETTINGS']` which contains the relevant configuration class (e.g. `broadway.config.DevelopmentConfig`), and it's this that's throwing the error. I've tried without `broadway` and without `broadway.` but neither of those are working. Before modulizing this I just used `config.DevelopmentConfig` which worked."
"The error is now related to config, not imports?"
"No, still the same error, but if I comment out `app.config.from_object(config)` in `__init__.py` I no longer receive any errors"
"yeah, sounds like you just need to change how the config is resolved"
"Even hard-coding it like `app.config.from_object(config.DevelopmentConfig)` produces the same error `no module named 'broadway'` even though `broadway` is not anywhere in the parameter. Again, if I comment out this line, the error disappears. :thinking_face:; `from broadway import config, util` in `models.py` appears to have caused the problem. Specifically `config`."
"try relatives for anything other than `__main__`, `from . import config, util`"
Guess I spoke too soon. I'm not even sure what's going on now. I'm not sure if the line in `models.py` is relevant at all. I just can't get `app.config.from_object()` to work no matter what I provide it with.
Even a raw class?
Yep. `app.config.from_object(config.DevelopmentConfig)` causes `NameError: name 'config' is not defined`
is config imported?; sounds like not
"Well, I thought that was the issue, so I tried adding `import config` and now I'm back to the old error `No module named 'broadway'`, referring to `from broadway import create_app, models, util` in `__main__.py`, and if I comment out `app.config.from_object(config.DevelopmentConfig)` in `__init__.py` the error no longer occurs."
`from . import config` is probably better
"Oh, my bad. Yes it's `from . import external, config` in `__init__.py`"
"It sounds like you still have a bad import somewhere, something external or config or something like that import"
"Changing `from broadway import create_app, models, util` in `__main__.py` to `from . import create_app, models, util` changes the error to `ImportError: cannot import name 'create_app'`"
"yeah, because it's trying to import a module, not a function"
When should I use `from broadway` vs. `from .`? I didn't know there was a difference actually
"you _should_ be able to use `from broadway` everywhere, but I am not sure what is causing you issues ATM. the `.` is a ""relative"" import so it just removes any ambiguity of which package you're talking about; But you can't do relatives in something like `__main__` because the `broadway` package isn't initted yet, or something like that"
"hi guys what would b the correct the print out date with letters instead of digits as month using datetime
```
print(datetime.date.today())
2017-07-13
```
I’d like to see  `2017-Jul-13` instead"
<https://docs.python.org/2/library/datetime.html#datetime.datetime.strftime> <@Margareta>
`datetime.date.today().strftime('%Y-%b-%d')`
thank u <@Beula> and <@Minerva> !!!
I placed some `print()`s at certain points to see if things were actually executing. After running `python -m broadway` I can see...; `created app` prints _after_ `app = create_app(os.environ['APP_SETTINGS'])` runs; Why was there no error at the beginning? Is this behaviour normal?
"python executes as it reads; I am kind of dumb, but in this case with flask you can do:  `FLASK_APP=broadway/__main__.py FLASK_DEBUG=1 flask run`; No need for the python -m and such (though that looks like windows, not sure how the flask CLI work sthere); Sorry for sending you on a chase on accident"
Oh? Was I on a chase?
"No, I meant this whole refactor with the `__main__` and such; It's hard when I can't review the code"
o_o
is it working?
Yep
:boom:
"I'm happy that it's working, but honestly I'm even more confused than before :upside_down_face:"
probably a flask devserver oddity
"Well, that never would have occurred to me. I'll have to remember that."
sorry man
Sorry? You solved my problem! :stuck_out_tongue: Thanks man!
after spinning for an hour or so
"Haha, no problem. It would've taken me alone at least 6 hours. :wink:; The only - quite odd - problem I'm having now is that all my endpoints are returning 404s. There are no Python errors reported whatsoever though. :thinking_face: I'm not sure what to make of it. I inserted some `print()`s to check everything was running in the order expected and it was."
Can you give a sample of how you are registering your blueprints?
"Um, no blueprints :sweat_smile:"
how are you registering routes
"In __main__.py:
```...
from broadway.external import api, auth
app = create_app(os.environ['APP_SETTINGS'])
class API_Root(Resource):
    def get(self):
        return 'This page intentionally left blank.'
api.add_resource(API_Root, '/')```; (Just one of many endpoints, but I chose the simplest one); Changing the port number in `app.run(host='0.0.0.0', port=port)` has no effect. The server restarts on the default port. :thinking_face:"
"Hey guys, have some questions for you Django users.. Im a fairly novice web developer and have started a small project with Django. I need it to have an updated list of Netflix shows and movies at all times. Since Netflix doesn't have an open API, would the most logical thing to do would be to create a scraper that gets that information from their website? I am a bit stuck on what would be the proper way to do this. Thank you for your help!"
"That's probably your only option if there's no unofficial source either. Be sure to check that you aren't breaking their terms of service with that, however. Scraping is often times okay, but some sites explicitly forbid it - especially if intending to resell the info"
"hello again, looking for help with a boto3 based script. I am getting en error 
```
Traceback (most recent call last):
  File ""backup-to-s3.py"", line 58, in &lt;module&gt;
    upload = push_to_s3(args.bucket)
  File ""backup-to-s3.py"", line 36, in push_to_s3
    uploaded = s3.Bucket(bucket_name).upload_file(file_name)
TypeError: bucket_upload_file() takes at least 3 arguments (2 given)
```
this is code <https://gist.github.com/pleegor/ae8086286533ce33cc92095d7049dce5>; it appears im missing something in `s3.Bucket(bucket_name).upload_file(file_name)`; i think i sorted things out (please correct me if im wrong)  upload_file requires the following: `Filename, Bucket, Key, ExtraArgs=None, Callback=None, Config=None` and key was missing"
"anybody know how I can use jquery to target specific elements that Django automatically brings up?; specifically I'm trying to click on a button if the Django generic form error element is visible to the user, but targeting the element directly always brings up the modal that is triggered by the button, or doesn't trigger at all if I use the visible selector "
Guys am having a problem deciding whether to use function or class base view with minimal angular or jquery for frontend; or start with function base then refactor
"it all depends on what you like.; i prefer to stay as close to a function as possible before creating a class. however, there are great times to use a class and really depends on the use case. if you offer up some examples or ideas of what you are trying to do maybe someone has a way they have done it before."
"i don't understand the 2nd elif condition
```
choice = int(input(""Choose a number in the list: ""))
a = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
new_list = []
for i in a:
    if choice not in a:
        print(""Choice should be in the list."")
        break
    elif choice &gt; i:
        my_list.append(i)
    else:
        print(my_list, "",\nelements containing this list is smaller than"", choice)
        break
```"
"<@Reina> in `for i in a:`, i takes the value of actual elements in `a`: ie: 1, 1, 2, 3, ... , 89; that '2nd elif' is simply comparing the user's input `choice` to whatever value `i` has during that iteration. If `choice &gt; i` (ie: user's input = choice = 10, and it is the for loop's first iteration, i will have value of 1), then append `1` to `my_list`"
"<@Deedee>
what i understand is --&gt; what choice we give it will be more than that i

like if i give 90 and then it will be compare 90 &gt; i  so it will append 90 in list; that is confusing; because else part saying other thing for same"
"The program starts with a list `a` w/ values.
It asks user to input a number. Let's say user feeds program `8`.
So `choice == 8`
1st for iteration:
`i is 1` and choice is 8
Skips the first if b/c choice is in a; goes to `elif choice &gt; i:`; here choice is 8, i is 1; i gets appended to `my_list`; i... so 1. NOT choice; <@Graham> saw you typing, wanna chime in? :slightly_smiling_face:; <@Reina> 
&gt; like if i give 90 and then it will be compare 90 &gt; i  so it will append 90 in list
No. The first if will prohibit this and tell you that you must enter a number from the list."
now i got it; Thanks
yep; :+1:
"<@Deedee> oh no, replying to someone else, but was also reading your comment."
if you’re using django why not use DRF?
"I got it install, thats how am getting the records to angular, but its the POST request i haven't grasp with it has yet"
I use api_view decorator for post in function based views
ill look into that
"now i want to understand this code and also want to make such program even more simple which i can understand

```
""""""
Create a program that asks the user for a number 
and then prints out a list of all the divisors of that number. 
(If you don’t know what a divisor is, 
it is a number that divides evenly into another number. 
For example, 13 is a divisor of 26 because 26 / 13 has no remainder.)
""""""
while True:
    try:
        n = int(input(""Please choose a number to divide: ""))
        list = [d for d in range(1, n + 1) if n % d == 0]
        print(""The divisors of {} are: \n {}"".format(n,list)) if len(list) &gt; 2 \
            else print(str(n) + "" is a prime number"")
    except ValueError:
    	break
        #print(""Very funny smartass. Now give me a number."")
```"
"I would presume you'd want to use the range `(1, n)`, the round brackets mean non-inclusive, so if `n` is 5 you'd want to test the in the range `2,3,4`, versus what you have `[1,n]` which means inclusive, so the range `1,2,3,4,5`.; As for simplifying it, it's already reasonably straight forward. Alternate approaches could be changing your `list = ` statement to `filter(lambda d: not n % d, range(2, n))`.; You'd also want to check that the input is a positive number, you can use `abs(n)` to ensure it's absolute; And as an aside, don't shadow builtins. `list` is a builtin, and you're shadowing over that name with your `list = ` assignment."
prime number factorization?
"I would drop the try/except block with:
```
while True:
    num = input(""Please choose a number to divide: "")
    while not num.isnumeric() or int(num) &lt; 1:
        # invalid input
        num = input(""Very funny smartass. Now give me a number."")
```; Whole thing maybe redone as:
```
    num = input(""Please choose a number to divide: "")
    while not num.isnumeric() or int(num) &lt; 1:
        # invalid input
        num = input(""Very funny smartass. Now give me a number."")

    my_list = [divisor for divisor in range(num) if num % divisor == 0]
    print(""The divisors of {} are: \n {}"".format(num,my_list)) if len(my_list) &gt; 2 \
            else print(str(num) + "" is a prime number"")
```"
Anyone up?
Yup.
Could you try to answer me a question please?
Yes if it is related to python.
<@Chery> <https://mikeash.com/getting_answers.html>
"I'm currently learning how to use modules and call other files. It's is possible to have a file named(main.py) and call another file(ship.py). And from ship.py execute a function in main.py Sorry if I'm not explaining clear enough.; From the function main.py I want to execute some code of the file ship.py and also I want to do it the other way, from ship.py I want to execute functions of main.py"
"<@Chery> this is called a 'circular import', and that's generally prohibited"
Oh
"`main.py` sounds like an entry point, why would you import something from it?"
I'll search about it
"```
# main.py
import ship
ship.some_function()

# ship.py
import main
main.some_other_function()
```"
"Yeah malinoff, that was my idea, but at main.py I have a function to create a delay_print and I also want to use it at ship.py"
<@Carri> have you tried to run this snippet before posting? :slightly_smiling_face:
as long as you don't do `from main import some_other_function` and `from ship import some_function` you won't have circular import issues. Although the import semantics have changed in Py3.x to help prevent circular imports
<@Carri>  Like this it gives me an error
<@Chery> Restructuring your code would help
<@Chery> then move `delay_print` into `ship.py`; And do `from ship import delay_print`
"<@Collette> Yeah, that would work, and what about if I put this functions in another file and call them?"
"<@Chery> you don't ""call files"" in python. You _import_ things from _modules_ and _packages_; <http://bit.ly/pypackages>"
"Thanks to all, currently I'm a novice at Python and coding, and this is the first time I'm dividing my code in different files.; <@Collette> oh, sorry. Thanks for everything :slightly_smiling_face:"
Just asked a Django related question in <#C0LMFRMB5|django> if anyone could help! :slightly_smiling_face:
"People there will see it, pointing it out isn't far off of cross posting. You only been to point it out if there's no action for a while "
"Alright, thought i'd posted the wrong place, apologies <@Beula>"
It happens :)
Is any one aware of some API or some other way(free) to retrive DHL's courier tracking details for multiple users (input = user's tracking number) ?
"no but i remember when i wrote a fedex client that was SOAP. you may need to checkout their web api and create your own. if they provide a swagger file you may be able to autogenerate a client but that might be a stretch, hehe."
<@Johana>  I think this is the link <http://www.dhl.com/en/parcel_ecommerce/integration/integration_channels/api.html> . But I haven't been able to figure out how to use it. I am working on chat bot using Microsoft's chat bot framework for DHL.
yep that looks like it; yea if you don’t already see a python-dhl or dhlpy type of project on pypi you will need to write your own but this is good news. you should be able to integrate with dhl nicely with python :wink:; we have lots of web apis at work so i’m always writing clients. their docs seem straightforward too.
"<https://pypi.python.org/pypi/dhl_shipping/2.0.4>; Yeah, I haven't worked on similar project before, so there are quite few things I need to figure out before development."
<@Shelly>
<@Kandis> You got the gist?
yeah i dont understand how this code decide on 6; why not 1?; why does it only output one number
"Your function returns hcf, which is being overwritten everytime whenver hcf is set to i"
because hcf can hold only one number
but hcf is a name that we give it
yes. try making HCF a list
"In first loop hcf is 1, next it gets overwritten with 2, next 3, next 6, hcf variable will continue to hold 6 until the loop hits 24"
it will give you all the numbers
how? what do you mean; oh!; understood :hugging_face:; :rose: i appreciate it
We appreciate :taco: here
just declare hcf=[] before the for loop
haha interesting i am coincidently listening to spanish music now :taco:; <@Shelly> :taco:+1000000
"You would also need to do hcf.append(i), can't just assign to it if you want it to remain a list."
spanish music is awesome.
"As in from Spain or in Spanish? The former, maybe. The latter, I think it depends."
"<@Johana> I'm from Spain, what singers are you talking about?"
"latin america wherever.; salsa, merengue, bachata, wutevs."
pffff :joy:
I guess I could just do another list comp
such judgement here
Well explain please
oh o mean on my preferences in music. i
"Oh ha, got ya; hi <@Julius>; I'm looking for a more pythonic way to achieve this:"
Hi I need some help troubleshooting script that uses boto3; anyone familiar?
Just throw out the question <@Margareta> 
<@Beula> that was bucket permission :see_no_evil::gun:
"Haha, happens all the time here too"
"is there a way to a use a wildcard in this statement?
```
 print('Starting upload to S3')
    s3 = boto3.resource('s3')
    path = '/var/atlassian/application-data/jira/export'
    file_name = path + str(today) + '--0400.zip'
    s3_obj_name = str(today) + '--0400.zip'
    uploaded = s3.Bucket(bucket_name).upload_file(file_name, s3_obj_name)
    print('File' + "" "" + file_name + "" "" + 'has been uploaded')
    return uploaded
```
im looking to replace `--0400.zip` with some sort of wildcard if it is possible"
I am looking forward for help on decorators . I tried reading through several places on web but I could never get the essence of why do we use decorators in python ?; Can someone over here take a lead and explain me  ?
<https://pythondev.slack.com/archives/C07EW4DNE/p1500071391209406>
"Any good way to do a for loop where the first iteration value is different that the followings?. I'm trying to generate an unique username. Right now i have:
```
        for add_to_the_last in range(10):
            if add_to_the_last == 0:
                add_to_the_last = ''

            username = f'{user.first_name} {user.last_initial}{add_to_the_last}'
            if not User.objects.filter(username=username).exist():
                break
```

It works but there must be a better way; well i actually forgot to add the username to the user."
"why are you doing that <@Mariano> ,testing or something else?"
"Need some help w/ docker.
When I run `docker images`:
```
REPOSITORY           TAG                  IMAGE ID            CREATED             SIZE
<http://docker.io/nginx|docker.io/nginx>      stable-alpine        2d13ad575b6f        3 days ago          15.5 MB
```
First line in Dockerfile: `FROM nginx:stable-alpine`

When I `docker build -t linked-nginx .`, a new nginx latest is created.; How do I build with nginx image that has already been pulled?"
`FROM <http://docker.io/nginx:stable-alpine|docker.io/nginx:stable-alpine>`
"the whole repo-name?; ok; nice!; one last questions; `COPY /home/lex/Development/` is in Dockerfile
Produces
```
Step 3/3 : COPY /home/lex/Development/Web /usr/share/nginx/html
lstat home/lex/Development/Web: no such file or directory
```; directory exists; just noticed that what is in `COPY` is correct, but different from what error shows. Missing `/` at begining"
a `VOLUME` is a better option
was just reading that... `-v` right?; oh... VOLUME in the actual Dockerfile?; and that will keep them synced so I can dev on local and updates container on the fly?
just `VOLUME /usr/share/nginx/html`
that'll map to whichever folder Dockerfile is in?
"and the `-v` option  when you run your container,something like `docker run -v /home/lex/Development/Web:/usr/share/nginx/html bla..`"
"YOUUUUUUU!; ```
Removing intermediate container a056d20559af
Successfully built 904a43d4d
```; :smile:; <@Rickey> :taco:"
"Hi.  I'm trying to deploy a Flask/Jade python 3.4 app to Azure.  I'm rolling with the built in template that comes with visual studio 2017, and publishing from visual studio as well.  the publish goes well, I can see the files made it but I'm getting some splash page instead of my Flask site.  Anyone run into something similar to this and solve it before? any help appreciated"
"EASILY, 2 hrs searching online, watching pointless vids, and reading outdated material. EASILY! Before I came here to ask.; <@Rickey> :taco:"
you are welcome
I was just modifyng the populate_user from a django app that handles auth. Needed it to be `first_name initial`
Hi. I can't get the lid off this jar.
"i always hit it on the side rim against the counter, that's my tip of the day... or maybe night... hmm"
That did the trick! Thanks a bunch!
"lol, ok ok, but before we go any further, what's in the jar?; What if I helped open something.. i dunno.. like pickled sardines or something; i will feel bad"
"Oh, no worries, it's just bread.; After I take it out of the can I don't usually eat it all so I put it in a jar."
bread in a can? bread in a jar? are we from the same world?
"yeah, how does it work?; it's like milk in a plastic bag; wait, those exist :open_mouth:"
Whenever I travel to Poland and go get milk from the store it throws me off 'cause they have it sitting on the shelves in one of those juice cardboard-y containers. Weird.
"Yes, it's the greatest thing since sliced bread!"
wow; i've never seen that before
"Well if you think that's weird, I hear in some places bread comes in a bag!; Milk I get, but _bread_?!"
"`view-source:<https://www.betfair.com/exchange/plus/politics>`
why is there no data site?"
"So, I have an import error that I've been trying to solve (with help from here) for the past two days and still haven't been able to solve. I'm building a REST API and I've put my source into its own module titled `broadway`. I'm implementing an app factory pattern. In `__main__.py` I have `from broadway import create_app, models, util`, and `create_app` is defined in `__init__.py`. These are the entire contents of `__init__.py`:
```from flask import Flask
from . import config
from .external import init_app

# App factory function
def create_app(config_data):
    app = Flask('broadway')
    app.config.from_object(config.DevelopmentConfig)
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
    external.init_app(app)
    return app```
When running my application locally with `python -m broadway` the application returns the following error: `from broadway import create_app, models, util - ModuleNotFoundError: No module named 'broadway'`; Strangely commenting out `app.config.from_object(config.DevelopmentConfig)` in `__init__.py` fixes the error. This is not a real solution of course since then my app is missing vital configuration info. Also, in this example the parameter (`config.DevelopmentConfig`) is hard-coded as originally `config_data` was passed to it but I changed it to make sure the data being passed wasn't the actual issue.; I just don't get how the line in `__init__.py` relates to the import error at all.; Also, I put a bunch of `print()`s throughout my code to see what was going on. They _all_ printed, even the ones after the actual `create_app` function runs in `__main__.py`.; It was suggested that this was a problem with the Flask development server. After running my app with the Flask CLI it launched without errors. Then the problem was that all the endpoints of my API returned 404s, even though there were no errors in the actual Python reported (Flask's debug mode was on)."
`python -m unittest discover`   What this command do?
"hi,"
":open_mouth: Same. I thought <@Thomasina> was kidding this whole time. Looks like something I'd try, though, TBH."
Hi is anyone active ?
Does sitting down class as active?
That all depends on the class. :slightly_smiling_face:; I have a code challenge that I'm working on from Google.. they give it to you when you do certain searches. It's a recruiting tool to get candidates for interviews.; I've found a few solutions but they don't seem to be scaling up for some reason.; I have to find the largest number that can be divided by 3.
"&gt; dont seem to be scaling up
Can you explain?"
"They give a number 954311
and the largest number that is divisible is 94311; The length of the number can be up 10 digits long.; Mine works perfectly up to 6 but beyond that I think there is an error; My latest attempt was the fastest to execute but failed 4 of 5 tests. I don't get the error from them so I dont know why it failed.; In other attempts it ran slower (I built a set of permutations) and passed 4 out 5 tests.; Knowing that the number of digits in the list can grow up to 10.. my guess is it's not scaling up properly."
Tell me what your code does when the number isnt divisible  by 3; In your own words
If the number is not divisible by three it increments down one and checks the next one if that is divisible by three.
"Ok. What if the number ""decrement by one"" cant be made with the numbers in the list?"
"Let me explain more. 
First I take the list of numbers and I sort them high to low. 
I join the values together, appending one to the other.; So 5,3,4,1,2
becomes 5,4,3,2,1
then 54321; I then iterate down from the 54321 until I find the first number divisible by 3.; then I return that"
"Yes. So your list is [5,4,3,2,1] but 54320 wouldnt be possible because 0 isnt in your list"
The range gives me the iteratable. At that point the list is gone.
Exactly
I do see the number increment down and I do get a return result that is divisible by 3.
"Ok walk me through the problem in just words and you doing it by hand. Dont use your code. 
; If i give you the list [2,2,2,2,7], what is your process?"
"let's use [8,7,2,6,4] as the 2's will hide some steps; so I need to turn that in to 87642; then find the largest number that is equal to or less then that number and is divisible by 3"
"Lets use [8,7,3,6,2] since the largest num isnt divisible by 3"
That's the point.
Exactly
It has to be closest to or equal.
"So, whats the next number you try?; After 87643 fails, then what?"
"my code is stepping down to 87641, then 87640, etc..; checking each for % 3 == 0; AH!"
"Ok, is 87642 a valid answer to the problem where the input is [8,7,6,4,3]?"
I realize where I made one mistake..; OK the number has to use all numbers in the set..; Let me show you my other approach if you don't mind.
&gt; finds the largest number that can be made from some or all of these digits 
"In this approach. I take all the numbers in the set and create every permutation from them. Then increment through the new list in descending order.; In this one, I filter the list to remove duplicates.; I also break up the sets by length because I hit a memory limit error on submission. In that case the first hit for 954311 is 94311."
Good. Your on the right track. 
"l = [3, 1, 4, 1, 5, 9]"
Large numbers will have a LOT of permutations. So it's probably best to load them lazily rather than making a set
it could be a memory error.. they don't specially say..
It could also be an issue with string sorting vs number sorting :)
when I created one big set for all permutations that's when i got the memory error. but this code runs it just fails test 4 and I get no error
You might want to try converting every sting into an int before sorting
"That makes sense.; data_set = map(int, data_set) 
should take of that?"
"Ya, i think so"
thanks i really appreciate you talking me through the problem.; I'm a product manger.. it's been a loooooong time since I had to worry about code challenges. :smile:; I prefer to be explicit in the code but I don't want to look like a Jr. Do you think there is a better approach?
"for one it doesn't look like your code handles the condition: `If it is not possible to make such a number, return 0 as the answer`"
This code also timed out..
"two, i like nhumrich's idea to lazily evaluate, which you could do with generators"
Correction.. I'm trying it with iterator on the permutation and that timed out; I think building the list and then sorting it is the problem.; returning 0 is something I missed. I'll try that too
<@Madaline> why are you using set in line 10?
"what about something like (note: you'd have to re-write to get it to work with a list of numbers as input)
```
from itertools import permutations

def permutation_gen(x):
     for r in sorted([i for i in range(len(str(x)) + 1)], reverse=True):
         for p in permutations([i for i in sorted([i for i in str(x)], reverse=True)], r=r):
             s = sum([int(i) for i in p])
             if s % 3 == 0:
                 yield(int(''.join(p)))

def get_largest_3_modulo(x):
    try:
        y = next(permutation_gen(x))
    except StopIteration:
        y = 0
    return y

get_largest_3_modulo(954311)
```"
I had started with a similar approach but their verification tool was not reporting errors properly.
"<@Madaline> sorry, didnt see the new one."
"code that ran perfectly in my Jupyter was failing.. So split it up and simplified it .; This approach looks much better then what I was doing.; This is what I originally tried but I hit memory errors.; In case anyone is interested in triggering the Google code challenge. I've been spending a lot of time searching for Python, crawlers, NLP, analytics, algorithms, etc... This is the second time it came up for me in the last 2 months.. I  was on vacation last time it came up so time ran out.; <@Cleta> I have a quick question about your example. One line 6 there is SUM of the permutation and then you are checking if it is divisible by 3. Then on line 8 your yield is the joined integer. Is this a faster way or an error?"
"any number that is divisible by three has the sum of its digits = to a small multiple of 3, 6, 9, ...
So 33333, if added together equal 15, which in turn equals 6; so I would add all elements of list and see if that sum is % 3"
^this
Not sure if that fits
Thank you.. Its funny. I never really have to deal with this type of problem.
"not sure if it is faster than modulo-ing the int, that's just what came to mind"
I can time it and see if it helps performance
"<@Madaline>, just doing a modulo a la `if int(''.join(p)) % 3 == 0:` is a little faster, i'm guessing because the other way adds a list comprehension step. good catch"
Thank you both.. <@Minerva> <@Deedee>.. I think this should unblock me..; Thanks again! Hopefully I can get through the rest and get an interview. :smile:
yup
"<@Shelly>; whats the function of the last line of this code; i see the difference with and without it in the output is this:; Out[1]: [‘English’, ‘Math’, ‘Science’]; What is Out[1]:; ?"
"yea, I am happy that something out of my school math class helped. :stuck_out_tongue:"
<@Kandis> It sorts the dictionary based on the keys
what is Out[1]?
<@Kandis>  it sorts the keys Alphabetically
May be you are using some interactive python shell like Jupyter
so the list() gets it printed automatically?
<@Kandis>  What tool are you using to write/run the code anyway?
i see. so the sorted() does not really have any effect on this dictionary; <@Shelly> <@Cleta> :taco:
"`Sorted` sorts the dictionary based on the keys in increasing order since you are passing the list of keys here, here it is in alphabetical order."
yup i got it :slightly_smiling_face:!
Cool :thumbsup:
"good luck. when google hires you, don't forget us little guys :stuck_out_tongue_winking_eye:"
"<@Kandis> to elaborate more on <@Shelly> ‘s answer, the function `marks.keys()` returns a list of keys in the dictionary and `sorted()` returns the sorted list. Although why is there a conversion to list when it will return a list anyways?"
<@Cleta> mmm good point..; idk either
"Good luck,"
"interesting to note is that it doesn’t effect your dictionary in any manner, it will return a list of sorted elements anyways. even if you pass a string to `sorted()` function but if you use the `list.sort()` function , it changes the list."
"From <https://docs.python.org/3/library/functools.html>:
```
from functools import partial
basetwo = partial(int, base=2)
basetwo.__doc__ = 'Convert base 2 string to an int.'
help(basetwo)

Help on partial object:
class partial(builtins.object)
....

basetwo.__doc__
'Convert base 2 string to an int.'
```; The example given would seem to imply the doc string would be read for help, however, help returns the doc string for partial."
"<@Minerva> <@Cleta>, we'll see.. I still have a lot of code challenges to get through. Either way, I'm learning how to be better with Python.. I really appreciate the help. :slightly_smiling_face:"
"Hi, Can someone please help me with installing ipython on mac?"
"<@Donnetta> sure.   install anaconda which will have everything and won't mess with your system's python.  <https://www.continuum.io/downloads#macos>; It has ipython and so many other libs which you will use eventually.; ipython or jupyter notebook makes a list of inputs (In) and outputs (Out)  so you can reference previous inputs and outputs by doing stuff like:  print(Out[1])   #returns  [‘English’, ‘Math’, ‘Science’]; If you have long lines or large code blocks it can save some scrolling/typing."
ok thank you
"So, I have an import error that I've been trying to solve for the past three days and still haven't been able to figure out. I'm building a REST API and I've put my source into its own module titled `broadway`. I'm implementing an app factory pattern. In `__main__.py` I have `from broadway import create_app, models, util`, and `create_app` is defined in `__init__.py`.

These are the entire contents of `__init__.py`:
```from flask import Flask
from . import config
from .external import init_app

# App factory function
def create_app(config_data):
    app = Flask('broadway')
    app.config.from_object(config.DevelopmentConfig)
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
    external.init_app(app)
    return app```
When running my application locally with `python -m broadway` the application returns the following error: `from broadway import create_app, models, util - ModuleNotFoundError: No module named 'broadway'` (edited)

Strangely commenting out `app.config.from_object(config.DevelopmentConfig)` in `__init__.py` fixes the error. This is not a real solution of course since then my app is missing vital configuration info. Also, in this example the parameter (`config.DevelopmentConfig`) is hard-coded as originally `config_data` was passed to it but I changed it to make sure the data being passed wasn't the actual issue.

I just don't get how the line in `__init__.py` relates to the import error at all.

Also, I put a bunch of `print()`s throughout my code to see what was going on. They _all_ printed, even the ones after the actual `create_app` function runs in `__main__.py`.

It was suggested that this was a problem with the Flask development server. After running my app with the Flask CLI it launched without errors. Then the problem was that all the endpoints of my API returned 404s, even though there were no errors in the actual Python reported (Flask's debug mode was on)."
<@Stephani> What s the files/folder structure of your project?
"<@Thomasina> you better put up a github link; for your project; you've been posting about this for what, three days now?"
"<@Meg> Yep, had another dev take a look too but no luck. If I remove all the irrelevant/proprietary stuff I can fit it all in a snippet though."
"Hello guys, I was wondering if its possible to use several class to write to the same figure in `matplotlib`?
Say for example I have the following classes
```Client calls Boat.draw 
Boat.draw calls Sailors.draw```"
"Hi Guys,

I am trying to achieve a functionality where I can open a `new command prompt` and run some batch commands. Then redirecting the output to a `logfile` and `console` on real time. So I am using `wtee.exe` (ex command: `dir 2&gt;&amp;1 | wtee.exe logFile.txt`).

Choosing `popen` over `os.system` because I need control over the new process (new command prompt)

As I wont be able to use pipe symbol in Popen. I did the below functionality

```newConsole = Popen(
      ['cmd','/V:ON /K dir 2&gt;&amp;1'],
      creationflags=CREATE_NEW_CONSOLE,stdout=PIPE,stderr=STDOUT
      )
outputLog = Popen(
      [wtee.exe,'logFile.txt'],
      stdin=newConsole.stdout,
      )```
I can see the log file is generated and also the output in command prompt (on main window and not in new console).

So please help to find out the way how can I print the output in new console opened using subprocess."
"Hello
"
"<@Samira> <https://stackoverflow.com/questions/15899798/subprocess-popen-in-different-console>; in short, you need `shell=True` in your `Popen` call"
I was hoping I could get some help with a script to parse some json files ; And save the output. Need to iterate it 
you should post the part where you are stuck and I'm sure someone will help you :slightly_smiling_face:
"Hi Jason, Thanks and from the link you have mentioned, it says i can use subprocess without `shell=true` by sending the command in list. Opening new console is fine for me and the problem is I cant output the stdout in that new console. Becasue I have to redirect the output to a file and console both on real time."
:); Can i post my question on stack overflow?; I mean the link to the question ; <https://stackoverflow.com/questions/45087325/set-up-a-crawler-and-downloaded-tweets-unable-to-parse-json-file?noredirect=1#comment77166732_45087325>
<@Vonnie> Do you have an example JSON file you're having trouble with?
Yes I do. It's a twitter json file 
"Usually JSON files can be loaded with json.loads(f) and then used as a standard Python data structure (nested arrays and dicts etc); <@Vonnie> Well, attach it then?"
Let me turn on my laptop. One minute 
"<@Vonnie> Sure, no hurry.; Thanks, I'll try to read it."
"When I tried to parse it using other scripts, it would give me (ValueError: Extra data: line 2 column 1 - line 1201 column 1 (char 13339 - 8801096)"
"For starters, thats *not* a valid JSON file.; It's more like a text file where every line seems to contain a JSON representation of an object.; ...workin...."
Ahh; I had set up a crawler to download scripts ; Sorry ; Tweets I mean ; Is there a way I can fix it?
"<@Vonnie> This will work:
```
import json

nr = 0
for line in open(""stream_BhagNawazBhag.json""):
    ob = json.loads(line)
    text = ob.get(""text"", """")
    user = ob.get(""user"")
    if user:
        username = user.get(""name"", """")
    print username
    print text.encode(""utf8"")
    print

    if nr &gt; 10:
        break
    else:
        nr += 1
```; <@Vonnie> Getting data from Twitter is quite something else as parsing that data ;-)"
"You should use the context manager for the file open to ensure it's closed, and use the future print function to make sure the code is 3.x compatible"
I understand. Sorry for being a noob; Just that I got the data. Wanted to parse it 
<@Beula> Thanks for your excellent advice!
<@Beula> should I install python 3 then?
"<@Ruben> :taco: nice suggestion for the op; <@Vonnie> - Python 3 is the future of the language, so it is worth using. But for now, I wouldn't divert your attention from your current issue"
Ahh
"<@Vonnie> It depends on what you use now. Do you need any Python 3 features for your work that you can't do in Python 2? Eventually, Python 2 will become obscure indeed."
<@Beula> I will keep that in mind 
...probably 20 years into the future.... but remember 2000!  Nobody saw _that_ coming.
"<@Ruben> for the moment, I just need to finish this "
"<@Vonnie> Stick with what you have then ;-) But make a mental note to upgrade, 10 years from now."
I will upgrade 2 months from now :)
That's great
Will try the code 
"<@Vonnie> Also, your file should be named *BhagNawazBhag_stream.txt* instead of *stream_BhagNawazBhag.json*, because it is really not a JSON file. It is a text file with a JSON packet on every line. The program which produces this, will cause confusion by naming it with a '.json' extension."
Ohhh; I wish i had joined this group earlier ; Had spent countless hours looking for a solution 
"<@Vonnie> And this is the code with mattrasband's suggestions applied:
```
from __future__ import print_function
import json

nr = 0
with open(""stream_BhagNawazBhag.json"") as f:
    for line in f:
        ob = json.loads(line)
        text = ob.get(""text"", """")
        user = ob.get(""user"")
        if user:
            username = user.get(""name"", """")
        print(username)
        print(text.encode(""utf8""))
        print()

        if nr &gt; 10:
            break
        else:
            nr += 1
```"
let me try it out. Thank you for that. I really appreciate the help.
"I agree that the *from future* is quite useful for all of the people who use Python 3 already, but I'm less convinced of the *with open() as f* context manager. I think the file object will be closed anyway when it goes out of scope; the context manager seems to add extra complexity and an extra indentation level. However I _do_ think a file context is useful when writing a file as part of a larger operation, so you can indeed force it to close (and flush to disk)."
"I did try python 3 earlier but a lot of the scripts/recipes were written in 2.7, so I had to downgrade"
"Uh-uh. I see.; Well, it's not forbidden to use Python 2 ;-); I used it for 25 years and I'm still using it."
i understand :slightly_smiling_face: Apologies for being a bit slow here; the script worked
Great! And now?
i can run that in the command prompt and save the output.; would i be able to edit the code and add some more to it? as in to get other data from it?
What is your ultimate goal? To extract the tweets from the file?; Oh yeah sure you could extract anything and everything from it
"Basically I just need to make the file easier to read so I can count the number of tweets, retweets, see who tweets the most, and do a word cloud."
"<@Vonnie> Ah, you want to do some statistics on the data."
Yup. That's what the plan is. I just need to get a better idea of what people are doing and saying
"Well, counting the tweets is not hard: that's just the number of tweet objects in your stream file."
yeah i mean that was just the easiest part :slightly_smiling_face:; there was another script which had the functions i needed but it gave me the same error
"Counting the number of retweets is somewhat harder, is that mentioned in the Tweet object? If so, you could fetch it and do something with it. Retweets always belong to one specific tweet, no?"
well i could skip that. just would prefer to see who the most prolific ones are
"You mean, you are only interested in tweets that get a lot of retweets?"
"well i am analysing twitter trends. have four big files. want to see who tweets the most, which ones got the most RTs, geotag them, and make a word cloud."
"Why do you have 4 big files, and not 2 or 6 or 35?"
the script i followed didn't give me the option to make smaller ones; so basically i collected a lot of tweets for trends; the four files are for four trends
"Ah, every trend gets its own stream file!"
yes; and those files are around 1 gb to 1.5 gb each
"*who tweets the most* -&gt; Every tweet has a 'user' object, and in there is a 'name' attribute with the name of the user who made the tweet. You could use a dictionary to store all usernames and the tweet count. You know, going from the beginning to the end of the tweets and storing the username in a dict, or incrementing the tweet count if the user is already in the dict.; The when the counting is done, you could convert the dict to a list of (name, tweetcount) tuples and sort that on decreasing tweetcount. Then print out the first 10 items of the result and you have a TOP 10 of most prolific tweeters.; Or is it twitterers?; :stuck_out_tongue_winking_eye:"
Either name works :)
<@Vonnie> Dont worry about the file size because the construction 'for line in f: ...' doesn't load the entire file into memory.
Ahh; So no need to iterate ; Would I be too lazy if I asked someone here how I can do that? 
"<@Vonnie> For example, to show the Twitter users with the most tweets:
```
import json
import collections

twitterers = collections.defaultdict(int)

with open(""stream_BhagNawazBhag.json"") as f:
    for line in f:
        ob = json.loads(line)
        # text = ob.get(""text"", """")
        user = ob.get(""user"")
        if user:
            username = user.get(""name"", """")
        if username:
            twitterers[username] += 1

print ""Most prolific twitterers (or tweeters? Twitter users?)""

for k, v in sorted(twitterers.iteritems(), key=lambda item: item[1], reverse=True):
    msg = u""%s - %d tweets"" % (k, v)
    print msg.encode(""utf8"")
    if v &lt; 6:
        break # We're not interested in people with less than 6 tweets

''' Will output:

Most prolific twitterers (or tweeters? Twitter users?)
KhalidMunawarPTI - 29 tweets
Adger Alam - 15 tweets
Mamma Mia - 12 tweets
Kashif Mughal 🇵🇰 - 12 tweets
zain ali - 9 tweets
Nuzhat Khan - 9 tweets
lubna - 9 tweets
Fahid Gill - 8 tweets
PeacefulBalochistan - 8 tweets
ⱲᎪႭᴀᏚ ҚᏂᎪⴖ 🇵🇰 - 7 tweets
Osman Kasim - 7 tweets
Maida Farid - 7 tweets
balochi - 7 tweets
Farrukh Hasan - 6 tweets
Pervez  esabzai - 6 tweets
Ali Irfan - 6 tweets
PM - Imran Khan - 5 tweets
'''

```"
Wow; That's really good ; I need to sit down and work on my python skills after September 
"<@Vonnie> Yeah it really pays to know the data structures and the common idioms.; I am sure my code can be made even better.; Do you see a bug there? `not interested in people with less than 6 tweets` still, I see a line which says `PM - Imran Khan - 5 tweets`. How do you think that could be prevented?"
Maybe not include RTs ; It probably has included RTs 
"No, I don't do anything with retweets in the code above."
Maybe I can let that slide ; Will just truncate the rest 
"The solution is to test _before_ outputting something, like:
```
for k, v in sorted(...):
    if v &lt; 6:
        break # We're not interested in people with less than 6 tweets
    msg = u""%s - %d tweets"" % (k, v)
    print msg
```

instead of:

```
for k, v in sorted(...):
    msg = u""%s - %d tweets"" % (k, v)
    print msg
    if v &lt; 6:
        break # We're not interested in people with less than 6 tweets
```"
Ahh
You know what the `break` statement does?
Terminate 
Terminate what? The whole program?
Inside the loop 
Correct! The break terminates the loop in which it is placed
Glad I remember some of my stuff ; Will try this out 
Another nice question. What's the difference between a *class* and an *instance* ? :stuck_out_tongue_winking_eye:
A class consists of objects etc ; And an instance is an object 
"I agree that an instance is an object, but not that a class 'consists of' objects."
A template?
"Mjah not bad. A *class* is indeed a kind of definition which says what data exists and what methods (functions) there are to operate on it. However, having a *Person* class doesn't give you actual persons. You'd have to _instantiate_ some Person objects and give them names, ages, etc...; And in Python, as well as Swift, we can instantiate objects by calling the class as if it were a function. `fred = Person()` will instantiate an instance of the class Person and have `fred` reference it. In Javascript you have to use `new` to create a new instance of a class.; In Ruby too!"
Ahh
So you like learning Python?
I found it more interesting than other languages ; Need to learn so I can be better ; I can analyse data ; Usually use r ; In this case need to use python 
"Oh, I never tried 'R'. I was charmed by Python many years ago because of its great data structures and ease of manipulating them. Nowadays I'm also looking into JavaScript (it has become lots better lately) and Clojure and ClojureScript (LISP always fascinated me, so expressive and succinct!)."
That's why am using python here ; Easier to just get what I need.
"The JavaScript community has even invented *coffeescript* which is a kind of JavaScript but without all the brackets and syntax burden! It uses indentation for blocks of code, just like Python does. Same goes for CSS languages like Less and Sass, and template languages like Jade and Pug."
"Need to research it ; As u mentioned earlier, it wasn't really a json file ; Just wanted it to be readable so I can analyse it properly "
"I agree that it should be text-only (not binary!) so you can inspect it in an editor; But serialized JSON, everything on one line, is just as useful as XML ;-)"
Haha 
I use *pprint.pprint(obj)* to print out objects nicely
Here's the thing. I am working on a paper for my dissertation ; My supervisor said that I won't be judged for code ; Just the analysis as it's about  social media ; So that's why I know it's not unethical to ask 
"I helped some PhD's in the past, (for free), maybe I can help you too?"
I would appreciate it. Lost a lot of time as my father was ailing from cancer and lost his battle a month ago 
I'm so sorry to hear that. It happened to my grandparents.; <@Vonnie> Another PhD I helped was about <https://github.com/motoom/farasabina>
Sorry to hear that 
"I could help you with the hard programming parts of the data analysis of your dissertation, and the only compensation I ask for is that I can open-source the software on GitHub as a showcase.; Would you be fine with that?"
That would be great. I would appreciate it ; Code being open source helps ; Would it be OK after I get my grade?
"<@Vonnie> My email is <mailto:motoom@xs4all.nl|motoom@xs4all.nl> - and I'm glad you agree with me that Open Source is great. It's all for the advancement of Science, no? It is so important that peer reviewers can inspect every step in the scientific process."
Indeed ; Learning should be for everyone 
Open-sourcing your data and methodogies fit in that pattern.
Yes will help others 
"Now, Science and Art... I've also done Art projects (for free!) like <https://github.com/luismqueral/jumpcityrecords> for which I did all the programming"
Let me check 
<@Vonnie> I think this is the correct SoundCloud URL: <https://soundcloud.com/jumpcityrecords>
That's quite cool
"Too bad Luis is not active on the project anymore, but, interests shift and people move to other things."
True 
At least there is a history of music that was produced by the project :grinning:
That's the best part 
"Yes, the Internet (Web?) never forgets things."
Yeah u can't delete it 
Some people try it: <http://lifehacker.com/5958801/how-to-commit-internet-suicide-and-disappear-from-the-web-forever>
Things last ; Even embarrassing tweets 
"And why can&amp;#39;t they get their single quotes correct?; *Especially* embarrassing tweets, LOL"
Yeah that's what makes me laugh ; My main aim was to understand troll like behaviour ; My supervisor said it was too ambitious and I needed to stick with something on a smaller scale 
But how would you detect 'troll behaviour'?
Yeah that's why he said it was too ambitious :)
But do you have an idea what makes a 'twitter troll'?
So I suggested I crawl four trends ; A person who harasses others and is vile. ; So I crawled them 
"I agree, but how do you deduce that from the text of the tweets? You looking for certain troll-words?"
Yes and that's why I want to do a word cloud ; Here's what I did 
"Ah, I see."
I knew which trends to follow ; Two of them in favour of the govt ; They are a bunch of paid trolls ; Other trends were full of hatred ; My hypothesis is that the same people are taking part in those trends 
"Interesting! You begin with a hypothesis, and do work to prove of disprove it. That's the scientific method, isn't it?; ...and are you also capable of making predictions after analysis of all teh data?; Like, what people are likely to be trolls? What behaviour is indicative of trolls?"
"Yes that's the idea ; Well that's why I am going for something simpler ; To detect patterns ; If I have time I can do a sentiment analysis but that would be overkill ; As I am balancing exam preparation and work on the project. Had to defer it because I had to be there to take care of my father ; Ps before they complain, I would move this discussion to private. Too many lines of text here "
That is OK. How do we do that?
Well maybe communicate via dm here?; Alternatively email is also good 
(Discussion moved to private channel)
Any idea to implement array and their operations without using numpy 
<https://docs.python.org/3/library/array.html>? what are you trying to do and why not numpy?
"Hello. Does anyone know host django in aws ec2 problem?; I change the allow_hosts in setting, but doesnt work; Really appreciate if some one can help me.; Because I took 2 days still can not figure out what problem."
<@Alvina> give this a shot <https://dryan.com/articles/elb-django-allowed-hosts/>; you may also have to add `.<http://elasticbeanstalk.com|elasticbeanstalk.com>` to your ALLOWED_HOSTS
Thank you <@Marcie>; I will try; lol......It works. Thank you so much <@Marcie>; You save my life
:toot:
"Sorry, I have one more problem, in django, connect to aws, when ‘eb open’, shows Internal server error, 500 error in browser. Does anyone know how to solve it. I google it, but it still can not solve my problem."
Hey everyone.; I've a Django interview coming up in about 8 hours.; Any tips on what I should be looking at? I've only a few months experience with it.
"<@Alvina> that usually means there's some sort of issue with the ELB hitting the health endpoint, make sure your ELB health checks are able to hit your server and check your server logs"
"<@Hattie> get as much sleep as possible, maybe play around a bit with some Test Driven Development for django"
"I'm at work, lol; I had a good 5 hours of sleep.; Its 10AM here and the interview is at 6PM"
"ahh; that's not too bad i guess; if it's a junior position, try and focus on what you've learned in your months with django, try and identify what you're doing well and what you're excited to learn next; ensure you know how testing frameworks interact with django, ensure you know how to write some tests, maybe go over the model and filtering examples again so you're aware of filter chaining and foreign key relationships"
"`/reports/&lt;lat&gt;/&lt;long&gt;/` vs. `/reports/?lat=x&amp;long=y`
What do you guys think? :slightly_smiling_face:"
Got you. Thanks <@Marcie>
"<@Thomasina> first one; there are always gonna be `lat` and `long` params, and this way it looks pretty"
"hi I have a doubt what is the difference between json.loads(b’byte_string_from_outside’) and b’byte_string_from_outside’.decode(‘utf-8’) because I read docs and experiment a little bit but is confusing because but seem to work, which one should  go ?"
The former will return a `dict` representation of the JSON. The latter just returns a `str`.
"in the first case may be returned any type that can be represented in json, not only dict; ```
&gt;&gt;&gt; json.loads('42')
42
&gt;&gt;&gt; json.loads('[1,2,3]')
[1, 2, 3]
```"
"<@Thomasina>, have to disagee with <@Suellen>. The second would be my preference; especially with a rest api resource, wince `report` is a verb, and defines a resource; `lat` and `long` are attributes for that resource; but I would suggest definining what the requirements for `report` is... eg `location`; `/report/location?lat=&lt;lat&gt;&amp;long=&lt;long&gt;`"
looks awful %)
"so this is better? `/report/90.49283/-56.934`?; that doesn't make any sense,"
why?; it's the same thing
"looking at it, it has no context at all"
"and why do you need context while looking at the URL?; `?`, `=` and `&amp;` have almost no place in 2017"
oh bull; they absolutely do
"As a user, it's more confusing to see `?`, `=` and `&amp;`, then just `/`; why do my URLs have to look like that?"
"so, I fail to see how the first makes more sense; location with two numbers in slashes; what are those numbers?"
Let's see how FB does it: `<https://www.facebook.com/notes/equine-calculator/how-to-claim-your-vanity-url-for-your-facebook-page/474147772600069/>`; `<https://www.facebook.com/help/121237621291199>`; Not `<http://facebook.com/?action=help&amp;id=1212376|facebook.com/?action=help&amp;id=1212376>...`
doesnt apply here exactly; because `/help` is just one resource that takes in one parameter; `/report/number/number` is pretty crappy design
"no, that's way too technical of an explanation"
doesn't tell me anything abut what `report` is to take; <http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api#advanced-queries>
once you visit literally one report page you'll know exactly how to use it
and then looking through a list of URL endpoints; where `report` can have multiple filters
&gt; An API is the user interface for a developer; you kinda forgot about the users here; doing things by the book will only make other developers pat you on the back
so?; `/reports` is a good identifier; leaving everything else after that in slashes is crappy design; especially when the purpose is to _filter_
so what happens if a person DOES implement it that way?; what's the penalty for crappy design
give someone else the project
developers are angry and users are a tiny bit less confused %)
with crappy URL structure; then you get a high WTF count and swear plenty at the idiot who came up with the URLs :slightly_smiling_face:
but no complaints from users?
users don't give a shit
I could theoretically recite this URL to my mum over the phone; the one with `?stuff=thing&amp;other=dunno`? not so much
"thing about this, you can do what you want; there's just convention, not hard rules; your method to me, is confusing; as a developer and a user; because all it does is tell me this is a report link; with some numbers; nothing about _what_ those numbers are and do"
"you are trying to know what an URL is before visiting it; just open the page and it will be clear as day, you'll never forget those two numbers"
never forget two eight digit numbers?  got photographic memory? :slightly_smiling_face:; so your argument is that its easier to describe over the phone; where theres no copying and pasting involved; and that you're willing to accept the consequences of developer confusion and bad practices for that
"Just to add my $0.02; I also prefer the explicit lat/lng arguments, and dislike having things in the main URI path if they don't follow some sort of hierarchy; It does make the URIs a bit uglier but I don't think that matters in this context"
:cry:
Where can I import `MatchObject` from?; for re
"+1 on using query parameters. in addition to what was mentioned, doing `/lat/lon` also makes it more confusing as it makes it appear to be a parent/child relationship almost. the other form makes for sense for say, a user photo, where you end up with `/user/123456/photos/1241241`"
"Thank you all for the input! I really appreciate it. I will be implementing lat/long as query params. On a side note, with SQLAlchemy, what would be the best data type for storing a lat or long? I was going to use a float but I'm not sure if that's overkill."
"float, with `asdecimal=True`"
"<@Meg> Oh, I was weighing the pros and cons of float vs. decimal. With `asdecimal=True` does this mean I'm using a decimal, or is this some kind of float/decimal hybrid?"
"<http://docs.sqlalchemy.org/en/latest/core/type_basics.html#sqlalchemy.types.Float>; &gt;&gt;&gt;Type representing floating point types, such as FLOAT or REAL.

This type returns Python float objects by default, unless the Float.asdecimal flag is set to True, in which case they are coerced to decimal.Decimal objects."
"Ah, ok, I got it. Thanks!! Is your recommendation of decimal due to its accuracy?"
"no; you're storing coordinates; so you need something with that ability; specifically, store decimal numbers; <https://docs.python.org/2/library/stdtypes.html#typesnumeric>"
"Not wanting to throw an extra complication into the mix, but if you're doing a lot of geographical work, you might want to be using something like PostGIS and doing spatial queries on the DB; (Also, yes, float isn't quite high-precision enough for most lat/long values that we work with, but only just)"
"<@Gabriele> Oh wow! I was doing all the geo stuff from scratch, not realizing there could be something like PostGIS! I was still figuring out an efficient method for finding records with locations within a certain distance of a specific lat/long, but I guess PostGIS can already do that."
"you need to use postgres for it, though; if that's not part of your stack..."
see also <https://geoalchemy-2.readthedocs.io/en/latest/>
"Yep, I'm currently using Postgres"
1
<@Gabriele> Thanks for the link! This is so much better than building my own system from scratch.
no problem
Always check what already exist ;) 
"<@Ciera> Yep, not sure why it didn't even occur to me. I gotta make that my motto. :joy:"
"yeah, good idea; ""is there anything already done for this?"" is a good question to ask; saves _a lot_ of work"
"<@Thomasina> you should also consider limiting the precision of your lat/lng coordinates to something like `decimal(9, 6)`.  More precision than that often leads to misrepresented accuracy.  6 decimal places is accurate to about 4 inches..."
"<@Willena> Oh, good point. Thanks! :smile:"
why cant i  get the absolute value of the number i input based on this code?
"<@Kandis> you are calling the function from inside it, but after `return`; So, the function has already run"
Input always returns a string I believe 
"both <@Patty> and <@Ciera> are right, note if you are using python2 you need to use the `raw_input` function"
python 3
"Also, you need to have `x()` take an argument that is passed in"
"Yeah, looks like the indentation is off for that print"
like this?
"Yep, now convert the `num` to an `int`"
<@Beula> woah it worked. what do we need to convert it to an int; i did this: num=int(input(‘enter a number: ‘))
"That'll do :slightly_smiling_face: Of course, test inserting a string instead :wink:"
woahhh so cool. thanks very much!
No problem!
<@Beula> <@Patty> <@Ciera> :taco:; haha!
Everybody gets :taco: :smile:
"<@Shelly> Fact: I have never eaten, nor even seen, a taco.; I think I'm a freak!"
I have never eaten a real taco but I had once prepared at my place. Do not ask me how it tasted. :smile:
"Oh, glad I'm not completely alone then. I must say though I'm awfully curious to try one though. I'm pretty sure there's a place within walking distance of here that sells tacos. I may just have to check them out."
:yum:
I've seen plenty of tacos in various commercials and whatnot and to be frank they do look appetizing.
"interesting; I prefer burritos over tacos, tbh"
<@Thomasina> tacos are a perfect street food.
especially after an afternoon on the bike
corn tortillas or nothing :smile:
"rice, beans and meat are a perfect combo to recover"
"hi anybody here use rabbitmq can give me any tips on how to make it faster ? 
Im using the client and server as here in the docs <https://www.rabbitmq.com/tutorials/tutorial-six-python.html>"
I’m asking your help because I’m in a little rush is for tommorrow my work
Imagining having a taco outdoors after a nice bike ride...ah now I'm hungry!
"Hello, I'm in need of some help. I can't figure out why my if statement in the while loop keeps evaluating to True and not breaking out of the loop. <https://pastebin.com/5dCYKRMP>"
<@Coretta> what is slow about it?; and what are you trying to get to in terms of speed?; rabbitmq is already very fast
<@Patty> something between the answer and the response I’m getting above 2 second time; so yeah Im wonder what Im doing wrong; :disappointed:
Is this specifically with the part of the tutorial?
I use the same code of the tutorial just change the finnocci funtion for a bot; that i have; I only want liitle tips like what is faster no_ack=True or no_ack=False; how to config the options
"it’s faster without acking, and with prefetching generally"
I’d recommend to choose no_ack not by speed but by your use case
also is the function on the bot is running taking that long time? or is that from after the function is completely to sending back to the response? that should only be milliseconds
what cant i return i
"What does it return right now?; BTW, you can simplify that:  `smaller = min(x, y)` :smile:"
the specific ‘i’ i wanna get in that range
"you can return from within the `for` if you want, no reason to keep iterating (otherwise you will *always* get the last `i` value)"
mhm? can i return i ?; want do you mean ha!
"```
for i in range(10):
    if i == 6:
        return i
```; Instead of waiting to return after the loop"
but the problem of my code is not this; i couldnt get output with the code i pasted; oh i got 24 but its the wrong answer.; it should be 6; after i changed the thing i return to this:; then it worked and got 6
i dont understand why
<@Shelly>
"because in Python variables are scoped for the function in this case. So `i` keeps getting re-assigned as it loops over the `range`; If you want to use the `i` without an intermediate variable, either return the `i` directly (as I demonstrated), or use the `break` statement"
<@Beula>  what is the code look like when you return the i directly
Basically drop in my code snippet!; Those should be equivalent
"i appreciate it but they dont work; i got this:; if x % i == 0 and y % i == 0:
                                ^
TabError: inconsistent use of tabs and spaces in indentation"
<@Kandis> Did you mix spaces and tabs?
I assume she copied my snippet
"Oh sorry, just caught that"
"Looks like what you posed used tabs <@Kandis>  - the python standard is to use 4 spaces instead; So my stuff is configured different, if you re-do the indentation to match that visually, you will be good"
yea i copied and pasted; oh
"if you're using ipython, just do `%paste`"
Is it the standard? :open_mouth: I've been using tabs from day 1.
<https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces>; PEP8 my friend :smile:
i am using pycharm <@Meg>; and me too ive been using tabs and nothing wrong yet
"Oh, shoot! My bad. Although I'm curious why spaces are the standard. I think it seems so much easier to press tab once for every indent than space four times for every indent."
omg i still get this: IndentationError: unindent does not match any outer indentation level; my 4 spaces is the same as 1 tab
<@Kandis> You're trying to convert <@Beula>'s snippet from spaces to tabs?
ah yes; well idk i tried both spaces and tabs
<@Thomasina> - you should make your editor insert 4 spaces when the tab key is hit. You don't literally type `&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;...`
:thinking_face:
1s <@Kandis> - let me convert it
"<@Beula> Oh... I didn't even know that was possible as I've only ever used tabs. Good point. :joy:; Oh sorry, you were converting it? Whoops... :cold_sweat:"
<@Thomasina> :taco:
"tabs vs. spaces. I am a spaces person, but I can see why tabs would be better."
"<@Beula> Haha, thanks! :fork_and_knife:"
queue clip from silicon valley!; <https://www.youtube.com/watch?v=SsoOG6ZeyUI>
I'm definitely going to read through this PEP 8 style guide. It'll take awhile but I think it'd be a good idea. Thanks for the link!
79 characters might be the only think that should'nt be followed
"yes, but this is serious business! S.V. was lampooning these hair-splitty topics in programming. But to me tabs just bork up my whole work flow."
this one gets the wrong answer <@Beula>; well both of them get wrong answer as in 1; and it should be 6; :thinking_face:
"<@Kandis> can you repost the problem statement? I scrolled up looking for it, and I was unable to fnd it"
"Technically, any int mod 1 is 0; So it's kind of right; You probably want `range(2, ...)`"
"You should start at 2; Because of that; …I saw that edit, Matt :wink:"
which edit?
"<@Beula> Wow! In that clip, unless they're writing Python the girl is obviously wrong from a totally measurable and scientific point of view that is not at all biased by my extreme preference for tabs."
I don't see any ` (edited)`!?
<@Levi>
"Oh nevermind, you just beat me, again"
"haha <@Thomasina> - the compiler takes care of them in any language pretty much; <@Kandis> - They are asking for the actual ""problem"" that code is meant to solve, is there accompanying text?"
oh is to get the HCF — highest common factor
HCF = Highest Common Factor?
yes
"<@Beula> Sure, but code that written with spaces...it's just...so unnatural. I mean, spaces are wrong because reasons! :joy: It's funny how I can get so worked up over something like that..."
":smile:; That's one pro about Golang, they have the `go fmt` tool, that forces tabs. The con is that it's tabs :wink:"
what happens in x=y on input?; num1 = num2 ?; n.m. I am looking at 20 windows at the same time here
:astonished:
"forgive me if I am wrong, but if you are looking for highest shouldn't you set your loop down the integers, rather than loop up?"
"Oh, maybe that is what I missed in the original intention - I thought it was the LCF"
"yes, they ask for HCF, not LCF; this is what I always told my students: read the question carefully - at least half of wrong answers are because the question was not properly parsed"
6 is indeed the highest no?
"Sorry <@Kandis> - my bad; Yes, <@Levi> is right - it's best to walk DOWN instead of up this one"
<@Kandis> : no idea! :smile: your code should give you the right answer :smile:
yea the standard answer i saw is:; it indeed gets the right answer for num1 and num2's HCF which is 6
"I think that this loop will work, but it might be suboptimal for large numbers.; but that is a topic for discussion; because you have no way of softcoding a break point in the if-then clause. Whereas if you start high you can jump out as soon as the clause is fulfilled"
may i ask how did you determine when to loop up or down
"it just ""made sense"""
can't explain how
"If you want it a little more terse, combining what I had earlier and what you have:

```
def compute_hcf(x, y):
    smaller = min(x, y)
    for i in range(1, smaller + 1):
        if x % 1 == 0 and y % i == 0:
            hcf = i
    return hcf
```

But this can be simplified even more going backwards instead of brute forcing it:

```
def compute_hcf(x, y):
    smaller = min(x, y)
    for i in range(smaller + 1, 1, -1):
        if x % 1 == 0 and y % i == 0:
            return i
    return 1
```"
"yes, version 2 is better"
"The _when_ is usually a trade-off of how many operations are required until I meet my condition. So when stepping up, you *have to* evaluate every number in the range for the condition. However if you step down, the *first found* number is the answer"
simplification means reducing the time complexity. Because those two snippets contain basically identical code structures.
"So for v1 above: your complexity is `O(n)` (or that for the size of the range, every number must be evaluated)"
"it is always `O(n)` in version one, where v. 2 is `O(n)` in the worst case"
"But for v2 the complexity could be at the best case `O(1)` (for any size of the range, only 1 operation is needed) and at the worst case `O(n)`"
hehe
Does that make sense <@Kandis> ?
"woo well explained <@Beula> may i ask if we can leave out the last “-1” in the second version’s range ( for i in range(smaller + 1, 1, -1):); shouldnt it count down one by one already by default"
<@Kandis> I think the best way to do these things is to experiment. You get intuition that way.
<@Beula> <@Levi> :taco:
thanks teachers
Here's a link for your reading :smile: : <https://docs.python.org/3/library/functions.html#func-range>
"it's a bit like math: a technical skill rather than a pure talent. That is, until you get to the higher levels. But looping limits, aligning indices, all that painful stuff has to be done a few dozen times before you stop thinking about it."
<@Kandis> You should also checkout Asymptotic Notations and complexity.
great point. This is a fundamental theme in programming
<@Levi> so deep!!haha thanks
help me setting elasticsearch-dsl for n-gram!
done!
"hi, all! I have dict with oldstring as key and newstring as value. I need replace strings in file according to that dict. What is the best way to do that?"
What have you tried <@Fleta> ?
"<@Beula> Well, I think to do it like this:
```
for key, value in dict.items():
    with open(filename, 'r+'):
        for line in f:
            line = re.sub(key,value, line)
            f.write(line) # &lt;-- possible mistake
     f.close()
```"
Does that work?; you could probably simplify it a little for yourself if you can fit the whole file in memory and then re-write it
I thought there is more simple way...
"Also, if you use `with open` it handles closing the file for you. For those newer pythonistas, these are called context managers and are awesome"
<@Patty> cool)
"Yeah, the simplest:

```
with open(my_file) as f:
    content = f.read()

for k, v in dict.items():
    content = re.sub(k, v, content)

with open(my_file, 'w') as f:
    f.write(content)
```

Though there probably is a ""better"" way."
"<@Beula> oh! that's really simple) thanks a lot, forget that it's possible to replace in the whole text not just in line"
"It saves a few iterations, but it will load the whole file in - so be aware of how large the file is!"
"Oh, it's just hundreds of lines, it will be ok."
"You can make rabbitmq faster by using the HiPe compile. But I doubt that's the problem, as you wont notice a difference there until you hit scale."
so has anyone tried to setup travis with a public python repository that has a private repository as a dependency? From what I can tell I need to have a private travis accnt to even do this =(.
well it make sense
this wouldn’t be an issue except that my org has run out of private repos.; i think if i used a dependency link in my setup.py with the env_var of a user token that has access and format the dependency link url with the token it should be able to pull the dependency down.; a lil hacky.
well if the repo is public people would have access; not sure if that's ok for you
not with the env var
oh sorry I miss env var; yeah it could work
"yea, i’ll have to create a new user and give them read access but it sounds feasible. something for the morning!; ok, i found a good resource. i think this will do the trick. <https://github.com/blog/1270-easier-builds-and-deployments-using-git-over-https-and-oauth>"
I'd guess you can just use an ssh key with access to the repo
<@Beula> travis isn’t letting me put in an ssh key.; it shows me where i can in the docs but it looks like that’s the spot for a travis pro account.
"Oh yeah I'm thinking of your hack, make it an envvar, echo it to a file and then clone ; Travis is pricey"
oh ok.
Maybe make a basic auth user and use https ; Then in the before process stripe in the creds 
yea i found this too. i think you commented @nerdwaller. <https://stackoverflow.com/questions/4830856/is-it-possible-to-use-pip-to-install-a-package-from-a-private-github-repository#comment55105837_27901245>
And it's too late to edit to fix the error; <@Tyrell> please don't cross post ; Give the question in <#C0LMFRMB5|django> some time before broadening the ask
"Okey, I will delete one. Should I delete in Django or here?"
"If it's Django specific, I'd leave the question there. If you don't get any traction within a few hours, then you can share the question here (note the share tip, per the intro doc, vs copy/paste).; In case you need the intro doc :point_up::skin-tone-4: "
"Okey, so in the future I will post my question in <#C0LMFRMB5|django> at first. After some time without response I will paste it here. Is it a good habit?"
:thumbsup:
Thanks for quick intro.
"minor correction, ""share"" it here :slightly_smiling_face: <https://get.slack.help/hc/en-us/articles/203274767-Share-messages-in-Slack>"
"Hmmm... I have a list of dictionaries that I need to merge but sum one of the keys. Need some direction. My Monday brain is not working efficiently.
Something like this
```
# start with
[
    {'first': 'Frank', 'val': 12, 'last': 'Jones', 'id': 2},
    {'first': 'Jane', 'val': 12, 'last': 'Jones', 'id': 3},
    {'first': 'Frank', 'val': 12, 'last': 'Jones', 'id': 2}
]

# end with
[
    {'first': 'Frank', 'val': 24, 'last': 'Jones', 'id': 2},
    {'first': 'Jane', 'val': 12, 'last': 'Jones', 'id': 3}
]
```"
<@Kiersten> - is the merge based on the `id` field (or a grouping of the values)? Also does order matter?
"order does not matter, i just need to sum the ""val"", every other piece of data is the same, the id will always be the same; so yes, on the `id` field; With my real data, I am merging on a unique string code"
"I would probably use a dict if the dataset is small enough:

```
cache = {}
for item in my_list:
    if item['id'] not in cache.keys():
        cache[item['id']] = item
    else:
        cache[item['id']]['val'] += item['val']
```"
"That complicates things later on when I split the list in two by a column value of True/False, but I suppose I can work around that.
Thanks for taking a look <@Beula> :taco:"
"Yeah it's a little awkward, but at the end I meant to print `cache.values()` "
"<@Beula> Right of course... it's been a long day for me too.
That works great, when the data gets too large I'll adjust as necessary."
"Good call on not pre-optimizing too much! I am sure there is some really terse and cool trick, but I like simple :smile:"
Get the loader memory for each machine ，Is there any good way?
"question for anyone who uses pyenv — should the `.python-version` file be commited to vcs, or is it considered good practise to ignore this file?"
"<@Carline> ignore, of course; That's an environmental detail"
How can I send the value of a variable in endpoints api to _post_put_hook function in python ?; can anyone help ?
I'm sure someone can help but you'll need to post more details :slightly_smiling_face:
I am using google cloud endpoints along with ndb datastore .; I am setting values in my request class parameters; can then I put these data in ndb; my api know the value of the variable; but right after I put; _post_put_hook function is called; but it does not know the value of that variable
Sorry I have never used google could endpoints so I can't really help you :confused:
<@Helene> can you post a snippet of your code ?
so i started using fantastical and i really like it but want to integrate other services. they didn’t make this very easy =(. to parse text outside of fantastical it says to type this: `<x-fantastical2://parse?s=Sentence> goes here` i tried this in a browser to no avail. does anyone know where i can type this sort of thing into osx?; i’ve tried spotlight but that didn’t work either.
Anyone have a simple to use GUI?
HTML?
"desktop?; tkinter, I'd say"
"Yeah desktop, and I saw tkinter, might have to go with that; has anyone worked with crucible/fish eye before?"
I've used crucible before; was ok; why?
"Basically grabbing analytics from it for peer reviews and then essentially updating a CSV with new data of progress of peer reviews; So I gotta use their API, hoping I can get the data I need"
not sure this will work but if you used a jupyter notebook they would have something essentially like a gui. they could run your code and get ouput and it be relatively easy.
"Uh oh, management wants insights... huh?"
"Haha, well they already get insights. It just gets tedious for the guys to hand type in all the updated info for each week for the last 12 weeks; and it has to be redone each time cause each week the analytics change of course for the weeks before also so they can spend an hour updating the thing; When python can do it in a few seconds :slightly_smiling_face:"
checkout a temp jupyter notebook here: <https://tmpnb.org/>
What is it exactly? <@Johana> temporary server for running python?
jupyter is cool
"&gt; The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and explanatory text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, machine learning and much more."
Hmmm okay that might be really convenient
plus it can be put on github and look cool
Sort of like a prelim thing I can show them when I'm done and they can decide if they want a GUI or not
you might have to setup your own jupyterhub server but it is relatively easy to do. the jupyterhub server can be setup to require username and password.; then no one needs to install anything.; they simply go to your page: <http://jupyter.kbman.com|jupyter.kbman.com> and login; i have an ansible playbook if needed :wink:; more info here: <https://jupyter.org/>
Once I get this setup I'll definitely get that setup
"if you are just looking to use basic jupyter, and you use pycharm you can start a new project, pip install jupyter then instead of making a .py file you can make a .ipynb file"
"since it is python the sky is the limit. if you want you can setup a way for the csv to be emailed to them or whatever.; the notebooks can also utilize `input` if you need the user to type in information.; so if you wanted to run a cli script inside the notebook and prompt them for their name, etc, you can do that."
That might actually be super convenient; Oh man this should be fun. The documentation for this API is leading me to 404 errors.
TIL ipython does input; <@Johana> can you show live terminal output in there?
what do you mean live?
Say I run a long-running subprocess
hmmm… idk. i would have to try it. you can run pip commands and they scroll out. that’s what is happening at the top.
"Or can you only spawn one and print the data; Oh, I guess I didn't think about how they have the syntax to run straight shell commands; <@Johana> :taco:; I totally spaced the `!shell command`"
yea it’s cool; i use jupyter notebook for one off things like this all the time.; very convenient
"Yeah, I was thinking about adding a subdomain to my site so I can just have one centralized"
i have an ansible playbook if you want to deploy jupyterhub.; you will have to pull all the the R things out of it.; one of my first projects where i work was setting up a jupyterhub with an R kernel and other packages.
"Oh yeah, I love references"
i’ll try to test it later on to make sure it works. haha
okie
i have a vm i can run the playbook.
Would love to have it too. <@Beula> one of pyslackers rôle? 
"We can do that for sure, make it a community effort; I'll start on breaking those up tonight if I have time"
:thumbsup: 
Do you still need help w/ this?
"<@Johana> another reason why rails is stupid:

* it's valid to do something like `<redis://localhost>`
* but they decide to enforce that the host needs to be a domain name... so in my compose file I had to hack it with `<redis://redis.cache>`"
"hello, could someone help me with a flask issue i'm having?"
Simply post your question in <#C0LN2AD7T|flask>
"<@Liliana> sure, post your question here (or <#C0LN2AD7T|flask>) and someone will answer when they can :slightly_smiling_face:"
"Please read the intro doc on suggestions, basically: post your question (rather than ask for permission)."
:thumbsup: will do; thx
You got it!
"so i'm working on a small web app that will allow users to search instagram for two hashtags at the same time.  

the route of the app the user is given this form 

```
&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
&lt;body&gt;
    &lt;h1&gt;Enter two comma separated tags (no hashtag symbol!!!)&lt;/h1&gt;
    &lt;form method=""POST"" action=""{{ url_for('results', token=token) }}""&gt;
        &lt;input type=""text"" name=""text""&gt;
        &lt;input type=""submit"" name=""my-form"" value=""Send""&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
```

Which is processed by this route

```
@app.route('/results/', methods=['GET', 'POST'], defaults={'token': None})
@app.route('/results/&lt;token&gt;', methods=['GET', 'POST'])
def results(token):
    if request.method == 'POST':
        tags = request.form['text'].replace(' ', '').split(',')
        data = fetch_data(tags=tags, next_page_token=token)
        processed_data, token = process_data(data=data, tags=tags)

    if request.method == 'GET':
        <http://logging.info|logging.info>('REQUEST ARGS: {}'.format(request.args))

    return render_template('results.html', data=processed_data[:1], token=token)
```

and the results are displayed via this template

```
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body style=""background-color:powderblue;""&gt;

&lt;h1&gt;{{ data }}&lt;/h1&gt;

&lt;form action=""{{ url_for('results', token=token) }}""&gt;
    &lt;input type=""submit"" value=""More results plz"" /&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
```

my issue is that i'm trying to pass the next page token to the results page through the URL, so that when the user push the button for more results, ti gets sent back to the `/results` route.  right now when i load the ""more results"" i get a `500` error and it doesn't look like the token is being passed in the url properly because it is before the question mark

```
INFO:werkzeug:10.51.50.1 - - [18/Jul/2017 17:24:36] ""GET /results/J0HWW5ERQAAAF0HWW5CPQAAAFoAKAA%253D%253D? HTTP/1.1"" 500 -
```; this line in particular `<http://logging.info|logging.info>('REQUEST ARGS: {}'.format(request.args))` returns `INFO:root:REQUEST ARGS: ImmutableMultiDict([])`"
"What does the HTML of the page look like? That `{{ url_for('results', token=token) }}` bit should be expanded out, so you can verify what it's passing in; Oh, wait, the token does come through - I had to scroll down to see your Log line. But it's not in 'args', perhaps, and that's okay"
hm
You should try logging what `token` is equal to
kk
"Also, if you get a 500 error, normally that would give you a traceback, no? So you could see exactly where it breaks"
"ah, so it is coming though as the variable token, but it's not something i can parse from the url because it's not an actual arg; is there a better way to pass data from page to page? maybe with query params?"
"Maybe, but I don't see how that's relevant here - if you are getting 'token' correctly, it implies the problem is in your `fetch_data` call and how you pass token in is working"
Working with .csv/excel stuff should I be using just the `csv` module or `pandas/openpyxl`
"<@Liliana> I mean, the main problem with your code is that you don't do anything useful with a GET request"
yea im changing that now; think i got it from here (for now :simple_smile: ); thanks for the help
:+1:
Whats the context?
"I'm a bit late to this, but depending on what you need to do, tablib can also be useful."
"Hello, I been looking for a way to create script that gathers info from yahoo finance or morning star, financial numbers I can calculate later on with python. I have found an interesting youtube tutorial which goes trough the same topic <https://www.youtube.com/watch?v=K2zyPby4034&amp;index=3&amp;list=PLQVvvaa0QuDejNczz7dbpyu3JnwUBvNch> but the problem is that its in python 2 and some of the steps does not work anymore. I know thought that I can convert the python 2 to 3 and find some hacky ways how to do it still but I wonder if it's worth the effort. Maybe there are some better ways I can do with python 3. I readed a bit about modules like pandas and beautiful soup but not sure if they are fit for this purpose. Anyone could point me to a direction what would be the best method for gathering financial fundamental data? I am quite new to python"
"if the course is really good and the downside is the fact that it uses python 2 then i would just convert as i go. everything i’ve done so far with scipy, numpy, and pandas has worked in python 3.6. google the errors and tracebacks you get and i bet there are a lot of solutions.; the other option is using penv.; pyenv makes it pretty easy to run multiple python versions."
Someone on that youtube video also posted a package for it <https://pypi.python.org/pypi/yahoo-finance/1.3.2>  - i havent tried it - just pointing it out
you could run the code in python 2 to just get it working and then conver to python 3
"Hi guys, I need your help.

```
companies = db.session.query(
            Company.owner_id,
            func.sum(Company.salary).label('salary'),
            func.sum(Company.employees).label('employees'),
            func.sum(Company.pad).label('pad')). \
            join(Owner).filter(Owner.company == company_type).filter(Owner.user_id == user.id).\
            group_by(Comapny.owner_ids)
```
Okay, I able to sum all those fileds. but I need to output  some `string` fields, but I don’t have any ideas, how I can implement this."
is there anything for which a module does not exist?
"thanks, I think I will go trough the tutorial then and each step do some investigating how to make it work in the python 3 lets see how it ends up :stuck_out_tongue: at least I think I will learn more about python that way :smile:"
<@Sharlene> that is a cool project idea; Yahoo finance is the best *free* source of financial data out there. Google isn't as good given the constraints they place on how much data you can pull from their servers
finally got that stupid private github dependency to install in travis from a public repo. holy crap.
What was the hack?
"it’s getting the url right in the dependency_links; ```
github_token = os.environ['GITHUB_TOKEN']
github_user = os.environ['GITHUB_USER']
. . .
dependency_links=[
       'git+https://{0}:x-oauth-basic@github.com/{1}/package.git/@master#egg=package-0.0.1'.format(github_token, github_user)
      ],
```"
"Sounds about right. Nice hack <@Johana> :taco:; Oh sorry, guess I gave them all out"
what sucks is i had to use the --process-dependency-links; and it gives a deprecation msg.; it’s all good; so i’ll have to change things soon… but whatever.; it works right now and that is all i care about.
I think there is an XKCD about the future self coming back to warn the past self...
"yea, it’s already bugging me … but i need to press on.; i’ll create an issue and get going on other thangs.; &gt; Laugh at perfection. It’s boring and keeps you from being done."
"I'm on your side :slightly_smiling_face:; I am writing a node app right now, pretty much going for get it working..."
yea i just gotta keep telling myself this stuff… haha
:shipit: is my motto
:thumbsup:; same here; i’ve adopted it.; way better to ship than not have shit.
"Of course my old director when he left said ""you guys don't hold yourself to a high enough software craftmanship standard""; So... ¯\_(ツ)_/¯"
there is a balance you need to keep.; you def. don’t want the crappiest code ever being written… but you can also spend waaay to much time on some some stuff.
"He was really just being an ass, not to be too rude; I think I just decided a new policy, no calling a package/module: utils, common, or shared"
"<@Alvin>
```backend
|_ broadway
   |_ all_the_python_scripts.py
|_all_the_not_python_files.ext```; Something like that; So literally everything .py is in the broadway folder; Then I use `python -m broadway` to run it; So you mean that it's lookin in `backend` for `create_app` rather than in `broadway`?"
<@Sharlene> what are you trying to do? there are Python libs that do lots of financial stuff that you could just use. Unless you want to 'learn Python by doing' type of thing
"<@Thomasina> I see.  Do you have a py script anywhere where you imports ""backend"" first?; <@Thomasina> To asnwer your question: Yes.  It's hard to guess without the full code but pay close attention to __init__.py and your initial app import.  The folder structure needs to be what Flask expects or at least direct it to it if you're going the unconventional way.; <@Thomasina> Once you need to deploy this to a server, you ll need a wsgi script that would declare all the pathes as well. Otherwise you'll be banging your head trying to figure out why an ""moduleName importError"" is popping everywhere."
Only `__main__.py` is truncated there; Thanks for the heads up about WSGI! I hadn't gotten there yet but I hadn't made a WSGI script yet
<@Thomasina> where is your `app = Flask(__name__)`
<@Alvin> in `__init__.py` is the snippet :slightly_smiling_face:
<@Thomasina>  change to `from broadway import config`
"I've never used a wsgi script, the gunicorn arg or config file should be enough - but you can do whatever makes sense to you"
What is the strategy to decide limit for number of processes when working with `multiprocessing`?
"I'd favor `concurrent.futures` (or the `futures` backport if you are on python2).; Basically you can define a pool with the max workers; ```
import concurrent.futures

with concurrent.futures.ProcessPoolExecutor(max_workers=2) as pool:
    pool.submit(print, 'Hello World')
```; (untested and from memory <@Katheryn> :point_up::skin-tone-4:)"
"Sure, let me explore `futures`. So, I’ll be doing I/O with these forked processes. Reading from the web, suggestions are to keep workers equal to number of cores. Is that reasonable?"
"Yep, that's usually what I see/hear around. Note that if you are doing I/O - probably best to use `ThreadPoolExecutor` since your bottlekneck isn't CPU and processes in python are expensive; Especially resource sharing"
Thanks. Let me read more on the subject
"Hello guys; I got a problem, I want to connect my self to an external site using python requests.; What I aim to have at the end is a way by which I can connect myself to the site using python requests and when I open my browser, I should see myself already logged in; But the problem is when I connect myself using python requests and I open thee browser I'm not logged in; Here's my code"
"Being logged in is stored in a cookie. Requests has one set of cookies, your browser has another set of cookies"
OK I see. And how can I make them communicate then
and ne'er shall the twain ever meet
"You'd need to be able to inject the cookies into whatever the browser uses to manage them, which sounds difficult"
"<https://stackoverflow.com/questions/35495416/importing-request-session-cookies-to-browser>; I mean, seems possible using selenium; if you wanted to go the other way; <https://pypi.python.org/pypi/browser-cookie3/0.6.0>; so, you have a number of problems"
<@Meg> selenium is it a python module or what ?
"<http://www.seleniumhq.org/>

* requests stores the cookies in a location.  Is this configurable?
* Browser cookie storage location path varies by browser and OS.  How will you handle all that?"
I'll rather try to import requests session cookies to the browser
good luck; what's the use case?
<@Meg> use case ?
what is the purpose behind this?; how do you expect it to be useful?; how do you see someone using this?
<@Meg> I'm trying to implement a Single sign on system on a Wi-Fi and an external website. I want that every person connected on my Wi-Fi to be automatically logged in to that website; I once mentioned it here
so how is this supposed to work with that?
<@Alvin> Thanks! I'll try that :smile:
<@Hyman> I regularly use *mechanize* to access websites where you have to login etc...; and fill out forms in general. *mechanize* emulates a webbrowser.
If I have a question that isn't really about Python can I still ask it here? Or do I need to go to general or random?; It is development related at least
"why not?; if its not, we could probably point you in a direction"
"I'm trying to implement a class that create a 2d array, but I'm running into some issues with `__getitem__`"
"<@Myong>, are you using a dict?"
"No, using a list.; Basically just taking a 2d array of N x M; and I have to sum all the values in the columns"
I'd argue that it's probably not worth trying to go overboard on the overloads
Which is easy enough; My trouble comes in here; Basically saying that `__getitem__` is not defined for list; but I've defined it in my class. And it works if my 2d list isn't an object instance; of my class
"You're assuming it's saying the wrong thing about your class, but most likely you have given it a list when you think you've given it your class"
How should I initialize the list in my class then
"No idea, you're showing only tiny snippets of code and we've not seen the actual error or the actual structure yet"
Alright let me do this then one sec; The error comes in line 4 with `self.xl_grid[i][j-1]`
"okay, so obviously your __getitem__ function is irrelevant as you're not dealing with that type here, only lists"
Oh wait
"Personally I wouldn't be trying to implement that logic in a single hairy one-liner, either"
Yeah i think that's what's broken
what is the _actual_ error?
"The error I had previously was due to attempting to subscript the list twice; it was giving me a message about the list; But not it's not making a 2d array, but that was my fault; Works now"
"I'm using Heroku and I want to add PostGIS to my Postgres database, however to do this I need to run in Windows command prompt:
```heroku pg:psql
create extension postgis;```
And that requires that Postgres be installed on my local machine. Is there any way around this? Do I _have to_ install Postgres on my computer?"
"how are you working locally?; eg, dev/staging/prod with their own specific env configurations"
I just run my code locally...um...I guess that's it. I have the Heroku toolbelt. When I run the command with the toolbet I'm informed that psql.exe could not be found. After a quick search it seems it's because Postgres needs to be installed.; Sorry if I didn't understand your question correctly; I run my app in its development configuration when running it locally. Not that it's that much different from the other modes.
How can you be running locally if you use Postgres but don't have it installed? Are you accessing a Postgres instance remotely?; I didn't think Heroku had a local option
"it does, but you really should have everything replicated locally that's on heroky; as close to 1:1 as possible"
Aha. Still curious about how it handles the DB.
Ya I have no idea. I just want to get PostGIS running on Heroku. But I guess I'll need Postgres anyway if I intend to test my app locally. Currently I just plug it into an SQLite DB to test it.
"yup, switch that out for postgres."
"I must say that I did enjoy the simplicity though, and especially when we have new developers coming in. I wish Postgres could be self-contained somehow to avoid having to set anything up. Oh well."
That's the tradeoff though... SQLite basically has the whole database functionality built right into your application. That's only practical because the functionality it offers is quite minimal.; If you're writing something for multiple developers to work on then everybody could share a Postgres installation on a central server
That's true. I suppose I could have everyone connect to the database on the Heroku staging Dyno for the project though...
Hello. Anyone with experience in django-filer and django-storage (i.e. s3) ?
try <#C0LMFRMB5|django>
<@Gabriele> what; &gt; That's only practical because the functionality it offers is quite minimal.; SQLite's Full-text search was blazing fast before Postgres had a reasonable FTS at all.
"Docker!; I put a `docker-compose.yml` in all my projects now so people can be up and running with it in a few minutes; It won't solve all problems, but it's really nice for dev-prod parity, ish"
"<@Suellen> I didn't say the functionality was slow or bad, just that there isn't so much of it"
true that; but I'd guess the most useful stuff is already there
"Does anyone know if there is any possible way to figure out the proper URL for an API call? I have an issue with an API im trying to work with that basically one of the URL parameters can be changed server side and the guy who maintains the server might as well be AWOL. So basically is there any to see the endpoints available if I make a request to the parent endpoint of the endpoint I don't know?
Example - `<http://crucible.server.com/{unknown-endpoint-name}>`
I'd imagine if there is no WADL or some sort of blueprint for a given server than probably not"
"anyone comfortable with marshmallow? ,trying to remove missing data after deserialization ,i don't want `{'first_field': &lt;marshmallow.missing&gt;, 'second_field': u'some value'}`"
"hello, question related to something i asked yesterday.

i have a small web app that allows users to search instagram for two hashtags.  on the first page they enter their hashtags, on the second page they get the results and a button to process more results.  clicking this button send the user to a URL with the next page token and the hash tags (required for processing next results) stored in the url. like this `<http://10.51.50.10:42066/results/J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%253D%253D/%5B%27lol%27%2C%20%27dog%27%5D>?`

my problem is i keep getting this error and i'm not sure what it means 

```
werkzeug.routing.BuildError: Could not build url for endpoint 'results' with values ['tags']. Did you forget to specify values ['token']?
10.51.50.1 - - [19/Jul/2017 18:36:54] ""GET /results/J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%253D%253D/%5B%27lol%27%2C%20%27dog%27%5D? HTTP/1.1"" 500 -
INFO:werkzeug:10.51.50.1 - - [19/Jul/2017 18:36:54] ""GET /results/J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%253D%253D/%5B%27lol%27%2C%20%27dog%27%5D? HTTP/1.1"" 500 -
```

this is the route
```
@app.route('/results/', methods=['GET', 'POST'], defaults={'token': None, 'tags': None})
@app.route('/results/&lt;token&gt;/&lt;tags&gt;', methods=['GET', 'POST'])
def results(token, tags):
    if request.method == 'POST':
        tags = request.form['text'].replace(' ', '').split(',')
        data = fetch_data(tags=tags, next_page_token=token)
        processed_data, token = process_data(data=data, tags=tags)

    if request.method == 'GET':
        <http://logging.info|logging.info>(""TOKEN: {}"".format(token))
        <http://logging.info|logging.info>(""TAGS: {}"".format(tags))
        data = fetch_data(tags=tags, next_page_token=token)
        processed_data, token = process_data(data=data, tags=tags)
        return render_template('results.html', data=processed_data[:1], token=token, tags=tags)

    return render_template('results.html', data=processed_data[:1], token=token, tags=tags)
```
and this is the template
```
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body style=""background-color:powderblue;""&gt;

&lt;h1&gt;{{ data }}&lt;/h1&gt;

&lt;form action=""{{ url_for('next', token=token, tags=tags) }}""&gt;
    &lt;input type=""submit"" value=""More results plz"" /&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
```; any thoughts?"
"```
127.0.0.1 - - [19/Jul/2017 21:43:01] ""GET /results/J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%253D%253D/%5B%27lol%27%2C%20%27dog%27%5D? HTTP/1.1"" 200 -
```; ```
from flask import Flask
app = Flask('app')
app.config['DEBUG'] = True

@app.route('/results/', methods=['GET', 'POST'], defaults={'token': None, 'tags': None})
@app.route('/results/&lt;token&gt;/&lt;tags&gt;', methods=['GET', 'POST'])
def results(token, tags):
    return 'OK'
```; Strange indeed."
"one thought i just had; my token and tag vars come through as 
```
INFO:root:TOKEN: J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%3D%3D
INFO:root:TAGS: ['lol', 'dog']
```; could the tags coming through as a python data structure as a string have somethign to do with it?; i've been banging my head on this for hours.  and you saying strange indeed gave me some validation that is helping me to not go crazy haha"
"wait, what do you mean coming through as a python data structure?"
"it's getting placed in the url like this `['lol', 'dog']` but encoded; `/%5B%27lol%27%2C%20%27dog%27%5D?`"
Works either way :confused:
hmmmmmmm
`J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%253D%253D` != `J0HWW-lwQAAAF0HWW-jjgAAAFoAKAA%3D%3D`. % sign in debug token got url encoded to %25
?
If I'm trying to parse some xml should I be using something like `beautifulsoup`?
"I've not used beautifulsoup, but if it is just xml there are other xml libraries"
why not lxml :slightly_smiling_face:; it's got `xml` in its name
I believe that is the one I liked.; It can parse xml without you having to know anything about the content.
"and beautifulsoup only has `soup`...; ah, and `beautiful`.."
be sure to use `defusedxml` if you are parsing unknown xml
Yeah I saw there was some possibility of malicious xml with certain libraries unable to deal with it; Why does xml seem so much more annoying than json... ugh
because it is ? :smile:
"oh wow <@Minerva> i see what you are saying.  it's not failing at the flask level, it's failing at the instagram fetch level because the token is wrong"
"Yeah, I would much prefer json."
Woo `from lxml import etree` can't find reference to etree :smile:
`import lxml.etree as etree`; `tree = etree.fromstring(binary_data)`
`no module named etree`
:open_mouth:
gonna stick with just xml.etree lol; pip installed and everything; odd
"enjoy slow parsing :slightly_smiling_face:; but yeah, pretty strange"
Slow and frustrating.; lxml should really be in the standard library.
"well, `xml` already is and they share an interface (I think)"
"all you have to do is ```import requests
import lxml
from lxml import html

def xpathScraper(url,tag):
        page = requests.get(url)
        tree = html.fromstring(page.content)
        web_content = tree.xpath(tag)
        return web_content```"
Yeah I think that the Etree class is shared
Why no `BeautifulSoup`? it supports `lxml` as well
BeautifulSoup's interface is bizarre; like really strange; And it's an abstraction over lxml either way
im not a fan of bsoup; and everything i have ever tried/wanted to do i was able to solve with lxml in one way or another
"I just installed lxml and I noticed I get an import error as well. 
```
Traceback (most recent call last):
  File ""&lt;input&gt;"", line 1, in &lt;module&gt;
  File ""C:\Users\AB14925\Desktop\Viewfinity\PyCharm Community Edition 2017.1.3\helpers\pydev\_pydev_bundle\pydev_import_hook.py"", line 21, in do_import
    module = self._system_import(name, *args, **kwargs)
ImportError: DLL load failed: The specified procedure could not be found.
```"
"lxml has cssselect, which is a godsend"
"I'm not concerned about that, to be clear, I'm not using it in this environment, just wanted to see if <@Myong> was doing something wrong."
I can try and deleting it real quick; then reinstall; one sec
"MS Windows

For MS Windows, recent lxml releases feature community donated binary distributions, although you might still want to take a look at the related FAQ entry. If you fail to build lxml on your MS Windows system from the signed and tested sources that we release, consider using the binary builds from PyPI or the unofficial Windows binaries that Christoph Gohlke generously provides.

<http://lxml.de/installation.html>"
im using the pypi ones though
"Yeah, I just tried updating setuptools and pip and it didn't work for me. May want to try those other binaries if you need it."
#JustWindowsThings
How is a date supposed to be formatted through a GET?; should it be a date object?; such as using `datetime.datetime`
That's what I suspected when I saw the token in the url didn't match the token in the INFO log. I hope it turns out to be an easy fix for you!
holy... there's legitimately no easy way to just grab every element with a tag inside an xml
xpath?
I figured it out had to use `.//{tag}` to grab all subelements of the root; I've got this whole thing figured out now I think. A bit of a larger project than I imagined because I have to make like 4 different requests to get all the information/keys I need to be completely automated so I'm trying to skeleton out a small class to do everything in the end.
"Hello, a design question for a slackbot. I’m using slack’s RTM APIs to establish a websocket connection with slack. Code is deployed on a single instance/machine and everything is working well. Now, I want one more production instance to ensure availability in case one is down. How can I replicate the deployment on two machines?"
You really can't with a slackbot <@Katheryn> - otherwise what would happen is you'd have two bots listening and responding to all events. You may need a fail-over instead where another machine starts up and starts the bot if the main machine fails (of course you would likely have a period of downtime during that failover)
"&gt; you’d have two bots listening and responding to all events.
Yeah, that was the problem even I had in mind. Should I explore on message queues?"
"I guess you could, I haven't checked for any that de-duplicate repeat messages though"
"I have never worked with message queues before. Can we have a configuration where event is consumed only by _one_ consumer at a time? Or, is it replicated to all of them?; But all this sounds too complicated, I think. We only have about 800 users using out bot"
"I am not aware of a way to only have one consumer listening at a time, but you could use a distributed lock for who is the ""active"" listener - but those are somewhat complicated.; consul has a mechanism to do this"
i'd just keep all the state in a database; messaging queues and consul in this would make things overly complicated in what's basically a feed consumption mechanism
"&gt; `i'd just keep all the state in a database`
Could you please elaborate more on this?"
"<@Katheryn> you have two services:
  service a: talks to Slack RTM, receives messages and puts them in incoming database, reads outgoing database, sends event to slack
  service b: consumes messages from incoming database, does logic to generate response, puts outgoing message onto database"
"That doesn't really solve the issue of service a going down though, which is the desire, from my understanding; e.g. HA consumer"
service b can run as many instances as you'd like; and you could run multiple service a as well if you wanted; you'd just have a constraint on message ID uniqueness in the DB
"so, basically, we are using database as an alternative to a message queue here?"
<@Katheryn> the difference with a DB is the unique constraint if you get message IDs; so you could have any number of consumers from the RTM api
alternative isn't quite the right phrase i think
I see
"But depending on your load, you may get some DB locking issues. With 800 users, you are probably OK; even our chat at its busiest wouldn't cause any trouble (that I can think of)"
message queues are really good for service discovery but not as good for reliable storage
"If you wanted the distributed systems approach for load:

1. N consumers -&gt; Rabbitmq Excahnge
2. RabbitMQ Exchange to any bound queues
  *  One queue subscribed for saving to a DB
  * Another for processing

You can do different routing mechanisms so the same work goes to the same worker, but instead just allow dupes and test for dupes on the consumer side; But that's way overly complicated for the current need, it sounds"
"Yes, I would agree. I am more inclined towards <@Marcie> suggestion.
One more question, I am using `crontab` as a kind of “automated restart” setup for my bot’s running service and other scheduled events. Few days ago, there was a problem with `crontab`. Not sure about the cause. Any suggestions on improving this setup? Alternatives to `crontab`?; Can we have notifications setup to know if `cron` didn’t run?"
"Are you polling for it to be up or something?; A `systemd` service would be better, IMO"
"Well, I’m using `cron` to poll and monitor for my bot’s running process. So, to poll cron, we need another monitor?"
"No, systemd would replace that need"
RabbitMQ with HA queues and publisher confirms is a pretty good reliable storage for temporary data
"basically the OS has a construct to ensure a process is always running at a certain ""runlevel""; Look into `systemctl` or `systemd` <@Katheryn>; they should be synonymous"
"Thank you <@Beula> , you are a great help. Will read on those
<@Beula> :taco:
<@Marcie> :taco:"
:toot:
"<@Katheryn> :thumbsup::skin-tone-4: here is an example from the <#C2FMLUBEU|community_projects> bot (<@Alesia> ) <https://github.com/pyslackers/ansible/blob/master/roles/system_service/templates/etc/systemd/system/service.j2>; It's using ansible, so slightly obfuscated, but should give a good example if you can read through that"
"<@Alvin> Unfortunately after changing `from . import config` in `__init__.py` to `from broadway import config` I still receive the error:
```from broadway import create_app, models, util
ModuleNotFoundError: No module named 'broadway'```
Thanks anyway though. It was worth a shot. :slightly_smiling_face:; `latitude = db.Column(db.Float, nullable=False, asdecimal=True)` gives me `Unknown arguements passed to Clumn: ['asdecimal']`...am I doing something wrong here?"
"not sure how to pass an argument to `db.Float` when constructing a Column with ORM; but you can achieve the same with:; `latitute = db.Column(db.Decimal, nullable=False)`; `db.Decimal` (or `db.Numeric`, which is the same) is basically `db.Float` with `asdecimal=True`"
<@Suellen> `db.Decimal` didn't work but `db.Numeric` did. Thanks! :smile:
:slightly_smiling_face:
"Is it better to have a local Postgres database for local testing of my app, or just have Postgres connect to the remote database on the staging server? :thinking_face:; I can think of pros and cons to both, but I think that it's likely one of them is considered best practice..."
"It doesn't matter, although you want to be accessing a separate _database_ on it (i.e. `CREATE DATABASE testing`)"
<@Gabriele> A different database on the staging server though? Wouldn't that be redundant or am I missing something?
"I would say that it is good practice to have local, staging and production environments; with everything as close to 1:1 as possible; and not doing so is a major red flag"
You don't want your testing environment accidentally trashing your live or staging environment.
seen that happen :slightly_smiling_face:
"<@Meg> So, as in having a separate database locally, on the staging dyno, and on the production dyno? (Already have the latter two)"
"correct; so, you work on a laptop, right?"
"I work on my desktop at home, but switch to a laptop when I work remotely sometimes."
"what happens if you want to do a little bit of testing in an area with spotty wifi, eg a coffee shop with a saturated network; if you have a local db, that's one less network resource you need to worry about"
That's a good point. Actually I sometimes work places without any internet.; Guess that's been decided then. Thanks :smile:
"so you can keep a small portion of the prod db on your local machine; don't need to replicate the entire thing fully, especially if you have multi-gigs of records; just enough to have testing and data integrity :slightly_smiling_face:; furthermore, if you use vagrant or docker, you can make onboarding and environment issues between developers much smoother; because _everyone_ is working from the same environment; no worries about Windows issues when 3/4s of your team are on Linux"
<@Meg> Docker isn't for Windows?
"you misunderstand me; docker is cross platform, and isolates your codebase from the environment; <https://docs.docker.com/docker-for-windows/>"
"<@Meg> Oh, yes, I just didn't understand your last sentence I guess. Thanks for telling me about Docker. For some reason I thought Docker was another PaaS or something. Is it actually meant to compliment other PaaS?"
Anyone here familiar with PostGIS?
I've done a bit with it.
<@Gabriele> Cool! Do you know where I might be able to get my hands on some sample geography data to experiment with? I have a database but it's full of shape and geometry data and I want to try querying for all objects within a certain radius of a point which I can't do without geography data.
you should be able to convert from geometry to geography; <https://gis.stackexchange.com/questions/18011/is-it-possible-to-convert-from-geography-to-geometry-in-postgis>
"and furthermore, regarding docker

so, docker basically puts a bare bones VM in which you specify containers for parts of your application stack.; so, if you're on windows and another dev is on mac"
"<@Thomasina>  I personally just used data from sources like Google Maps, querying for places and their long/lat, and adding to my DB"
"you can ensure that whatever issues you have are code related and not OS related; furthermore, bringing in a new dev and getting them integrated with the projects is much simpler, because you already hhave the environment and code _right there_"
"<@Gabriele> Through the Google Maps API? Or do they have downloadable datasets?
<@Meg> Thanks! I'll look into that. Also, Docker does sound really useful. I'm going to check them out! Thanks! :smile:"
through the API
"<@Thomasina> <@Gabriele> <http://workshops.boundlessgeo.com/postgis-intro/geography.html#casting-to-geometry>; if you already have the data, no need to use google maps; and the US Census bureau already has plenty of data for download; <https://www.census.gov/geo/maps-data/data/tiger.html>"
"Yeah, I wasn't suggesting he use Google Maps, just saying that my application did"
ah ok
"<@Gabriele> Oh, sorry I suppose I actually misunderstood my problem. I'm running this query:
`SELECT * FROM towns WHERE ST_Distance_Sphere(geom, ST_MakePoint(71.3033,44.2706)) &lt;= 150 * 1609.34`
and the error is:
```ERROR:  BOOM! Could not generate outside point!
CONTEXT:  SQL function ""st_distance_sphere"" statement 2```
By `statement 2` I think it's actually referring to `ST_MakePoint(71.3033,44.2706)`. This is a valid lat/long though and looking at the documentation it appears `ST_MakePoint` does in fact accept a lat/long. :thinking_face:; <@Meg> Oh, not sure why census data never occurred to me. Nice!"
"you're in canada, right?  there should be something similar for you there; <http://www12.statcan.gc.ca/census-recensement/2011/geo/bound-limit/bound-limit-2016-eng.cfm>"
"Yep. Although any dataset with a lot of records is good. I think I used the US census site awhile ago when doing machine learning so I'm a bit familiar with it, so I'd probably just use that again.; Oh, well since I don't have to look for it I might use the Canadian information then. :joy: Thanks; What I'm trying to do is get all recorded locations within a radius of a specific lat/long. I'm using PostGIS now which has been nice so far, but I'm wondering if there might be an even simpler solution..."
and regarding your query; what is `geom`
To get all locations within a radius of somewhere is exactly the right sort of problem for PostGIS
yeah; because you're working with spatial data
The only simpler solution is to call someone else's API to perform the same operation on their database
and postgis is highly optimized; you could do a naive solution; but it would be significantly less performant
`geom` is a column containing geometry data (in this case it's the boundaries of towns in a small section of the US).
<https://postgis.net/docs/ST_DistanceSphere.html>
"It needs points, not just any arbitrary geometry"
Well I better stick with PostGIS then. While load will be very light at first it could become quite heavy later on.
"for example, make a multilinestring"
<@Gabriele> I assumed the geometry was in projectable coordinates...?
<@Thomasina> if you want more help about gis stuff; <http://thespatialcommunity.org/>
It needs one single point
<@Meg> Oh nice! Didn't think there'd be a Slack for this. I requested an invite now.
are you using flask or django for this
"<@Gabriele> Oh yeah, my bad. I guess what I want to do then (to keep things simple) is to work out the center-point of each shape first."
"I think there are other functions that are more lenient on which types they accept for distance calculations, but the docs for that one suggest that it doesn't"
<@Meg> Flask
"<https://geoalchemy-2.readthedocs.io/en/latest/>; might want to use that instead of raw queries, especially now"
"<@Meg> Oh, yep, you or <@Gabriele> (or somebody at least) posted that here the other day so I have it. I'm running these queries raw in pgAdmin against the database though just to familiarize myself without having to run a .py script each time. :slightly_smiling_face:"
"there isn't a shell for flask, like there is for django?"
There is
so why not use that ORM instead?
but my database in my Flask app isn't set up with the proper data
gotcha
"I just loaded a sample dataset into a database in my local postgres install to play with it, for now; Once I feel comfortable with how it works and the data I need and how to structure the tables for my data I'll do that part (hopefully soon!)"
alright
"So I've loaded a table with a list of world cities but I'm not getting the expected results. For example I can run `SELECT * FROM cities WHERE ST_DWithin(geog, ST_MakePoint(45.4215,75.6972)::geography, 470000)` which _should_ return Toronto and a number of other surrounding cities. I've confirmed that Toronto exists in the database with the expected lat/long. However 0 rows are returned. :disappointed:"
I'm not sure what I'm doing wrong. I've been following examples from articles and there are no errors returned...tried a few variations too.
dear friendssss; why does python tell me:
<@Thomasina> Do you ever get any results? e.g. if you increase the distance to a very large number?
FileNotFoundError: File b’Macintosh HD/Users/Desktop/Programming/AAPL.csv’ does not exist; <@Shelly>; i copied and pasted the path tho
"<@Gabriele> Yes, I increased the number to something huge like 57000000 and had some results - from somewhere very far away from Toronto, or North America for that matter."
"<@Kandis>, try adding a forward slash before ""Macintosh"""
<@Winnifred>  it shows me the same thing
"<@Thomasina> _""the source geometries must both be of the same coordinate projection""_... are you sure the data is all correct?"
<@Kandis> I'm not a Mac user but where are you running your script from? Is that path relative to the location of your script?
I don't think you need to include the MAC HD bit in your path
<@Thomasina> yes its exactly the location
The path looks to be attempting to be absolute but is missing the initial slash
HAHA! i got it; <@Winnifred> you are right
The if/main thing simply means: if executing this script directly run this code. It allows you to have a module that is runnable or importable (that code won't run on import)
"<@Gabriele> So I took a very large dataset of world cities in .csv and imported them into my database, then I added a `geog` column and used `UPDATE cities SET geog = ST_SetSRID(ST_MakePoint(longitude, latitude), 4326);` which ran without errors. Did I perhaps miss something in that command?"
how does one “executes this code”
"Probably not, but that's beyond my knowledge"
`python myscript.py`
how does one “executes this script”***; oh!
<@Thomasina> :taco: 
vs. running `python myotherscript.py` - on a script containing `import myscript`; <@Beula> :fork_and_knife:
Although it looks like you're assigning geometry to a geography column... not sure if that's okay or not
"There aren't all that many times when I have enough knowledge to help around here, so I try to do it when I can.; Maybe I should have ran `ST_MakePoint(longitude, latitude)::geography`?"
Nice!
ST_SetSRID returns geometry
Oh does it? I used the command because I think it was in a solution on StackOverflow...now I can't seem to find the page so maybe I just got mixed up. :joy:
Those commands look fine - but if you try to assign a geometry to a geography column I don't know what will happen
"I see... Well, I'm having a lot of difficulty finding a way of populating a geography column from lat/long coordinates :confused:"
you probably just want a geometry column
"Ok so I found the StackOverflow post. I see that it was recommended to run `ST_SetSRID(ST_MakePoint(long, lat), 4326)::geography`. I omitted casting completely.; After reading it doesn't sound like geometry would be a good fit as my use case involves locations on a global scale; Unless I misunderstand the pros/cons which is certainly possible"
Usually it'll depend on what sort of distances are involved
"i am still trying to figure it out lol; The if/main thing simply means: if executing this script directly run this code. It allows you to have a module that is runnable or importable (that code won’t run on import); this script here means this chuck of code?; chunk*; this code means:
import pandas as pd
def test_run():
    df=pd.read_csv(‘/Users/elaineyang/Desktop/Programming/AAPL.csv’)
    print(df); ?; and can i say, whenever i import something i have to have “if __name__==‘__main__‘:”; or else the imported code cant be run?; <@Thomasina>"
"So for example, I have this script:

```
# cat.py
class Cat:
    def say(self):
        print(""meow"")


if __name__ == ""__main__"":
    Cat().say()
```

I can either call it directly: `python cat.py` and it will meow.

But say I have another module that wants to use this class:

```
from cat import Cat

class ChesireCat(Cat):
    def dress_up(self):
        pass
```

I wouldn't want it to meow until I tell it to
"
"<@Kandis>
So everything...oh wait he beat me to it :joy:; <@Beula> :lightning: :runner:"
lol
"The background on this is that `__name__` is a build in dunder (double underscore). It is set to the name of the module running - if the module is executed directly it's ""__main__"", otherwise I think it defaults to the file name (I don't recall ATM); Tldr you only need the if name/main if you want to be able to execute some code when the script is directly invoked"
"so accordin to what you said, how do you let it say meow on the second code; from cat import Cat

class ChesireCat(Cat):
    def dress_up(self):
        pass"
"That class inherited the meow method, so make an instance and call say on it!

Sorry, a class may have been a bad example"
<@Beula> <@Thomasina> <@Winnifred> :taco: thanks so much!
<@Kandis> :knife_fork_plate: Thanks! I was actually pretty hungry.
haha you havent had breakfast; we share the same time zone!; oh you meant my taco; lmfao
"Oh, cool! Didn't notice the time zone. Actually I had a small breakfast but I woke up at 1AM, so I haven't eaten in 8 or 9 hours. :dizzy_face:"
:fearful: hope your bed time is not usually like this lol it doesnt sound good
"Haha, I don't really have a bedtime. Sometimes I'm going to sleep at 10PM, other times 6AM, other times 2PM. It seems to change every day too. I can't hold a schedule. Today maybe I'll sleep around...I'm not even sure...8PM? I was a night owl but now I'm a cuckoo bird it seems. :joy:; <@Kandis> By the way, if you don't mind me asking, I'm just really curious; are you learning Python for school?"
"haha! i learn it for my career :joy: i wanna be able to build a trading program and things like that; i am studying finance at school; python is kinda cool. i was thinking of learning SQL or R after it, but woah, python seems deep enough for me to learn quite a while <@Thomasina>"
"<@Kandis> Oh, niiiice! That's really cool. Yes, I'm not sure whether R would be all that helpful if you learn Python, although learning at least basic SQL could come in handy sometimes. I suppose you'll be doing a lot of data science in your field? Perhaps machine learning?; I've been doing web and software dev for a long time but started learning Python more recently as it was required for a project involving machine learning."
"see. i found something online, here:; Banks use Python for pricing, risk management and trade management platforms. More recently, they’ve been reprogramming their trading systems to run off Python rather than other, clunkier languages."
I was a finance person <@Kandis> - started with python too :smile:
"<@Beula> Oh that's right! Then did you work with pandas, numpy, scikit or similar tech?; I'm not sure how long ML has played a big role in finances but would be interested in knowing."
<@Beula> so cool. was python helpful to you during work?
"No, I was more in the retail side (to clients directly, vs in a bank) and at the time I didn't know how much was out there!; Yeah <@Kandis> , I wasn't doing a ton of high intensity stuff with it - but I was able to remove about 10-12hours of work/week by automating silly tasks"
so cooooooool; were you in a retail bank you said?; what kind of bank; <@Beula>
"No, the retail side (not a bank). I was a financial advisor; and stock trader for clients"
"<@Kandis> I believe there's a ton of opportunity in this space, and it also allows you to branch in different directions should the economy change. Not only a lot of jobs but a lot of entrepreneurial opportunities as well. It's a smart choice."
<@Beula> SO COOL what do you do now then; <@Thomasina> :+1::skin-tone-3:
"I sometimes use this for simple unittests. The module is meant to be imported, but I have a few things I want to test that can be tested individually, so throw it under an if name main at the bottom and test away.

I wouldn't suggest this for a larger project though, but for something simple or just to test in development it works."
That's a good idea! Do you ever use doctest too? It's excellent for simple functions <https://docs.python.org/3/library/doctest.html>
plt.grid(True); what does this mean
I want to learn python . What is the best resource to refer for object oriented python ?
"<@Kandis> I'm not entirely sure what library `plt` is referring to but if I'm correct I think it simply enables the display on a grid in any charts you generate.; Oh ya, probably pltlib"
"<@Helene> Do you know any other programming languages, or are you just starting out?"
"<@Kandis> might mean the matplotlib library, since `import matplotlib.pyplot as plt` is common convention; and for future reference, when you ask these kind of questions (what does this variable do, etc), its best to add some more information; and in this case, if you had the code in front of you, you could search for instances of `plt` in the code; which would have brought you to the import statement, among others"
yea i just didnt know the grid(True) part and kai_m answered me ;D
yup . I know basic programming .
understood
but my concepts of object oriented programming are not so cool .
can you suggest some good resources ?
Hoping others come along that are newer than I am with their resources they used :smile:
and can you share some advanced resources you use ?; May be something may help
"You can go through the python tutorial, otherwise I just look at stuff as they come up. <https://docs.python.org/3/tutorial/index.html>

Later when you know Python better, Effective Python is a good book - but again, after you know the language and can appreciate the tips"
Exactly how much water should be in the paddy for my summer crop of rice? I need agricultural advice.
and getting stackoverflow working for you is also a skill that should be honed.; `from stackoverflow import fibonacci`
"if you want to understand OOP, I would recommend learning Java. Java is a statically typed language, but all of it is object oriented and must be inside of a class."
Has any one here ever tried to implement a SDN using python ?
<@Hyman> sdn?
Software Defined Networking; <https://en.wikipedia.org/wiki/Software-defined_networking>
"Hi.
I have a time in a string format as 
`2017-07-21T02:16:51.449-07:00`

I am seeking this to convert it into unix-timestamp.
Anybody have any idea ?"
"```
$ pip install arrow
... then, in Python ...
t = arrow.get('2017-07-21T02:16:51.449-07:00')
print(t.timestamp)
```; If that doesn't work, you can use `arrow.get` with a specific format string; I recommend `arrow` over standard library functionality."
"<@Gabriele> : Thanks for response!
that worked :slightly_smiling_face:
i hope there's no problem in using that..."
shouldn't be; since its intended to be as close as a drop in replacement
"Also it does consider 
`07:00`
from the time, right ? which i think is the timezone, right ?"
"specifically it's -7:00, and yes"
"so, java had a really crappy time/calendar library in the standard library for years before it pulled in `joda-time` into the core API; now, if only python could do something similar..."
"I think the success of pypi has meant that standard library development has stagnated somewhat, which is a shame; we have a poor selection of date/time libraries, and nothing much of use for multimedia generally. But hey, we have `dbm` for ""databases"", `nntplib` for all the newsgroups we need to access regularly, and `sunau` for reading ancient audio files, so it's not all bad"
is this sarcasm? :disappointed:
just a little
sqlite and shelve / dbm modules aren't bad; they are very much OK
sqlite is great; But I do think Python would be better if there was more effort spent on getting good packages into the standard library
yeah.. maybe.. but it's not that easy; say you want a better datetime. what do you pick?; Arrow? Why not Delorean?
"That's not the sort of thing you need to answer immediately in a chat... you'd get a few knowledgeable people, they'd discuss it for a bit, find use cases, check code quality, etc"
"There's going to be a huge debase, because it's not like it's clear which of the two is massively better."
"Doesn't matter. This happens already for other PEPs. There's a discussion, then a decision is made"
"But PyPI provides an illusion of a democracy, where you can chose whatever you want.; Python and PEPs isn't a democracy at all; so maybe it's a calculated decision -- to not introduce some things into stdlib"
"PyPI wouldn't go away. Users are always free to reinvent the wheel; And yeah, it probably is a calculated decision; one I disagree with; If you're gonna say that batteries are included, they should be good batteries, ones suitable for powering modern software"
Reasons for importing something inside of a function?. Besides avoiding circular imports
Maybe it's not relevant to anything else in the program; Generally speaking I avoid it if possible
I have just done it for avoiding circular imports on some celery tasks. But i have seem it on open source projects
"it you're trying to limit the number of imports, I can understand"
especially highly specific imports
It also violates PEP8
"but isn't there a bit of a penalty in doing so?; performance penalty, that is; because that method gets hit; has to import a dependency before continuing execution"
I read that imports are expensives
they can be
"and some people leave the more expensive ones in functions that arent often called, thats a main reason i see it too"
hellooo friends; anybody knows what this means; i saw this code in here:
first link in google by query numpy arrange; <https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html>; or did you ask something specific?
what about t**2?? <@Luana>
t power of 2
but t is an array?
how does t**2 and t**3 work in this image <@Luana>
may be overloaded `__pow__`; I haven’t work with numpy yet :slightly_smiling_face:
:eyes:
"the function applies to every element of the original array; so you see three plots: `y = x^1`, `y = x^2` and `y = x^3`"
"I have here a very small unit test program which is supposed to test 
that an object throws an AttributeError exception when a nonexistent
attribute lookup is attempted.

```
""""""
It works fine, but I had to put the attribute access in a function.
I'd rather not define that function and use the assertRaises as follows:

  self.assertRaises(AttributeError, lambda item: item.donation)

However, this gives me a ""TypeError: &lt;lambda&gt;() takes exactly 1 argument (0 given)""

Is this somehow possible without helper function?
""""""

import unittest

class Person(object):
    pass


class MyTestCase(unittest.TestCase):

    def testNonexistentAttibute(self):
        def bombfunc():
            p = Person()
            p.name = ""Joe""
            p.money = 2800
            p.money += p.donation # boom!
            
        self.assertRaises(AttributeError, bombfunc)
        
        self.assertRaises(AttributeError, lambda item: item.donation) # How to make this work?


if __name__  == ""__main__"":
    unittest.main()
```"
"I know you can use a `with` block in some other test packages, but to be honest this seems like a weird thing to be testing for"
"You could probably use `self.assertIn(""donation"", item.__dict__)` or some similar abomination if you really want a one-liner"
"<@Gabriele> Yeah it sounds weird, but actually the object under test is some kind of container giving both attribute and keyed lookup access to a set of properties, and I need to test whether the right exceptions are thrown during lookup of a nonexistent property."
"Sounds like a bad idea to me. But if I had to write tests for it, I'd just use the __dict__ check directly. Or `hasattr`."
"<@Gabriele> Bad idea? You have a better idea? Thanks for the `hasattr` tip! This is what it's all about, the `Bunch` object: <https://github.com/motoom/bunch>"
"I think that is unnecessarily blurring the lines between a container and a type. If you don't know what attributes a type has, then you don't really know what interface it provides, which makes it a very awkward object to work with"
"<@Gabriele> I use it declutter my source code. Basically it is a `dict` like object where you don't have to type `[""` and `""]` all the time. So I can write:```; ```for r in bunched(recordset): # Where recordset is fetch_all() of DictCursor
   if r.salary &lt; 3000:
      print r.name, ""could use a raise""
```; Psycopg2 has a `NamedTupleCursor`, which provides the same syntax."
"In that case, at least the schema is documented elsewhere. But I don't like it."
"The alternative would be:
```
for r in recordset:
   if r[""salary""] &lt; 3000:
        print r[""name""], ""could use a raise""
```
You prefer that?"
Maybe
I can work like that. You have a job for me? :stuck_out_tongue_winking_eye:
"In the general case, yes. It's not exactly a great hardship. In a database context, it might be nice to have a type that directly reflects the DB schema - which is what we have ORM for"
"btw, the `NamedTupleCursor` gets its attribute names from the fields behind the *SELECT*. I.e. `select name, salary from Employees` would result in *.name* and *.salary* attributes on the tuples in the resultset."
"I just really dislike things that attempt to cut down on a bit of typing by ruining the interface. Several parsers do it, like BeautifulSoup. lxml.objectify is even worse"
I wouldn't call it ruining. It makes the code more readable to me. I prefer dot notation over index lookup with a string.
"The dot notation and the index lookup carry different information. `x.y` implies that `y` _must_ exist. `x[""y""]` implies that a value for ""y"" might exist, if someone added it earlier."
"Except xml node is not a container, but an object :confused:"
"Ah, we have a different view on that too. When I see `x[""y""]` in code, I assume the programmer knows that an *y* value is present, or should be present (punishable by KeyError). When I see `x.get(y)`, then I know the programmer is trying to communicate to me that *y* perhaps does not exist in *x*."
"it's an object that contains an arbitrary number of other objects; <@Ruben>  But the point is that you see it's a dict, and that the contents vary; Obviously you can make assumptions if you know what's been added, but the syntax tells you the nature of the structure you're working with"
"<@Gabriele> Yeah there you have a point, `x[""y""]` certainly conveys that *x* is a dict.; ...or at least a mapping type on which you can do indexed lookups.; Now wouldn't it be fun to override `__getitem__()` to call a memberfunction instead of looking up a value, and have `__call__()` lookup an indexed item?; You could write `a[""save""]` to call functions and `a(""age"")` to lookup values.; :joy:"
I'm trying to use Pycharm CE with Flask but I can't seem to configure a interpreter to run `virtualenv/Scripts/flask` or `python -m flask run`. Is there anyway to run Flask applications inside Pycharm without having to buy the pro version?
"<@Fern> I believe you just need to set the interpreter to the virtualenv Python, then in the run panel you use flask as the script; That's not an exclusive pro feature as far as i know"
How would I reference flask as the script?; <@Beula>; <@Patty> not possible
Send a pic of what you see
I'm also stuck on Windows...
What does that have to do with the pycharm config?; Send a pic of your pycharm window; The config
"Default, which points to my main.py; Ignore the script parameters, it was just me playing around"
"Script should point to flask from the virtualenv, if you're in one; Flask is the script/executable"
in `env\Scripts`?
`which flask` would show the path on posix
yes that's right; but I can't use that in Pycharm since it is an EXE file
"Then be sure to set the working directory in that same window to the project root (where main is); On mobile, I'll check back when I get to my office"
Windows BS
"one reason I suggest using a virtual machine; eg, docker or vagrant; anything other than java or C# on windows is more trouble than its worth, in my experience"
agree <@Meg>
"I have Flask running just fine in PyCharm on Windows. Not at the machine now, though."
Community Edition <@Gabriele> ?
"No, but I don't expect it matters"
"Pro set's everything up automatically, used it at my last job"
I never use automatic setup. I would have done it manually; I just filled in the fields as in Joe's screenshot
do you remember what use set the Script file to?
"No. I might just have a file which contains `app.run()`.; Apparently that's not recommended any more, probably because it doesn't play nicely with other aspects of Flask that I'm not a fan of"
kylotan: not a fan of many things; :slightly_smiling_face:
Only with flask
"it is true, I'm pretty unhappy with most software I work with"
haha; i'm sticking with `app.run()`` for now
"plt.plot(t, t, 'r--', t, t**2, 'bs', t, t**3, 'g^')
Takes arguments in sets of 3:
&gt; (x-val, y-val, 'color/shape')
Each plots a function.

So `t, t, 'r--'`  corresponds to one line, `t, t**2`, 'bs'` to another, and `t, t**3, 'g^'` to another.

'r--', 'bs' and 'g^' indicate color and shape. example: 'g^' stands for green triangles."
Best way to approach calling function using a dictionary to store the func object as a value. I'm doing this in a class so it doesn't quite work properly the traditional way of literally just using the function object name as the value.
"Hi, I'm streaming audio from a radio station and want to same time save to upload it to dropbox, But couldn't upload to dropbox, however it perfectly stream and saves on  local drive, but can't upload to dropbox, here is the script ```        stream = urllib.request.urlopen(self.stream_url)
        start_time = datetime.datetime.now()
        # open('stream.mp3', 'wb') as dest
        dest = open('recording.ogg', 'wb')
        while (datetime.datetime.now() - start_time).seconds &lt;= 30:
            print((datetime.datetime.now() - start_time).seconds)
            #dest.write(stream.read(1024))
            try:
                meta = client.files_upload(stream.read(1024), 'recording.ogg', mute=True)
                print(""Uploaded "" + 'recording.ogg')
            except:
                print(""Failed to upload "" + 'recording.ogg')```"
What is client?
"Hey guys, I've been working on a project, it's about searching for some news daily in GNews through Python... Here's my code:
```from lxml import html
import requests

response = requests.get(""<https://news.google.com/news/search/section/q/cfe> méxico"")
# Check for request status
if(response.status_code == 200):
    pagehtml = html.fromstring(response.text)
    # Search for news headlines
    news = pagehtml.xpath('//div[@class=""KaRWed""] \
                            /div[@class=""deQdld""] \
                            /c-wiz[@class=""PaqQNc""] \
                            /c-wiz[@class=""lPV2Xe""] \
                            /a[@class=""nuEeue""]/text()')
print(""\n"".join(news))```; But it doesn't print anything. I tried _almost_ everything :disappointed:"
that xpath looks invalid
Sure? Python doesn't raise any exception
also you need to add `%20` in between `cfe mexico`
"Then, still not working :disappointed:"
"I think all you need is `//c-wiz/div/div/c-wiz/a/text()`; `//c-wiz/a/text()`
or `//*[@class='nuEeue hzdq5d ME7ew']/text()`"
"You did it! But I got the title `&lt;a href=""actual url I want to import too""&gt;Title I just imported, and that's great!&lt;/a&gt;`"
so you would pull in both
:taco: <@Martha>; How? :open_mouth:
`//*[@class='nuEeue hzdq5d ME7ew']/text()` `//*[@class='nuEeue hzdq5d ME7ew']/@href`
In the same line?
"I usually separate them; ```title = pagehtml.xpath('//*[@class='nuEeue hzdq5d ME7ew']/text()')
website = pagehtml.xpath('//*[@class='nuEeue hzdq5d ME7ew']/@href')
return (title,website)
```

or you can do a list or whatever you want - if your writing it to csv then out put it to a list as a row"
"BTW, the code that worked was `//c-wiz/div/div/c-wiz/a/text()` :slightly_smiling_face:"
"if you change the last part to `/@href` that will give you the url; `/text()` gives you linked text , in this case the title; if you wanted the class name you would to `/@class` at the end - ( just to give you an idea how its grabbing pieces of data when you look at the raw html)"
"This is awesome, thanks again! Returned two lists, ready to work with them... THANKS!; :taco: <@Martha>"
thanks :slightly_smiling_face:
"```
nums = [1,2,3,4,5,6,7,8,9,10]
# Using map + lambda
my_list3 = map(lambda n: n*n,nums)
print(my_list3)

Output ---&gt; &lt;map object at 0x000000E8107DF0B8&gt;
instead of 
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```; why ?"
"`map` returns an iterator (lazily); i.e. if you have a million objects and apply a function with `map`, the `map object` will be returned right away and the actual result of a function will be applied when you iterate over the values; `my_list3 = list(map(lambda n: n*n, nums))` is one way to ""fix"" this"
ok got it
I'm trying to wrap my head around GeoAlchemy but I'm having a really hard time. I have a lat and lon column in my table...should I be using a geometry column instead?
yes
"Ok...but I'm not sure if I should be using geography or geometry...If I wanted to show points over the size of, say, the continental US, would that be a problem with geometry?"
"Are you showing points over that sort of area within a single query? And what are your accuracy requirements?; PostGIS is definitely awkward to work with, I'll give you that. And understanding the geom/geog stuff, and converting between them, is fiddly. But stick at it.; I have a geography column in my DB (specifically, `geography(Point,4326) NOT NULL`), and it works for me. I only need to find places near other places, and each place is represented with a point, so I don't have rigorous requirements on accuracy, or the need for it to be correct over long distances; So I could probably have been okay with a geometry object"
"The accuracy doesn't have to be particularly high at that distance, just good enough that if the user zooms in on that point on the map it doesn't drift so much that it appears to be flying across the map. Haha
Thank you for your encouragement! I am determined to figure it out. :slightly_smiling_face:
I suppose that the important part is showing points within a much smaller scale (say a few city blocks in each direction) within about 5 meters of accuracy. I'm just thinking though that even if the large scale stuff isn't important, why not use geography anyway?"
"Geography has fewer functions available on it, so you need to convert to geometry to perform various tasks; I mostly just compare distances, so geography is fine. The geography type basically exists to allow for accurate distance comparisons; But trying to perform complex perimeter or area calculations on the surface of a not-quite-sphere is complex, so for that sort of thing, I think that is where they require you to project to geometry and suck up some error"
"Ah I see. Makes sense. The only thing that's important is that I'm able to get everything within a box (which will be the area the user is viewing in the app). Distance between points, perimeters, and areas, aren't important"
"Sounds like you want the ST_Contains test. It operates on geometry. Make a polygon of your box, test it against the points.; There's also ST_Covers for geography, but it appears less used."
"<https://www.amazon.com/PostGIS-Action-2nd-Regina-Obe/dp/1617291390/ref=sr_1_1?ie=UTF8&amp;qid=1500718692&amp;sr=8-1&amp;keywords=postgis+in+action>; <@Thomasina> if you're going to do more work in this regard, I would suggest you buy that book and review it carefully."
"<@Meg> Thanks! This looks like it would be very helpful for me. If I need to do much more PostGIS stuff after this I think I should strongly consider buying it; <@Gabriele> Oh ok, I'll take a look at ST_Contains"
"well, considering your project is very reliant on GIS, I would get it regardless"
"Well, I would but I'm super duper tight on money at the moment so unfortunately I need to try to hold off for the time being. I'll definitely take a look when I have a bit more money to spend though :slightly_smiling_face:"
:thumbsup:
My Alembic or more specifically SqlAlchemy-Migrate keeps trying to drop the spatial_ref_sys table required by PostGIS. Is there a way to make it ignore it?
<@Thomasina> <http://dev.utek.pl/2013/ignoring-tables-in-alembic/>; &gt; While working on spatial enabled application I came up to a problem with spatial table in my postgres database (spatial_ref_sys). Alembic insisted on deleting this table as it wasn't declared in my models.py.; I think it's your situation described
"<@Suellen> Yep, exactly. :smile: Thanks!"
:slightly_smiling_face:
One thing that confuses me a bit is that his `run_migrations_online` function is _completely_ different from mine. :thinking_face:; It makes me wonder if this is built on an older version of the function and if replacing mine with this could lead to problems
"You can probably adapt it somehow; BTW, Alemic docs states that migrations should not be committed without human inspection first, so a really simple solution is to manually remove the ""drop table"" bits; Not really a beautiful solution, but still"
<@Suellen> Oddly removing the `drop`s manually fixes the error _but_ none of the model tables were created in the database... :facepalm:
:open_mouth:
"So just dropped the alembic table, deleted the migrations folder and did the whole process over but still no tables? Not sure what I'm doing wrong.; Then again the migration script has nothing in it for creating the relevant tables. :thinking_face:; Only code for dropping the PostGIS table which I removed"
it means that it can't detect your models for whatever reason :confused:
"Oh! Yes, I just changed my models from subclassing `Model` to subclassing `Base` from `declarative_base`. Guess that's why.; I'm not sure if that was a good idea but I couldn't help but notice that subclassing `Model` wasn't something done much outside of tutorials."
:cry:
:upside_down_face: :question:
This is from a real-life product
"Isn't it necessary to derive from Model if you use flask-sqlalchemy, and Base if you just use bare sqlalchemy? There is a difference, as I found out"
"Why with most SQLAlchemy extensions do they show a couple examples - usually ORM and core - and neither one of them look like this?; <@Gabriele> Good to know. :sweat_smile:; I may be but a novice Python dev, but someday I aspire to be a mediocre intermediate dev!"
"You most definitely will be; &gt; and neither one of them look like this?
Eh, I asked myself the same question. Turns out, writing a tutorial based on real-world applications isn't fun for anyone; Novices will 100% be confused; it's way easier to show the first 2-3 steps with Core or ORM, and move on to the first steps in anything else :slightly_smiling_face:"
To be completely honest I found machine-learning less confusing :smile:; I have a sort of love-hate relationship with it
you must be good with maths
"Not that great, but I do enjoy learning math. Honestly read about calculus and all sorts of things for fun. I wasn't really crazy about math as a kid so I'm not sure why that changed.; I was doing the Stanford ML course from Coursera but had to stop at one point once things became a bit too complex. I still intend to go back to it after studying more though."
What is an pythonic way to specify class dependencies?
"```
class Foo:
    def __init__(self, dependency_a, dependency_b):
        ...
```"
How would I inject those dependencies? Are there any good DI package?'; <@Collette>
"<@Fern> `foo = Foo(dependency_a, dependency_b)`; You don't need DI framework in python, really"
I'm used to strictly typed languages; haha; So I just need to rely on duck typing?
"Yep, just pass arguments around"
"```
class User():
    name = ''
    email = ''

    def __init__(self, name, email, json):
        self.name = name
        self.email = email
        self.json = json

    def toJson(self):
        return self.json.dumps({
            'name': self.name,
            'email': self.email,   
        })
```; is this pythonic? <@Collette>"
"`self.json = json`
I think there is a better name for this parameter"
Or would you just use the `json` module without specifying it as a dep in the constructor?
"yes, this!"
why? just interested :slightly_smiling_face:; because it is a built-in?
"`to_json` only makes sense with json, and json is always available"
"```
import json

class User():
    name = ''
    email = ''

    def __init__(self, name, email):
        self.name = name
        self.email = email

    def to_json(self):
        return json.dumps({
            'name': self.name,
            'email': self.email,   
        })
```; like this?"
"I think it's quite nice; btw, you don't need
```
    name = ''
    email = ''
```
in your class definition; `self.name` sets an attribute for every new instance already"
I know but I think it it's more explicit; What would I use if I would to serialize SQLAlchemy model result?; would like to be able to encode the results as JSON or cast it to a dict; Is `marshmallow` any good or is there anyway to it with pure python easily? Can I implement a special attribute like `__json__`?
marshmallow is the tool to go
what should I use for web dev?; Flask? aiohttp?
"oh, it's up to you completely, there are too many options for one to be considered the only way :slightly_smiling_face:"
I'm searching for something that can handle async methods since I'm going to fetch data from external HTTP APIs; Can I do async I/O in Flask? Woud like to use async/await since I'm already familiar to that concept
"I have no experience with async :confused:
But Flask can play nicely with WebSockets for example"
"Hmm; ""However Flask is just not designed for large applications or asynchronous servers. Flask wants to make it quick and easy to write a traditional web application."""
No you can't really do asyncio with flask. 
What happens if I try? :grin:
"There's some gevent based options for flask that makes it ""async"", but generally it's considered best to have a background worker do asnyc things (celery or rq)"
so I would be better of to use aiohttp?
"You can combine sync with async by using `loop.run_until_complete`. it will work locally, but once you run in thread mode (prod) you wont have an event loop."
don't want to use any queuing
"<@Fern> if making lots of remote calls in parallel is required for returning the response, i would use an asyncio framework. Sanic is flasklike; Aiohttp is also a good option. "
Seems nice; Then I just need to figure out how to get JWT auth working :smile:
jwt-extended!
that may work with the Sanic API
"<@Fern> better have `to_dict` method, so you can serialize it into more than just json"
"Say, yaml"
I'm considering how to make this part python 2 friendly
"it works, but I have to do it in a couple of places in my script"
what is the proper way to make this code work in both python 2 and python 3?
The quick and easy way is to just make a function that gets the basename from your string.
Hi! What TUI library would you guys recommend learning? I want to make GUIs for the terminal but I dont want any new windows opening
easy or hard? :stuck_out_tongue:
"Whatever really, as long as it gives me the oppertunity to develop some kind of gui for an application for the terminal :slightly_smiling_face:"
"<https://github.com/pfalcon/picotui>; There was another project like that but I can't find it!; Very similar, with windows and common elements like checkboxes...; If you want something more barebones, then good old `curses`, or `bearlibterminal` for a modern approach, though it's aimed at games"
"Thanks, will check them out!"
"```
Hi, I have a file with following contents
&gt; 1234 alphabet /vag/one/arun  
&gt; 1454 bigdata /home/two/ogra  
&gt; 5684 apple /vinay/three/dire
but i want the output to be like
&gt; 1234 alphabet one  
&gt; 1454 bigdata two  
&gt; 5684 apple three
```"
tee hee :slightly_smiling_face:; `sed -r 's|(.+)/[^/]+/([^/]+)/.+|\1\2|g'`
"Even though I dont have anything to do with this question, could you explain the logic behind the answer? The formatting sentence seem so random"
"`sed -r` is an extended mode, so that `+` is enabled (matches one or more characters, unlike `*` that matches zero or more); `s///g` or `s|||g` or any symbol instead of `|` is how a basic replacing expression is constructed.
The first field is what to match, the second is what to replace it with.; `(.+)/[^/]+/([^/]+)/.+`
`(.+)/` matches anything from the start until the first `/` and puts found characters in the first group (`\1`); `[^/]+/` matches anything that is not a slash, and then a slash (`vag/` or `home/`); `([^/]+)/` matches the same thing, but puts the stuff found in-between slashes in the second group `\2`; and then `.+` matches whatever comes next to the end of line; and the second field tells sed to replace the line with `\1\2`, so our saved groups side-by-side: the first group was everything before the first slash, and the second group was the stuff between 2nd and 3rd slashes"
"Ah ok, thanks a lot for the explanation!"
"I just whizzed through some boto3 S3 scripts. Now I’m working on a boto3 route53 script, and I can’t for the life of me figure out what’s going wrong. On top of that I’m not finding much good documentation. Can someone point me to some good example scripts or documentation? I just want to start by figuring out how to get it to list my Zones, and I think from there it will click."
"<@Pamella> s3 works globally. It doesn't even have the concept of regions, not mentioning availability zones."
What exactly you're trying to do and what exactly fails?
"<@Jessie> This little program does that: ```
inputdata = """"""
&gt; 1234 alphabet /vag/one/arun  
&gt; 1454 bigdata /home/two/ogra  
&gt; 5684 apple /vinay/three/dire
""""""

for line in inputdata.splitlines():
    parts = line.strip().rsplit("" "", 1)
    if len(parts) &lt; 2: continue
    subparts = parts[1].split(""/"")
    print parts[0] + "" "" + subparts[2]
    
# Output is:
&gt; 1234 alphabet one
&gt; 1454 bigdata two
&gt; 5684 apple three
```"
<@Suellen>  <@Ruben>  thanks guys
"But wait! I can squeeze in a regular expression: :stuck_out_tongue_winking_eye: ```
import re

inputdata = """"""
&gt; 1234 alphabet /vag/one/arun  
&gt; 1454 bigdata /home/two/ogra  
&gt; 5684 apple /vinay/three/dire
""""""

transform = re.compile(""(.*)/.*/(.*)/.*"")

for line in inputdata.splitlines():
    m = transform.match(line)
    if not m: continue
    print """".join(m.groups())
```"
"```
echo '&gt; 1234 alphabet /vag/one/arun
&gt; 1454 bigdata /home/two/ogra
&gt; 5684 apple /vinay/three/dire' | awk '{ split($4, var, /\//); $4=""""; print $0 var[3];}'
&gt; 1234 alphabet one
&gt; 1454 bigdata two
&gt; 5684 apple three
```; Do not underestimate `awk`!"
awk is cool
And its much more readable than `sed` version :wink:
"Yeah, but if you want to build this into an already existing Python program, a few lines of code will do.; Oh wait OP mentioned two text files on his file system... :stuck_out_tongue_winking_eye:"
"<@Collette> I figured it out … I was doing everything right, but there was a missing _ in main … can’t believe I missed that and can’t believe it didn’t give me an error on that"
"""Missing _""?"
"I’m just building up a set up scripts to do everything in AWS as practice, as well as to help create a more automated envirnment for my partner (they do dev, I do ops); as in ``if __name__ == ‘__main__‘:``` was ```if __name__ == 'main':``` very embarassing error"
<@Pamella> what kind of scripts? what do they do?
"i just started tonight, the first one creates an S3 bucket, the second sets an S3 bucket to do static web hosting. Now I’m paying with route53. Just got it to spit out all my hosted records. Next step is to get it to set DNS for the S3 bucket website hosting, then put it all together. That’s just the first step … but pretty much trying to do everything I can.; Learn more AWS/Kubernettes/Terraform and get a better workflow on AWS or my partner’s web dev"
So this is table
"But what do you call this?; The second one wouldn't be called a table too would it?  It doesn't contain multiple lines of info, only direct information matching a description of the info; I just want to know how to differentiate between the two when describing it to someone else."
an entry? a row?
Well it's a list of entries; What would you call a list of entries
"a list of entries?; broken up into sections; via nesting and other block syntax rules; your second example would work with json, with some property name changes"
<@Jenice> I'd call it a list of attributes and their values.
Does anyone here have any experience using prompt_toolkit library? <https://github.com/jonathanslenders/python-prompt-toolkit>
<@Claudia> Looks interesting. Why are you looking for someone with experience with this module?
"I would love to see what others have built using that library just for inspiration <@Ruben>. Found it while exploring ""Haxor-News"" source code on github but that source code is a bit too complicated for me to understand since I dont have several years of experience in Python.; I am currently building myself a cli password manager just to learn more python and I would love to utilize prompt_toolkit for this project."
I'm not sure why I'm getting this error. Do I need to manually import geoalchemy2 in the auto-generated migration script?
<@Thomasina> yes
<@Signe> Thanks! Did the trick :smile:; I still can't get PostGIS's `ST_DWithin` to work. I followed this tutorial <https://www.compose.com/articles/geofile-everything-in-the-radius-with-postgis/> step by step and my query still returns no results. I don't see any difference between what I'm doing and what's going on in the tutorial...
"Hey guys. Just posted this: <https://github.com/khdc-me/citi-bikes/tree/master/01-num_bikes_to_purchase> and was wondering if you guys had any suggestions on how to speed up this part of it
```
def get_num_mf(fn, kt):
    """""" Get gender of riders who are between the ages of 50 (inclusive) and 90 (exclusive),
            and whose 'tripduration' is longer than 60 seconds.
            -  Don't trust that data provider has eliminated all &lt;1min rides.
            
        return string
    """"""
    now = datetime.datetime.now()
    with open(DATA_FOLDER + fn) as csvfile:
        reader = csv.DictReader(csvfile)
        if kt:
            csv_keys = ['Trip Duration', 'Birth Year', 'Gender']
        else:
            csv_keys = ['tripduration', 'birth year', 'gender']
        num_m = 0
        num_f = 0
        for row in reader:
            if (row[csv_keys[0]] and row[csv_keys[0]].isnumeric() and int(row[csv_keys[0]]) &gt; 60
                and row[csv_keys[1]] and row[csv_keys[1]].isnumeric()
                and now.year - float(row[csv_keys[1]]) &gt;= 50 and now.year - float(row[csv_keys[1]]) &lt; 90
                and row[csv_keys[2]] and row[csv_keys[2]].isnumeric()
                and (int(row[csv_keys[2]]) == 1 or int(row[csv_keys[2]]) == 2)):
                # from citi bike web site: Gender (Zero=unknown; 1=male; 2=female)
                if int(row[csv_keys[2]]) == 1:
                    num_m += 1
                else:
                    num_f += 1
return num_m, num_f
```; csv file that it looks through has between 500K and 600K records. There are 12 files, roughly same size that it gets fed one at a time. Takes anywhere from 5 to 7 seconds per file."
"<@Deedee> try this one:
```
for row in reader:
    try:
        duration, birth_year, gender = [int(row[key]) for key in csv_keys]
    except ValueError:
        continue
    if duration &gt; 60 and 50 &lt;= now.year - birth_year &lt; 90:
        if gender == 1:
            num_m += 1
        elif gender == 2:
            num_f += 1
```"
So simple.. so elegant.; Gonna give it a shot.; <@Collette> :taco:; Looks really nice and condensed... Runs at about the same speed though. But am definitely subbing this into my repo. :smile:
<@Deedee> then it's time to <https://docs.python.org/3/library/profile.html> your code
Good morning.  I am working with Socket for the first time. I have hit on an error and it is so generic google is not very useful this morning.  I was hoping to get some direction I get error 54 connection reset.   I am going to supply the full script as a snip right after this message.  This is a super basic thing to download some RFC as a test of learning Sockets a bit.
"""socket"" is lower-case, by the way... it's not a package, it's just a low-level networking concept. Error 54 / ""connection reset"" is just an obscure way of the operating system telling you that the connection was closed.; It is usually helpful to know which line the error came from (it'll be in the traceback). It also looks like your HTTP request is missing a blank line after the header, but maybe I've misremembered that part"
TRUE
"<@Ressie> any reason for sockets over just making HTTP requests?; Additionally, that site is served over HTTPS. so you’ll need to use SSL to make the requests then via sockets"
<@Patty> simple exercise. I would normaly work up the stack.  I am just trying to get a deep understanding of said lower stacks.
"okay, well you’ll have to use SSL since <http://ietf.org|ietf.org> forces https. there may be some better exercises for playing with sockets, like some real-time communication for instance"
if you have a good excersie shoot it my way
maybe if you can run an echo server locally then you can test connecting to that; (e.g. <https://gist.github.com/solusipse/6419144> looks okay - and you can modify that code too)
thanks i will check that out
"sorry, dont have anything on hand"
I am working with the networking python book; see i took for granted what URLIB was doing for me; it was even handling SSL
`requests` does a lot for you as well
indeed i was just looking behind the curtain a bit this morning; <@Patty> :taco:
"hey guys I’m using flask + bootstrap template adding simple sticky footer with the block of code below - but it doesn’t stick to the bottom of the page
 {% block footer %}
 &lt;footer class=“footer”&gt;
      &lt;div class=“container”&gt;
        &lt;p class=“text-muted”&gt;Place sticky footer content here.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/footer&gt;
 {% endblock %}
what am i doing wrong? :neutral_face:"
that's a frontend question
yeap <@Suellen>
"when you inspect an element in your browser, what rules do you see applied?"
in css: `.footer {position: absolute; bottom: 0}` - probably the most important part
checking; strange
what is?
but still nothing
???; what do you see there?; does .footer have these two properties?
Is this because the html and/or body element doesn't fill the whole viewport?
should work regardless; There's an example on Bootstrap's homepage: <https://getbootstrap.com/examples/sticky-footer/>
all good now! thnx a lot <@Suellen>
:slightly_smiling_face:
:sparkles:
is it possible to automate graphql tests with pytest? i want to send requests and verify changes done in the database
"Are there any good communities for Tornado? I'm thinking about starting a project in Tornado, and I may have questions :slightly_smiling_face:"
"Just read through that doc twice and I think I understand it less than when I didn't even know about it... At least, I know that I understood it less the second time around, than the 1st. Heading to YouTube to see how to apply it. :slightly_smiling_face: Thanks! I'll be back when I figure this out."
"given that if statement, is there a way to grab the item which didn't pass the statement"
`!` -&gt; `not`
Yeah stuck in c#
happens to me
"better yet:  `if not (isinstance(x, list) or isinstance(y, list))`"
flipping beween JS and python; `WHAT LANGUAGE AM I IN???`; is how I feel sometimes
but say I have a conditional `if` can I grab which of the conditions caused the if to not go through in a single line?; I can always just chain a bunch of `if`'s
"no, there's really no way to evaluate which conditional breaks the entry; same is true for java/c#, I believe"
"You could do `next(x for x in [x, y] if not isinstance(x, list))`; I'd just do the `if/elif` though myself"
yeah
Is there anyone here able to help me out with learning XMPP with sleekxmpp in particular?
"Essentially just trying to add two lists if they exist, if not, make the output 0, if they both do, sum them, if one does, figure out which one does"
<@Lynn> - you usually get better answers if you ask specific questions
<@Beula> noted
"Is it possible to add a conditional to this sorted statement `sorted_list = sorted(dictionary.keys(), key=lambda x: dictionary[x].get('key1'))`? Sometimes key1 may return a value of `None`."
"<@Johnetta>, if your conditional is simple, you may be able to add as a second arg to `.get('key1', return something here)`"
"<@Winnifred> Thanks, I dabbled with returning default values. However it adds an extraneous value to the key. For instance, I'm trying to sort a dictionary based on dates. If the dictionary item does not have a date I'd like for it to be sorted to the end of the list, but not add a date.; So the default value I would be adding to keys without a date would be an erroneous date. I'd like for them to remain ""None"". If that makes sense.; As is I can't sort `TypeError: can't compare datetime.datetime to NoneType`"
"im not sure if this is recommended, but can’t you set a really old “dummy” date?"
I can and it works; But it isn't clean is all.
yeah :neutral_face:
PostGIS doesn't return any results for `ST_DWithin`. I'm having a lot of difficulty figuring it out
"Hi, does anyone have time to help me with a simple regex string?"
"<@Christa> You usually have the best luck just posting the question, someone will usually be along to help out"
"Ok. So my question is: 

I have the following folder structure: 

C:\ 
    -0.82\

I have this line of code: 

`app.connect(path=r""C:\0.82\file.exe"")`

Then, the C:\ folder gets updated and I have this: 


C:\ 
    -0.82\
    -0.86\

Now I want to use regex to connect to the folder 0.86\

`app.connect(path=r""C:\0.\d\d\file.exe"")`

But that wasn't right and I don't understand regex.  Can someone please describe how to use regex correctly in this scenario?"
"Is the file update deterministic? If so - you may not want regex; My guess is one of your issues will be the backslashes from the windows path, which are ""escape sequences"" in regex, so `C:\0.\d`, `\0.` probably isn't what you want, `\0` is escaping ""0"" and then `.` is any char, I think a starting point may be: `C:\\0\.\d{2}\\file.exe`"
@hi; Can any one suggest the document for managing pcap files for replaying SNMP traps?
The file update is somewhat incremental; I'm not sure what's going on. There is an 'r' prefixed in the string so its a raw string and \\ is not needed to escape the file path \ in this case. Can you update your answer with this in mind?
"It actually does need the escapes in the regex string, it gets compiled and `\d` is a ""digit"", and `\0` isn't anything, so your regex needs to escape; If you read the docs for the `re` package - you'll see the same behavior I describe, all the raw strings still escape the special chars"
<@Jame> what google says: <http://pysnmp.sourceforge.net/>
"<@Christa> Here is a snippet from the official docs:

&gt; Regular expressions use the backslash character ('\') to indicate special forms or to allow special characters to be used without invoking their special meaning. This collides with Python’s usage of the same character for the same purpose in string literals; for example, to match a literal backslash, one might have to write '\\\\' as the pattern string, because the regular expression must be \\, and each backslash must be expressed as \\ inside a regular Python string literal.
&gt; 
&gt; *The solution is to use Python’s raw string notation for regular expression patterns; backslashes are not handled in any special way in a string literal prefixed with 'r'. So r""\n"" is a two-character string containing '\' and 'n', while ""\n"" is a one-character string containing a newline. Usually patterns will be expressed in Python code using this raw string notation."
"I'm sort of confused.  Do I have to prefix the string with a function 

 re(`C:\\0\.\d{2}\\file.exe`); re(`""C:\\0\.\d{2}\\file.exe""`); or re(r`C:\\0\.\d{2}\\file.exe`)"
"If you are searching for something: `re.search(r'&lt;regex_string&gt;', source_string)`"
"in this case, its just file directories.. How do I got about choosing?"
Choosing between what?
Folder names
"As I said before, I believe regex is the wrong approach"
Any suggestions to the correct approach?; Or at least a working one
"If it's always an incrementing number, the easy solution is list the directory (`os.listdir`), convert them into floats, and take the highest"
OMG You're awesome!; :slightly_smiling_face:
"I like the old acronym, KISS -&gt; Keep it simple stupid. (not calling you stupid, so please don't misread that!); <https://en.wikipedia.org/wiki/KISS_principle>"
"Heard of that! I am not familiar with the os library and I was familiar with regex so I wouldnt have thought of that solution without you!; As a follow up, as a beginner python programmer, how was I supposed to know that os.listdir was a valid path to take without asking someone else for their sage advice"
"You did the right thing, you asked for help! That's a good way to find other solutions.; What you had is called an X-Y problem, you wanted to get the next file - and thought regex was the answer so you asked how to do the regex; Those of us that have been around the block once or twice try to understand the actual problem, to make sure we answer the right question"
"You're right.  I shouldve just asked how to do it, at first. I still want to learn how to use regex tho :stuck_out_tongue:; Oh well, hopefully another time. Thanks, again!"
"If you want to do the regex way you'd do something similar, you'd use a ""capture group"", convert them to floats, then compare. Much more involved and harder to maintain :smile:; it probably still requires listing the dir too"
"Hi All, I am trying to get apache running on webserver for django application. When trying to query it i am getting 301 and 405 response; anything that i am missing?"
What's the location header of the `301`?; You can check with `curl -i &lt;path&gt;` if you are unfamiliar
<@Beula> i am very new to this. what is value to use in &lt;path&gt;
"The path is the url:  `curl -i localhost:8000/admin`, for example; As an example, see this request:

```
$ curl -i <https://google.com>
HTTP/1.1 301 Moved Permanently
Location: <https://www.google.com/>
Content-Type: text/html; charset=UTF-8
Date: Tue, 25 Jul 2017 03:49:15 GMT
Expires: Thu, 24 Aug 2017 03:49:15 GMT
Cache-Control: public, max-age=2592000
Server: gws
Content-Length: 220
X-XSS-Protection: 1; mode=block
X-Frame-Options: SAMEORIGIN
Alt-Svc: quic="":443""; ma=2592000; v=""39,38,37,36,35""
```

The `Location` one may tell you the issue, my guess is you are not including a trailing slash"
let me check
"Sorry, I am also assuming you have `curl` installed, if your OS doesn't have it you can test in a browser and use the inspector to see"
"spot on. I was able to get rid of that issue. Now i have 500 error which i will try to figure out. 

Thank you very much. :+1:; will keep you posted on my progress :slightly_smiling_face:"
:thumbsup::skin-tone-4:
"`UPDATE stores SET geom = ST_SetSRID(ST_MakePoint(longitude, latitude), 4326);`
vs.
`UPDATE yourtable SET geom = ST_MakePoint(longitude, latitude);`
What's le difference?"
It worked fine. I ran into some permission issue but it is now resolved. Thank you for all the nelp
<@Thomasina> the first example sets an SRID of 4386 (WGS84).  the second example doesn't set an SRID and should get the default for geometry which is 0
<@Willena> Will that cause a big difference in the resulting values?
"Depends what your doing.  When SRID is 0, the data gets treated like it's on a Cartesian plane (flat).  Using 4326 allows for a round earth.  If you're trying to do things like get the distance between two points, it can make a difference."
<@Willena> That was the best explanation I could have hoped for. I'd looked it up before but none of the explanations made as much sense as what you said right now. Haha; I'm trying to find all points inside a square; I also see that PostGIS says on the site `DO NOT INSTALL it in the database called postgres.`... That's exactly what I did though... No idea why they say not to do it
"You have to install it to your database ; Eg, the one you created for the project ; If you're familiar with mysql, the postgres db name is similar to the mysql db name"
"<@Meg> Ah ok. Got it.; People keep telling me that `43.6532, 79.3832` leads to somewhere in Kazakhstan. I don't understand. They're the coordinates of TORONTO. Put them into Google Maps and it drops a pin in the center of Toronto."
"it drop me in kazakhstan; `43.6532, -79.3832` is Toronto"
"<https://www.google.ca/search?q=toronto+lat+long&amp;gws_rd=cr&amp;ei=awZ3WbaYOYTHjwSQlIuwCw>; I don't get it.; These ""coordinates"" Google is serving me aren't actually lat/lon; ?"
79.3832° *W*; without direction it's EAST by default
:facepalm:; Wow. Two days of development time spent on trying to figure that out.; Thank you <@Ciera>. May the force be with you.; Will be fun to explain to my boss. : o )
good luck :smile:; try with a compas that point south maybe it will help
"So, rather than using the default `postgres` database I made a new one for testing and ran `CREATE EXTENSION postgis;` in it. However when running a query with a spatial function I get `ERROR:  function st_dwithin(geography, geography) does not exist`. This doesn't happen in the `postgres` database. :thinking_face:; Read that `SET search_path TO public, sml;` should fix it, but no luck; postgis is definitely in the `public` schema"
<@Thomasina> Might be a question for <#C3X4T24LB|databases>
"Hello Pythonistas,
anyone would know why `mimetypes.guess_type('my_file.csv')` returns `('application/vns.ms-excel', None)` instead of `('text/csv', None)` like Linux does? The file does not even exist."
Maybe because the default software for it is `excel` and windows do some tricks; is it doing the same with an existing file ?
"Looks like it uses registry settings, and doesn't examine actual files, just filenames"
"Yeah, with an existing file the result is the same.; Looks indeed as registry settings. I thought that `mimetypes` was supposed to be os-independent... I guess I am wrong? I just assumed it that way."
<https://github.com/python/cpython/blob/master/Lib/mimetypes.py#L350-L351>; It's os-dependent :slightly_smiling_face: Like anything that windows touches
"What type a file 'is' can always be open to interpretation, unfortunately"
"<@Thomasina> with alot of these postgis questions yo have, there should be answers on <https://gis.stackexchange.com/>"
"<@Meg> Oh, yes, I check there and other places, but the supposed solution to the problem doesn't work for me. :disappointed:"
"oh, interesting; are you using 9.6 postgres?; and the latest postgis?; I've never encountered your issue"
"Yes, and yes. :slightly_smiling_face:; I run `SET search_path TO public, sml;` which is generally the solution presented but I still receive the same error.; I don't, however, receive this error when running queries on the default `postgres` database. Only on this new one.; And I've confirmed that postgis is on the public schema as well"
"so, if you use something like pgadmin; and open up the tree down to your new database; so postgis is in your db extensions?; also, what is your query you're running; usually when you get this issue with postgis, it means you're inputing invalid types in the function"
"Yes, it's listed in the extensions for the new database.; Um...; So I rebooted my PC for unrelated reasons and now it works.; Interesting"
postgres might need a restart when you install postgis
especially on windows; because you can't update certain files when the system is running; so you ether need to restart the service or reboot
"Yep - on Windows open up Task Manager, pick Services, find postgres whatever, right click, Restart"
"Wow. Seems like one of those ""did you try turning it off and back on again?"" moments. :facepalm:; Haha, thanks for clarifying that though!"
"Hello guys I'm trying to implement a proxy server in the form of a python script it presents itself like this; I want to operate 4 basic steps; 1- Listen from the web browser; 2- Forward the request to the web server; 3- Get the response from the web server; 4- Send back the server response to the browser; My main problem is first at step 2. This is because at a certain point, i want to rewrite the URL from the browser and I don't know how to do that and I'm just a beginner"
There are existing proxies that can rewrite URLs. You don't need to write any software to do it.
Oh... I didn't knew that. Can you please give me an example of one ?
<http://httpd.apache.org/docs/current/mod/mod_rewrite.html>
and if you're using nginx; <http://nginx.org/en/docs/http/ngx_http_rewrite_module.html>
OK i'll try it thanks guys
<@Gabriele> Apache in 2017?
"Sure, go old school ; Nobody ever got fired for choosing IBM; ... etc"
don't forget mod_perl
"nah, straight to CGI, none of this crazy new tech"
"I would start by moving it all into one function, which gets called once. Then I'd move parts of it into various individual functions based on grouping lumps of shared functionality together. For example, each block of logic in a for loop is a candidate for a function because it's related code that gets called on a succession of data"
I'd also consider ditching things like `range(len(target_column_G))` which is usually the wrong way to iterate over something in Python
"<@Gabriele> Thank you, I read about functions except I never really implemented one, any dummy proof example on this snippet how can I have them in a function?"
"I think it's perhaps too fundamental a concept to explain in chat. Maybe a tutorial will help, e.g. <https://www.tutorialspoint.com/python/python_functions.htm>"
"Thank you, reading it; What would you suggest, to continue working on getting new features and bigger code, or to prioritize implementing functions to clean it up?"
"I'd priotize learning good design and structure; because once you are able to structure a program effectively, adding new features and maintaining older code is much easier"
Thank you; <@Meg> Do you have any other notes other tha what <@Gabriele>  mentioned?
"he covered everything, I think; and i'd use some blank lines for separation; for bits that really don't belong in a different function; group variables together by general area of responsibility"
"The problem with learning the right way to write programs is that a lot of it doesn't make much sense until you've gone through the process a few times; I'd say just start small, clean things up, write functions, then maybe write classes, and read through the Python tutorial to understand all the tools available to you"
So <@Gabriele> I should continue developing this and learning other simple functions then when confident enough I release another version with functions?
I don't know - what is your end goal here?
"Having an issue with instantiation of a new object within another one as an attribute. I have two classes as such `class a` and `class b`; in class a under `__init__` I do `self.obj = b()`; and I attempt to run a function from `class b` via the `obj` variable through `self.obj.run_func()` within `class a`; I think a line got deleted that I typed, can't quite tell...; But either way, `class b` isn't really a child as much as it's just an attribute of the `class a` but attempting to run a function within `class a` on the `obj` variable gives a reference error"
show the actual error
`Unresolved attribute reference to run_func in object b`; But the function is in the class
but is it?
"Does it _actually_ say ""in object b"""
`in class b` the edits I am making keep deleting the whole lines
"classes aren't objects, so these details are critical; In your definition of `class b`, is there a method `run_func`?"
yes; But I'm also getting scope errors for self
"""scope errors"""
shadow name self
"&gt; classes aren't objects
say what"
<@Suellen> You'll confuse things...
"&gt; shadow name self
here you go :slightly_smiling_face:"
"yeah, but I don't understand exactly where it's coming from?; Is it the import into the other module?"
"<@Gabriele> I am writing a software which is used by few customers now, it does the job now, but I am looking to both better myself and my code that's all, so seeking advice if in your opinion I should let it stay the same for now till I learn more or continue working on adding more then later enhance."
"errors typically tell you exactly where they come from, with a line number"
"Ah shiet; Got it, bad indent into init"
"<@Gertude> For your personal development you should read more about the language and practice with it, improving your code as you go"
Got it thank you
<https://www.amazon.com/Effective-Python-Specific-Software-Development/dp/0134034287/ref=sr_1_1?ie=UTF8&amp;qid=1500992243&amp;sr=8-1&amp;keywords=effective+python>; is a great resource
"<@Meg> Thank you, I get bored from intros though, because as you saw I can write some code that works but not happy with the quality."
But I see it doesn't have intros and it's spot on to functions
correct; it gives you an item of specific consideration; and does a good evaluation throughout
"There's not really any good way to get good at programming without starting at the beginning and making sure you understand the fundamental building blocks: control flow statements, functions, variables and objects, types, structures and classes, etc"
I'm assuming <@Gertude> has some experience with that
"Above: _"" I read about functions except I never really implemented one""_"
oh
"Yes true, I read and I know the fundamentals but to add two numbers and such"
"missed that, been in and out"
writing a function (along with creating your own classes) are part of the fundamentals
fluent python might be better; <https://www.amazon.com/Fluent-Python-Concise-Effective-Programming/dp/1491946008/ref=sr_1_1?ie=UTF8&amp;qid=1500992603&amp;sr=8-1&amp;keywords=fluent+python>
So I think back to the code I should implement a `re.finder` Function and pass the patterns later on
"No... you wouldn't be adding a `finder` function to `re`; But you could write a function that does contain all the 'finding', if you liked"
Ah huh; One function that has all the finding with all the patterns; And when writing I call the right one?
I don't know what you mean by that. The alternative would be to call the wrong one...
"The function would have the `re.findall` with all the patterns, and when writing to the csv I call one from what I define at the top; Best to shut up and go read, thank you both"
Good for getting date input?
It looks like it would work
Is `ConfigParser` a pretty good tool for setting up constants; About to get started with it
"You don't really need it if you're not distributing or deploying your software, but for managing configuration constants, sure, it works"
"I've just got a global constant `.py` file with values, but I also need to be able to set global constants based on user input. They're being set in a class so I suppose I could always just pass the class object around and grab values that way, but I'm sort of looking for something a bit nicer"
if it's user input then configparser is the wrong tool
generally what I do these days is a combination of environment variables and Click for the CLI
:thumbsup: for click.
loading from a .env file as well if people want to have stuff in there
i like having a .env.example file
^ Always helps clear up so many questions for most people
"and if it’s something like a flask app, I’ll usually tie it all together in a `config.py`"
"Hey guys,  using `sqlalchemy`
I have field `created_at = db.Column(db.DateTime, nullable=True)`
and I confused, How I can get data by datetime. For example, I need get data for current day.
and I did something like this.
```
 db.session.query(Post).join(User). \
            filter(Post.user_id == user_id). \
            filter(Post.user_type == 'eng').\
            filter(Post.created_at == get_today())
```

```
def get_today():
    return datetime.now()
```
But the example didn’t work("
are you getting None or something?
just empty array
Right now you are filtering based on this exact moment; so that understandably won't work
but in the database I have record with current day.
"day, yes; but not the current minute, second, hour of the request"
`datetime.now()` against a timefield will be date/time; `date.now()` may work; I think you may need a between query for start/end of the day
You think it's best to create a `.env` file for the user and give an example or create one if one does not exist in the directory and write to it?
"The standard is `.*rc` files, so I usually use `~/.foorc`; At least on linux"
"<@Beula> Yes, I need implement `between` too, but first need to implmenet for current day, 2 minutes, I’ll try"
"Well between start of day and end of day is ""current date"" - which is what I am getting at"
<@Johana> was it you that had the `example.env` file?
env.example ya; or `.env.example` my bad.
Is that in your gists?
"no but i can create one.; `.env.example`
```
export PY_ENV=""development""
export GITHUB_TOKEN=""""
export SOME_API_URL=""""
export SOME_API_TOKEN=""""
export DB_USER=""""
export DB_PASSWORD=""""
export DB_HOST=""""
export DB_NAME=""""
```; then you can run `cp .env.example .env`; and fill out the values; then run `source .env` and be good to go."
"<@Beula> 
Okay, I’m tried.. but didn’t work(

For example

```
return query.filter(
                and_(
                    Post.created_at &gt; search_by_date(),
                    Post.created_at &lt; get_today()
                )
            )
```

and methods
```
def search_by_date(days=None):
    if days:
        date = datetime.utcnow() - timedelta(days=int(days))
        return date.strftime('%Y-%m-%d')
    else:
        yesterday = datetime.utcnow() - timedelta(days=1)
        return yesterday


def get_today():
    today = datetime.utcnow().strftime('%Y-%m-%d')
    return today
```
But  for current day, it’s not working.. I understand in which way I need to move..:disappointed:"
I think you either want `&lt; get_today() + 1day` or to do `&lt;= get_today()`
"```
# Query

# first didn't work
return query.filter(Post.created_at == get_today())

# second 
# return posts after 25th July
return query.filter(Post.created_at &gt;= get_today())

def get_today():
    today = datetime.utcnow().strftime('%Y-%m-%d')
    return today

```"
"Hello,

I would like to test a system with several AMQP consumer/producers that are exchanging messages with each other.
I would like to have unit-testing with those consumers. Is there a commonly used design pattern for doing so in Python? (I'm using pytest at the moment with a fixture that look like this:; At the moment my set-up is this:
My consumers inherit from multiprocessing.Process and when started set-up their AMQP environment.
When the test is finished, the terminate closes the connection and cancel everything.
The problem that I get is that even when a test completed, the Process of the consumers seems to continue running in the background even after I called terminate.

How could I have a nice clean-up when the test is over? Would it change something to have BlockingConnection instead of a SelectConnection ?

Here is the current version of my base class for those components: <https://gist.github.com/sieben/caf39e04a83c812550d967a22b9d8584> is an obvious flaw in it? Is there an alternative from inheriting from Thread or Process ?"
Is there any way to run pycharm in debug with commandline arguments?
yes
"Yeah, you can use the same run menu with command line args and click the debug icon instead of play - or are you seeing something funky?"
go to run configuration
Is it under the script parameters
Yep; those are the args passed to it
Got it; I'm using a module called `simple_settings` and after a few times of accessing the configured settings I get; lol; But the stack trace pretty much shows all calls to the `simple_settings` module and I really don't understand why. I think I may just not use that at all to be honest. But wasn't sure if it was a mistake I made; It seems to be going between these two
well the stacktraces is pretty explicit; python as a recursion limit that you reached
"Yeah, I guess maybe I didn't actually setup the module properly; But it's odd that it goes between the two over and over I'm trying to get to it in debug"
well in fact the `__getattr__` func call `setup` and `setup` call `__getattr__` so it's endless
cant even debug to where it breaks
well it breaks as soon as the class is init or called; as `__getattr__` is used quite a lot
"Yeah, looking at some stuff now it basically says if `__getattrb__` can access a variable which does not yet exist it will go into infinite recursion; alright got rid of the module, not sure what was happening, figured out a different way"
Has anyone tried to get an event into the Python Weekly newsletter?; Can’t find a point of contact
<@Elane> <http://www.pythonweekly.com/> ?
Yes but neither the site nor the email content has a contact link
I think this is the guy <https://twitter.com/rahulgchaudhary>; “Curated by Rahul Chaudhary — every Thursday”
Can try
"i’m trying to actually write good tests for once in my life, and I have this argparse piece in my code, when i run `pytest -v` it passes the `-v` flag to argparse even though i’m calling `parse_args(['-f'])`"
Maybe just mock out the arg parse calls?
"Hi folks, i’m looking for a way to add requirement.txt better. If I install a new python package X, it have some other dependencies like Y,Z.
If I add only X into requirement.txt, then I can get auto download Y,Z when installing my app in a new env. Or I use `pip freeze` to dump `X,Y,Z` into requirement.txt.
Which way I should follow? I feel like the former make my txt look cleaner and bring the same value, is that right?"
<@Hermina> In my opinion it's better to add only depends that is needed by your project and leave pip decide what else should be installed.
so you mean we should avoid pip freeze?
I mean what I say)
haha alright
"what kind of project are we talking about here?  if it’s a library, you’ll want to avoid being so specific.  if it’s the end product, you’ll definitely want to be freezing your dependencies to exact versions"
in both cases i would say to freeze all dependencies with `pip freeze` anyways and then put `pip list --outdated` as part of your continuous integration process to let you know about newer versions
"I think it’s problematic for a library to specifically require a version of its dependencies, since unlike say npm Python dependencies are global; I’m pretty sure if I have two dependencies, A and B, which both depend on C, and they specify different versions of C, there is going to be a problem, right?"
yeah don't do that
"Also, there are some cool services like PyUp which can scan your dependencies and open a pull request automatically when there are updates"
Has any one here once have tried to implement a proxy server using twisted ?
"Hi , I'm looking for way to profile a python module loaded from a pickle file with cProfile ?"
"Is there another way to create args dynamically for a function?. I'm currently doing:
```
arg = {a_variable: 'something'}
func(**arg)
```"
"well there’s `*args`, which is based on the order (as opposed to `**kwargs`, using keywords as you did); what is it about `*args, **kwargs` that’s not working for you?"
"i think kwargs is the way to go, same as you're doing"
It works for me. I was just thinking that there might be a better way to do it.
Actually the args needs to have keywords <@Junita>
"cool, just pointing out there’s also *args which handles positional arguments"
i think that's what i'm going to have to do. i get this gut feeling that i'm doing testing wrong. my tests always are more code and logic than the actual fucntions
"Getting an odd error in a dictionary'; I basically have a dictionary with 4 main keys, and their values lead to other keys where in turn their values are integers; However when attempting to do something like `{'key': self.val1 + self.val2}` where `val1` and `val2` are both integers, I get TypeError that they must be str, not int.; So can I not perform addition when setting values in a dictionary?"
dict keys are strings; so I suspect its your key identification that's ht eissue
Most likely you're just wrong about what val1 and val2 are. Probably they are different types; Which is one reason why using a dict instead of something typesafe is a bad idea
"what if you do 

`{'key': int(val1) + int(val2)}`?"
"yeah I'll try that real quick; Hmm I guess I'm attempting to index a string with a dict key, so something is going on in the for loop to go through the dict. let me check"
"Hi there, I'm trying to solve Project Euler (Moving from WebDev to Math, like that more)... In problem 10, I have to find the sum of all primes from 2 -&gt; 2 Mil... So I wrote this method:
```primes = [2]

def isPrime(n):
    if(n == 2):
        return True
    for x in primes:
        if(n % x == 0):
            return False
    primes.append(n)
    return True
```
Question is ""is this method correct?"""
"no; Consider what happens if you call `isPrime(8)`; (Also, stylistically, you don't need the parentheses around the if statements - it's not Java[Script] :)"
<@Meg> Dict keys are strings? Are other data types converted to strings when used as the key then? I've used several non-string objects as keys.
"well, technically keys are hashes; string hash, I believe; but I was wrong; to be used as a dictionary key, 

&gt;To be used as a dictionary key, an object must support the hash function (e.g. through __hash__), equality comparison (e.g. through __eq__ or __cmp__), and must satisfy the correctness condition above.; <https://wiki.python.org/moin/DictionaryKeys>"
<@January> hi; shouldn't it work even if you profile the whole application that loads a module?; i.e. that module will be profiled too as a part of a bigger profiling...
OK thanks. and what about sub processing ? will it profile those as well ?
"In other words, you can't use mutable things as dictionary keys.; Strings like ""Helo"" and tuples like (1,2,3) are immutable. But a list is mutable, so you can't use a list as a key."
I'd guess that no
bingo
"I mean, depending on what you mean. Time spent on waiting for a subprocess to finish is going to end up on a cProfile output"
or basically any data structure other than tuples
"But no detailed insight, because it's an entirely separate program.; and fronzensets"
"yes as I thought , Thanks a lot"
What exactly is a hash? I hear the term all the time but I'm not clear what it means.
hash = dictionary in some contexts
no way
nope; <https://en.wikipedia.org/wiki/Hash_function>
there are some good pycon talks on dicts
<https://www.youtube.com/watch?v=66P5FMkWoVU>; That one has some good info on how dicts use hashes to store information
<@Bruno> loves the dict.
"~Hi ppl, I came to barg.. ask for help _obviously_ :slightly_smiling_face:, about `wand` especially  image.crop() method, I have my nose right in the docs of this method, re-reading at least 20 times, but I can't get this, the description says `img.crop(10, 20, 50, 100)` where `Its parameters are left, top, right, bottom in order.` but what the.. that means ? top what ? it _should_ be rectangle... so I assume it can't be size of sides, obviously it should be points (x1,y1) and (x2,y2), but it won't accept zero for top, left~ 
_During writing my question I found it could be because wand counts from one and not zero._"
Hence off by one errors! That's really frustrating
What is the best way to package a python application for easy distribution to someone who may not have python
pyinstaller if you are on the same OS
<http://sedimental.org/the_packaging_gradient.html#bringing_your_own_python>
"You can create a binary, effectively, that bundles in an interpreter and the dependencies"
"I have some settings that the user can change based on their needs, should all those settings be put as `input()` to prompt a user?"
You could have your application read a config ; I think it would depend on how many settings there are to change; Something like this <https://docs.python.org/3.6/library/configparser.html>
"does anybody have experience with AWS file uploads? my app has trello integration and when a file is uploaded, a link is written to the trello card. the problem is that these links expire, so is there a way to replace that link with something that will be re-provisioned once clicked?"
"<@Myong> If you can I'd usually generate a default on first start if it doesn't exist, then allow that to be customized"
something like `self.whatever = something if something else input('blah')`
"Depends on if your people are technical or not, but yeah you could do that if the config doesn't exist"
So the `.exe` isn't interactive unless I use a gui like `tkinter` I believe
does anyone know of a simple maze generation library?
I can build one but I want to use prebuild so it is easier and faster
<https://github.com/boppreh/maze>
yeah saw that might use it thanks <@Meg>
whoah there
"Does anyone use `configparser`? Pretty sure I've asked this before, but just wondering"
I usually use `yaml` for configuration
i’ve used it before. it’s pretty nice. i also like yaml.
"I'm just trying to figure out if it's best practice to grab data for each variable with the configparser module individually like when needed, or setup something like `glob.py` and set them all at once in there"
configparser is ini files so if your used to microsoft world its less parity.
Because it seems that when you're compiling if the object that holds all the config stuff doesn't exist and you attempt to import them into some sort of globals file you get errors; so I'm trying to see what most do; Like should I grab the values and set them as attributes as part of classes/objects; <@Johana> <@Ciera> are you just using `pyyaml`?
yeah.
"so I can essentially just load in the yaml, store it in a settings variable and import the settings variable everywhere"
exactly. You might want to perform some check on it or put some default value but yeah that's the idea
i think pyyaml is the defacto.
just be careful the import is `yaml`
got it.; should I use the `- item` or `[item]` for a list?
Personally I prefer `- item` but depend if you have a long list I guess
okay wow this is insanely more simple; is there a reason to maintain a globals file for any reason with the yaml
depends what you want to be user configurable or not
I think I'm gonna just leave the .yaml file for someone to add more items to if they want to configure it any more. I'm gonna use `tkinter` to make dropdowns to select an item from lists
"tkinter is alright!; lots of people thing otherwise; but it's got TTK for native widgets, pygubu for visual editing of your app..."
"Hello all,
I want to get value of b from the dictionary mentioned below
cursor = {a: [{b: 'Oregon', c: 223, d: 35}], e: 118686L}"
cursor[a][0][b]?
`ValueError: dictionary update sequence element #0 has length 1; 2 is required` Getting this issue currently while passing a parent class to a create a new child class. I would like to pass both the parent as well as a list to the class.
can you provide a small code sample <@Myong> ?
"Yeah; oh wait that's the wrong part; one sec; I was previously destroying root every time, but I'd like to just destroy the frame so it doesnt close out 4 times and open back up...; and the settings one is a list; well it's a dict of lists; `settings['route']` is a list though as well as `settings['base_url']`; I tried using `*args`"
"I think your super calls are a bit weird, you probably want `super(Values, self).__init__(parent, choices)` or if your're on py3: `super().__init__(*args)`"
"Gotcha, probably just looking at old code examples"
Not sure of your issue there though
Yeah it's odd you could be right though; I had super earlier actually it was working find; fine now that I think about it
"I think it's how you're passing to the super though; I think the signature is `Frame(master, ...options)` - so you may need to unpack your dict as options; `super().__init__(parent, **options)`"
"oh wait, I don't need to pass `self` to super... :facepalm:; hmmm, still same issue; turns out tkinter Frames object cant take in 3 arguments unless the 3rd is a dictionary"
"I was trying to find the docs on the signature more, they are certainly lacking"
Yeah pretty abysmal tbh; Nearly done though; And another issue... How am I supposed to pass in anything to this class if it cant take more than one argument...
What do you mean? Only the parent can't take more than one - your class can though
are there anymore easter eggs in python than 'import this'?
'import this' is the surest way to a guilt trip in Python
lol
there's `from __future__ import braces`; and `import antigravity`
`from stackoverflow import quicksort`; ^^^ best help advice you've ever seen in your entire life.
lol xkcd one nice
`import hello`
"I have a stupid question: I'm doing a tutorial on making command line apps with argparse.  I'm most comfortable working in a Jupyter notebook, though - obviously I'll need to transfer it to a script eventually, but is there a way I could like simulate user input in a Jupyter cell instead of switching back and forth between text editor and shell?"
<@Chanel> yup! by default `arg_parse()` just looks for the command line arguments from `sys.argv` but you can pass your own list of arguments to it
"Aha!  Awesome, thanks!  :slightly_smiling_face:"
i enjoy building cli apps with argparse but lately click has been my go to.
click is super nice; but i never use it unless i'm pulling in at least one other dependency
You can always vendor it
click is slick
<@Collette> true true
"Hello, `HTTP GET` is giving `400` on one machine but works perfectly fine (`200`) on other machine for the same URL. Any ideas why?; machine 1
```
&gt;&gt;&gt; import requests
&gt;&gt;&gt; requests.get(url)
&lt;Response [400]&gt;
```
machine 2
```
&gt;&gt;&gt; import requests
&gt;&gt;&gt; requests.get(url)
&lt;Response [200]&gt;
```; Both use the same version of `requests`"
is there anything in the returning body of your 400?
"Hi all,
I want to write a program to get the MySQL status through the command line.
E.g The command what I am doing is 
`msqladmin -u username -p password status`
(there is no space between -p and password.)
But I don't want to provide password through the command line. But give the input as password to the command line on asking password. Like 
```
msqladmin -u username -p status

password ******

```
Is there a way to do it?"
"oh, thanks <@Marcie> , just checked the returned `text` from the request. my machine’s IP is blacklisted, oops"
"that'd do it!; <@Delisa> technically `subprocess.Popen` has a `communicate` method to do this; but after 10 years of python i still can never get any subprocess thing to handle input properly and i hate it; ooh cool i found a handy library called `sh` that isn't awful; <@Delisa> you can use `sh` to easily get this result:
```import sh
result = sh.mysqladmin('-h', '127.0.0.1', '-u', 'root', '-p', 'status', _in='password')
print(result.stdout)```"
is it just a subprocess with some helpers ?
"its like subprocess for humans; from the documentation, stuff like this:
```from subprocess import Popen, PIPE, STDOUT

mysql_check = Popen(['mysqladmin', '-h', '127.0.0.1', '-u', 'root', '-p', 'status'], stdout=PIPE, stdin=PIPE, stderr=STDOUT)
out, err = mysql_check.communicate(input=b'password')
print(out)```; should work, but never does"
yeah i'm looking through the doc; seems nice
<@Marcie> I tried it already. But it's asking for password.
<@Delisa> yeah i couldn't get the `subprocess.Popen` version working without asking for a password either; the `sh` version works though
"<@Marcie> Sorry subprocess is not working, But sh is working fine.; Correct. But documentation saying like that subprocess will work.; <@Marcie> Thank you. One problem is that will work for linux versions only. I want to work it for windows also."
"Hey guys, working in tkinter and having an issue with the Frames I am instantiating are going in the wrong order. Maybe it's something stupid, but I'm not too sure.; I need to attach a command to a button in tkinter, and it has to be able to attach to another widget/Frame which does not yet exist. So without using `lambda` I get an error because the key does not exist within the dictionary; But I also need to run more than one single expression; How can I reference something that does not exist?; It sucks because it works with `command=lambda: ` but with a `command=func` which I sort of need because I need to grab some data from the fields when the button is clicked."
Look at `functools.partial`
You can make a partially applied function and delay the execution; Is the function invoked right away though? Either one seems like it should fail
Well here's what happens; So I have a main root for my application
&gt; It sucks because it works with `command=lambda: ` but with a `command=func` which I sort of need because I need to grab some data from the fields when the button is clicked.
"and I have 3 classes, one for each different ""page"" which are all `Tk.Frame` objects"
"`lambda: func(button1.text, button2.text)`?"
"Now in order to show the next frame after a submit button I have to have the next Frame available and already initialized. However in order to initialize the Frame which I want to show I have to also create that function that runs on click which requires the next Frame to also be initializied, but it hasn't been initialized yet because the first one is still being initializied lol; Slightly confusing I will show code"
"wait, lambdas ""execute"" when you access them; i.e. `lambda: func(x)` - `func` won't be called until you click the button"
"There is basically a `dict` with `Frame: Frame obj`; When it hit's the Repos Frame, it gets to this function; `self.submit = Button(self, text=""Submit"", command=submit(self, controller))`"
Neither will a function though
which breaks at the last line; With a key_error
"`Button(self, text=""Submit"", command=submit(self, controller))`; here you're not saying ""call `submit` when clicked"""
let me try `lambda: func()`
"you call `submit` and return a value, and assign this value to `command`; wut; here's a piece of code from a project of mine which uses Tk:
```
self.master.after(timeout, lambda: self.update_treeview(treeview, data, timeout))
```; the same principle"
It works
:slightly_smiling_face:
"also `lambda: func()` works. Should have just done that....; <@Suellen> since it seems you've used tkinter, what's the best way to go about passing data to another Frame. I'm trying to grab a selection and place it inside a label to show a user what they selected, but in the same way as before it places the default value into the label instead of grabbing the updated one."
If `lambda: func()` works just `func` should also work...
But it doesn't that's the thing lol
"Lambda is just a function reference, without a name. so setting `lambda: func()` is the same as `func`; Sounds like some other error, but if it works that's good :smile: ¯\_(ツ)_/¯"
"It's because it, for whatever reason attempts to access a key in a dict that doesn't exist and it steps into the function i attach to `command` if I just do `lambda: func()` it doesn't actually go into the function til it's finally clicked"
"<@Beula> `func` and `lambda: func(foo, bar)` are different :wink:"
"Which is why I recommended using a partial as an alternative; Anyway, in tkinter you see a ton of `lambda: thing()` so it't not out of the norm :smile:"
"<@Myong> can you show a bit of code? maybe it's something obvious; nooo waaay; you, mister, should have a cup of coffee :coffee:"
"I actually got it; I just pass the controller in, grab the dictionary of frames and get the variable from the corresponding frame; But this is quite annoying :slightly_smiling_face:"
"That was my experience with most desktop ui programming, it's a little funky what you have to do"
especially since Tk is sooo barebones
I just need 4 screens; that's it
there's a good side though: you better understand what happens under the wraps in other GUI frameworks
"god is this bad; Should have just made a frontend, honestly; just attempting to format this is so bad."
"That's a bit rude, but I challenge you to show me how this case above is not the same, vs just saying it's not. Here is proof it is:

```
&gt;&gt;&gt; def foo():
...    print(""foo"")
...
&gt;&gt;&gt; bar = lambda: print(""bar"")
&gt;&gt;&gt; foo()
foo
&gt;&gt;&gt; bar()
bar
```

You can pass around `bar` or `foo` to any function that needs a callable (with no args in this case); ```
&gt;&gt;&gt; type(foo)
&lt;class 'function'&gt;
&gt;&gt;&gt; type(bar)
&lt;class 'function'&gt;
```"
"something like this, in a 2x2 grid?; rude? man, I specifically joked about a cup-of-coffee so that doesn't seem rude :disappointed:"
&gt; nooo waaay
"I legitimately just have two frames of a 2 labels, a dropdown and a button"
Is what I was referring to
and I can't get them to do anything lol; Format wise
&gt; You can pass around `bar` or `foo` to any function that needs a callable (with no args in this case)
"this is actually what I should have showed

```
&gt;&gt;&gt; def foo():
...     print(""foo"")
...
&gt;&gt;&gt; bar = lambda: foo()
&gt;&gt;&gt;
&gt;&gt;&gt; foo()
foo
&gt;&gt;&gt; bar()
foo
```"
"Yes, you're right 100%; but"
effectively foo and bar are the same here
"tkinter callbacks don't accept arguments, they are all callables compatible with `lambda: x`; but you almost always need to pass something that takes a whole lot of arguments"
This talk wasn't directly about tkinter
therefore it's a common pattern to hide the stuff that you actually need to do behind a simple unassuming lambda
"that was the general context, but not to my comment about `lambda: foo()` and `foo` being the same"
alright I got it. Now I need a progress bar.
alright then :slightly_smiling_face:; we're both wrong and right in 50% of contexts :slightly_smiling_face:
"solve one problem, another pops up"
tkinter.ttk has a progressbar widget
:stuck_out_tongue:
"I was being too literal, my apologies (sorry, had to run into a quick meeting)"
^^ Could anyone explain what I’m doing wrong to get the error there?; i have a feeling it’s just a weird typo that i’m not seeing
I’m noticing an immediate syntax error
can you even use comments in a dict?
"`replication ,` can’t happen"
"you mean `replication, `?  or am i missing where there’s a space?"
shouldn’t it be `replication:`
oooooh yes
"yeah, in your second dict in the list"
thank you for the eyeballs :smile:
should be `'replication': { ...}`
^^
facepalm :stuck_out_tongue:
you have it in two locations; both `replication` keys
fixed!
:boom:
duhhhhhhhh
sometimes its the little things; and things like this is where using an editor or IDE helps; because it can check your code for syntax validity as you write it; not so much with the shell or ipython
"<@Meg> actually i use vim with syntax highlighting and it runs flake8 on everything when saving, and somehow it just decided i must be trying to do some other valid thing in python; at least my test suite figured out it was a problem :stuck_out_tongue:"
"oh, interesting; :slightly_smiling_face:"
test suites FTW
so flake8 said that was valid python?; interesting
yeah idunno what it thought i was looking for
you may want to write a bug report about that on their gitlab; include that dict structure as an example
that’s not a bad idea; worst case there really is some half valid reason for syntax like that and they close it
"yup; don't see anything on the tracker about dictionaries that applies; so, maybe an edge case?"
<https://gitlab.com/pycqa/flake8/issues/353>
Finally finished this stupid gui. It should work
omg it works
:awwyea:
"Hey everyone. I need some help with django, particualrly behave-django. I have some tests, some of which are dependent on there being some entries in a specific table. I thought Django would run migrations when it sets up the test database and created one but to no avail. I'd like to know if there's a way to add those table entries after the test database has been created. I'm using DRF."
You may want to ask in <#C0LMFRMB5|django> <@Hattie> instead of here
"Cool, thanks."
Anyone update PyCharm in the last couple of days and have your colors change?
I don't think function names were colored before.
Mine have been for as long as I can recall - but maybe it accidentally overrode your config
"It looks like many of the colors changed a bit. I don't remember what color functions were, maybe they were highlighted, but it is different. The TODO: colors also look a little different."
"has anyone used the attribute ""placeholder"" when using pyramid and deform?; I need to add a placeholder to a field but Im not actually coding an html page. so this would need to be done while constructing the schema of the table fields"
<@Meghan> yeah my colors got changed too
<@Ciera> Are they easy to change back? I think I liked the old ones better.
Yeah color are easy to edit. But you need to figure out what they where before. I launched the previous version and compared some
"Oh I guess I am on the EAP, I guess mine have been _different_ for a while :facepalm:"
Mine were changed with 2017.2
"I tried the IntelliJ theme, I can't stand it, it's too bright and the colors don't stand out much."
I use darcula with small modification 
"Yeah, that's what I use. Only issue I have with the prior to this week colors is that I want multi-line TODOs.; That's more of how it parses those than the color though."
multiline todos would be nice - have you had that working before?
I haven't.; Just something I would like to see.
"Aww, I thought you were about to make my week!"
"It would be something worth requesting, I would think.; Maybe I'll offer to pay for a year if they add it."
"Appreciate any help to point me to the right direction, not familiar with os class, how the files look like is in the comment :pray:"
"`if f.filename in os.listdir(dir_name)`
Maybe?"
"yeah.. this works for me if I have zip file that extracts to csv if csv not there. But print ""csv-filename already exists"" if csv w/ same same already exists."
"Thanks! This is what I have so far, not working as I thought it would be, instead of file_a_1, file_a_2, file_b_1, file_b_2. It gives file_a_1, file_a_2, file_b_3, file_b_4"
"update line 1 to:
```
import os
import os.path
from zipfile import ZipFile
```; this `zip_ref = zipfile.ZipFile(file_name)` to `zip_ref = ZipFile(file_name)`"
"quick question assume I have a list `[""abc"",""ab"",""cda"" ..]` I want to remove all elements that are substring i.e. in this case it would be `[""abc"",""cda""]`; what is the quickest way to do that?"
len?
huh?
<@Thelma> what have you tried?; We like to see what you've tried before just giving answers :)
"```for e in li:
any([ x in e for x in e if x !=e])
```"
<@Jed> moving our convo as comments/thread into your last code snippet
"You want a substring, right? So I'm not sure a `!=` makes sense ; Try `in`"
I have that as well; just ensures it doesn’t check the same element
"<@Jed>  here, actually"
"Also any returns a Boolean, aren't you trying to remove from the list?"
from zipfile import ZipFile doesn’t work actually. I’m using Python 2.7
"Or filter it down, rather "
"So make these changes. Also, what are you trying to do w/ i counter/index in lines 12 and 19?"
yeah that would just be a filter and I would add it to a list
"So is it working, or are you trying to make it faster/more efficient?"
make it more efficient
"basically there are 3-5 files in each zipped folder: file_a, file_b, file_c, file_d

I wanted to make it so that the filename would increment, file_a_1, file_a_2, file_b_1, file_b_2"
"so there is a conflict w/ i here.; on line 12 you initialize it to 0.
on line 13, i takes values 0 to len(zip_ref.filelist)-1 (automatically incrementing it's value as f gets a new element value from zip_ref.filelist; so list [""cat"", ""dog"", ""bird""]
i=0; f=cat
i=1; f=dog
i=2;f=bird"
"just to be clear, this happens automatically when you `for i, f in enumerate(pet_list):`"
ah makes sense didn’t notice it; getting a KeyError: “There is no item named “cat_0.csv” in the archive”
"yeah. So basically what you are trying to do is change the name of the file inside the zip and then unzip, right?"
yeap!
"right. so what is happening is you are only updating the name of the list, now the name of the file, inside the zip, on the HD."
"Check this out: <https://stackoverflow.com/questions/3982034/how-can-i-extract-files-using-custom-names-with-zipfile-module-from-python>; looks like unziping to a tmp folder might be the way to go.; &gt; right. so what is happening is you are only updating the name of the list, now the name of the file, inside the zip, on the HD.
What I said here, is wrong. Zip file is one that is getting overwritten. NOT the files inside the zip.; so if there are existing files of `file_a`, it should create `file_a_0` and then `file_a_1`, and so on? It just keeps adding to file_a_watever-count and file_b_whatever-count, depending on the files that have already been extracted?"
anytime i open a file in pycharm it says loading … arggg. why does this happen when i have something really important to fix.
"file_a_0, file_a_1
or file_a, file_a_1
or file_a, file_a_0, file_a_1

are all acceptable!"
"yes... I saw that.; if f.filename in os.listdir(dir_name):
                name, ext = os.path.splitext(f.filename); <@Jed>; line 7 counts the number of files that start the same and end the same... this assumes that file_a_1, file_a_2... is sequential. If you get file_a_1, file_a_4, file_a_7 then just play w/ this. Also, had line 11 one indentation back so it was trying to unzip/extract file from previous iteration, that were the file not found error coming from"
hmm it still only opens the first 2 zipped folders and line 10 is giving me RunTimeError: Attempt to read ZIP archive that was already closed
"```
import os
import os.path
from zipfile import ZipFile

dir_name = '../data/'
extension = "".zip""

os.chdir(dir_name) 

for item in os.listdir(dir_name):
    if item.endswith(extension):
        zip_ref = ZipFile(item)
        for f in zip_ref.filelist:
            if f.filename in os.listdir(dir_name):
                name, ext = os.path.splitext(f.filename)
                f.filename = name + '_' + str(len([elem for elem in os.listdir(dir_name) if elem.startswith(name) and elem.endswith(ext)])) + ext
                zip_ref.extract(f)
            else:
                #continue
                zip_ref.extractall(dir_name)
            zip_ref.close()
            os.remove(item)
```; that's the whole script that I am using"
"<@Jed>  Try with `with`:
```
        with ZipFile(item) as zip_ref:
            for f in zip_ref.filelist:
                if f.filename in os.listdir(dir_name):
                    name, ext = os.path.splitext(f.filename)
                    f.filename = name + '_' + str(len([elem for elem in os.listdir(dir_name) if elem.startswith(name) and elem.endswith(ext)])) + ext
                    zip_ref.extract(f)
                else:
                    zip_ref.extractall(dir_name)
            os.remove(item)
```"
that way you don't have to worry about closing
"Hey, could I get some quick help from someone? No idea how to explain the situation"
Essentially calling a function from another file doesn’t seem to work the same when you call it from inside another function
Is there any reason why these two calls would act different?
line 2 vs lines 4-6?; lines 4 through 6 won't execute unless today_posts is called from somewhere.
"Yeah, I get that :slightly_smiling_face:"
ok
"I’m calling the function, but the call on line 6 acts differently; Do you know much about the Telegram API wrapper telebot?"
"no, so I'll let it go for someone else."
"Okay, thanks :slightly_smiling_face:"
<@Graciela>: at a flance the only difference is that `db` and `c` are both scoped outside the context of the function so they could have different values each time it's called
"Hmmm okay; Any reason the above wouldn’t work?; <@Marcie>, sorry to tag you :slightly_smiling_face:"
"that looks legitimate, what behaviours are you seeing?"
"Essentially the sql doesn’t execute, but the function is defo called, I’ve put print statements everywhere and they all execute; But if I move the sql statement out of the function and hard code args[0] then it all runs; The function is called when the bot recieves a command on Telegram; So the way the wrapper is coded is the only thing I can think of"
is the logic that creates the cursor `c` called each time the script runs?
"db = sqlite3.connect(‘…’)
c = db.cursor(); db and c are created once at the start of main.py"
<@Graciela> try putting your `db` and `c` creation inside the `today_posts` method
"hi all, I am new (new to this slack and new to python) and have a question that is driving me crazy. could someone help?"
"Welcome <@Wendolyn> ! Go ahead and ask, someone will be along to help as they're available (no need to ask to ask)"
"the short story is that I'm getting `[Errno 32] Broken pipe` and I tried to use this solution I found on stack overflow ```from signal import signal, SIGPIPE, SIG_DFL
signal(SIGPIPE,SIG_DFL) ``` but just as was warned in the comments, that made the error go away, but my service just shut down instead; what I'm doing is this...I have two services, a main service for a website and a service for an api. My api gets some data from somewhere else and sends it to my website upon request.; when I hit the api directly, like through a valid route, I get the data and no error; but when I go through my website, which will eventually generate the same url and send a request to my api, I get a broken pipe.; both of the services are running on my computer; when I use the deployed version of the website (AWS), I get no error; only get broken pipe locally"
Can you produce a minimum viable example? Say just the two services running and the web one asking from the service one and failing? Abstractly it sounds like the web process is closing the socket - but hard to know
"ok...give me a minute to come up with an example, its actually pretty complicated. but I'll try to strip it down the the most important parts"
None
"I'm having a hard time distilling this into a code example. Maybe it would help me to just talk about it abstractly. If you don't mind? For one, what is a  socket, and what would cause it to close/how could I keep it open? I have a feeling that this is the problem; Thank you for your help; reading about sockets here <https://www.tutorialspoint.com/python/python_networking.htm> right now. if you know of any good resources off the top of your head I would love to have them"
"Sorry it's late my time, so I may be out shortly. I'm hoping someone else familiar with the architecture comes in to help too"
"I understand, thanks anyway"
hello people ..
"<@Latrina> if you don't see answers here, in the future use the channel dedicated to your topic (<#C0LMFRMB5|django> or <#C0W0D17MJ|django_learning> ) No need to move, but it's generally best to scope questions"
thanks <@Beula> . I surely will ask them in these dedicated channes.
"No worries :slightly_smiling_face:; <@Latrina> did you follow the example from the docs (<https://docs.djangoproject.com/en/1.11/topics/db/examples/one_to_one/#>); Basically: 

```
&gt;&gt;&gt; r = Restaurant(place=p1, serves_hot_dogs=True, serves_pizza=False)
&gt;&gt;&gt; r.save()
```

Where `p1` is the instance of the ""model which is already saved"""
<@Beula> i am going to try this and see if that works .. thanks again .I'll update here once i am done
"I see in a lot of stackoverflow questions and blog posts that to change the default admin UI, you have to change things in the directory ./templates/admin. in 1.11 that doesn't seem to exist...

What'the updated way to change the admin template? In particular, to either change the /change/ url or to disable editing after initial creation.; I just don't see a `templates` directory at all..."
<https://docs.djangoproject.com/en/1.11/ref/contrib/admin/#overriding-admin-templates>
"&gt; The required arguments are an RFC 822 from-address string, a list of RFC 822 to-address strings (a bare string will be treated as a list with 1 address), and a message string.; sendmail's ""signature"" is something like:
`def sendmail(from_addr: str, to_addrs: list, msg: str):`; ```#Change recipients string to list.
    to = [to]```; you should transform your string of emails ('<mailto:email1@mail.com|email1@mail.com>, <http://email2.mail.com|email2.mail.com>'), so that it becomes a list with each element being a proper email address"
"So instead of reassigning to a list, perform a split? Like this:
```
#Change recipients string to list.
        to = to.split(',')
```"
"yes, that's it :slightly_smiling_face:"
Which would still allow for cc and bcc to be added; Cool! I'll try that out.
"I'd also `strip` them of whitespace, otherwise that leading space will become a part of one email address, and I'm not sure if `sendmail` handles that; better safe than sorry"
Ahh good point
"hi guys. anyone here know any solutions to having a python script create a list of objects parallel to another script consuming those objects as they are created?; i’ve got some test automation where each test requires a brand new account, but the accounts take anywhere between 30s-2min to create. i’d like to create the accounts parallel to the tests running to speed up execution time. i’ve found a way using `multiprocessing.Process` and continuously adding accounts to a `multiprocessing.Queue`, but this only works if that process is started from within the same script that executes the tests. i have a use case that requires the test execution to be able to consume a pre-made account as soon as the test starts executing, so `multiprocessing.Process` does not fully solve my problem, since the first test to execute still has to wait for the first account to be created and added to the queue; what would be ideal is a way to create a queue of accounts from a `create_accounts.py` script that i can execute at any time, and then be able to consume that queue at any arbitrary point in time _during_ or _after_ `create_accounts.py`"
an account takes up to two minutes to create?; :open_mouth:; no chance you can spend time trying to optimize that process?
"<@Suellen> That worked perfectly, thank you for the help!
```
#Change recipients string to list and strip whitespace.
        to = [x.strip() for x in to.split(',')]
```"
:slightly_smiling_face: I'm glad
"<@Ray> I wrote a service at a job with similar issues, it basically kept a fresh list of users at all times and tests could ""check one out"", later the service would clean them up"
Anyone here who has used `ttk.progressbar`; If I never have to use tkinter in my life again then it's a good day
This is why electron is so popular :(
Why did no one tell me of these other beautiful things; Attempting to run this damn progress bar is gonna be the end of me; honestly I'm just gonna say screw it and just click a button and you have to wait
What's the app do?
tkinter is the mistake here :smile:
Just generates a report
"<@Meg> I would love to optimize the that process, but we’re working with a huge legacy app and optimizing the app itself is not really a feasible option without reliable (and efficient) test automation :disappointed:"
"I'd it's internal, bad ux for a little is okay"
I'm gonna just create another root and make a popup that comes up when the requests to the server complete; It is; it looks horrible
<@Beula> that sounds like what i’m looking for. how did you go about that?
"<@Ray> makes sense, gotta work with what you have."
exactly
"It was just a webapp, it would have a pool size of users it had to maintain, each time a test asked for a user I'd mark them as checked out and add them to a cleanup queue. That had a default time to live, but a test could ask for longer.; Then the test could edit the user if they wanted, add roles, etc; Our tests ran constantly and tons of them, so this was a Go application due to the load"
but not create user?
What?
ah ok
"It's not ideal to depend on an external service for tests, this was for the staging env"
"agreed. this is also for our staging env; i don’t envision the service being used outside of the tests, but i do need it to be able to be run independently of running the tests themselves"
I ended up getting an offer to move to Dev after that 
"oh yeah?; nice; we’re a mostly php shop, but atm all our test automation is in python, for whatever reason (not that i’m complaining. i like python better :smile:)"
"I've considered going back to qa to be able to do Python full time again; I've seen lots of ""QA Architect"" jobs around"
<@Beula> looks like `pyinstaller` doesn't work with Py3.6
Sadly true
do you have any other recommendation?
Are you using any 3.6 features?
That's what I was gonna figure out; I will say no; because I probably am not; is is good with `3.5.x`?
"Yeah, I have used it with 3.5 for about a year"
It works!! For some reason os.remove(item) is giving me error saying it's used by another process but I just have to delete the files. Thank you so much!
<@Myong> why not `pyenv`?
I believe what he is doing is trying to create a single executable to distrubute
oh.. right &gt;.&lt;; ignore me...
But do use `pyenv` to handle multiple versions!; Brew has caused me a number of issues when it updates
Unfortunately my time is up here next Friday so after that it's their issue :joy:
New job? Or was this an internship?
Internship; Back to school and possibly another internship; They may offer full time here but it's super Enterprise environment and not competitive pay; Plus another year of school I'd rather keep my options open
Definitely understood
It's all consulting stuff; Im one of the two CompE students here out of 35 interns and not even half of them are CompSci; Lots of CIS
you’ve had issues with brew and pyenv <@Beula> ?
<@Beula> should I just make up another `virtualenv` and put 3.5.whayeber on it then install reqs?
was it postgres? i had an issue and fixed it by upgrading psycopg2.
"Just `brew` managing my python install. For example when 3.6.2 came out and I updated, it killed a bunch of virtualenvs that were looking at the 3.6.1 executable; Sounds reasonable <@Myong>"
oh ok; yea i use pyenv now for that. the psycopg2 thing is the only issue i’ve had so far.
This work comp came with so many env variables in the path I can't add anymore :joy:
good old windows
<@Beula> have you noticed brew python being pretty slow overall?
<#C5XHHMXHB|os_windows>
seems it installs with some not very good flags that cause issues
where does virtualenv install to?
I haven't - but I write better code than you :stuck_out_tongue:
ooooo
<@Myong> on windows?
Well I mean is it inside python dir?
JK of course <@Meg> - I should benchmark it and then compile from source and see
":smile:; nice shot there, sir :stuck_out_tongue:; <https://www.reddit.com/r/Python/comments/6i8dn7/python_276_via_brew_on_osx_twice_as_slow_as_the/>"
I picture Jason doing this :point_up::skin-tone-4:; Interesting
Oh man this is fun to figure this out
"trying to pull the database <http://download.geonames.org/export/dump/>
what would be the best bet in picking the database? PostgreSQL or MongoDB; I figured that there is a relation between the dumped data from multiple .txts which would immediately push me to use Psql but I wonder if Mongo can perform fairly if I am able to handle the co-relation at the app level with decent db-search"
"I’d do postgres; data is structured; and if you’re going to do spatial queries, postgis is the best option"
"<@Beula> got it all set up, gonna try pyinstaller; no issues with 3.5.3"
:toot:
That emoji must be 20 years old; Should I bundle the `config.yaml` or just place in the same dir or it does the same thing anyways
"if you want it editable, no"
"okay that's what I thought; yay no errors after 2 seconds this time; uh oh, the `.exe`just exits; yay"
You may need a special flag for a UI based app
gotcha; bunch of missing modules also; Seems like the main error are two of my module missing due to `invalid module`; Okay so inspecting the archive of my imported modules it does seem that I do not have the two modules; Im quite lost here. There's not much documentation on how to force a module import; And I can't figure out why the two modules are invalid
is this pyinstaller-related?
Yes
"I get a bunch of `Missing Module` warning s, but only two `Invalid Module` warnings for two of my modules imported in `main.py` and I'm not sure why they're invalid"
I've renamed them
"oh, I've never seen an invalid module thing; but for missing modules there's a `hidden_imports` directive; pyinstaller isn't very good at detecting what modules are used by a program :confused:"
I've even got it as a hidden import; Yeah I have no clue what the invalid module is; There is nothing about it; I can't find anything online
What's the module in question?
"Two modules, one uses `openpyxl` and populates an excel workbook with some data, another is just a single popup window for a notification that the file has finished being generated"
"oh damn, openpyxl"
Is that why?
"yeah, I spent a couple of hours fighting it"
NOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO
"wait, does it compile OK and then the program doesn't work, or it doesn't compile altogether?; don't lose hope just yet :slightly_smiling_face:"
"Like the raw code? It all works, but of course without those two modules, or at least the openpyxl module it wont; Im gonna comment them out; only two lines in my project; and see what happens; building it now in pyinstaller; won't even run at all actually, just opens and closes"
run it from cmd.exe to see the error
okay; `Error loading Python DLL: C:\...\main\python35.dll`
welllllll that's something else entirely :x
oh wait was it this; Cause I saw something about this earlier; `_MEIPASS2 is NULL`
I remember there was some entity called `_MEIPASS2` but I didn't mess with it at all; <https://pastebin.com/Xihf4DdV>; My build.spec for pyinstaller
why is this needed at all? :confused:
I believe it's for `--onefile` flag; let me link to my python dir in `pathex`...; It's trying to pull python 3.5 dll from my build directory.
thank you <@Johana>
<@Suellen> should the python35.dll be in that build directory?; why is my specfile being overwritten every single time
there should be a single exe file
"I'm just trying to point the .exe to find the python35.dll; But everything I am doing isn't working; Well, may have found my problem; Does anyone have any clue why Pyinstaller chooses to overwrite my specfile every time I save it then run again"
the specfile is generated for you to edit and use instead of passing parameters to pyinstaller
It creates a spec unless you run it from a spec.
i.e. you create a spec and then do `pyinstaller main.spec`
Instead of specifying the .py file specify .spec
gotcha; Trying to add `python35.dll` to the dir; no luck
"`binaries=[('C:\\Users\\kybowman\\AppData\\Local\\Programs\\Python\\Python35\\python35.dll', 'python35.dll')],`"
Just another one of those days
Why would you need to do that? I didn't have to do anything along those lines to distribute Windows compiled scripts.
I have absolutely no clue; Not sure what else needs to go in there to not get missing Python35.dll; The dll is literally in there with the `.exe` and it's attempting to pull it from somewhere else; Found a google group post regarding `vcredist`
Are you compiling on Windows?
Yeah; I'm still wondering about the MEI thing because what happens is when I run it it says the DLL can't be found in c:/.../temp/pyinstaller/_MEIxxxx/python35.dll
Are you expecting it will be there?
No I am not at all; I have no clue where it gets that path from
"pyinstaller with the onefile flag should really be including that with it.; That path is where your files are extracted to.; ```
def resource_path(relative_path):
    """""" Get absolute path to resource, works for dev and for PyInstaller
     This is used to find included data files in pyinstaller version
    pyinstaller makes an environment variable? that has path to the included data files
    any hardcoded path should use this function as open(resource_path('/templates/my.template'))
    Do not use this for user entered files, such as the mcot csv or for outputted files
    """"""

    if hasattr(sys, '_MEIPASS'):
        return os.path.join(sys._MEIPASS, relative_path)

    return os.path.join(os.path.abspath("".""), relative_path)
```

This is what I've used to access included files, such as textfsm templates."
Where should this go?; Top of main file?; Or hook
"No, you use that in your open lines.; Example:
```
        with open(resource_path('templates/jinja2/evc-map.jinja')) as f:
            template = f.read()
            jinja = Template(template)
```; But, with your missing dll, something else is going wrong.; Have you tried to compile something simple to see if that works?"
Yes I'm using a simple helloworld.py script it works fine
"That's really weird. The only issues I ran into with pyinstaller were that it wasn't ready for 3.6 and I had to use the dev version, and with one of my tools for some reason it couldn't figure out the imports so I had to manually specify every single import."
"Yeah I had to downgrade to 3.5.3; Okay so given the code to grab the _MEIPASS envar, where exactly do I need to be putting the code within open lines"
"The function I gave you is if you need to open an included file. For example if you have templates or html you include in the package.; You can't use that for the python dll, because nothing is going to happen without that dll."
Yeah makes sense. But I just dont get this error at all. I've found so many posts on it in 2 hours and I'm just lost
How do you have pyinstaller installed?
through pip
In a virtual environment?
Yes
"Well, you could make a short script that prints the location of the MEIPASS directory then pauses for input, then go there and see what is extracted. I don't know if it extracts the dll file and libraries there or not though."
"something like print(sys.MEIPASS); oh man i might have got it. closing my eyes one sec; NOPE. sweet; Well I think i give up for now before I go crazy; <https://github.com/pyinstaller/pyinstaller/issues/1566>
I'm giving up for now"
I need some help getting to figure out how to add and delete to an array without resetting the array back to what it was
"""resetting the array back to what it was"" ?"
<@Susanne> can you reword that and maybe provide some code?
does anyone have experience with async tasks in django?
do you get what I am saying <@Levi> <@Deedee> ?
try <#C0LMFRMB5|django> <@Kirby>. Ask your question there and someone will answer you if possible
Hi
<@Susanne> I don't understand what you are trying to do. Can you create a very small example that illustrates what you want? The code you listed here is too long and contains a lot of extra details that have nothing to do with your current question.
"Is there a way to Click on ""More"" button in Review section in this website and scrape the data using Python and Selenium
The website is 
<https://www.tripadvisor.com.ar/Hotel_Review-g294314-d2568957-Reviews-Belmond_Palacio_Nazarenas-Cusco_Cusco_Region.html#REVIEWS>"
"Yes, there is a way.; What have you tried? What problems have you encountered?"
"*Error Message*
'''
D:\Vishal\Python&gt;python tripadvisorreview.py
  File ""tripadvisorreview.py"", line 9
SyntaxError: Non-ASCII character '\xc3' in file tripadvisorreview.py on line 9, but no encoding declared; see <http://python.org/dev/peps/pep-0263/> for details
'''"
"I'm trying to extend the User model and have that incorporated into Django Admin. For example add a phone number. I added this to models:
`models.py`
```
class UserProfile(AbstractUser):
	phone = models.CharField(max_length=40, unique=True)

	REQUIRED_FIELDS = ['phone']
```

and in `setting.py`
```
AUTH_USER_MODEL = 'MyApp.UserProfile'
```
but I'm getting the error `django.core.exceptions.ImproperlyConfigured: AUTH_USER_MODEL refers to model 'MyApp.UserProfile' that has not been installed`

Anyone know what I'm doing wrong, here?"
<@Susanne> are you using 2.7 or 3.x?
3.x 
<@Gregory> is related app added to INSTALLED_APPS?
"<@Susanne>  also, see if you can put that while loop somewhere else. Maybe fore the condition checks. So while not in the list of acceptables, repeat the question, otherwise check. Refering to line 21."
<@Gregory> Try <#C0LMFRMB5|django> or <#C0W0D17MJ|django_learning> channels. There are some really seasoned Django devs in there. Just share your question into one of those 2 and sit back and wait for the magic to happen.
"<@Gregory> I believe <@Denna> is correct, double check that the new app is listed in your `INSTALLED_APPS` - if that isn't it, come join us in <#C0LMFRMB5|django>"
"before the condition checks?; What would you suggest I do for line 21?; ok so back to my original question, what can I do in my original code to continously go through the program and not reset the list all over again?"
"get user_input.
while user_input not in valid_results, print error, ask for input again.
if input in valid_results, continue on w/ conditional checks (`if user_input == 'a'...`)"
Ok I fixed it; what can I do in my original code to continously go through my program and not have to reset the list all over again each time I run it through?
"Where is 'the list'? What line number? When does it 'reset'? There are a couple of people who have already suggested that the question is unclear and that the 150 lines of code sort of distract from the core issue.; And really, b/c this:
```
else: 
    while ret not in ('r', 'x'):
      ret = input(""Press R to return or X to exit"")
```
is all over the place, I would consider trying this approach
```
get user_input.
while user_input not in valid_results, print error, ask for input again.
only when input in valid_results, continue through to conditional checks (`if user_input == 'a'...`)
```"
It's in line 24 or 25 ; Under the books (selection) function; Oh I understand now
lines 31 and 32 are resetting the lists. The list of books and costs gets dropped down to original; lists when that function is called.; that call happens in lines 24/25
Right and I'm trying to figure out how to fix that problem
"change last line to
```
if __name__ == '__main__':
    main()
```
Move menu() in line 3 to line 2.
Break off the menu part into its own function where it outputs menu options text.
Look into how to pass lists to functions, as you are doing with `selection`"
Name? 
I dont have that anywhere
"Right now lines 1 - 3 don't really do anything. Your program runs b/c you call menu() at the end. Instead, call main(), which in turn calls menu(); Also, try this <@Susanne>"
"name is a built-in that is defined by the python interpreter (I'm jumping in late, but I think that's what you had asked)"
:point_up:
What does name do? 
this; It's an ugly thing that we have to accept lol
And that's it? That's a little vague; I use main to call functions menu and register 
<@Susanne> Here is the python doc on it: <https://docs.python.org/3/library/__main__.html>; And a little more info from SO: <https://stackoverflow.com/a/419185/1584762>
"lines 1 - 3?
```
def main():
  
  menu()
```"
Well I just sent you the relevant code for the problem; I was having
"lines 145 and 148 (and I'm sure others in the code you didn't post) call main(). Are you also calling main() at the bottom near/next to menu()? No, right? Otherwise you'd get dup menu().; so try `if __name__ ....` to call `main()`.
and use `main()` to start you off and maintain control of flow/logic, and when to quit."
Ok I'll try that
"<@Susanne> This is just an example of how I've done this in the past <https://github.com/khdc-me/PracticePython_org/blob/master/Exercise032.py>
NOTE: There are a lot of things that I would change if I had to redo this game, but it can serve as a basic guide for what you are trying to do. Again, don't follow this outright, but use it for ideas."
so youre saying get rid of the main()‘s and just slap a if __name__ ==  “__main__” on the bottom?
no. scroll up to 11:30am. and read my reply to your previous msg; Also read this
Here is the revised code; <@Deedee>
remove line 167; did you look at the link I sent you to the 'example'?
Yes I did? so how are you able to call main then?
"it just does.; so this way, main() runs if this is run as a script... a stand-alone script.; like, you create a hello world and run it from terminal by `python helloworld.py`
```
def main():
    print ""Hello World""

if __name__ == '__main__':
   main()
```"
but I dont have scripts on my function Im using that function to call functions; but in raelity main is kinda of a useless function tbh; would you suggest getting rid of hte main functino?
"no; find a way to make it work, not just w/ the `main()` function, but through it."
yea its not working ill just stick to calling the main function normally; I really do not how you’re running it and its working? lol
careful. Keep it civil. This IS 'calling the main function normally'; I literally just copied and pasted your most recent code and ran it.; You're close. And having it all segmented into various functions is will make it very easy for you to make the small tweaks that it needs.; Stare at it... fight with it. It'll click.
Are you sure you are using the code I just posted on here?; 30 mins ago?; cuz idk man it aint clicking
"And I only did it to see if it would run, and if not... see what errors it produced. &lt;-- in fact, when you run it, what errors do you get?"
It doesnt even run I get nothing; I run and then it stops
"yeah, well I was asked a username and password and all"
I wasn’t at all
had to type that in then type it in again before it produced that main menu
maybe <http://repl.it|repl.it> doesn’t run if __name statement
"hahaha maybe. I can't confirm or deny. But if it doesn't work, then so be it... change 158 and 159 to just call main(). And ask someone why it doesn't work the way we're talking about here. Now, back to your original question... It's obvious that lines 50 and 51 are not the correct spots to declare the lists. Did you look into passing lists to functions?"
No I haven't; Well I believe i have been this entire time; Where would you recommend calling the lists?
"where do you think it should go? step through what you have, carefully. Did you write this out on paper first?"
No I didn't ; I was thinking about putting it after menu but before the books function and then returning those values; That's pretty much the one problem I've been having this whole time lol
"no. that's the only thing you asked about. There are multiple probs :joy:; like, line 129, type 'one' instead of '1'; lines 12 and 13 in register() don't make sense.; and much more. but one thing at a time."
Well 129 is just a print statement; So I can make it a little more clear if anything
109*
Again it's still a print statement; I'm deleting the list item by the index
"Line 109 says: `num = int(input(""Which book would you like to find?""))`; Line 129 says `num = int(input(""Which book would you like to sell?""))`; that's user input, not a print statement."
Oh my bad; Well that would work
"Lines 52 and 53:
```
  for i in range(0, len(inventory)):
    print(inventory[i])
```
should be
```
for i in inventory:
    print(inventory)
```
but `i` should be more describptive, like `movie_title` or whatever.; anyway... let's look at where you said you'd post the list; &gt;  after menu but before the books function and then returning those values
What would that look like?; Since you mention 'returning values', how does register and login work? In your own words."
It would allow me to use this values into another function when I call a specific using the return values as parameters
"how do you see that code happening? can you type it up here?; okay.. so I asked about this b/c that's not how `return` works; let's start building this bad boy.
I'm guessing the first step is that the user has to register, right?"
yea; they create a username and a password
so we'll start w/
the password has to be 6 characters or more
we'll move this into comments under that code snipet
"I need a register and login; Ok and I'm assuming we'll use it in a little bit, right?; ok; Im just trying to figure out which extensions to download for sublime; <@Deedee> You wanna move this over to the dm?"
<#C080T8XT2|job_board>
how would one who is used to MVC based web frameworks organize controllers in `aiohttp`. The closes thing seems like class based views but they cannot contain a RESTful resource. Or am I missing something?
"<@Fern> what makes you think they can't ""contain a restful resource""? Aiohttp is lower level framework, but you can design it any way you please "
how to do you access the key of a specific dictionary?; how do you*
"<@Susanne> Can you show what you're trying to get data out of? Normally it's just `dictionary['key_to_get']` to get the value out; There's also the view method if you want to see the available keys: `dictionary.keys()`; Is it line 5 and you are trying to check if the input value is in the books dictionary?; First, be sure to not override built-ins (`while str not in`, `str` is a built in). I also believe that you want `i` instead of `str` there; But you can just check `if key in dict: print('Yay, it exists!')`"
"but i isn’t going to print out; I ran the for loop but when I go to select I, I get ‘dict_items’ object cannot be interpreted as an integer"
"Oh, yeah you can't use integers in a dict - you are asking the user to give you an int and then looking that up in the dict; If you want to do that, you need to keep track of what keys the integers correlate with"
Thats im trying to do by converting it into a tuple; but i guess that doesnt work
"Dictionaries don't keep order until python 3.6, just an FYI - so that could work if you save it to a variable first, then ask for input; So maybe something like: 

```
&gt;&gt;&gt; options = list(enumerate(d.items()))
&gt;&gt;&gt; options
[(0, ('Game of Thrones', 50.0))]
&gt;&gt;&gt; for i, (k, v) in options:
...   print(""select"", i,"" for "", k)
...
select 0  for  Game of Thrones
&gt;&gt;&gt; options[0]
(0, ('Game of Thrones', 50.0))
```; Actually in that case, probably better to just do `options = list(d.items())` which will give you a list of tuples, then from there the `i` value is the array index"
‘float’ object is not iterable; that was the error I got
Looking <@Susanne>; just a minute
ok
What line is the error in the stacktrace <@Susanne>; `enumerate(options)`; sorry
ok then what would I put if I wanted to print out he key and value?
How about you tell me on that one :slightly_smiling_face: Try it a bit and then report back if you are stuck; I don't want to give you too many answers to prohibit you learning it :slightly_smiling_face:
I would continue using options correct?
"Yep; You can grab it from options, which is a list of tuples `[(key, value)] -&gt; [(""Movie Name"", float_val)]`; So `options[i][0]` and `options[i][1]`"
"It says “list indices must be integers or slices, not str”; thats the snippet I ran"
The question you need to ask yourself is which thing in that snippet can give you a string that is used in `options`?
the str function
You aren't using the `str` function; The issue is that you are passing a `str` as an index
can you use int?
"That's what you want to use in a list :slightly_smiling_face:; Check this doc on `input` <https://docs.python.org/3/library/functions.html#input>; &gt; The function then reads a line from input, converts it to a string"
ok; Now how would validate the input?; at least what would be the thing I am looking for in the while statement?
"I'll leave that to you for a little to try out, let me know if you hit your head on it too long"
hint at least? pretty please with sprinkles on top :smile:
"You have a list of things, you need to make sure the input is in that list :wink:"
while i not in range(options)?
Test it out; the nice thing about programming is you can test theories pretty easily :smile:
that is true; I got this “‘list’ object cannot be interpreted as an integer”
And which thing in that is a `list`?
"<@Denna> <@Beula> (sorry for the days-late response). Yes. My app is in installed apps and the admin panel is fully accessible and usable, but with the generic user model"
the options; correct?
I Want to learn python can any tell me where to start?
"<@Dennis> What's your programming experience level? Are you fully new to programming, or know another language?; Because `i` is set to the last index in the loop because python has function scoping, meaning that any variable defined within the function body (even nested scopes) will be available in the function.

It appears you need to use `num` rather than `i` to get the value from options"
"right I got it figured out; When I run the menu
I enter my command do the selected function
Function goes through and what I need it to do 
then when I return it takes me back to the menu
when I enter a command to do another function it stops
why does it do that?"
"<@Beula> I Learned ""C"" language, And have good experience in it."
"I think being here and asking questions in <#C07EW4DNE|learning_python> is a good start, probably just writing some applications and the like will get you up to speed if you know programming already <@Dennis>"
<@Dennis> The official doc <https://github.com/pyslackers/community/blob/master/whats_next.md>
<@Deedee> :taco:; <@Deedee> :taco:; <@Deedee> :taco:; <@Deedee> :taco:; <@Deedee> :taco:
I finished sts http.sslVeify = False option setting.; and When I use shell command git clone repository work!; just problem invoked when clone in STS.. TT
Anyone ever use mechanize? How easy is it to mock inputs + button clicks and is it reliable?
"Attempting to install python for VS on friends computer, but for some reason the option with the VS installer is not coming up; VS 2017 professional edition"
Can anyone suggest me a good PDF creator package? I need to generate reports in PDFs
What is the best way to have a function run in code when referencing an object that will not have been initialized at build time?
"<@Myong> - build time? What is this, Java?; JK of course, can you clarify a little?"
im all over the place lmao; So basically similar to what I was asking a few days ago regarding doing some lambda stuff
Ah
"I have a config file where; I update the settings as a user enters their choices; And in one part I have 3 separate lists a user can choose from, but the way they choose the list is by the title of the list; then in tkinter on the next screen, the appropriate list shows up; However, in tkinter since it builds each frame before it runs, it doesn't get filled with the user selection; and it doesn't like that I want to wait for user input before filling up a `OptionMenu`; so I was thinking that on submit of the screen before, I could simply access the next Frame before it appears, clear the list, and populate it with the correct values; But I wasn't sure if there was a less annoying walk around?"
Sounds like you need to wait to build the GUI until after the input has happened
"Well if that were the case, in tkinter I would need multiple mainloops because all the Frames in a single mainloop are built before any single Frame shows to a user; And multiple mainloops means multiple screens; Guess I just chose a crappy GUI framework to begin with, compared to the rest at least...; I'll go ahead with the manual option"
"You probably need to change the UI from within an event, called from the main loop; But yeah, tkinter is not exactly 21st century stuff"
"Yup, good times with the 1900s, good times"
"Anyone know what the error `Import Error: DLL load failed: The specified procedure could not be found.`; after installing lxml via pip; basically showing `""/venv/lib/site-packages/lxml/html/__init__.py"" from .. import etree`"
Maybe try the binary installer for windows?; <http://lxml.de/installation.html#source-builds-on-ms-windows>
Okay
"I am just spitballing, sorry if it's not helpful :confused:"
I was about to try that
"I just remember returning my windows box within a day after trying to get C-libs to build on windows; apparently the anaconda distribution really helps on windows though, it may be worth looking into"
Yeah it's horrible honestly
have you tried WSL yet?
"I have not actually, I have ubuntu on my surface pro, but that's a pain in my ass"
:disappointed:
"Might be better now, but it took so long to get it to work lmao; Is github down?"
Did slackbot just gasp at ‘ass’?; Amazing.
"Yes, github is having ""major outages"""
I can't build from the tarball
yeah github is down at the moment
says normal service is returning now
Has anyone ever used slackbot in the history of slackbot?
"nope, not I"
My work team and I use it for team-wide reminders.
slackbot can be useful i guess
Is that giving back the profile info? Or info that you have given slackbot?
info given to slackbot
"Yeah, reminders are the big one for me"
only use it for reminders
"Though really that is the slack app, slackbot is just the deliverer of the message since it's slash commands"
Hey <@Beula> what's a good substitution for the `f'{datetime.datetime.now():%Y-%m-%d}.xlsx'` formatting; Can't use it in 3.6
"`""{:%Y-%m-%d}.xlsx"".format(datetime.datetime.now())` I think; let me double check; ```
Python 3.6.2 (default, Jul 17 2017, 16:44:45) 
[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import datetime
&gt;&gt;&gt; ""{:%Y-%m-%d}.xlsx"".format(datetime.datetime.now())
'2017-07-31.xlsx'
```

That's 3.6.2 but should be backwards compatible"
"Okay cool; Also, another quick question; Was working with a bunch of dictionaries all parts of `tkinter` for different object; On my computer some keys were shown as `!branches` or likewise; denoted as a string with `!` prepended; but on a coworkers computer in some cases the keys were completely random numeric strings; and I had to grab data another way, can you think of a reason for this?"
Are you talking about internal tkinter apis?
"Yeah, just going through the object attributes. I'm never touching `tkinter` again, but wasn't sure what that might be from; All same versions of most everything"
Are you and the co-worker on different OSs?
"Nope, same OS"
weird ¯\_(ツ)_/¯; ahh that was awesome looking
_takes notes_ avoid tkinter... got it
save yourself the headache and just smash your hear into a wall
"hello -- I need a push: I'm in the python shell, got a list of my installed modules, my module is in there --&gt; mytest-module==0.1 ... if I ""import mytest-module"" i get a syntax error. If i ""import mytest_module"" i get a &lt;module not found&gt; error. I'm a little stumped as to how to access my methods. Help? Am I missing something fundamental?"
not sure this is the right spot for this ..
Where are you seeing your module?; In an IDE or `requirements.txt` you have?
"shell -- imported pip. Then set ""installed = pip.get_installed_distributions()"" ... then ""installed_packages_list = sorted([""%s==%s"" % (i.key, i.version)""; it's at the top of the list"
"use ` on the ~ key to format text like so, just a bit easier to read"
doh - sorry...slatiquette violation
So is `mytest-module` a module you created I'd imagine
correct
any modules or `.py` files should only use `_`; no `-`; because the `-` is not a proper identifier
figured it was that -- but i wanted a 2nd opinion
No problem
"The syntax for importing modules like that is `__import__('my-module')`, but as <@Myong> said, use `_`"
^
"tbh .. not sure how the hyphen made it in there, it's nowhere in the package."
"generally even underscores aren’t PEP8 compliant: “Modules should have short, all-lowercase names. Underscores can be used in the module name if it improves readability. Python packages should also have short, all-lowercase names, although the use of underscores is discouraged.

When an extension module written in C or C++ has an accompanying Python module that provides a higher level (e.g. more object oriented) interface, the C/C++ module has a leading underscore (e.g. _socket ).”"
^ that's what I ended up doing. Removed all underscores and converted to all lowercase.
any idea how to import an egg-link in the shell?
"Anyone here use DB as a service for their personal projects ? 
Trying to decide whether it’s worth it to just install Postgres on my own server or just pay for RDS and the like"
"I've got  the perennial issue of imports, just wondering if anyone could give a hand with this?; as for db as a service/managed, how important is the data"
"RDS, even on the low end, I think is around $25/mo; So I have a DO server and just do `pg_dumps` a few times a week"
"for small projects where I just need a RD, typically I'll reach for sqlite"
for postgresql backup there is `autopostgresqlbackup` you just need to `apt install` it
and then save it elsewhere :slightly_smiling_face:
"So I'm looking to simplify the logic in this method (and/or something more pythonic). There is a request, that takes several Tasks to complete, this method is finding out what next needs to be completed next based on attributes of the request and current task. Can anyone help me with some ideas?; I feel like there are too many nested if statements"
"are the only numbers 10, 20, 30, 50 or are there ranges?"
"They are Django Choice fields, I wrote the models like 6 months ago when I was new to Django, I'm trying to refactor everything now"
"ah, i had a better way to do that, but not sure if it will work with django"
What is it?
using dictionaries; pythons version of a switch statement
"Right, I was thinking the same, that's no problem for Django, but how would you handle the nested cases?; Or for example `if self.request.request_needs &gt; 10:  # Needs Takeoff or Takeoff and Estimate` is essentially checking if it's 20 or 50, would I include a key for 20 and 50 that both do the same thing?"
"hold on, sorry, im trying to play with your code but 3 fires just started at work haha"
No worries!
<@Staci>; something like this
"This is great, thanks <@Orpha> :taco:; I'm going to work on implementing this and I'll let you know if I have any questions, but it looks pretty straight forward"
"cool, hopefully it works out and you can just add those functions to the class you had the if statement in"
"need some help with transforming datetime object

&gt;examples of the df['old'] that needs to be tranformed
```
0       00:19:58.582052
1       00:25:09.107093
2       00:06:44.541717
4       00:03:45.035418
5       00:07:14.327405
6       00:04:49.413655
10      00:07:00.095332
11       00:30:57.42213```

&gt;This is the code I'm using to convert it into seconds
```import datetime

def convert_seconds(ts):
    for i in ts:
        pt = datetime.datetime.strptime(i,'%H:%M:%S.%f')
        total_seconds = pt.second + pt.minute*60 + pt.hour*3600
    return total_seconds

df['new'] = convert_seconds(df['old'])```

&gt;And this is the output from df['new']
```0       565
1       565
2       565
4       565
5       565
6       565
10      565
11      565```

basically I just need to find the mean of the column. Thanks!; also thanks <@Deedee> for the helpful tips :taco:"
"<@Jed> what is your expected output? this is a little confusing. Not fulling understanding what you are doing, returning total_seconds like that is only going to return total_seconds of the last iteration of that for loop"
"<@Jed>, check out `.map` and `.apply` to make your life a little easier!"
"Hi, I just wanted to find the mean of the column, but I had trouble in the `xx:xx:xx.xxxxxx` format so I thought I’d convert it into `int`"
"I've got a python/django issue need help with. I'm sending a curl request with json to a url (code below); curl -X POST -d ""username=john&amp;password=john2&amp;email=john@email.com&amp;first_name=john&amp;last_name=smith"" <http://localhost:8000/api-user-create/>; and I'm getting an error parsing the json here's how I'm parsing it...; @csrf_exempt
	def create_user(request):
		response = {'status': None}

		if request.method == 'POST':
			data = json.loads(request.body)"
"the body there isn't JSON, it's form encoded"
then I can get the data like &gt; username = data['username']
is it not bombing on the `json.loads`?
"yes it crashes there; not sure how best to do this, I've been doing this for requests from an actual browser"
"If you want to send in json with curl:  `curl -X POST -d '{""manual"": ""json""}' -H 'Content-Type: application/json' <http://localhost/route>`"
ah got it
"but, doing that doesn't give you any validations with manually calling `json.loads`, so you get other issues there.; You can just the built in django forms, and just use forms so you get the validation logic"
but json.loads will work this way... django is a backend for an app and the client wants to use jwt i.e. json only to communicate
"jwt is a bearer token format, it doesn't indicate the app is json only; but it's okay if that's the way you want to communicate. In that case if this is a big api - you may want to try out django-rest-framework; It'll save you a lot of manual work like that"
yes I'm getting user token with it but he wants additional features so I'm mimicking the input &gt; output format; I would try that but this is a small project and I'm keeping it simple
cool :slightly_smiling_face:
"getting this error in the logs; ^[[A^[[BInternal Server Error: /api-user-create/
Traceback (most recent call last):
  File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/usr/local/lib/python2.7/dist-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/home/samuel/Documents/code/binabikers/delivery/views.py"", line 14, in create_user
    data = json.loads(request.body)
  File ""/usr/lib/python2.7/json/__init__.py"", line 339, in loads
    return _default_decoder.decode(s)
  File ""/usr/lib/python2.7/json/decoder.py"", line 364, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File ""/usr/lib/python2.7/json/decoder.py"", line 380, in raw_decode
    obj, end = self.scan_once(s, idx)
ValueError: Expecting property name: line 1 column 2 (char 1)
[01/Aug/2017 05:55:01] ""POST /api-user-create/ HTTP/1.1"" 500 85788; input: curl -X POST -d ""{'user-type': 'user', 'username':'john', 'password':'john2', 'email': '<mailto:john@email.com|john@email.com>', 'first-name':'john', 'last-name':'smith'}"" <http://localhost:8000/api-user-create/>"
"Please use code formatting (either triple ticks on both sides ` ``` `, or the snippet feature which is available with the little plus to the left of the code input box)!; But `""{'user-type': 'user', 'username':'john', 'password':'john2', 'email': '<mailto:john@email.com|john@email.com>', 'first-name':'john', 'last-name':'smith'}""` is invalid json; You need to swap the quotes you use; `'{""user-type"": ""user"", ""username"": ""john"", ...}'`"
awesome it worked; thanks <@Beula>
sure thing
"So, I've been using `__all__` for some time now to quickly declare to the programmer which functions of a module is to be used by other modules (more or less, when you open a file, the ""entry point(s)"" that other files that import this file uses can be found by reading `__all__`). It's quite helpful, but the problem is that e.g. sphinx by default won't add the docstrings of private functions. This makes sense if I'm writing API docs, but not so much if I want to cover all functions.

How would you handle this issue?"
`sphinx by default won't add the docstrings of private functions` there should be an option to activate it for all functions
Is that reasonable though? Maybe it's me who should rethink what the documentation should be used for.
<@Lanita> it's unusual to write a non-api documentation in the source code
"<@Collette> Why? If I write valid rst docstrings for private functions they can be used by other tools; I suppose that one of the reasons I care about this is that sphinx won't pass over my private functions by default, and thus I won't get any indication of rst syntax warnings/errors in my private functions, so they'll likely be broken and not noticed"
well in this case they shouldn't be private
"But sometimes the gritty details needs an explanation/overview, and that might as well be in rst, right? That doesn't mean that they shouldn't be private. Equating private with ""doesn't need docstring"" seems weird to me"
"I agree with <@Lanita> . Documentation isn't just for end-users; it's for coworkers. Or myself, in future."
"In my case, my sphinx documentation is 100% for co-workers that can code, and that will probably continue to be the case for some time.; But the thing is, my coworker might as well read the code to begin with, so maybe it makes sense to only declare the interfaces, given how readable raw rst is and python's readability in general..."
"I disagree; ""read the source"" is a poor substitute for good documentation"
I don't understand what do you want <@Lanita> ? sphinx to generate doc for private method that have docstrings ?
"That is what people *say*, but in reality, do people work like that? It's one thing to use a library, but when you're adding functionality to a codebase?; The reason I'm saying this is that my coworkers seem to be the people that prefers to read the source code directly, but maybe they're just used to an environment without documentation... sigh.; <@Ciera> I suppose I want a general discussion on how documentation is to be used, which I suppose would fit better in random. Oh well."
"<@Lanita> because api changes, but general ideas and core functionality often doesn't change"
"Source code and documentation go hand in hand. If I have documentation, I'll go there first. It also helps to communicate intent _far_ quicker than reading code does."
"Because when you try to express everything in __doc__, `help(obj)` becomes unreadable"
"<@Collette> , so you leave off private functions entirely in your fancy-looking documentation? (e.g. sphinx)"
"Yes. That's why they're private; I can include them into a ""how to read the source code"" guide though"
"<@Collette> that certainly seems like a sensible approach, and probably the most applicable to my use case. But it does push other developers towards ""read the source"" fairly quickly. Which I suppose is what is happening in my organization anyways.; So, defining __all__ in every python file is a reasonable idea, I presume? Any places where I shouldn't be doing that?"
"Well, you can't cover everything with docs. Sometimes you have to hijack the library and do dirty stuff. That's why I often write ""how to read the source code"" guides; But still, `__all__` is a must"
"Seems reasonable. Any pointers (blog posts, whatever) on how to write such guides? At what level should they be?; I usually use the top-level docstring to explain intent, and that usually includes mentions of both public and private functions. Though should I consider the top-level docstring to be public or private?"
"I put them in docs, not in `__doc__`. I try to explain the flow of a single successful request, how it goes from the entry point to the handler. And how you can hijack various parts of the handler if they aren't specified as the public api; If the intent of the library isn't clear, or the module names aren't obvious for a novice reader, I often document where's the entry point and if there is some private stuff that gets overridden by children classes"
Hi; Could anyone advise me how to scrape the data from the Javascript Webpages?; I'm trying to scrape the data from from this website but im unable to scrape any field:unamused:; The website i'm trying to scrape the data is <https://munchery.com/menus/sf/#/0/dinner>; Thanks for the advise:slightly_smiling_face:
"<#C5PHT9EGK|webscraping>; <@Cassaundra> also, can you show a page you're scraping?"
<@Suellen> The Website i'm trying to scrape is <https://munchery.com/menus/sf/#/0/dinner>
"Not the website, but a page."
Sorry couldn't get you; i have no idea about JS
"If the data is all being served up by Javascript then you can't scrape it. You'll want to watch which calls are being made to get the JSON data (or equivalent), and replicate those to get the data; Or ask Munchery if they have an API you can use"
"<@Cassaundra> also please check the terms of service of a site before asking questions about things that could violate TOS like scraping. The sites TOS is pretty clear on that, so your questions are better in <#C68GBADG8|etc_greyhat>"
<@Patty> Ok:+1:
"Simple one off question that I’ve thought too much about:
I made a website in Django that does a whole bunch of different things for me as a teacher, like gradebooks, assigning math problems to specific students, doling out digital awards, scraping the sites we use, sending parent letters, etc. When I describe it quickly to actual developers/programmers, what’s the easiest way to describe something like that?
Website? App? Program? What’s the usual term for a django site?"
"You're bordering on a ""LMS"" (Learning Management System) - but I usually just say ""site"".

In my anecdotal experience:

1. site/website -&gt; normal web application
2. webapp -&gt; borders on 1, but usually this gets more into more client side stuff, or an SPA type setup with an API and more functionality than the standard forms of a site
3. program -&gt; pretty vague, could be website, desktop app, etc.
4. app -&gt; often mobile specific

But given a little context anyone will catch your drift"
"Interesting, so teaching websites like mine have their own acronym? Good to know; Webapp is what I’ve been shooting for. Thanks! After making it for a year, I’ve only just started talking about it with people who know any coding and quickly realized I don’t know how to describe it to anyone who knows their stuff."
"LMS is a bit more, but sounds like you have a lot of one. Blackboard, Desire2Learn, Instructure Canvas, Moodle, all examples of LMS related sites"
"Yeah, I checked out a few and it’s definitely not at the level of most of those, but seems to have some overlap. :taco: to you, <@Beula>; Well I screwed that up."
<@Zaida> :taco: for solving a need for your work! Do you come from programming or pick it up for this project?
"<@Beula> Picked it up last summer to make my teaching more efficient/effective. But now I’m looking to learn enough to become a professional developer and hopefully work for an education based company, ala Khan Academy or the like.; Spent 4 years in the classroom, and a few in Graphic design before that, so the tech/design + education is something that I’m really interested in."
that’s a cool space to work in <@Zaida>. i work for an education based start-up. <http://openstax.org|openstax.org>
That's really cool!
"Whoa, Mike, openstax looks awesome."
<@Zaida> i would def. try to integrate with some LMS. for some reason it’s something that comes up last i don’t know why. we are currently making an integration with canvas.; yea we’re pretty cool. especially the fact that we make free textbooks.; we’ll be launching our first paid product this fall. <https://tutor.openstax.org/>; we’re a bit different than khan academy. i’ve met with those folks before :wink:. we actually publish research vs khan academy who doesn’t.
I love the entire concept of you guys.
Is that the flask app mike?
well i’ve blown up the flask app now but yea it was the personalized learning part <@Beula>
What is it now?
Do you see yourself as a ‘disruptive’ service? I know the price of textbooks has been a massive issue for years now.
"and Canvas is the best LMS from what I hear, but moodle is FOSS"
just pure python and api post requests.; yea we have been disrupted the market really good lately.
"Way to go, man."
"several big book publishers have partnered with us.; which is basically saying, “since they can’t beat us they’ve joined us.” lol"
"I teach 2nd Grade, so it’s a bit of a different world here, but still we have to shell out untold amounts of $ to pearson every year."
yea we tried to do k-12
And the user interface I make for Kindergarten-4th grade (that’s all my school covers at the moment) can’t be as complicated as a blackboard or a canvas.
we had another product called concept coach but the grant money didn’t come in; we had to pivot to college students.
Great demo to start with.
spaced practice is where its at.; and of course we have our own algorithms with academic papers written to compute the topic mastery of students.
"Oh! Do you know of any open-source algorithms for spaced practice? I’d love to incorporate something like what Anki uses into my app, but couldn’t find anything that I thought I could use."
i only know of anki.; i love it; especially since it is python
It’s fantastic. Is it open source?
ya; it uses a modified supermemo algorithm which is really good.
"Interesting… I doubt I can crack it open and make sense of it, but I’ll give it a shot.; Never heard of supermemo before."
i’m currently experimenting with spaced practice and unstructured information.
"I’m running into this in django but I think it’s a conceptual question that anybody can answer. I’m trying to write unit tests and in one of my cases, I get “myapp.models.DoesNotExist: MyModelClass matching query does not exist.” I can’t seem to actually access this exception in django and it does not seem like the parent class, “ObjectDoesNotExist” can handle this exception either. What other ways could I write my unittest for it to pass in this case?"
"It should me `myapp.models.ModelClass.DoesNotExist` and you can catch it; You should be able to do:

```
with self.assertRaises(ModelClass.DoesNotExist):
    pass  # test logic here that fails if no raise is received
```"
"This is for a 404, but similar idea: <https://github.com/pyslackers/website/blob/master/blog/tests.py#L91>"
<@Beula> I tried that too and it didn’t seem to do the trick.
"Can you show the actual code? It sounds like this is a <#C0LMFRMB5|django> specific problem, so best to bring the conversation there"
<@Beula> Which would be the most useful code in this case? The test written?; I didn’t notice there’s a django channel
"No worries, see you over there :slightly_smiling_face:"
"hello all, i am trying to learn python deeply; i came across a problem, like ransom note on hacker rank and the solution they used is counter function from collections; def ransom_note(magazine, rasom):
    return (Counter(rasom) - Counter(magazine)) == {}; but it will fail if the letters are jumbled; print(ransom_note(‘igve em grand one dayto night’, ‘give one grand today’)); for example"
"Please use code formatting when posting code :slightly_smiling_face:

```
def ransom_note(magazine, rasom):
    return (Counter(rasom) - Counter(magazine)) == {}
```

Use three backticks before and after, on new lines (` ``` `)"
"working in redshift instance, what permission level do you need to create temporary tables?"
You can grant temporary table creation on its own
<http://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html>
"thanks, <@Patty>"
"I have a problem with sorl-thumbnail, the media path I'm getting is for a file not saved (folder isn't created in cache and neither is the file)"
"hi guys, i’m trying to create: private pip package module, i’m following this `<https://stackoverflow.com/questions/4830856/is-it-possible-to-use-pip-to-install-a-package-from-a-private-github-repository>` The problem is look like I cant spec the version ( 1.01, 1.03…) Do we have other way to do this private pip package?"
"please use code formatting, which I believe I mentioned to you earlier this week.

Either three back ticks before and after the code (` ``` `), on their own lines. or create a snippet with the plus next to the input box (the little plus) <@Beverley> I'm going to delete what's there."
okay let me fix that
"If you have tags or branches to install from, you should be able to append: `@1.01` before any hashes <@Hermina>

It being private shouldn't affect that, for example:

```
pip install -e git@git://github.com/mrasband/project.git@v1.01#egg=project
```"
"```In [1]: from sorl.thumbnail import get_thumbnail

In [2]: from PIL import Image as PILImage

In [3]: image = PILImage.open('revamp/media/27fd720f410e8cd57600b409b7cbea15.jpg')

In [4]: im = get_thumbnail(image, '{0}x{1}'.format(450, 500), quality=100)

In [5]: im.url
Out[5]: '/media/cache/33/71/33711b06366a689da7ba758d8a08cd17.jpg'


[7:37] 
samuel@samuel-pc:~/Documents/code/revamp/revamp/media$ cd cache/33
samuel@samuel-pc:~/Documents/code/revamp/revamp/media/cache/33$ cd 71
bash: cd: 71: No such file or directory```; having an issue with sorl thumbnail it's giving back a file location but it's not created"
"thanks, i’ll try that :slightly_smiling_face:"
"<@Beverley> if that `im.url` is to believed, the image path is relative to the root of your disk, so try:

```
$ ls /media/cache/
```

And see if the dirs are there; If there is a leading slash, it's usually relative to the root of the hard disk. If it's relative it's either `media/thing/...` or `./media/thing/...`; It supports branches too, so instead of `v1.01` it could be `master`"
maybe not I'm using it with django and I think it's the media_path = '/media/'
"what you show above is just a shell; Is that a django shell, specifically?"
"yes it is; let me edit the media path just to confirm; it's the path; ```In [8]: im.url
Out[8]: '/media-path/cache/f3/75/f3751235afa5727df429651e770c5de6.jpg'
```; changed it to ```media-path```"
"Which backend are you using? Looks like they just throw that in a cache like redis, cacheddb, or memcached; may be worth listing the keys in whichever it's hooked up to; <https://sorl-thumbnail.readthedocs.io/en/latest/requirements.html>; From their _how it works_ page:

&gt; When you use the thumbnail template tag sorl-thumbnail looks up the thumbnail in a Key Value Store. The key for a thumbnail is generated from its filename and storage. The thumbnail filename in turn is generated from the source and requested thumbnail size and options. If the key for the thumbnail is found in the Key Value Store, the serialized thumbnail information is fetched from it and returned. If the thumbnail key is not found there sorl-thumbnail continues to generate the thumbnail and stores necessary information in the Key Value Store.

I am not familiar with the lib, but it appears to cache all thumbs"
"not using either of those just a plain django installation +pillow and sorl thumbnail; this works but without the cache ```im = PILImage.open('revamp'+image_url)
		im.thumbnail((width, height), PILImage.ANTIALIAS)
		image = PILImage.new('RGBA', (width, height), (255, 255, 255, 0)) 
		image.paste(im, (int((width - image.size[0]) / 2), int((height - image.size[1]) / 2)))

		filename = random_filename(path='revamp/media/cache/')
		image.save(filename)```; ```from PIL import Image as PILImage```"
May be worth taking this to <#C0LMFRMB5|django>; I'd bet someone else has had an experience with it 
yes will do
I want to replace `max_connections = 100` to `max_connections = 150` inside a file. should sed do it?; nvm got it :slightly_smiling_face:.
"Haha, this should be in <#C3X4T24LB|databases> ;); sed could do it, of course, tho not sure that's what I'd reach for first. "
"Right now doing it with this 
```
sed -i -- 's/max_connections = 100/max_connections = 150/g' /var/lib/pgsql/data/postgresql.conf
sed -i ""60ilisten_addresses = '*'"" /var/lib/pgsql/data/postgresql.conf
```"
"I want to have REST api framework to add routes on apache-airflow and use REST requests to add and schedule jobs. There isn’t an option from airflow right now. Any suggestions?; there is a plugin available though, 
<https://github.com/teamclairvoyant/airflow-rest-api-plugin>
but the end points are fixed and my intention is to add my own routes."
"Does anyone have any clue to why my page with come up with over 50 errors telling me 'Failed to load resource ', When every other page is working fine hhmmm"
<@Robbin> I think `Failed to load resource` happen when you have a 404 for a specific resource
"Yup, i cant figure out why it would be doing this on only one page haha,; Just a single page is giving me the 404's"
well check the url. typo ? trailing `/` ?
"Hi, thanks, I can do it now, I found 2 way to install the package
```pip install  -e <mailto:git+git@git.repodomain.com|git+git@git.repodomain.com>:dev-team/pp_saturn.git@v0.1.0#egg=pp_saturn``` &lt;= this make the pip freeze look very ugly 
```pip freeze
-e <mailto:git+git@git.repodomain.com|git+git@git.repodomain.com>:dev-team/pp_saturn.git@d99adff288fb1da46513f19de71069eeb334fa76#egg=pp_saturn-origin_HEAD
```
But if I do ```pip install  <git+ssh://git@git.repodomain.com/dev-team/pp_saturn.git@v0.1.1#egg=pp_saturn>``` the result look better when pip freeze ```pip install  <git+ssh://git@git.repodomain.com/dev-team/pp_saturn.git@v0.1.1#egg=pp_saturn>
Collecting pp_saturn from <git+ssh://git@git.repodomain.com/dev-team/pp_saturn.git@v0.1.1#egg=pp_saturn>
  Cloning <ssh://git@git.repodomain.com/dev-team/pp_saturn.git> (to v0.1.1) to /private/var/folders/th/j986b2qj7yn_zczrbmf95jgw0000gn/T/pip-build-Dt_riZ/pp-saturn
Installing collected packages: pp-saturn
  Running setup.py install for pp-saturn ... done
Successfully installed pp-saturn-0.1.3b0``` 
So I should follow the latter way right? Anyway, i’m build the docker image that will later use this package. I need to add a private key into the docker image, so that I can have the access to repo inside the container, any other way to do that? Thanks"
"Hey, does anyone know the effect on performance for importing similar libraries in self-defined classes that utilize each other? Context: working on a machine learning project and really want to segment out certain functionality into different classes for maintainability purposes, but certain libraries take a while to load, and I don’t want to have to load them each more than once. Any advice?"
"<@Denny> in python, import machinery ensures you have a single copy of each imported library; It caches imported modules, so the first import is slow but subsequent imports are fast"
thanks <@Collette>! That’s what I was hoping to hear!
"Is this related to the other ansible work you mentioned yesterday? If so - check out file templating with jinja2; I think you can do basic style auth, but obviously using a key is typically preferable - so I think there's not a better way to do that."
"hey guys, is it a bad manner to post a stackoverflow link to my question in here?; don’t want to spam with a bunch of lines of code and text…; will try my luck <https://stackoverflow.com/questions/45462719/cannot-add-a-new-user-to-users-table-in-postgresql-using-sqlalchemy-after-switch>"
What's the form look like <@Corrine> 
"hey <@Beula> thnx for your response; class RegisterForm(FlaskForm):
    username = StringField(‘username’, validators=[InputRequired(), Length(min=4, max=15)])
    password = StringField(‘password’, validators=[InputRequired(), Length(min=8, max=80)])
    email = StringField(‘email’, validators=[InputRequired(), Email(message=‘Invalid Email’), Length(max=50)])"
"Can you show the definition of your users table?; `\d+ users`?; SQLAlchemy tries to insert a `NULL` into a primary key column, which is a way to say that an autoincrement value should be used. But it doesn't work with Postgres and SQLAlchemy should know that."
"1sec; Column  |         Type          | Modifiers | Storage  | Stats target | Description 
----------+-----------------------+-----------+----------+--------------+-------------
 id       | integer               | not null  | plain    |              | 
 username | character varying(15) |           | extended |              | 
 email    | character varying(50) |           | extended |              | 
 password | character varying(80) |           | extended |              | 
Indexes:
    “users_pkey” PRIMARY KEY, btree (id)
    “users_email_key” UNIQUE CONSTRAINT, btree (email)
    “users_username_key” UNIQUE CONSTRAINT, btree (username)"
"```
Column: id
Type: integer
Modifiers: not null default nextval('users_id_seq'::regclass)```"
thanks:)
"that's what an `id` column should look like ideally; i.e. a SERIAL type should've beed used, and not just a not-null integer; strange overall, is your sqlalchemy up-to-date?"
yeap it is; Flask-SQLAlchemy==2.2
"How did you move over from sqlite? Did you migrate data, or start fresh?"
"tried to migrate, had to start fresh; couldn’t figure out; a convenient way to migrate …"
It's not easy usually
aha
"```
In [1]: db
Out[1]: &lt;SQLAlchemy engine=postgresql://postgres:***@127.0.0.1/postgres&gt;

In [2]: User.create(username='abc', email='<mailto:abc@def.com|abc@def.com>')
Out[2]: &lt;User 1&gt;
```; my User model has the following:
```
id = db.Column(db.Integer, primary_key=True)
```; and that's it; sqla creates a SERIAL column that way, not just a non-nullable integer; maybe migrations are to blame?"
may be
well do you use migrations? have you used them to create tables in postgres?
if you would have to do a migration sqlite &gt; postgres
how would you do it?
"I don't know, I'm trying to solve a SERIAL / INTEGER mystery :confused:; Your model definition is OK, so maybe Alembic did something it shouldn't (if you used it)"
"I need help with web crawling. I use 'requests' module. After 5 successful requests with 2 sec interval, this particular website returns 403.
I set user-agent to 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.41 Safari/537.36'. I'm wondering if there is more I can do to make my requests appear as if from a browser."
FYI for formatting code it's a backticks ` :slightly_smiling_face:; and please post that in <#C5PHT9EGK|webscraping> as it might be against website TOS
Is there a way to see a list of all the channels in slack?; duuhh just found it lol
"<@Winnifred> thanks for the .apply tip, got it figured out finally! :taco:"
"Thanks, <@Jed>! I try to resist the ~urg~ urge to use control structures or things outside of the `pandas` and `numpy` libs when munging/processing `DataFrame`s."
"I'm writing a unittest and I find that one of my test cases will generate either an ssl.CertificateError or an Exception with a message of ""8.8.8.8 is not a VIM server"". Is there a way to write my unit test to check to see that if one of the two cases gets raised in this situation?
It kinda looks like 
```        def test_connect_non_vim_server_host(self):
             non_vim_conn = connector.Connector(""8.8.8.8"")
             # with self.assertRaisesMessage(Exception, ""8.8.8.8:443 is not a VIM server""):
             with self.assertRaises(ssl.CertificateError):
                 non_vim_conn.connect_to_server()```"
"So, it works with ss.CertificateError, but you want to check for either possibility?"
"<@Meghan> Sometimes it's an ssl.CertificateError and sometimes it generates the Exception with the ""is not a VIM server"" message"
And you want to have either be a pass for the test?
Yes
"Not sure if assertRaises can do that, but how about:
```
try:
    exceptional_thing()
except ssl.CertificateError:
    self.assertEqual(True, True)
except OtherThing:
    self.assertEqual(True, True)
```"
Let me try that and I'll get back to you. What would that assertEqual usually be in a case like this?
"You would put your function as one of the parameters there, and the expected result as the other.; ```self.assertEqual(add(1,2), 3)```; I suppose you will want an else clause, and in it put self.assertEqual(True, False) to get a failure.; With that though, can you narrow down what the exceptional condition should be so you know which exception it will give and you can test more accurately?; You could also use Exception rather than a specific exception, however, I don't like vague. If the two exceptions are related, that is one inherits from the other, or both inherit from a common exception, you could use that as well.; <@Kristopher>, I'm leaving the office, if you want to continue tag me so I get a notification."
"Ok, thank you for letting me know; <@Meghan> Thank you, I figured it out."
hey everyone! i have a question in pandas about how to extract rows of a given dataframe based on a certain condition. So let's say I have a dataframe `table` and the condition is `bool_exp` which evaluates to true or false. How I can extract all rows of the dataframe which satisfy this condition?
"my attempt was this : `table = table[bool_exp]`; actually, `bool_exp` is something like this : `table['col1'].str.split('_').tolist()[0][2] in somelist`"
"<@Tameika>, do you want to extract rows based on boolean values of a specific column in `table` ?"
"hey kennes sorry for the ambiguity. every element of table['col1'] is : ABC_DEF_xyz_KLM. If `xyz` is a member of `somelist`, I extract that row."
"What is `somelist`?; typically, if you’re trying to perform calculations on `Series`objects, you can use `.map` so in your case `table.col1.map(some_function_you_wrote(value))`"
`somelist` is a list of string entries which may potentially contain `xyz`.
Ah I understand now.
Could you point to an example for map? I have a hard time wrapping my head around map and Series objects.
yes!
"To solve this issue, create a temporary column like so `table.temp = table.col1.map(lambda x: 1 if x in somelist else 0)` and then do `table = table[table.temp == 1]` then drop your `temp` column."
"ok, let me this try it out."
`x` will be the extracted `_xyz_` portion
true; dropping temp column :`del table['temp']` does not work?
"first, did you get the rows you wanted?"
"yes, I did the get the rows I wanted -- thanks!"
finally :smile:
:boom:
"so, dropping the col?"
"oh, check out the `.drop` method!"
cool!
"hi, I'm not sure if this is the right place to ask this, but I wanted to ask a really simple question about machine learning (reviewing some python code that uses sckit learn's RandomForestClassifier to generate a model using some data)"
welcome <@Albert>! best to give it a shout in <#C2J4B66PK|machine_learning> and make sure you use the + icon on the left side there to share a code snippet if it relates to code :slightly_smiling_face:
"ahh, there's a channel for that. Thanks!"
"hey everyone, what is the best suggestion to ramp up on Python in 4 weeks? I am considering any paid content or tutorials which can help me achieve this goal. I have been programming in C++ for the last 4 years."
<@Tameika> Someone was asking the same question this afternoon so I'm just gonna share his wisdom :wink:; Also checkout: <http://pythonbooks.org/>; <@Beula> :taco: for helping without even knowing you were helping
"has anyone ever used rollbar for python, it's for tracking errors but for something like django which it claims to support there's the error logs which do the same, is there any advantage of adding it?; I want to switch the default python from 3 to 2.7; ```samuel@samuel-pc:~$ python
Python 3.5.2 |Anaconda 4.2.0 (64-bit)| (default, Jul  2 2016, 17:53:06) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; 
```"
"Why?; also re: Rollbar, I’ve used similar sorts of tools. They make your life a lot easier by collecting a bunch of information and collating it in one place, making it searchable.; I usually use Sentry, but I think Rollbar is basically the same."
Need to I'm used to using 2.7 and most django sites I'm working on wont work with 4; 3
"You can see all sorts of nice stats like when the first time an error was seen, how often, etc.; stats about the OS of the user, etc."
"`virtualenv -p /path/to/python2.7 name_of_venv` to make a quick virtualenv for Py2.7, and then `source /path/to/venv/bin/activate` to activate it and then `python` will start a Py2.7 REPL."
"re: python 2.7, there’s probably a package for it.  but I’d invest some time in upgrading."
"Although, you should still have `python2` on your system"
I do I think I'm going through ubuntu guide for this
if you are on ubuntu `python` should point to `python2`; or maybe it doesn't do it on a fresh install ?
"he’s on RedHat, but I think just found a tutorial based on Ubuntu"
"<@Beverley> switching your default python from 2 to 3 is a _bad_ idea; since you're on redhat, there are a large number of packages that rely on python 2; so, just use `python3` instead, or use a virtualenv"
`I want to switch the default python from 3 to 2.7`; the default is python3
":disappointed: reading comp fail; still, bad idea all around"
(doesn't change anything you said but just poiinting it out)
:smile:; apparently I need more :coffee:; and maybe more :sleeping_accommodation: :timer_clock:
but having python3 as default on red hat 4.4 seems weird
no... kidding; I think he's mistaken; because 4.4 was released Aug 2006; oh; that's why; anaconda; <https://pythondev.slack.com/archives/C07EFMZ1N/p1501748409601269>
hmm that might explain it. But does it change the default python ?
"apparently; <https://askubuntu.com/questions/748069/how-do-i-switch-back-to-python2-after-anaconda-set-python3-as-the-default>; even though he's using anaconda v4, it apparently hasn't changed"
I’d just bite the bullet and upgrade projects to python3.  it really isn’t that hard.; I put it off for years and it ended up being really easy; then again that’s because I had a good test suite I suppose.  if that’s not the case perhaps that’s the first priority.  :stuck_out_tongue:
Hi all; any one configured pgadmin in server mode ?
<@Antoinette> please don't cross post your question in multiple channels
<@Marcie>  : oops
okay sure
and your question might be better suited for <#C3X4T24LB|databases>
sure <@Meg>  thanks man .. i will post it there
"Hi; i am trying to scrape the data from a website i.e to get all the href from a site from but i get only the links from 1st page
but, there are multiple pages on the website (Webiste which i am trying to scrape ""<https://www.northshore.org/apps/findadoctor/results.aspx>"")
how do i go to next page and print the links/href?; can any one advise?
thanks for the advise"
"<@Cassaundra> we have a <#C5PHT9EGK|webscraping> channel that may be more fruitful; If you go there, please share the message (don't copy/paste)"
<@Beula> :+1:
"I have a list with 3 numbers and I want to increment moving up, for example with a deviation of 1 and the list is 000 have it do this; ```000
001
010
011
100
101
110
111```"
You want to count in binary?
"since there's two numbers 0 and 1 I can know I need a loop of length 2 ** 3; no I have rgb codes I need to increment; so let's say rgb(10,10,10) to rgb(30,30,30); it might be uneven like rgb(10,2,30) but use a rule of 2 **3 it would be as follows; basically I want to deviate from each value by 2 up and down"
what makes this difficult in your opinion; i may have understood what you were asking wrong but this seems like simple math and a function would suffice
"<@Tandra> I'll need to keep count of how many times I've incremented the last two digits for this, is there a scientific tool that does this I guess is my question"
can't you store that in a variable?; or any data store that fits your need; if persistence is needed etc
I've figured out a way to do this without writing too much code
awesome :+1:
<#C07EW4DNE|learning_python>; oops; sorry
"<@Glenn> in the future, please avoid cross posting; It wasn't even a minute between posts, cross posting (preferably sharing a post, actually) is okay after some period of no traction; I responded in <#C07EFN21K|random> , anyway"
"ok, at the beginning i though i posted on wrong channel, so moved to <#C07EFMZ1N|help>"
You can delete your posts when they're in the wrong spot :)
deleted
<#C0LMFRMB5|django> :wink:
going over there :stuck_out_tongue: shall i delete this post?
yeah. We try to avoid cross post :slightly_smiling_face:
"yeah, sorry my fault"
if there is no answer in <#C0LMFRMB5|django> for a time you can share the post here
"<#C0LMFRMB5|django> is dead, no one answers this early in morn haha"
we need to recruit more people in this timezone :smile:
"yeah, the question i'm asking shouldn't be to hard to answer anyway.; i dont know many django developer in my timezone haha"
"does anyone know how I can check if an instgarm token is invalid, and if so, prompt the user to reauth on the front end?"
"<@Shonda> not sure if you fixed this already, but I think you should be able to just try to get the users profile info and that'll be enough to tell you. Another option is to just keep track since per the oauth2 spec you should have gotten the expiration when they logged in "
"Quick question:; why does this print letters instead of a word?; Nevermind, I'm an idiot; should be using .split(); Does anyone do codewars?; I'm having an issue with this one: <https://www.codewars.com/kata/playing-with-digits/train/python>; All my tests pass, except the last one when I try to submit; I get this response from the test: ""None should equal 12933""; Which appears to be some kind of error, unless I'm missing something; Actually, I think I got it."
Thanks for the link to codewars. Awesome site
Hi everyone!
"hi can someone help me, because i created a object from django createview but i want to redirect them to the updateview of that object is that possible?"
<https://docs.djangoproject.com/en/1.11/topics/http/shortcuts/#redirect> using redirect with args sounds like what you're after <@Meredith>
"thanks mate <@Tandra>, ya i found it also its just a matter of content manipulation."
"Hello All ; I am using Python 2.7 on Linux Ubuntu Machine and I'm using ctypes Library with CDLL (Shared Library .so) the importing this library giving me an error , looks like sharedlibrary is not in the Python Path has anyone how fix this one"
<@Sidney> I was doing this kata on codewars; <https://www.codewars.com/kata/55c45be3b2079eccff00010f>; my final solution ^^
try adding where the .so module resides to your LD_LIBRARY_PATH
can you tell me what should I type into terminal; I'm newbie to Linux
"export LD_LIBRARY_PATH=""your path""; this most likely should be set in your bash.rc or equivalent iirc to persist; sorry it's been a long time since using"
if there is any spaces in the path; I think that causing some problems
use single quotes?
I tried; how can I know what is my PythonPath right now to see if the export worked or not
"python -c ""import sys; print(sys.path)"""
the new path is not there
because im not entirely sure how to help you here <https://stackoverflow.com/questions/18247333/python-pythonpath-in-linux>; looks like sound advice imo
"I didn't solve the issue yet , let me see if I can figure out what I'm missing; done buddy I copied the shared library to /usr/lib; appreciate your help :slightly_smiling_face:"
sweet :+1: you maybe coulda symlinked it too; might help incase it ever updates
its alread symlinked
"<@Staci> fwiw, you don't need the `key` in your call to `sorted`. What you have is the default behavior anyway."
"Yea I realized that after, I switched the order"
"Hey there. Does anyone know of a python 3 lib that can replace Gooey? Basically imagine if argparse opened a gui window and offered checkboxes, instead of reading switches from stdin?"
"<@Kanesha> have you seen <https://github.com/chriskiehl/Gooey/issues/65#issuecomment-313309037>; `If you're running Python &gt;= 3.5, you should be able to just pip install it and be on your way. All deps should auto resolve.`"
<@Kiara> Omg thanks. I missed that.
what should PYTHONPATH point to?
<@Tameika> you shouldn't touch it; Forget that exists
"ok, but I got this error. ``` /usr/local/include/boost/python/detail/wrap_python.hpp:50:11: fatal error: 'pyconfig.h' file not found
# include &lt;pyconfig.h&gt;
          ^
1 error generated.
make[2]: *** [CMakeFiles/hello.dir/hello.o] Error 1
make[1]: *** [CMakeFiles/hello.dir/all] Error 2
make: *** [all] Error 2
```; same issues as here : <https://stackoverflow.com/questions/19810940/ubuntu-linking-boost-python-fatal-error-pyconfig-cannot-be-found>; not sure where is pyconfig.h in my system either :disappointed:"
`find / -name pyconfig.h`; `find /usr/include/ -name pyconfig.h` is probably better
"yes, did that. its not there"
Have you installed `python-dev` package?
let me check; is it python-devel for mac?
How did you install python on your mac? Are you using built-in one?
i have both python2 and python3; i am using the built in one for python2 (currently working on that for boost python); i also did: `brew reinstall python`
"Okay, then you need to run `xcode-select --install` to install the development headers"
thats the whole command?
Yes
"`xcode-select: error: command line tools are already installed, use ""Software Update"" to install updates`"
"By the way, re-using the pre-installed python is probably a bad idea. I'd go with `brew` version of python; Yeah, that's why"
"oh, how do i find if it is pre-installed or from brew?; actually i am not quite sure"
"If `which python` points to homebrew's bin, then it was installed by brew"
"ok, i found pyconfig.h is actually here : /usr/local/Cellar/python/2.7.13_1/Frameworks/Python.framework/Versions/2.7/include/python2.7; which python actually points to here : `/usr/bin/python`"
Then you're using the pre-installed python
shit; should I follow this and remove the entire framework <https://stackoverflow.com/questions/22774529/what-is-the-safest-way-to-removing-python-framework-files-that-are-located-in-di>
Don't mess with your system; Also you probably haven't read the question carefully - it's about pythons installed neither by brew or system
"oh ok; so, what is the best way to resolve this and make my Sunday fruitful :neutral_face: ?"
Start from <https://stackoverflow.com/a/7375583>; Then try to include paths to the brew's python headers for cmake explicitly
"ok, I ran `which -a python` and understood that there is only one version of python at `/usr/bin/python`; so, either 1. i did not use brew to install python; or 2. brew installed python at `/usr/bin`"
What `brew ls -v python` says?
many files in `/usr/local/Cellar/python/2.7.13_1/`
"Do you have `/usr/local/bin` in your PATH, as SO answer suggests? Have you read that answer?"
"yes, it has higher priority over others; echo $PATH gives me this : `/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin`"
Do you have `python` in `/usr/local/bin`?
seems to be linked files?
"yes, they're all linked to the Cellar; `lrwxr-xr-x  1 seanjohnson  admin  34  7 Jul 14:35 /usr/local/bin/python -&gt; ../Cellar/python/2.7.13/bin/python`; should just be a matter of putting `/usr/local/bin/` in your path then"
"yes, -- it is already in my path. `/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin`; still, i get the error ``` /usr/local/include/boost/python/detail/wrap_python.hpp:50:11: fatal error: 'pyconfig.h' file not found
# include &lt;pyconfig.h&gt;
          ^```; any thoughts on why this is the case?"
"it's confusing as to why `/usr/local/bin/python` is not showing up for `which python`; though both the system and brew python should be able to find `pyconfig.h`; `/usr/bin/python-config` and `/usr/local/bin/python-config` should both return valid include directories that have `pyconfig.h` in them; like so:
```find $(/usr/bin/python-config --includes | sed ""s/-I//g"") | grep ""pyconfig.h""
/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h
/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h```; ```find $(/usr/local/bin/python-config --includes | sed ""s/-I//g"") | grep ""pyconfig.h""
/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h
/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h```"
"Yes, I have the same output; ```/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h
/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyconfig.h```; not for the second one; ```zsh: no such file or directory: /usr/local/bin/python-config
usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]
       find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]```; why is there no file : `/usr/local/bin/python-config` ?"
weird
can I just modify PYTHONPATH somehow?; that was my first question; but was told to not touch it
PYTHONPATH has nothing to do with your issue
ok
"yeah, it's the path for finding imports, your issue is finding headers for boost's C++ compilation; how are you installing boost.python domarps?"
"`brew install boost-python`; i went ahead and ran this command : ```export CPLUS_INCLUDE_PATH=""$CPLUS_INCLUDE_PATH:/usr/local/Cellar/python/2.7.13_1/Frameworks/Python.framework/Versions/2.7/include/python2.7""```; and when I run make now, it gives me the following error; ```[ 50%] Building CXX object CMakeFiles/hello.dir/hello.o
[100%] Linking CXX shared module hello.so
Undefined symbols for architecture x86_64:
  ""_PyString_Type"", referenced from:
      boost::python::to_python_value&lt;char const* const&amp;&gt;::get_pytype() const in hello.o
  ""__Py_NoneStruct"", referenced from:
      boost::python::api::object::object() in hello.o
  ""boost::python::detail::init_module(char const*, void (*)())"", referenced from:
      _inithello in hello.o
  ""boost::python::detail::gcc_demangle(char const*)"", referenced from:
      boost::python::type_info::name() const in hello.o
  ""boost::python::detail::scope_setattr_doc(char const*, boost::python::api::object const&amp;, char const*)"", referenced from:
      void boost::python::def&lt;char const* (*)()&gt;(char const*, char const* (*)()) in hello.o
  ""boost::python::objects::function_object(boost::python::objects::py_function const&amp;)"", referenced from:
      boost::python::api::object boost::python::detail::make_function_aux&lt;char const* (*)(), boost::python::default_call_policies, boost::mpl::vector1&lt;char const*&gt; &gt;(char const* (*)(), boost::python::default_call_policies const&amp;, boost::mpl::vector1&lt;char const*&gt; const&amp;) in hello.o
  ""boost::python::objects::py_function_impl_base::~py_function_impl_base()"", referenced from:
      boost::python::objects::caller_py_function_impl&lt;boost::python::detail::caller&lt;char const* (*)(), boost::python::default_call_policies, boost::mpl::vector1&lt;char const*&gt; &gt; &gt;::~caller_py_function_impl() in hello.o
  ""boost::python::converter::do_return_to_python(char const*)"", referenced from:
      boost::python::to_python_value&lt;char const* const&amp;&gt;::operator()(char const* const&amp;) const in hello.o
  ""boost::python::converter::registry::query(boost::python::type_info)"", referenced from:
      boost::python::converter::expected_pytype_for_arg&lt;char const*&gt;::get_pytype() in hello.o
  ""boost::python::objects::py_function_impl_base::max_arity() const"", referenced from:
      vtable for boost::python::objects::caller_py_function_impl&lt;boost::python::detail::caller&lt;char const* (*)(), boost::python::default_call_policies, boost::mpl::vector1&lt;char const*&gt; &gt; &gt; in hello.o
  ""boost::python::converter::registration::expected_from_python_type() const"", referenced from:
      boost::python::converter::expected_pytype_for_arg&lt;char const*&gt;::get_pytype() in hello.o
  ""typeinfo for boost::python::objects::py_function_impl_base"", referenced from:
      typeinfo for boost::python::objects::caller_py_function_impl&lt;boost::python::detail::caller&lt;char const* (*)(), boost::python::default_call_policies, boost::mpl::vector1&lt;char const*&gt; &gt; &gt; in hello.o
  ""vtable for boost::python::objects::py_function_impl_base"", referenced from:
      boost::python::objects::py_function_impl_base::py_function_impl_base() in hello.o
  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [hello.so] Error 1
make[1]: *** [CMakeFiles/hello.dir/all] Error 2
make: *** [all] Error 2```; from here : <https://stackoverflow.com/questions/19810940/ubuntu-linking-boost-python-fatal-error-pyconfig-cannot-be-found>"
that's linked libraries missing
"generally trying to shove these things from external environment variables tends to go poorly, you could try passing the output of `python-config2 --cflags` to your g++ command; though i'd probably advise reinstalling your python brew itself because something is wrong from the very start if your path is not picking up  `/usr/local/bin/python`; and just to confirm, this is trying to compile a program that uses python-boost, and not compiling python-boost itself?"
"yes, true!; just running Hello World from here : <https://github.com/TNG/boost-python-examples/tree/master/01-HelloWorld>"
"ohhh; yeah this is all wrapped up and handled in `build.sh`; do you get this output in build.sh:
```-- Found PythonInterp: /usr/local/bin/python (found version ""2.7.13"")
-- Found PythonLibs: /usr/local/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib (found version ""2.7.13"")```"
"yeah, but since I wanted to try each module on my own for a different project, I went ahead and ran `cmake .` in HelloWorld; just let me run build.sj"
"yeah that's your main issue then; there's output from `build.sh` that shows what arguments `cmake` is expecting; though there appears to be some stuff that the root CMakeLists.txt does for preprocessing some examples; `cmake` is smart enough to know not to recompile things that have changed though, so you can edit the `01-HelloWorld` example as much as you want and `build.sh` will only recompile the projects that have changed"
i see; let me re-do this from scratch
no problem! i'm off to the gym so my help will be a bit nonexistant for a while :slightly_smiling_face:
ok -- thank you so much!!!
"good day mates, someone familiar with django signals here. I created a User object but i want to trigger my own signal function when after my object has been created and pass some additional argument do you have any work around with this."
"Hi folks, I’m working with uploadedFile from django, basically its just an file object. I need to check the file header before going any further process with the file. So if I read one line by using `next(my_file)`, how can I rewind it back, so that other function can process the file with its headers normally?"
Hi guys. You might have more luck with these questions in <#C0LMFRMB5|django>
"ok, thanks"
hi
Is there a go-to password difficulty validation library?
we use that at work. Not sure if it's the go-to/best one
"Well, being used in production is good enough, thanks :slightly_smiling_face:"
:thumbsup:
"If SO is a good source, there are some regexes posted for it: <https://stackoverflow.com/a/5142164/1584762>"
"Those are nice, I could even write most of them.. But if I learned anything at all while being an infosec student.. don't do it yourself :open_mouth:"
obligatory xkcd:; <https://xkcd.com/936/>
what's good with passwordmeter is the list of common password; can't do that (easily) with regex
Good point
I wonder if I could dynamically add current username to that list; some users really don't care about themselves
"I would make it a ""rules"" engine myself, test against the regex, test against the username, test against the first/last"
"Username: `tommyjones`
Password: `tommyjones1` -- strong"
test that it's not in the top 100 most common
best solution is auto generate password and don't authorise to change (or only regeneration) :smile:
Or no password and only biometrics
not letting users mess with passwords? I love it
"If you haven't seen it, NIST recently revised a lot of their password advice, some of the old wisdom seems no longer applies... Troy Hunt had a great writeup on it here <https://www.troyhunt.com/passwords-evolved-authentication-guidance-for-the-modern-era/>; The TL;DR was something like:

- Stop requiring periodic password changes
- Stop requiring specific formulas of what's okay to use
- Longer is always better and the best way to make passwords strong"
&gt; - Longer is always better; that's what she...
yup and the haveibeenpwned api seems like a very useful tool
Related is Jeff Atwood's: <https://blog.codinghorror.com/password-rules-are-bullshit/>
"specific formulas are no-go, alright, but what about suggestions?"
"I'm leery of the whole emojis in passwords thing, but maybe I'm just old and emoji newfangled :wink:"
"like, ""your password is rated 0.38 (or just ""weak""), and most common ways to impove it are: ...""; and make a suggestion to add numbers, symbols, increase length. But no checking for specifics, just for a resulting entropy"
"<@Suellen> I think the observation was that if you specify a formula, you're telling crackers the formula too. And since humans tend to work similarly it actually gives them a leg up. People tend to put capitals at the start. They tend to put ""special symbols"" and numbers at the end. Etc. If you just leave it free form then it is less likely those predictable patterns emerge"
oh
And they swap in numerals for letters sometimes -&gt; `Password1` -&gt; `P4ssword1`
"yeah, that makes sense, and that's exactly what I've been doing before keepass"
"The lookups are simple, lots of rainbow tables do that; But basically, require a length. For normal users discourse does 10char, for admins 15char"
"Where if you make the length arbitrary and encourage longer passwords, it adds a lot of cracking time. The NIST recommendation was to support up to either 128 or 256 char passwords I believe. It specified a minimum of 8, which IMO is probably low, but it's aimed at the average user, so..."
"and checking agains the 100,000 most common password"
"damn, 128"
"It's weird that anyone thought it was a good idea to start demanding special characters, because most people are just going to add 1 of them to meet the requirement, whereas simply making the password longer by a few characters would have a stronger benefit with no effect on how easy it is to remember"
holy guacamole
256 char passwords ? that require a password manager
If you want Jeff's suggestions (not the angry rant) -&gt; start here: <https://blog.codinghorror.com/password-rules-are-bullshit/#1passwordrulesarebullshit>
which is by itself a security risk
I think the idea is _up to_ 256 characters. With most online web apps you can just use a varchar or equivalent
good thing postgres doesn't enforce length on varchars
"Basically:

1. Rules are dumb
2. Enforce a minimum unicode length (emoji -&gt; 1 ""character"" in many length checkers... is the example)
3. Check against the common password (approx 30% of people have a password from the top 10,000)
4. Check of entropy 
5. Check special cases (containing username, first, or last); Just use TEXT with postgres :stuck_out_tongue:"
"<@Suellen> You hash the password so it gets down to a predictable, probably fixed, length anyway"
<https://stackoverflow.com/a/4849030/1584762>
I store password in JSONB :troll:
`varchar` without `max_length` is a `text` as far as pg is concerned; so that's good
"&gt; To sum it all up:
&gt; 
&gt; char(n) – takes too much space when dealing with values shorter than n, and can lead to subtle errors because of adding trailing spaces, plus it is problematic to change the limit
&gt; varchar(n) – it's problematic to change the limit in live environment
&gt; varchar – just like text
&gt; text – for me a winner – over (n) data types because it lacks their problems, and over varchar – because it has distinct name"
"although, why am I even talking about database types, when you shouldn't be storing them in the DB... let me get some more caffeine before I say anything else"
oh oh
"<@Ciera> NSCS/GCHQ (UK) is officially recommending password managers now, also mentioned in Troy's post"
"btw, since there's a great discussion going on: is bcrypt still good enough?"
<@Kenna> because they have access to them ? :troll:; am sure they are good but it's still a problem if someone get access to it
Yes
(even more in companies where you can just do a dump before get fired / leaving)
"<@Ciera> Lolz... but seriously my take is, if your adversary is a nation-state, you're probably doomed already... I ignore them and worry about the garden variety opponents... :slightly_smiling_face:"
`bcrypt` seems to be the standard still in most places
did you hear the sad story of scrypt? it's not the story infosec people would tell you...
what went on with scrypt?
"it was invented and named ""better bcrypt"", but wasn't used much; and starting to use scrypt now wouldn't make much sense because of argon2"
I was just looking through the django docs on what they use by default - and they suggest argon2 as well
"oh cool; wait, is there a python implementation / bindings?; I searched for it, but only found a lonely github repo and it wasn't updated much; `argon2_cffi`"
Looks like that's the one they link to as well: <https://docs.djangoproject.com/en/1.11/topics/auth/passwords/#using-argon2-with-django>
must be good enough then; grrrreat
"&gt; . The Password Hashing Competition panel, however, recommends immediate use of Argon2 rather than the other algorithms supported by Django."
"Saw the password stuff from earlier. So much of the web, and business, is doing passwords so wrong. If there is a length limitation it is scary, because length doesn't matter much if it is hashed anyway."
or you're dealing with a crappy legacy system; and/or clueless management
"Length does matter with hashing, each additional character increases the hash entropy significantly - as far as I understand it; Sure the end hash is the same length"
I meant with storage.
Ah; ok
I want to be able to paste the text of the bible with emoji thrown in at random into a password field and have it work. :slightly_smiling_face:
emojis are a must nowadays
"I think KeePass can be set to generate passwords with ascii characters that aren't on a keyboard.; It refers to them as High ANSI, so not ascii, but close."
"Hi All, Does anyone know any course or training on python with facebook? I have been trying a lot, but I didnt get anything on it"
"<@Donnetta> 
&gt; course or training on python with facebook
can you give an example of what you want to do?"
"Hello,; I'm new to the programming world and am wondering if anyone has any good python resources for new beginners?"
"i would suggest: <https://www.udemy.com/complete-python-bootcamp/>; I am new to “facebook with python”. My main intention is to delete/post  photos and posts with a python script. I have been trying for this, but i m not successful. I was only able to read/get one post and it might be very difficult to get all posts in this manner reading one post by post. So thinking on a course or tutorial."
"<@Donnetta>, I suggest spending some time learning how to navigate the graph API. Facebook now has excellent documentation how to do this and they also have a graph explorer tool where you can directly query their server and view responses.; <https://developers.facebook.com/docs/graph-api/using-graph-api/#deleting>; <https://developers.facebook.com/docs/graph-api/using-graph-api/#reading>; <https://developers.facebook.com/tools/explorer/>"
"<@Winnifred> Thats what exactly i have been trying from the beginning, but in the links that you gave, there is nothing on python, how can I integrate those GET commands with python?"
You can construct the calls using <http://docs.python-requests.org/en/master/>.
There is `requests` package BTW
<@Winnifred> this should help.. i will give it a try. <@Shelly> thank you. I will look on it too.. Thank you both.
"There is a little bit of a learning curve on how to use `requests`, but if you use the URL structure in the facebook docs and supply the right auth credentials, you should be able to `GET` and `POST` just fine."
who want to practice coding in hackerrank ?
I am facing  one problem on Django framework that is In Django Models i want id is Autofilled but i don't want primary_key any one help me how to fix it
<@Verlie> you should post this in <#C0LMFRMB5|django> but the answer is primary_key=False
but i put primary_key is Flase it rise exception Autofilled must have primary_key = True
<https://docs.djangoproject.com/en/1.11/topics/db/models/#automatic-primary-key-fields>; sorry didn't know you meant AutoField; set another field to be your primary key explicitly sounds like what you're after
i didn't get you can you say clearly; we can put another key is primary Autofields not working; we can put another field is primary Autofields not working
"all models require one field to be a primary key, how exactly are you trying to use the autofield?; is this going to be your primary key because if so then it should be set as true not false; if it's not going to be your primary key then set another field as the primary_key=True but remove the false from autofield; the error is just saying it cannot be false; which is correct; read the link i pasted, it explains it much clearer tbh"
<https://stackoverflow.com/questions/37709163/how-can-i-support-autofieldprimary-key-false-in-django>; i go throw this link but its not working
"because you are using autofield django assumes you don't need to use it's built in primary key, create another field for id and set it to primary key whilst keeping your original non primary key, assuming thats what you meant"
"also, you may need to manually delete the pk index for the table; can’t remember if migrations will do that for you"
any sample code for how to do; i am new to Django
add a new field to the model class; with `primary_key = True`; delete `primary_key = True` from the autofield; run migrations; apply migrations
id = models.AutoField()
"this doesn't seem like anything that is worth doing imo, both field will contain the same values, whats wrong with just using the default PK field?"
good question
"first_name = models.CharField(max_length=15, primary_key = True); like this only"
_not_ a good idea; because a primary key needs to be unique; thats why its typically an integer or UUID; _why_ do you want the PK to be for the first name?
"cuid = models.AutoField(primary_key=False)
    cust_id = ""CUS"" + str(cuid)      (i want this field is primary_key)"
"the AutoField seems moot here, so does the cust_id field"
ya in cust_id we concatinating string and id
_why_?
"if this is not gonna be readable by whoever is using it, just use the built in PK field; a simple integer as a unique identifier seems much simpler"
don’t make things more complex than you need to
i want  cust_id field as primary_key and  cuid field is Autofield
"if you specifically need a str + unique id, still use the built in pk field and concat the name and id in another field; keeping it simple works wonders :slightly_smiling_face:"
can you plese write code related to what i am asking that way
because you are going about it the wrong way
here i apply inherritance
and what you’re trying to do is complex and unnecessary by any application of good practices
i am inherritting some classes that why i dint want id is primary_key
"that doesn’t make any sense; because when you inherit a model, you don’t inherit the id of the other model class"
but default it generate id on other classes
"^ Sorry for wrapping text in snippet, but its still readable i think.."
<@Danille> better luck in <#C0LMFRMB5|django> :slightly_smiling_face:
:smile:
<@Ciera> is it better to use Flask?)
they are very different. there is not a better one. It depends what your goal is
"<@Ciera> Yeah, I know. Django has batteries, i thought.. But turns out that there is a lot of unnecessary complexity for my tasks. Maybe I just don’t understand it :slightly_smiling_face:"
"conversely, flask doesn’t have many batteries"
I'm not a django expert but yeah django can be a bit heavy for some tasks
"but requires a greater level of understanding, I feel"
:point_up:
"if you’re familiar with web dev, django is pretty analogous to angular; and flask with react/vue"
For web I wrote only a small ROR project and it is was a nightmare compare to django’s “magic” :slightly_smiling_face:
haha
sounds like you and <@Beula> have similar Ruby love :slightly_smiling_face:
My ears were tingling <@Meg>. You summoned? ;)
"apparently so, genie; <https://vignette1.wikia.nocookie.net/disney/images/c/c8/Genie5.png/revision/latest?cb=20130719001923>"
"Apologies, but I won't break out in song and dance"
"thanks :slightly_smiling_face:; so you don’t bust out in moves, you break them completely?"
I think it is telling that the ruby dancce looks like someone crying
"Agreed, very insightful! "
What's the difference between os.environ.get and os.getenv ?
<https://stackoverflow.com/questions/16924471/difference-between-os-getenv-and-os-environ-get>
"Anyone have any issues with the latest requests package and connecting to SSL?; I.e., requests.get('<https://www.google.com>') gets a CERTIFICATE_VERIFY_FAILED error?; On an EC2 instance (RHCE) I get this with a clean venv with the latest requests (2.18.3), but not with a clean venv with a slightly older one (2.13); But on my Mac, clean venv with the latest requests work; Really weird"
It's working on my ubuntu laptop with `2.18.3`
"Yeah, like it said it's fine on my Mac"
maybe certificates that needs updating ?
Python on the EC2 is 2.7.5; It uses certifi for the certs
is it not a case of google's anti botting ?
"And I tested the cert file with openssl on the command line and it worked; I.e., it has a fresh cert file packaged - it doesn't use the system cert"
does curl work ?
<@Tandra> Don't know why that would only affect the newer version and only on the EC2 instance; <@Ciera> Let me try
if the ip has hit the url too many times it could potentially lock it out is what i meant
But openssl AND slightly older requests work
hence why it works elsewhere
for a request to google homepage I think you should hit it pretty hard to be locked out
Yeah; Curl works
well so I guess it's something in `requests`
Need to figure out how to get more info
I would try with newer python and open an issue :slightly_smiling_face:
"Need the raw request, I guess; Going to see if I can dump the full request"
"can you update to newer python?; I mean, 2.7.5 _is_ fairly old"
Yeah
try to up the log level; requests is supporting 2.6 so it should work
probs related: <https://github.com/certifi/python-certifi/issues/52>; `requests` updated their `certifi` dependency @ version 2.14 (after working 2.13)
"Oooh, missed that issue; Yeah, my openssl is 1.0.1; Thanks!"
that would do it :slightly_smiling_face:
"Yeah, that did it"
yay :tada:
"Im need your help again :confused:
Anyone worked with gunicorn+djnago here?"
<#C0LMFRMB5|django> would be the best place to ask
"oh, ok, thx; Im switching back here :slightly_smiling_face:
Sorry for bothering so much

I live in Moscow, so I have utc+3….
Should i configure utc+3 for python, postgres and nginx…; or I can just leave utc everywhere?"
"<@Danille> you should always store and use UTC everywhere, up until you need to present the datetime to users; at this point it should be in their locale"
I commented on that in <#C0LMFRMB5|django> - there is some slight overlap in the subjects
I'm not subscribed to that channel :confused:
I should have suggested they keep it in one spot - my bad
"Hi, what's the best python IDE for a newbie?"
"<@Ela> notepad; A newbie should learn language, not IDE hotkeys and autocompletion stuff"
Agreed with <@Collette> . PyCharm is the most feature filled - but that may hinder learning
best place to start learning the python language is <http://python.org|python.org>?
i think the way it helps enforce styles and auto-completion is useful.; i started with an IDE and i’ve done a number of other things w/o it and have been fine.; “best” is a rather subjective term but i really liked the google 2 day class.; you might also like codeacademy. it’s interactive and in the browser.; the only thing about the google 2 day class is they use 2 spaces instead of 4. I didn’t follow that but as long as you’re consistent your fine.; <https://developers.google.com/edu/python/>
<@Suellen> thank u!
<@Johana> Thanks. Should I get the  Learn Python the Hard way book ?
Nope
we don’t recommend zed shaw’s stuff here
The author is pretty hostile toward the Python community
automate the boring stuff is one i can’t stop hearing good things about; <https://automatetheboringstuff.com/>
It's free online!
you could also ask <@Collette> to be your personal mentor but i’ve tried and he told me to gtfo.
<http://pythonlearn.com/>
have we covered this in the learning resources?
idk
yup; <https://github.com/pyslackers/learning-resources/blob/master/topics/essentials.md>; <@Ela> :point_up:
<@Johana> I can be your personal mentor only if we talk in russian :slightly_smiling_face:
i need to learn russian quick.
Thank you guys
learning-resources seems a little light
what’s interesting is the tutorials out there from ppl who have not ever held a python job. that’s kinda interesting.
It's not been prioritized much recently
ah ok
well the community should be helping fill that stuff up. lol; one day
lol
Ideally!
did you use that site <@Orpha> ?
<http://pythonlearn.com/> ?
ya
So far only a few of us have been pretty active on the <#C2FMLUBEU|community_projects> - others come and go and add a little bit as they have time
its the site for a coursera class; python for everyone
ah i see the MOOC link
or something like that; but he updated it from py2 to py3
i think this is what a couple ppl from work are doing.
"and i added foundation to his site, it looks bad now, but it was way worse haha; i haven’t actually taken the course; i took a different one"
"nice license on his stuff too:

&gt; Note to people teaching Python: These materials are Copyright Creattive Commons Attribution 2.5. You are welcome to use these in your courses any way you like. You can make copies and host them yourselves if you like."
"but… hundreds of thousands of people from all over the world have taken it; yea, and his book has been translated to many other languages from what i remember"
i like the intro to his book. i have an interest in this so its cool to see the different ways ppl start out their “why you should learn programming” introductions.
The Coursera Rice Sponsored Python track was good.; If that hasn’t been mentioned already.
o wait.. that’s probably the one ppl are doing at work.; i know it’s on coursera.; our director has a course on there too for signal processing.
I took that track 4 years ago and it was great if you dedicate the time.
i know b/c we use a lot of his seed data for experiments :wink:.; i did the edx MIT 6.0.0.1 and 2 course.
<https://github.com/csev/py4e>; ^ the repo for everything related to that course
"this one starts in AUG <https://www.edx.org/course/introduction-computer-science-mitx-6-00-1x-11?utm_source=OCW&amp;utm_medium=CHP&amp;utm_campaign=OCW>; the instructor is awesome. he also has a python textbook.; however, i like the coursera interface more than edx.; SO MANY CHOICES !!!"
the edx interface reminds me of them clickbait links with 30 pictures each on seperate pages :neutral_face:
lol
Looks like we have some new ideas for our learning-resources repo
"yea, i’ll PR a few of these in."
I'm also hoping to finish writing this book on flask. <#C3GFPUBGF|shameless_plug> 
nice you have a flask book? you going to compete with the good ol’ miguel grinberg.
Likely not. lol; My book is pretty niche ; Sort of a how to put flask into production 
yea i had my own ideas in that area too. we’ll have stuff for the community at some point.
Nice 
i got an email about this today. it seems pretty good.; <http://python101.pythonlibrary.org/>
"That book does look good. I got a free copy when he gave it away on Reddit last year, and have bookmarked the link since he posted it online for free now."
haha i did the free copy thing too.
"That may have been how I ended up using ConfigObj for everything, I think."
soooo many free resources. that’s why i’m shocked when ppl pay for classes and they are learning on their own.
I know. And so many of the classes are outdated or poorly done.
for work i can see being sent to some training.
"I've been doing this for 18 months, I think, and that book still has things I've not done."
"humblebookbundle recently did a bunch of python books, can't wait to get stuck into them. the resources for learning are pretty awesome"
"i really liked violent python, but it was in python-2.x"
"i have that but haven't read it yet, does it matter if it's py2 specific?"
these days it isn’t a stretch to go py2 to py3
thats what i was thinking too
anyone here deploying docker containers on aws in production? curious how you're doing it. theres different ways.
"its not too bad. it would just be nice to copy code directly and see it work.; its actually not a problem for me at all; ill still code in 2.x; im slowly starting to write more 3.x now; but every time i tell <@Bruno> i got a new book, the first thing he asks is if its py2 or py3"
lol. mostly because of how stubborn you used to be on using 2. so now its more habit and amusing.
lol; back when i was mostly webscraping using urllib.. i didn’t like that i had to decode it in 3
you should just write your own version of that book in python 3 (with async of course) and make it forward compatible with python 4
no; lol; im gonna be just as stubborn about py4 (wtf is that) and async as i was about py2; lol
is there a big thing between py2 and 3 still?
"as far as i know, just a differences in the imports / things being bytes instead of strings"
not as much anymore.; theres more differences underneath. but most arent too much of an issue. unless you are Zed Shaw
"also, isn’t 3.6 when lists and dicts were ordered?"
yes
"i read the zed shaw stuff, he sounds a bit crazy imo tbh"
"dicts, lists are always ordered"
there were _technically_ ordered before. it just wasnt garanteed
yeah but better not based your code on that
^ thats what i meant
it's now garanteed but subject to change as it's an implementation detail
yea you shouldnt; yea
i don't know if they are in PyPi
yes they are; thats where they got the new code from
would there ever be a reason for it to be unordered ?
they stoled it
seems like a step backwards if that ever happens
speed I guess
speed should never matter though surly?
i think it was still an improvement if I recall
dict speed is pretty important as almost everything is a dict in python
it was always weird when id pull a random out of a list
since they changed other things or how part of the algorithm worked. i think.
it was an improvement but I'm talking about the future
yea
maybe someone will find a new algorithm much faster but that isn't ordered
3.6 has a ton of dict improvements!
yup.
yeah there are great talks from raymond hettinger about them
"they got a lot from pypy too. so hopefully, it will help them catch up faster"
if you are on 3.5 no reason to not use 3.6
hettinger has a lot of good talks anyways
with their funding pypi is improving a lot their python 3 support
yea. thanks to Mozilla.; they got intitial 3.5 support super fast
That's a company I would love to work with
same.
yeah but not sure it's financially stable enough
"i have heard redhat is nice to work for too. i technically applied recently, but never heard anything.; i dont think it is yet"
working on ansible :smile:
Mozilla has millions annually just for featuring Yahoo as the default search engine
heh
yeah but it's all based on donation. It can stop at any time
what % of yahoos income is that. lol
I think that one is contractually obligated for 7 years
its been a few years already
"Hi guys , what is the equivalent of   
extern Sdk*  Sdk_new2(const char * ip);"
this in C I need for Pyhton
i have no clue. im not a C guy.
i could guess but i won't
<https://docs.python.org/2/extending/extending.html>; ^ you could always just use the c code
what you mean in that?
"You need to provide more context <@Elanor> , with what you've shown there is next to no context"
"Depending on what headers are imported, Sdk could be anything"
"I don't have any headers imported in Python , I only import shared libraries"
.so
"Okay, so what shared object libraries?"
That's context :wink:
In C++ the headers name is SDK; I'm calling function from this shared library
in Linxu
"Is this python C-extension specific, or something else?"
"The Share Library is already done by another person I Import it in Python and I need to use some function calls; he told me to use extern , but I don't know what that mean in Python"
can you point to the source of the library so we know what sdk is?; i think thats what he needs
this sounds like you need to import the .so into python and call a function right?
yes
If I can get the source I will provide it to you
but the function Name is Sdk_new2; and SDK is the Main class name; in C++
Sounds like you could benefit from CFFI
<https://cffi.readthedocs.io/en/latest/overview.html>
"well, the name doesnt mean much. we need to know what it does in C in order to do similar in python."
"I don't think they are trying to recreate it in Python, I think they want to use the shared lib from python"
CFFI is the easiest way IIRC
I will take a look
ah yea. i was thinking wrong.
No what I'm going to do in Python just Functuon Calls
may have gotten lost above. but looking to see how others may be deploying docker on aws. either their container service or beanstalk or something else.
"We did Mesos, so using an orchestration system"
"ah. yea, rancher came to mind too.; i havent touched mesos"
"Kubernetes, Mesos, Rancher, Swarm - take your pick :slightly_smiling_face:"
the place im trying to get an interview with i guess is using docker with aws.
Everywhere seems to say that these days :wink:
or they want to. or something.; yea
"hi everyone, please advice a book to study Python 3 for BEGINNERS"
"<@Laverne> Two came up today that are good:

* <http://python101.pythonlibrary.org/index.html>"
I always suggest automate the boring stuff
not sure about the book but at least the web uses python 3: <https://automatetheboringstuff.com/chapter1/>
That's the link I was trying to get :slightly_smiling_face:
<@Lamonica> :taco:
:slightly_smiling_face:
Both are free online
THANKS:+1:
cross posting here -- <https://stackoverflow.com/questions/45576378/boost-python-library-linking-issue-undefined-symbol/45578139?noredirect=1#comment78117846_45578139>
should I only ask questions in here if I have them?
"<@Steve> this is typically a place for generic python questions or if there isnt a more specific place to ask your question if it's about a particular library or topic (such as <#C0LMFRMB5|django>, <#C07EYDP25|webdev>, <#C2J4B66PK|machine_learning>, etc.)"
cool thanks
if you have 3 files as follows : `/usr/lib/x86_64-linux-gnu/libboost_python-py27.so  /usr/lib/x86_64-linux-gnu/libboost_python-py34.so  /usr/lib/x86_64-linux-gnu/libboost_python.so`; How do I link the `libboost_python-py34.so`to `-lboost_python`?
"Hm, how terrible of an idea is it to use classes as a sort of symbol, instead of using an enum?

Something like this:

```
    #!/usr/bin/env python3
    class Symbol: pass
    class State(Symbol): pass
    class FireTheMissiles(State): pass
    class WaitAround(State): pass

    def perform_action(action: State) -&gt; None:
        if action is FireTheMissiles:
            print(""On!"")
        elif action is WaitAround:
            print(""Off!"")
        else:
            raise Exception(""Unhandled action '{}'"".format(action.__name__))

    perform_action(FireTheMissiles)
```; Stringly typed functions suck and there's no native symbols type AFAIK(?)"
"<@Lanita> your conditions are all wrong. `if isinstance(action, FireTheMissiles)` is the correct one"
"<@Collette>, no, I'm not instantiating the State classes; Let's make it like this or something:

```
    class Symbol:
        def __init__(self):
            raise Exception(""Shouldn't be instantiated!"")
```

...to make sure that nobody tries instantiating the symbols; a bit like how None is not callable"
`def perform_action(action: State)` declaration means that `action` is an instance of `State` :slightly_smiling_face:
"Ah, sorry, yes. Hm, is there a way to signify a non-instantiated class?; type(WaitAround) is `&lt;class 'type'&gt;` so I guess that'd be weird..."
why use a class for that and not a string or whatever ?
"ovv, an error in stringly typed code won't be detected until runtime"
"It's `Type[State]`, but I'd go with enums"
"with this, you would have some file symbols.py where you'd import all the ""symbols"" you're using"
is there no way to add type check for string in a list or something like that in mypy ?; jsut asking as I have nerver used it
"Ah, now I remember, the problem with enum is that until 3.6 there was no built-in way to automatically generate enums. Also, the syntax in 3.6 is really ugly either way"
Ugly? What's a better syntax?
"ah, after looking at it, Enum seems like a much better choice; malinoff, having one auto() for every new possible value is really ugly; The syntax is clearly a compromise for python not having proper enums to begin with; maybe something like...

sym FIRE_THE_MISSILES
sym WAIT_AROUND
StateEnum = SymbolCollection(""StateEnum"", FIRE_THE_MISSILES, WAIT_AROUND)

(assuming that this was implemented way earlier, of course). This would allow symbols ""on their own"" as well as a collection of symbols. Perhaps that might as well be a list though, it really depends on how you're using enums to begin with"
I vaguely recall using `WHATEVER = object()` in the past for this sort of purpose
Enum is new in 3.4
How to run multiple tests output  in a single class
?; please elaborate :slightly_smiling_face:
I will text u in pm
why not do it here?
Ok i am having an issue trying to get subprocess to print back a ping -R command
in the same shell?; what code?
"p = subprocess.Popen([‘ping’,‘<http://XXX.XXX.XXX.XXX|XXX.XXX.XXX.XXX>’], stdout= subprocess.PIPE,stderr= subprocess.PIPE)

out, error = p.communicate()

print(out); the XXX is ip; i just sanatized it; i just get nothing big fat nothing printed to the console"
does `subprocess.check_output(same_command)` output something?
"File “/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/subprocess.py”, line 618, in check_output
    raise ValueError(‘stdout argument not allowed, it will be overridden.‘)
ValueError: stdout argument not allowed, it will be overridden."
"nono, without `stdout` and `stderr` and whatnot"
"Traceback (most recent call last):
  File “/Users/stephenziehr/Downloads/ping.py”, line 7, in &lt;module&gt;
    p = subprocess.check_output([‘ping’,‘8.8.8.8’], stdout= subprocess.PIPE,stderr= subprocess.PIPE)
  File “/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/subprocess.py”, line 618, in check_output
    raise ValueError(‘stdout argument not allowed, it will be overridden.‘)
ValueError: stdout argument not allowed, it will be overridden."
"actually, your first code works for me :confused:"
"p = subprocess.Popen([‘ping’, ‘8.8.8.8’])"
could it be a OS X specific issue?
yeah idk i have had subproc work just fine before; I am trying to run a ping -R; and pring out the results; print
what os are you using?
OSX; but the target for this is Linux at the end of the day i think
might not have had -c 1 arg?; in original code; so it was timing out
"damn it; yes!; I haven't even thought about it; very likely the cause, as `communicate()` waits for the EOF or process termination"
yeah i got traffic now but i did not get the route print
is `-R` present?
indeed; and this is internal IP will do a route print; back; i verified in the term
does OS X's ping support that flag? :slightly_smiling_face:
it does
oh :confused:
yeah i can not provide you with the output but it does work; since this is deep inside a private network; but it does work; the command does print back
but not the route?
"keyboard-cowboy:~ stephenziehr$ ping -R <http://ya.ru|ya.ru> -c 1
PING <http://ya.ru|ya.ru> (87.250.250.242): 56 data bytes
64 bytes from 87.250.250.242: icmp_seq=0 ttl=56 time=305.609 ms
RR: 	<http://agr02.cerberus.nuc.nxcorp.net|agr02.cerberus.nuc.nxcorp.net> (207.65.6.130)
	207.65.6.165
	<http://the-nexus-g.bar2.nashville1.level3.net|the-nexus-g.bar2.nashville1.level3.net> (4.31.149.122)
	<http://lo-22.bar2.nashville1.level3.net|lo-22.bar2.nashville1.level3.net> (4.69.180.99)
	<http://xe-11-0-3.edge3.frankfurt1.level3.net|xe-11-0-3.edge3.frankfurt1.level3.net> (62.67.38.217)
	<http://fra1-b1.yndx.net|fra1-b1.yndx.net> (5.45.200.24)
	<http://iva-b-c2-ae0-801.yndx.net|iva-b-c2-ae0-801.yndx.net> (141.8.164.190)
	<http://ya.ru|ya.ru> (87.250.250.242)
	<http://ya.ru|ya.ru> (87.250.250.242)

--- <http://ya.ru|ya.ru> ping statistics ---
1 packets transmitted, 1 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 305.609/305.609/305.609/0.000 m; that is the termainal; to the same place your script goes"
the RR part is the route
yep ok i got it now i just need to list it cleaner; i need to split the lines; <@Suellen> what is the last part where you decode
`out.decode('utf-8')`?
"(b’PING <http://ya.ru|ya.ru> (87.250.250.242): 56 data bytes\n64 bytes from 87.250.250.242: icmp_seq=0 ttl=56 time=148.555 ms\nRR: \<http://tagr02.cerberus.nuc.nxcorp.net|tagr02.cerberus.nuc.nxcorp.net> (207.65.6.130)\n\t207.65.6.165\n\<http://tthe-nexus-g.bar2.nashville1.level3.net|tthe-nexus-g.bar2.nashville1.level3.net> (4.31.149.122)\n\<http://tlo-22.bar2.nashville1.level3.net|tlo-22.bar2.nashville1.level3.net> (4.69.180.99)\n\<http://txe-11-0-3.edge3.frankfurt1.level3.net|txe-11-0-3.edge3.frankfurt1.level3.net> (62.67.38.217)\n\<http://tfra1-b1.yndx.net|tfra1-b1.yndx.net> (5.45.200.24)\n\<http://tiva-b-c2-ae0-801.yndx.net|tiva-b-c2-ae0-801.yndx.net> (141.8.164.190)\n\<http://tya.ru|tya.ru> (87.250.250.242)\n\<http://tya.ru|tya.ru> (87.250.250.242)\n\n--- <http://ya.ru|ya.ru> ping statistics ---\n1 packets transmitted, 1 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 148.555/148.555/148.555/0.000 ms\n’, None); as you can see it is ugly and not spliting up; i want to run a .split; with no luck; i have to do a [0].splitlines"
"p.communicate returns a tuple; instead of assigning it to one value, like `result = p.communicate()`, unpack it into two variables: `out, err = p.communicate()`"
that helped but i am not able to check for a route inside; a if xxxxxxx in out.splitlines()  does not hit; what am i missing on the format of this data
`if 'xxx' in out.splitlines()` is true when one of the items in this list is precisely `'xxx'`
yeah i tried pulled the output
you probably wanted to check if 'xxx' is part of the string (it's a list of strings)
ok whats that syntax then
you can do `'xxx' in out` without the split... maybe..
yeah that did not work
:open_mouth:
what is in `out`?
output from console; snippet
"ok, so you can do `'xxx' in some_string` for a match; but it will not work for a list; you'll have to iterate over the  list; eg

```
for result in out:
    if 'xxx' in result:
        # do what you want here
```"
that did not work
Hi Guyz
Thats my case ; Am trying run thats test case
Where instead of showing both tests output it only shows fail
What changes need to be done to get both test output 
"you need to define `test_software`, etc inside `class_unit_test.setUp`; because the unit test instanciates the class; so anything you do outside it, in the context of a unit test, will not exist; in other words, use `setUp` to define variables you need for the test; also, you need better naming for your class and variables"
And do i need to define multiple fuctions 
one test method for each piece you test
Okay
<https://jeffknupp.com/blog/2013/12/09/improve-your-python-understanding-unit-testing/>
"I want to convert the value of a decimal to a string, but only show the trailing decimals if they're not all zeros.
e.g.
```
nice_decimal_show(Decimal(""3.00"")) == ""3""
nice_decimal_show(Decimal(""3.14"")) == ""3.14""
```

What would be the canonical way of doing this?; Right now I'm doing
```
def format_decimal_to_integer_string_if_possible(decimal: Decimal) -&gt; str:
    """"""
    &gt;&gt;&gt; format_decimal_to_integer_string_if_possible(Decimal(""3.000""))
        ""3""
    &gt;&gt;&gt; format_decimal_to_integer_string_if_possible(Decimal(""3.400""))
        ""3.400""
    """"""
    assert isinstance(decimal, Decimal)
    integral = decimal.to_integral()
    
    if integral == decimal:
        return str(integral)
    else:
        return str(decimal)
```"
"```
&gt;&gt;&gt; Decimal('3.0').normalize()
Decimal('3')
&gt;&gt;&gt; Decimal('3.10').normalize()
Decimal('3.1')
&gt;&gt;&gt; Decimal('3.14').normalize()
Decimal('3.14')
&gt;&gt;&gt; # and to get a string:
&gt;&gt;&gt; str(Decimal('3.0').normalize())
'3'
&gt;&gt;&gt; str(Decimal('3.10').normalize())
'3.1'
&gt;&gt;&gt; str(Decimal('3.14').normalize())
'3.14'
```"
<@Suellen> thanks!
:tada:
"ok, so mine was subtly different: 3.400 became 3.400, normalize takes 3.400 to 3.4.
But that's usually what I want anyway"
Yo
"The best practice in TwoScoopsOfDjango recommends that we no longer use signals for saving the OneToOne UserProfile extension; I'm trying to achieve this with a manager, perhaps putting on bigger pants; Not sure how to go about doing this, though; Can anybody kindly point me in the right direction?"
Hi you might have better luck asking in <#C0LMFRMB5|django> :slightly_smiling_face:
Anyone as an idea how to skip some unittest on older python version when it trigger a syntax error ?
"Could catch and pass the exception (or suppress), or put the whole thing in an if statement that checks the version."
I try the if statement but it's not working because it's a syntax error; it can't even import the file :confused:
"Oh, right, good point.; if version: import module; Though, if the script is to work on the old version, are you subbing in a different module for the old version? Otherwise shouldn't you want it to fail the unit test?"
the syntax error is only in the test; in the module itself I made an if based on the version
What is the syntax error?
it's for an asynchronous context manager
"You can check the `sys.version_info` and if it's before your thing do a no-op; aiohttp does dynamic methods based on version, I added some of these :wink:; finding a link"
yeah that's what I do but the syntax still need to be correct for the previous version
<https://github.com/aio-libs/aiohttp/blob/master/aiohttp/client.py#L583>
Not possible to just fix the test?
"If you have to support old python, it isn't a broken test - technically"
"well if you can find me a way to write this with a python3.4 syntax I'm good for it; ```
    def test_contextmanager(self):
        self.loop.run_until_complete(self.xmlrpc_with_context_manager())

    async def xmlrpc_with_context_manager(self):
        async with ServerProxy('<http://localhost/test_xmlrpc_ok>',
                               loop=self.loop) as client:
            response = await client.name.space.proxfyiedcall()
        self.assertEqual(response, 1)
        self.assertIs(self.loop, client._loop)
```; I think I might need to put it in a different file and play on that"
"In a class though? Oh, I can't imagine that not being ugly.

Perhaps inherit from the 3.4 safe class in the 3.5/6 class in the other file?"
yeah that could work
Isn't the 3.4 syntax just `@asyncio.coroutine` on the function and `yield from` instead of `await`?; why do you need 3.4?
yes it is but there is no syntax for `async with` (that I know of); I don't need it I'm on 3.6 but it was in the library so trying to not take it out
I don't even bother with backwards compatibility to 3.5 :slightly_smiling_face:
"factor test into different file, conditional import?"
same 3.6+
thanks guys; <@Meghan> <@Gabriele> :taco:; you have enough <@Beula> :smile:
You're discriminating because I am the 1%!?
any tacos meant for <@Beula> can be sent my way
you just need to do a MIITM reroute for <@Beula> tacos
<@Meg> maybe i have one now :slightly_smiling_face:
that’s what happens when your taco king.; ppl stop giving you tacos
the problem with this whole taco thing is that it just makes me want tacos.  :confused:; and they aren’t exactly a thing in germany.
You could maybe start a trend there? Be the hipster of tacoism
be the first currywurst taco entrepreneur :smile:
"some bastard started a “mission-style” burrito shop here in town; and he says when in California he “saw” a lot of burrito shops and wanted to open one here; and the decorations are quite authentic california, but apparently he saw a bunch but never ate at any because they are weird"
Maybe trying to adapt it for the common European pallet?
I mean I get doing things like making it less spicy so people here will eat it; but for example quesadillas - what are the only two damn things you need for a quesadilla?
"Meat, cheese and tortilla :troll: "
"the cheese, and a tortilla.  and I mean everybody loves simple stuff like that, but he put this weird stuff called kräuterquark in it instead"
Do you know any similarities to that?; All the Google results are in German!
it’s kind of hard to explain
Looks like a kind of dip or sauce?
I’d say closer to sour cream than cheese
Sounds a bit odd for quesadilla
"Hi Pythoneers, i  have this problem and want to know if it has happened to any of you : when  executing `nosetest` in my machine runs slower than in other computers, specially mac, i'm speaking about 4x or 5x  times slower, the following image are my computer specifications"
"in sql, how to make it that we have a column with type id and a column of type text"
"i want the text one to be unique; (so pretty much act like an id); but still have a numerical id as well; empty db, insert ""a"", `(1, ""a"")`, then insert ""a"" should cause a conflict"
what flavor of sql? you can probably add a unique index on it
for example in mysql if the table is already created you could use (<https://dev.mysql.com/doc/refman/5.7/en/create-index.html>) and if you are making the table then with the unique constraint (<https://dev.mysql.com/doc/refman/5.7/en/create-table.html>)
"postgres, hoping it applies to sqlite too"
"```
create table table_name (
  id SERIAL,
  other TEXT UNIQUE
);
```; sqlite doesn't have the SERIAL type though; if you expect that to get huge, use `BIGSERIAL`"
"meh, I was indeed going with serial, didn't know it is not going to be supported in sqlite; so thanks for pointing it out :slightly_smiling_face:"
are you not using an ORM?
<https://sqlite.org/autoinc.html>
"<@Patty> In case I want to experiment in another language; I was thinking using clojure + datomic; lol I guess then i could still use ORM since sql doesnt work in datomic lol; mm; It's not a good argument huh, to be able to switch a language"
because then you'd change your code to the ORM in that language
I think the main thing is whether or not you would use the migration features of the ORM; but usually that's fairly separate anyway; for instance you should have no problem using sql-alchemy or pony with an existing database; even if you had been using that database with an existing codebase in a different language previously
hmmm; I have never done a migration and I always fear it; I always prefer to just delete the database; :confused:; it's a scary habit when something I make would hit production; I'd have no experience doing a migration
<@Jesusa> I have CI always run all migrations to make sure they are compatible
like just simply changing an existing column name or something
"You can use a number of technologies to do it, liquibase (java based), flyway (java based), alembic (python based), django ORM; <https://github.com/pyslackers/website/blob/2bca4b29be32f51cd4c8b7663d757670be9cde65/.travis.yml#L18>"
ansible and docker huh; it's a really nice example repo btw :slightly_smiling_face:
"Working on making it better overtime, the docker stuff isn't in prod yet :disappointed:"
"what is the pythonic way to delete all files in a directory whose name contains a string belonging to a list?; I have come across links to do it using grep, but wanted to use python to do this.; <https://askubuntu.com/questions/443830/delete-all-files-whose-filenames-contain-a-particular-string>"
What have you tried <@Tameika> ? You can get pretty close without deleting any files to prove out your idea!
"I actually added all the files to a csv and removed all of them and then copied all the entries in the csv to another folder; ```def remove_blacklisted_lines():
	with open('some.csv') as oldfile, open('some.csv', 'w') as newfile:
		for line in oldfile:
			ss = line.split('_')
			if not any(t in ss[-2] for t in remove_urls):
	       			newfile.writr(line)```; <@Beula> : here the blacklisted lines actually correspond to the list of files I want to remove; the file name is foo_bar_cat_XXXX_ dog; and I want to check if `XXXX` is in my blacklist"
"if you want to find files matching a wildcard in Python, you could use the glob module. ```for path in glob.glob('foo_bar_cat_*_dog'):
    os.remove(path)```"
"ooo <@Leonie>, I haven’t seen `glob` used before. That looks l337."
there’s `iglob` too if you want an iterator; and I think in 3.5+ you can even have it recurse directories for you
"nice, making mental note to use (i) `glob`!"
Hey guys
I'm having a really bad time with forms
"thanks <@Leonie>, and the snippet to solve my problem woud be :  ```import glob
import os
rem_list = ['2', '4']
for item in rem_list:
	print(item)
	for path in glob.glob('foo_*.txt'):
		if item in path:
			os.remove(path)
```; nice use of glob"
"maybe you could also do something like ```import glob
import os
rem_list = ['2', '4']
for item in rem_list:
    print(item)
    for path in glob.glob('foo_*{}*.txt'.format(item)):
        os.remove(path)
```; or reverse the loops to reduce the number of I/O calls: ```import glob
import os
rem_list = ['2', '4']
for path in glob.glob('foo_*.txt'):
    for item in rem_list:
        print(item)
        if item in path:
            os.remove(path)
```"
recursive is ** i believe
what forms?
Does anyone have any experience with scapy/reading packets manually?
I’m sure someone does. Just ask your question.
Is there something built in pycharm that builds requirements.txt for pip? Also how do I call pip install requirements from within my code? I am looking to package my code in a double click executable or at least run from terminal and it automatically installs all the modules and everything..; Does windows have pip too? I never used microsoft windows so I don't know how my code would run there..
windows installations of python includes `pip` these days by default; You can use Inno Setup to create an exe installer for windows <http://www.jrsoftware.org/isinfo.php>
Thank you <@Carri>; What about pycharm and `pip` Requirements.txt?
<https://www.jetbrains.com/help/pycharm/creating-requirement-files.html>
or use the command line `pip freeze &gt; /path/to/requirements.txt`
"Ideally `requirements.txt` should be populated manually, using top-level requirements such as `django`, `requests` and `djangorestframework`. After you have all of that in place, do `pip install -r requirements.txt` once. Then do `pip freeze &gt; requirements.lock.txt`; Then always use `requirements.lock.txt` to install dependencies"
"I do a `<http://requirements.in|requirements.in>` where I just list the requirements without versions, then `pip-compile --output-file requirements.txt <http://requirements.in|requirements.in>`; and that maintains the exact versions."
"Or that, yes, using `pip-compile` flow"
"i then use a service called PyUp I think it is to submit PRs when my stuff needs to be updated.; It’s a pretty nice workflow, but yup, just one of a couple possibilities"
"But `requirements.txt` contains not only exact versions of dependencies, but exact versions of dependencies' dependencies"
oh right good point
"That's the point of having two different requirements files; In that case, the file with exact versions is often called a ""lock"" file"
"a nice thing about the `pip-compile` (not sure if others offer this as well) is it adds comments about where the dependencies come from; yeah I guess that’s a good point, it might be better to use that naming scheme"
"&gt; it might be better to use that naming scheme
Unless there's a tool that requires a specific naming, like `pbr` which expects `requirements.txt` file in the root of the repository; (I personally don't like it, I'd rather have a way to explicitly specify the path to requirements in the `setup.cfg`, but I've managed to overcome this by symlinking `requirements/runtime.txt` to `requirements.txt`)"
yeah I’ve never used that
I need help sourcing ~/.zshrc
<https://stackoverflow.com/questions/22394367/zsh-error-export54-not-valid-in-this-context>
"weird, it's complaining about an `export` on line#87 but your rc file only goes to 86"
&gt; source $ZSH/oh-my-zsh.sh; shell probably concatenates them and calculated a line number after
I have that line in my `~/.zshrc` and no complaints
So how would you guys recommend I fix it?
"did you paste the entire `.zshrc` file ? because it complaining about a line that doesn't exist is somewhat odd; if you had an `export $SOME_VAR=` line, the problem would definitely be the `$` which isn't allowed in that context"
Yea; Idj where it would be or how to check
`grep -r 'export $' ~`
"Just for interesting, does someone use <http://xon.sh/> ?"
"Hello all- IT Talent Advocate here in Richmond, Virginia. Happy to help with any resume reviews if needed-I work in the IT staffing industry and am happy to help with any resume reviews, job seeking advice, etc. <#C64GEEM7U|job_advice> <#C07EFMZ1N|help>"
I saw a demo of it <@Shelba> but nerver used it myself. I should try it one day
welcome <@Neal> :wave:
thank you <@Ciera>
"Does get what this means? (from scapy reading pcap file)

```
b'\x00P\xeeF\x14\r\xa2r\xa2)$\x95P\x10\x00\x1e\xf3\xba\x00\x00\x00\x00\x00\x00\x00\x00'
```

I thought it was supposed to represent binary but what does ‘\x00P’ mean? and ‘\xeeF’? I expected the value to all be hex based to represent binary data but theres a few chars that throw me through a loop? or is it that the ‘P’ is just what the hex value represents in ascii?"
"It's `\x00` followed by `P`, followed by `\xee`, then `F`, etc"
But is it really supposed to be ‘\x00’ followed by ‘\x50’
They're the same thing
which gets printed as ‘P’
Yeah. It's just showing you the bytes as printable characters where possible.
"Ahhhhh, is there a way to force python to print the bye chars"
what would you like to see?
the `\x50` not the ascii characters
"I don't have an interpreter here to test, but this should give you some ideas: <https://stackoverflow.com/questions/12214801/print-a-string-as-hex-bytes>; That's showing the values rather than the escape code, but it's rare that anyone needs the backslash"
<@Gabriele> :taco: thanks!
happy to help
<@Gabriele> Slack needs a built-in python interpreter for us.
that would be handy
"Maybe someone should make one. Concern would be to prevent it from doing anything bad. Maybe no imports and no opens.; That actually looks easy enough to do, I might see what I can do this weekend."
<@Beula> want to have a docker container running snippet we post here with the help of <@Alesia>
but not in the near future :smile:
snipper?
snippet; autocorrect
"Oh, haha - yeah I will hopefully get on that once I get my twitter lib working"
<@Carri> I did and now I cant enter any commands now
"grep: /Users/frederickalcantara/Applications/Gitter.app/Contents/Frameworks/SocketRocket.framework/Modules: No such file or directory
grep: /Users/frederickalcantara/bin/subl: No such file or directory"
I got these two messages?
you only have 1 export statement thats actually being used… i’d delete all the commented out lines and see if that helps.
Nvm I got a while list of stuff lol
"Anybody know of any other libraries that let's you connect with SMB shares? I found pysmb (<https://github.com/miketeo/pysmb>), but it says it's experimental, and I wasn't sure if there was another option out there."
"How would you scale this: if on a thumbnail image with width 454, height 315 you have a position like 356, 266 translates to pos x,y on the image as 817, 567 ...I'm getting the position from a scaled image on the browser. Also if of 30,30 would translate too?"
I think if the image is scaled using some actual scaling procedure then this wouldn't be valid but if you're just looking where the point would be proportionally on a different size image then you could use: `x1 / initial width = x2 / larger width` and `y1 / initial height = y2 / larger height`
"that's what I wanted, there's another part related if you had a grid of pixels 30*30 would be let's say [math] = 50*50"
"Sorry, I don't think I understand what you're asking"
"if I wanted to crop out a section of the image based on the same info, with the translated x,y. I have a grid of 30 by 30 pixels (900 pixels on the thumbnail) so if on the thumbnail it was 356, 266 it's now 640,478. How big will the grid be on the main image width and height?; figured it out"
:+1:
"getting this error ```    print time.time()
UnboundLocalError: local variable 'time' referenced before assignment
```; even though I've imported time ```from PIL import Image
from gallery.models import random_filename, ThumbnailCache, Area
from memoize import memoize
import json
import time```; ```Traceback (most recent call last):
  File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/home/samuel/Documents/code/revamp/gallery/views.py"", line 241, in render_part
    response['img-src'] = render_image(image, (img_x, img_y), variance, switch_color, expand, keep_perspective, colors, new_color, area_id, width_ratio, height_ratio)
  File ""/home/samuel/Documents/code/revamp/gallery/colorfest.py"", line 198, in render_image
    print time.time()
UnboundLocalError: local variable 'time' referenced before assignment
```"
Could anyone know how to fix this bug...
What are you expecting the output to look like?
"```for _ in range(width * height):
			print ""{0}"".format(time.time())
			if not start_time:
				start_time = time.time()
			if img_width == width: #checks if width exceeded and jumps to next row
				img_height += 1
				img_width = 0
			positions.append([img_width, img_height])
			counter += 1

			if counter%10 == 0:
				end_time = time.time()
				start_time = 0 #Reset Start Time
				time = round((end_time - start_time)/10)
				remaining = (width*height) - counter
				seconds = time * remaining
				m, s = divmod(seconds, 60)
				h, m = divmod(m, 60)
				h,m,s = round(h),round(m),round(s)
				percentage = float(counter)/(width * height)
				percentage *= 100
				print ""Step 1: {0}{3} \t {1}/{2} \t {4}:{5}:{6}"".format(round(percentage, 2), counter, (width *height),""%"",h,m,s)

			img_width += 1
```; sorry figured it out"
"when posting lines of code like the one you just did, instead of triple backticks, try the ""+"" button at the left and select code snippet option; okay"
ok now I know what it's for
Do you guys know how to install fasd in your command in zsh?
"<@Susanne> I deleted your cross post, please avoid crossposting in the future"
"Ok, Can I post it to one section at least?"
"Yeah, this one is still here... We just discourage cross posting (I deleted it from <#C07EFN21K|random> )"
ok
"Hi, since numpy is for mathematical calculation how can I create this array, from pos 640,478 as x,y and the top left of a square grid 30*30 pixels (900 pixels); anyone know how can I get output of time in h:m:s from seconds; hours: minute: seconds; the input is seconds remaining"
"This is probably what you're after; <https://docs.python.org/3/library/datetime.html#timedelta-objects>
```
from datetime import timedelta
delta = timedelta(seconds=foo)
""%s:%s:%s"" % (delta.hours, delta.minutes, delta.seconds)
```"
yes i can tell it will work thanks
"I have a microservice providing timeseries data to a REST API. I want to always have the API return a maximum of 1000 values for each request, that means I will somehow have to resample the values. Can someone advice me how to do that?"
"okay in two words, about problem..
I have the schema file <https://github.com/MichaelYusko/Geijutsu/blob/master/geijutsu/schema.py> and the basic idea, it’s validate a dict object.

For example

```
# Test class
from geijutsu import schema

class User(schema.BaseSchema):
    name = schema.Str(max_length=10)
    age = <http://schema.Int|schema.Int>(required=True)


user = User({'name': 'Mike', 'age': 10})
```
If everything is ok, need to return original object `{'name': 'Mike', 'age': 10}`

If data something like that `{'name': 'Mike', 'age': 'AGE'}`
need to return `{'age': 'Field must be integer'}`

I have some basic structure of project, but I need some advices, how I can improve code/structure and etc..
Thanks guys!; :slightly_smiling_face:"
does anyone have experience deploying a REST-based django service in the cloud?
<@Scottie> post in <#C0LMFRMB5|django> 
<@Scottie>
"didn't you find any solution in the internet ?; you can deploy your django project to heroku , it's a free service cloud hosting and storage; hey everyone , this my project deveoped with python; and i need some feedback; <https://github.com/Rebaiahmed/OCR_SIMPLECV>; the project open the webcam , extract text from images captured and analyze it , if it was mathmatical expression it will evaluate it and sound the solution , if it was simple text it will translate it to the Frensh and pronounce it; it's cool ? can i put it in my Resume ?"
"It does look cool, but I would personally clean up the code before sharing it with employers"
"Hi everyone: We're looking for another maintainer of <https://github.com/zalando/connexion>. If you're interested in helping a popular Python project with code review/responding to potential users/contributors, drop a line ..."
:wave: <@Masako> - Just an FYI - I deleted the crosspost in <#C2FMLUBEU|community_projects> . We tend to discourage crossposting
"Thanks, <@Beula> :slightly_smiling_face:"
alignment in javascript is rough huh
"...that creates a list of x,y position of pixels in an image, separates an area and then I use the positions to render an image...; here's how the image looks; original"
javascript question should go in <#C45V5EJ15|javascript>. <#C07EFMZ1N|help> is more python oriented :slightly_smiling_face:
<@Masako>   I am about to reinvest in python and came across connexion as a tool i could use in creating a security tooling api..
If this is about python my bad
I will be looking at it and if things turn out might be willing to help
"it's a simple issue though, the rendered image has pixels offset seen on the image"
"not sure, what are you looking for?"
"<@Meg> you'll see there's a grayscale image above the one in full color, it shouldn't have the lines and I believe it's because of the way I create and edit positions in javascript then render it in PIL that's bringing black boxes lines"
"hello there, style question:
```
    with patch(""core.http.requests.request"") as mocked_request, \
         patch(""core.http.time.sleep"") as mocked_sleep:
```
what’s the best way to avoid using a line continuation there?; i can only think to use nested `with` statements which seems similarly ugly"
I would use nested `with`
"if those are the only two choices i would definitely go with the next `with`, anyway :slightly_smiling_face:"
maybe as ugly but more readable imo
i figured i must be missing some better option
you can look at `contexlib.Exitstack`; but if you only have two it might not be worth it; <https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack>
Why not set patch as decorator to test function?
I would use `contextlib.ExitStack`
that does look promising although it looks like i’ll have to depend on the python2 backport
"<https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack>; Oh, that's 3.3"
<@Beula> :face_with_rolling_eyes:
"Oh, wow; yep - my slack client didn't refresh yet; <@Ciera> :taco:"
mmm that might work.  i’m not that accustomed to using the patch decorators so i didn’t think of it :slightly_smiling_face:
haha yeah it happens sometimes :pacman:
"I use it for 2 levels or more, primarily because flat is generally better than nested"
"One disadvantage of this usage, is that mocked method will be patched for all test function, but this leads to make them smaller ==&gt; smaller unit test"
I agree but for only two levels it might make things a bit too complex
yeah that seems like an advantage :slightly_smiling_face:
I like when you have multiple nested context managers with `if` for the one you want to enter
"Hi folks, It might a bit unrelated here. But i’m trying to use an api from other service. They give apikey, password, shared secret. apikey and password alone can help me get access to the api. So why we need an shared secret. I’m working with shopify api. Thanks!"
<@Hermina> - Usually when they give something like a shared secret it's either so your application can validate incoming requests (aka webhooks) or you can sign a payload before sending it to them (so they can validate similarly)
thanks. Google got a bunch of crypto info but not helped :slightly_smiling_face:. It clearer for me now
"Thanks, <@Chantell> :slightly_smiling_face:"
hi anyone here have experience with react native
"how can i hide ""OrderedDict"" when i print smth in console?"
i can't get a way to handle csrftoken from the cookies
"<@Georgetta> 
```
&gt;&gt;&gt; data = OrderedDict({'one': 1, 'two': 2, 'three': 3})
&gt;&gt;&gt; print(data)
OrderedDict([('two', 2), ('one', 1), ('three', 3)])
&gt;&gt;&gt; print(dict(data))
{'two': 2, 'one': 1, 'three': 3}
```"
"not the best demonstration of order, but the idea is to convert it to a normal dict; you lose the benefit of Ordering, but depending on why you need to print it - you might not need it"
Or use python 3.6+ :slightly_smiling_face:
"Hi All, am trying to trigger a python script using jenkins.. am not able to understand where am going wrong but the build is not getting successful or failure.. it was just keeping on blinking the blue ball saying build in progress.. i kept waiting hours but no response.. where the script am able to execute from command prompt.. having anyone faced kind of problem or any suggestions would be appreciated "
<@Ok> show us your script
And how you're calling it. Be sure to add logging to your script to know when/where it hangs (sounds like it's in a queue and never gets to an executor)
U mean python script <@Collette> 
Yep
I will try it <@Beula> but am able to execute other python scripts in jenkins
<@Beula> more like the python script is waiting for some input
Or that
Sorry <@Collette>  its too big script.. ; But its a unit testing kind off
"<@Ok> click on the plus sign to the left from the slack input field, and choose ""Add code or text snippet"""
<@Collette> its actually from my office server so i can take that script out
What?
Is cant take that script out to here
"In that case, you need to add logging to find where in the script the execution gets to - but beyond that I am not sure we can do much"
I will try as u said <@Beula> by logging to script
"It's a pretty common way to debug, it should often be one of your first actions when you hit an issue"
first question is. does the scrip try to run ?
Yeah since am just new to this world of python and Jenkins thing learning <@Beula> 
Then add logging/print statements pretty judiciously :slightly_smiling_face:
"Script is trying to run, it not throwing any error but just running <@Ciera> "
"As <@Collette> mentioned, are you waiting for an `input` (or `raw_input` in py2) in the code? Any `import pdb; pdb.set_trace()`? etc"
Or contains an infinite loop
No there is no input needed.. as i said its running fine in command prompt without error; Only when i integrate in Jenkins causing this error
<@Ok> do you have *any* output?
Yeah the out should be an html file
"Speaking of logging. Is there a good best practice article on how to configure it? I'm getting double messages, but have been too busy dealing with functionality to try to figure out where I went wrong."
<@Meghan> You probably just have `propagate` set to true: <https://docs.python.org/3/library/logging.html#logging.Logger.propagate> That will have anything handled by a nested logger bubble up to the ancestors
"Thanks, I'll take a look."
Hi Everyone Really need your <#C07EFMZ1N|help> I have deadline coming up for my project demo So can anyone provide with some knowledge on how to go on to build these interactive message buttons for a bot response in slack?; I am using Python for my development
"<@Juli> You usually get the best responses here when you have *specific* questions, where are you actually stuck?"
Yes so what I have till now is a bot in slack that uses Slackclient/RTM API/Flask for fetching a message in real time from a channel and only if it has certain keywords in the message then the bot responds with a ok message for now!; But what I want to do know is instead of replying with an ok message reply with these interactive message that does some particular action based on the button the user selects; But I am firstly not able to find a good documentation or a step by step guide for going with building this in python; So if anyone can provide me with a good tutorial or documenation or can point me to the right resource for building these in python then it would be a great help! Thanks !
Are you new to Python and http?
"Not new to python can write code with python and dealing with data, pandas, os, sys, functions, lists, etc! But not great with web and python so yes struggling with http and web related stuff!"
"I am just trying to gauge what kind of resources to send over, have you started with <https://api.slack.com/docs/message-attachments> ?; calling <@Ciera> - is your sansio lib ready for prime time?"
no not yet :confused:
Yes <@Beula> I was reading through these yesterday but due to time constraints I was looking for something more narrower that gives an example of how to build one of these with python; There are examples of how to build one with node
doesn’t sirbot currently do this?
Yeah; But that's asyncio based - I wasn't sure if it would be a confusing resource
But I have not worked with node and was not finding a good documentation with python
<@Juli> go take a look at the sirbot source code.. it might be async but the process between your app and slack should be similar.
Let me find a direct link
yea that will probably be easier.
"hmm, well there is the giphy code... but not the router for the events; <@Ciera> - can you point a good link for responding to message buttons from the sirbot repos?"
Thanks will have a look! That would be very helpful
yea i haven’t had time to continue the bot tutorial but i’ve noted slack buttons :wink:.
<https://github.com/pyslackers/sirbot-slack/blob/master/sirbot/slack/dispatcher/action.py#L34>; this is the coroutine that handle incoming `action`; like press on a button; it is then routed based on the `callback_id`; for giphy it is routed to this:<https://github.com/pyslackers/sirbot-pythondev/blob/master/pythondev/slack.py#L341>
<@Ciera> :taco:
<@Johana> that would be an awesome tutorial! Also I don't think there are many available already. Hopefully even I can contribute to it in a while
you can then respond with a new message or update the original
Thanks <@Ciera> Will look into these; Thanks <@Beula> and <@Johana> as well! Really appreciate that!
"I'm late to this, but this library makes working with Slack easy: <https://github.com/lins05/slackbot> <@Juli>"
yea i used that originally for the bot_tutorial but i had to hack it too much to get it to run in a jupyter notebook.
it expects a settings.py file in the root of the dir which is a little outdated nowadays.; if anything the config should look for it and offer another method or use env vars.
"For the bot I wrote with it I did have to go around one of the recommended methods with the decorator and grab the data dictionary. But, otherwise worked fine.; Environment variables are an option.; I agree with the settings.py though, that part should be fixed."
<https://github.com/lins05/slackbot/blob/develop/slackbot/settings.py#L39>
oh i guess it does have it.. opened my mouth again.; lol; still kinda not a fan of what was done there.
"I wrote a bot with it that may be fun, after a discussion in here on Friday. A bot that executes python code from the chat if the tag is included. Of course, it will need a lot of safety checks before it runs the code."
"<@Meghan>, <@Beula> mentioned having some code that does that. it will setup a docker container and execute. perhaps something like that would work for you. i’m thinking the benefits are you can remove networking, volumes, etc."
"yeah, I should pull that code out of the other project"
"Anyone worked with BBD and python ? 
looking for recommendations"
"Can you define ""BBD""?"
lol; BDD
business driven development ? :troll:
<@Ciera>  nswf bud
had to quick scroll away from that link
ah sorry
Lol
"BDD, Python style for testing to be exact lol"
"but there is other definition than the nsfw one that are pretty funny :smile:; more seriously, I haven't"
saw a bunch of libs but most dont look like they have much of a community
"BDD doesn't seem to be huge in python, the only place I have seen it really big is node and ruby"
"bummer. Have been doing it in JS, feels different but idk if better yet.; I weirdly feel like I want to write the tests"
I guess that's a good outcome!
"LoL, I’ll take it !"
It could be done kind of cool with context-managers probably
Does anybody know where I can find documentation for `pkg_resources`? It doesn't seem to turn up anywhere except the setuptools documentation
<@Wilda> `pkg_resources` is a part of `setuptools`
"Anyone know why from:
```
    x_spacing = [0,
                 int(x_axis_max*1.25*.2),
                 int(x_axis_max*1.25*.4),
                 int(x_axis_max*1.25*.6),
                 int(x_axis_max*1.25*.8),
                 ]
```
And to display:
`ax.set_xticks(x_spacing)`
`ax.xaxis.grid(color='#d0d0d0')`

It would display a line for all x_spacing values except the last one?"
Hi guys! I have a Wagtail related question. How do you debug your wagtail websites?
<@Jeanette> I use django-debug-toolbar for debugging any django app
I am used to ipdb in the view that's what I miss. Thanks!
"Hi guys
I have few processes in my docker-container &amp; in the code i have added pdb.set_trace() for getting pdb-prompt for debugging the issue
but in this case, how can i have the pdb prompt in the foreground ?
Because my process runs in the background.."
"<@Florene> easy suggestion: run it in foreground; Or use a remote debugger, for example <https://pypi.python.org/pypi/remote-pdb/>"
that is not possible for the service which i want to debug; would remote-pdb work for Containers too?
Yes. Just make sure you have its port published to the host
"oh ok
will try it
thanks <@Collette> :slightly_smiling_face:"
"Hey guys. Newbie here! (just posted in the introduction channel!)
I'm building my first web app where the user logs in using his twitch account. I implemented python social auth for django (<https://github.com/python-social-auth/social-app-django> ) and it works fine.

Now I want to add custom attributes to the SocialAuthUser model. I want to get the values for these attributes from the user's social account (twitch), so I'm gonna do a get request to twitch API using the access token I got on login/registration.
My question is, how do I extend the SocialAuthUser model and add the get request to twitch in the pipeline? 
more specifically:
1. How do I add custom fields to the SocialAuthUser model
2. In what .py file and in what class, method or function do I do the get request to get the data to populate the custom fields? 

Hope the question makes sense. :slightly_smiling_face: 
Thanks!"
Hi <@Gisela> we have a dedicated <#C0LMFRMB5|django> channel. Question regarding <#C0LMFRMB5|django> should go there :slightly_smiling_face:
"For a string `s`, is there something equivalent to the POSIX tool tr's `tr -s ""  "" "" ""`?
That is, replace all occurances with double-space with a single space; until there's no double-spaces left; ```
SPACE = "" ""
while 2*SPACE in s:
    s = s.replace(2*SPACE, SPACE)
```
is OK for my use cases I guess, though re-creating strings all the times is slow"
you shouldn't need a while loop
`s = ' '.join(part for part in s.split(' ') if part)` should work; <@Lanita> ^^
Please recommend me some good resources on `Design Patterns with Python`
<@Desire> probably worth looking up design patterns in general
"the coding blocks podcast has done a series on design patterns - mainly specific to C#, VB and Java, but a lot of it still applies"
"I ended up with
```
import re
COMBINE_SPACES_REGEXP = re.compile(r""\s+"")
COMBINE_SPACES_REGEXP.sub("" "", ""hello           world"")
```"
"Thanks <@Vada> , I will look into it. Haven't really liked the idea of listening to podcasts appealing but I did subscribe to Software Engineering Daily, last week."
Yeah that works - although I tend to avoid regex; I tend to listen to them on commutes or when I'm at the gym; or washingup/cooking; times when I'm doing something manual and can't actively use my brain
"Cool, recommend some I can hook up to."
hi who want to play with me in hackerrank; solve python problems
Coding blocks is my favourite right now
Talk python to me is pretty good for python but more for stories about python instead of how to code
<@Desire> try <https://github.com/faif/python-patterns> ?
"12k stars, might be legit."
"Hello Guys. I just cross searching pythondev in slack community. I am searching for 3days now to move in Python from PHP for our project in Big Data Analytics. I just want to know if Apache Spark is good, and to combine to Django with Python? and what are the advantages and disadvantages? or do you have any other suggestion, I am willing to listen and understand. Thank you"
"For what? As usual, details about use cases are required for suggestions "
"on how it work together, Imean the concept or architecture. because I don’t have yet experience in Python, and my team whole department is planning to move to python; for instance is that possible to use apache spark with django with python. and if that possible to rid the cron and just use rest api using python; I am quite straggle on how I can align my team for this. and we have facing problem with PHP which is not valuable for big data analytics"
I'm not sure the tech from the client to the database matters here - normally with spark wouldn't you stream off a read-replica and process the data?
"<@Beula> I am not sure yet, because I don’t have experience yet using spark, I just quite in research and deep dive study by next week. but using spark with django is that make sense?"
"That's what I am saying, i don't think the ""with X"" is relevant"
"so meaning it cannot be mixed? is that what you are saying. but how can I use spark as web app interface? sorry not sure If I am correct on what I am saying but this is what I am thinking. correct me if I am wrong. thanks <@Beula>; because in Ruby, I can use Rails, then add the gem of apache spark to use; but since we need a language that can process a big data analytics so we will choose python, which almost the same of ruby"
"I don't know spark well, but as far as I know you connect spark to a database and run the data transformations off there. What loads that database doesn't matter (PHP, Python, Raw SQL, etc)"
I think you are correct. thanks <@Beula>
Awesome post! Thx for sharing the link.
"Hello, can I get some help with tensorflow? I'm doing image recognition, and I've seen in different examples that I have to use `tf.gfile.FastGFile(image_path, 'rb').read()` as my image data. But I was wondering if there's a way to use an image in memory instead; I want to use an image in a post request (I'm using Bottle framework)"
"check whether that tensorflow method takes in a file like object; if so, you can create a temp file, read the image into memory and pass it in"
It takes the path of an image. Should I write the file to the disk and then pass that path to the FastGFile class?
I find it weird it can’t take in a temp file
"I'm not sure of what FastGFile does. Perhaps it just reads a file as I would normally do with python, and adds extra features. I'll try to read it as normal, and pass that as the image data, skipping the FastGFile object"
"hi guys, in which case we should consider using multi processes rather than threads? I think if we have 4 core, we can create 4 processes with might better than 4 threads using one process right? I’m writing script to migrate data from db postgres to other db (elasticsearch)"
is what you have currently going super slow?
"i’m running threads, and few like its quite slow, trying to update it to make it faster"
"In python we have the gil, which only lets a single thread run at a time. Given that, the only way threads help you in python is io bound things (waiting on network requests). Processes help for cpu bound work, but sharing data is expensive as it makes entire copies to share (since memory space isn't shared in python)."
i’ve never filled elastic search with tons of data but i have done so with postgres. typically in these situations you gotta be careful about your database sessions and want to use a connection pool.
"Agreed, I'm not sure how much perf you can really squeze out of a database migration (but since it should be 1 time, that's probably ok "
"yea… i agree there sometimes its ok to ensure all the data goes in properly.; i know i’ve done well over 10,000 transactions a second with postgresql. i’m not sure about elastic search."
"umm, I do it quite simple by using django orm model. So technically I just assign my_models[0,100] to thread1, my_models[101,200]  to thread2…..
So each thread, I think it have it self connection pool. (every time I run 5 threads, I see 5 connection to db is open).
Sorry I still not clear what you are suggesting :disappointed:; if I spawn 4 processes, will it use 4 core in cpu? Or I’m lacking of OS knowledge…"
yea you might be ok. try it and see what happens.; when i need to do a bunch of database work i just use a work queue.
"hmm, ok i’ll try it :slightly_smiling_face:"
let us know how it works out.
:ok_hand:
i haven’t done any database loads using multiprocessing so it will be nice to know if i ever need to ping you for help :wink:.
how can i generate a chart using table in html with matplotlib by using django?
"If we want to build a dictionary like this:
```
d = {
    ""hello"": world,
    f(),
}
```

Is there a function `f` that would allow for this?


I very often find myself repeating this pattern:


```
d = { ""some_preknown_key"": ""some_preknown_value"", }
if cond1:
    d[cond1_key] = cond1_value
    
if cond2:
    d[cond2_key] = cond2_value
    
do_something_with_dict(d)
```

but I'd like to do be able to write it something like

```
d = cond_build_dict({
    ""some_preknown_key"": some_preknown_value"",
    when(cond1, cond1_key, cond1_value),
    when(cond2, cond2_key, cond2_value),
})
```

which would return a regular dict, with the `cond1_key` and `cond2_key` keys only
present if the first argument of their respective `when` function call is `True`.; when could return the equivalent of `cond1_key : cond1_value`  if the first argument is True, else puts some key: value token of some kind that will be filtered out by cond_build_dict (which is a function that takes a dict and remove all keys containing this token)"
"&gt; Is there a function `f` that would allow for this?
Kinda.; ```
&gt;&gt;&gt; def conditional_data():
...     if random.randint(0, 1) == 1:
...         return {'condition_is_met': '1234'}
...     return {}
... 
&gt;&gt;&gt; d = {'hello': 'world', **conditional_data()}
&gt;&gt;&gt; d
{'hello': 'world'}
&gt;&gt;&gt; d = {'hello': 'world', **conditional_data()}
&gt;&gt;&gt; d
{'hello': 'world'}
&gt;&gt;&gt; d = {'hello': 'world', **conditional_data()}
&gt;&gt;&gt; d
{'hello': 'world', 'condition_is_met': '1234'}
```; so your original example can be written like this:
```
d = {
    ""hello"": world,
    **f(),
}
```"
"<@Suellen> yup, that's how I've been doing before; but I'd like to have everything be in one place, to make it visually easier to parse; since it looks and feels more declerative; one built-in option that works if you're okay with keeping the key is simply doing
```
d = {
   ""some_key"": some_value if cond else None
}
```"
"well.. it's easy to cross into ""ugly code"" territory"
"yeah; what I just wrote wasn't ugly though, but it can quickly get ugly"
Personally I like the explicit `if` statements. If the dict really does have a variety of different permutations I like that to be explicit in the code
"short, declarative code in one place is typically easier to read than slowly mutating an object to get to where we want to be"
"```
&gt;&gt;&gt; d = {'hello': 'world'}
&gt;&gt;&gt; condition = True
&gt;&gt;&gt; d.update({'abc': 'def'} if condition else {})
&gt;&gt;&gt; d
{'abc': 'def', 'hello': 'world'}
```
More real-life example:
```
&gt;&gt;&gt; d = {'hello': 'world'}
&gt;&gt;&gt; d.update(**user_data() if store_user else {})
&gt;&gt;&gt; d.update(**group_data() if store_group else {})
```
This way the key isn't added to the dictionary if the condition is false; but I feel like it's already a bit ugly"
you could do a loop on your condition/value
the upside is - you can cycle through multiple additional_dictionaries and conditions; <@Ciera> :slightly_smiling_face:
"I like declarative code, but sometimes it obscures the outcome."
"```
for condi, key, value in ((True, 'a', 'b'), (False, 'c', 'd')):
  if condi:
    dict[key] = value
```"
"There's a reason we prefer Python over Prolog, after all."
"```
def dict_builder(default={}, *when):
    for w in when:
        if callable(w):
            if w[0](): default[w[1]] = w[2]
        elif w[0]: default[w[1]] = w[2]
    return default
```"
oowie oof ouch
"it's hacky imo, but ¯\_(ツ)_/¯"
can be a nice `util`; I would just not do the `if` `elif` inline imo
"```
from typing import Tuple, Dict, Optional

def when(predicate, d) -&gt; Optional[Dict]:
    return d if predicate else None

def cond_build_dict(d, *when_dicts) -&gt; Dict:
    """"""
    Conditionally build dict
    """"""
    for when_dict in when_dicts:
        if when_dict is not None:
            d.update(**when_dict)
    return d
            
should_add_surname = True

d = cond_build_dict({
    ""name"": ""John""
    },
    when(should_add_surname, {
        ""surname"": ""Doe"",
        ""surname_backwards"": ""Doe""[::-1],
    }),
)
print(d)
# Output:
# {'surname': 'Doe', 'surname_backwards': 'eoD', 'name': 'John'}      
```

Any ideas on how to better name things/improve on this?"
<@Lanita> fyi you can delete a message but clicking on the `...` :slightly_smiling_face:
"What message? :wink:; One addition could be to add support for recursive when's, so that you can build an entire tree from it; hm, but that would require another cond_build_dict and that'd be ugly; some way of supporting this:
```
d = cond_build_dict({
    ""name"": ""John""
    },
    when(should_add_surname, {
        ""surname"": ""Doe"",
        when(backward_please, {
            ""surname_backwards"": ""Doe""[::-1],
        }),
    },
)
```; that's already getting ugly though"
"I think a better API would be 
```
d = build_dict({'b':'a'}, key=(condition_or_callable, value)
```"
"so key is a `Tuple[Any, Any]`?"
"yeah; or just an iterable of `[Any, Any]`; that way it's obvious what key you are trying to fill"
"ya. something like

```
def cond_build_dict2(d, *when_tuples) -&gt; Dict:
    for condition_or_callable, when_dict in when_tuples:
        if callable(condition_or_callable):
            condition = condition_or_callable() 
        else:
            condition = condition_or_callable
            
        if condition:
            d.update(**when_dict)
    return d


def should_add_surname():
    return True

d = cond_build_dict2({
    ""name"": ""John"",
    },
    (should_add_surname, {
        ""surname"": ""Doe"",
        ""surname_backwards"": ""Doe""[::-1],
    }),
)
```"
What would be the resulting dict? I don't get it
"malinoff, no extra dict options would leave the default dict, e.g `cond_build_dict(d) == d`; <@Ciera> while that it shorter, it's less clear what's happening I think"
"Also, what's exactly wrong with ```
d = {'name': 'John'}
if should_add_surname:
    d['surname'] = 'Doe'
if backwards_please:
    d['surname_backwards'] = 'Doe'[::-1]
```

How it's longer than ```
def should_add_surname():
    return True
d = cond_build_dict2({
    ""name"": ""John"",
    },
    (should_add_surname, {
        ""surname"": ""Doe"",
        ""surname_backwards"": ""Doe""[::-1],
    }),
)
``` ?"
"those two aren't equivalent; (hm, need to get to lunch... gone for an hour)"
I don't really agree with that but each is own; if you name the function with an adequate name it should be obvious what it is doing and hide how it's doing it
<@Lanita> how so? What's the difference?
"&gt; and hide how it's doing it
Aha! So I can use ""{...} if cond else {}"" after all!"
Just gonna hide it...
Nuts
:chestnut: what about them?
Well that's what he want. I don't really see the use case but ¯\_(ツ)_/¯
"Hm, getting this to not hard to use is really hard... Right now I'm at this point:

```
def get_query_kwargs1():
    d = {
        ""documents"": ids_string,
    }
    if source_file:
        d[""source_file""] = ""true""
    if collection_name:
        d[""collection_name""] = collection_name
    return d

# Versus:
    
def get_query_kwargs2():
    return cond_build_dict(
        {""documents"": ids_string},
        source_file,
            {""source_file"": ""true""},
        collection_name,
            {""collection_name"": collection_name},
    )
```"
oh my
I should just give up and become a lisper :disappointed:
I need to `import this` intravenously
"```
def get_query_kwargs3():
    return cond_build_dict({
        ""documents"": ids_string,
        ""source_file"": only_if(source_file, ""true""),
        ""collection_name"": only_if(collection_name, collection_name),
    })

```
Shorter, and more explicit.; and looks a bit like doing `some_dict.get(""value"", default)`"
"<@Lanita> `get_query_kwargs3` is still just one line shorter than `get_query_kwargs1`, what's the point?"
it's not all about the number of lines; it's about general readability (both of the entire thing and in diffs) and the ease of changing something
"I am not convinced. I think `get_query_kwargs1` is simple enough to write and to maintain, and `get_query_kwargs3` isn't much better to deserve a tested and battle-proven implementation of `cond_build_dict` and `only_if` functions."
"I'd say even if solution#2 is 2x better than solution#1, it's better to take solution#1 and start using it or working on something else, than trying to achieve perfection"
"```
d = {}
if collection_name:
         d[""collection_name""] = collection_name
```
is not the same as 
```
""collection_name"": only_if(collection_name, collection_name),
```
in 2nd case you will still create item in dict no matter what bool value of collection_name. And secondly `only_if` does pretty much look like `stm1 if cond else stm2`, don’t you think so?"
"<@Liberty> 
&gt; in 2nd case you will still create item in dict no matter what bool value of collection_name
No, the idea was `only_if` to return a sentinel object if the condition is false, so the corresponding key won't be created within `cond_build_dict`"
"oh, yeah, see now, I got to conversation too late and did not notice `cond_build_dict`; sorry, then in this case I would agree with <@Suellen>"
<@Liberty> привет земляк :blush:
"I'm trying it out with actual code, and I've figured that...
1. it's shorter, but not that much shorter. It does reduce duplication though
2. it makes it easier to group things by key ""theme"", but makes it harder to see what things will always be there and what things wont"
"but only if there are lot of conditions  and they are made somewhere else programmatically, then it would make some pretty cool “magic”. But if you only got few of them and they hardcoded there then you should use 1 option, as it’s easier to understand and read."
"I think that you're missing out on the way you actually read code, and what you want from it; But the problem is that writing DSL's in a programming language without a macro language is hard..."
"Oh, so that's actually an XY problem; <https://sharknet.us/2014/04/06/stop-creating-dsls/>"
"No, it's fucking not. gaah.; There's nothing wrong with DSL's, if they show up all the time; What I'm doing is representing a schema through code; sql is a DSL. HTML is a dsl. json schema is a dsl. a Dockerfile is a DSL..."
Language
<@Lanita> that doesn't mean you have to create your own DSL.
"There is a time and place for DSL's. My example is not, because the resulting code isn't much more reasonable than what I started off with; But if I were to create hundreds of these and build a framework off of it, then it *would* make sense.; one might argue that any application is its own DSL"
"Hi guys,
I am a newbie in Python. I know what I should do but the syntax is killing me.
I am working on a subscription task. We got 3 different memberships in our company. I have got the upgraded members already. I need to differentiate renewed and new members from each other now. In our db, there is a subscription table in which I can find a membership id and one or many subscription id for each member. Also, a start and end date for each subscription. So, what I need to write is: 

 For this member 
    if There is more than one start date and the other start date is before the first date of the chosen timeline 
    Then RENEWED
    Else NEW

If someone knows how to do it and help me in syntax, it will save my DAY!
Thanks"
in SQL?
Python
"that's kind of the thing DBs are good with :slightly_smiling_face:
but alright; can you show your current code? how do you fetch data, etc?; so that there's a base we can start with"
of course
"I asked in Django is there a way I can define a critical section for a whole block of code in Django? I have two services running at the same time and I don't want a ""start service"" thread running at the same time as a ""remove service"" thread. However on reflection I feel this might be a more ""how to manage concurrency in Python"".; is anybody here able to advise please?; I could probably do a hacky way and solve this with updates through the DB"
hi everyone so I was going through this tutorial and <https://api.slack.com/tutorials/tunneling-with-ngrok> but did'nt quite get the Step 2: Refactor our script to work with Slack has ayone worked for something similar in python?
"<@Juli> are you stick on the slack oauth2 part, or what?"
yes <@Beula> I am stucked with the oauth and event subscription part; So my main goal is to create these interactive buttons right! So for that I have to create this slack app and in the request Url i use ngrok followed by a /slackmessage . Now I will have to do two things right. 1. Create an endpoint to handle post request to this request url and then respond to slack and 2. Within that Slack oauth and event subscripition also comes into play right?; Correct me if I am wrong anywhere. This is what I understood; and help in python for the same?
"&gt; Within that Slack oauth and event subscripition also comes into play right

not necessarily. If you have only one team you can do that in the slack app interface"
"Then how is client id, client secret and verification token etc come into play here?; It works without authentication?"
you can find them in your app page; after you install it on your dev team
Because in this blog also the author said it did'nt work for her without authentication so i thought its necessary <https://tutorials.botsfloor.com/slack-app-or-bot-user-integration-842c3843eea8>; Yaa I got that but then do I not have to write a code to handle those parameters/tokens in the request/response to that Url?; Or is it done by itself?
for action I don't think you need to perform any authentification on your side; you can check with the verification token if the request is coming from slack but it's not mandatory
I think this is the part where I am stucked/not able to understand properly. Any python/flask example to handle request response to these request URL without Oauth?; I went to <@Alesia> but still not able to understand it from there
where is the best book about design patterns and algorithms (in python?)
you need to put an url in the interactive message setting and have a flask app listening on this url; and you should be good
"<@Chantell>  To be honest, I don't find design patterns are as important in Python as they are in Java or C++. A lot of the big problems that the traditional design patterns solve don't really exist to the same degree with Python"
I don't really have a python example on hand :confused:
"<@Chantell> The Python Cookbook used to be a good collection of algorithms and snippets, but I've not read the Python 3 edition"
agree with <@Gabriele>
and it has some design pattern implentations there
okay.. I own an older edition of the python cookbook..  I was looking at it last night.. Maybe I just need to buy the new one.; o gosh.. the older edition i have from 2013  is the newest one.  Okay
"oh…just remembered there is <https://github.com/faif/python-patterns>
where you can find implementations of different patterns, but I never used it :slightly_smiling_face: in work, more for study purpose"
yeah.. this is mostly to advance my perspective.. not for a specific work project.
I already tried that but will try it again! Should it handle both get and post?
post only I think. Not sure; should be in the doc
So I already try with post; let me try it again
"Does os.abspath not work with isfile properly? I have 

```    # String conversion so we can handle the field file with the OS module.
    resource_file = str(resource_file)
    # Ensure we have absolute path to the file.
    resource_abspath = os.path.abspath(resource_file)
    # Ensure the resource is a file.
    try:
        if not os.path.isfile(resource_abspath):
            raise AssertionError``` 

I get ```No file found at/home/mmacheerpuppy/bark/bark_drive/bark/bark_project/17082017IOVCAWKXYA/17082017IOVCAWKXYA.zip, do you have permissions?
Traceback (most recent call last):
  File ""/home/mmacheerpuppy/bark/bark_drive/bark/bark_project/bark_resources/image_utils.py"", line 64, in has_resource_file_dockerfile
    raise AssertionError
AssertionError
```"
are you using 3.6?
yep; I think; actually i dont know what django is using; is there a way top force it to 3.6?
are you using a virtualenv?
My venv
so you can do `python -V` in the command line with the venv active
"```(python3VirtualEnvironment) mmacheerpuppy@mmacheerpuppy-ProBook:~/bark/bark_drive/bark/bark_project$ pyton -V
No command 'pyton' found, did you mean:
 Command 'python' from package 'python-minimal' (main)
 Command 'python' from package 'python3' (main)
 Command 'pytone' from package 'pytone' (universe)
pyton: command not found
```

however; when i load the shell; its 3.5"
"`python`, not `pyton`"
"Ha well; Yeah says python 3.52; Oh I see the issue; its my logic; I hope; wait no; its not; Yeah I'm not sure what's up with this, it should be picking up the ZIP"
put a breakpoint at the `if`; and see what `resource_path` is
ah strange; I see what the issue is now; That's the root dir of the project; it should be /bark_resources/resource/[serial]/file; is django interfering with this perhaps; The uploads are going to the right place; but the reading isn't; but
you should build your path with MEDIA_ROOT
"profile pictures work; ```MEDIA_ROOT = os.path.join(BASE_DIR, 'bark_resources/resources')
MEDIA_URL = '/resources/'```; is what i have"
"yup; so construct the rest of the file path with that; start it, actually; and then append the serial; and filename"
oh so manually; I've been calling um; the file from the file field; and converting it to a string
can you print out resource_file here?
"according to the debugger; resource_abspath = {str} '/home/mmacheerpuppy/bark/bark_drive/bark/bark_project/17082017IOVCAWKXYA/17082017IOVCAWKXYA.zip'
resource_file = {str} '17082017IOVCAWKXYA/17082017IOVCAWKXYA.zip'; whether i can print the object; hang on"
Anyone have any experience working with text using cairocffi?
"oh, so abspath goes to the project root; use `MEDIA_ROOT + / + resource_file`"
Looks like it's going through with that; we'll see; Worked like a charm!
"Hi guys, looking for a bit of help of what best practice is.  We have multiple git repos of python packages.   There is some code that is shared between them that I want to pull of into its own project.  What is the most common way of managing dependencies between projects/repos?   This is not code that I can upload to pypy."
You can still pip install it without using pypi.
so a virtual env for each project and then pip install the other projects for them?
"If they are libraries, yeah.; You can even pip install it as development, so it won't be copied to site-packages."
right now they are just packages
"Yeah, probably just pip install each library as a development.; At least for people who are working on the code rather than just using it.; from pip install
```  -e, --editable &lt;path/url&gt;   Install a project in editable mode (i.e.
                              setuptools ""develop mode"") from a local project
                              path or a VCS url.
```"
ah ok I didn't know that existed
"I've only used it once, but it is nice."
thanks
"hello
I am totally new to python, I just installed it now on my windows 8.1 system
when i went to my git bash and ran ""python -v"" it gave off a kind of a long list of gibberish rather than the version of python"
"<@Jeanett> lowercase `-v` is ""verbose"", capital `-V` is version"
:grinning:; It worked. thanks mate
help with code; `code`; i get this error
<@Margaretta> the `set` object in python doesn't support indexing because they're unordered collections of items
as soon as you convert a list to a set you lose the ordering of any items inside; you can optionally cast back to a list and then sort again; `topdata = sorted(list(data))[0:3]`
tl;dr I want to create multiple record of a Model based on a variable which sits pn the webpage(fron-end)
<@Marcie> :taco:; <@Marcie>  - This works; `data=sorted(set([sanitize(t) for t in data]))`
oh nice; passing a set to sorted directly is definitely gonna come in handy for some code golf
"i would request you all , if you have a look to my problem. I need some advice with that ^^"
<@Latrina> what's stopping you from just creating three instances?
"its not only 3 , it depends , For example : If anyone wants to add 6 items, then they will add the items on the frontend variable(var item= 6) ,now  its 6 items; so the no of forms to be generated  depends on the value of a variable in Javascript; <@Marcie>  do i have to use a for loop for this or is there any other way ?"
a for loop is fine if you need X instances of something to be created
so in this case i have to pass the Js variable value(let's say n) to my function which will set the forloop to n.; i was researching on this and found formsets(extras=some value); can i use form sets in my use case?; Anyone ??
Anyone stumbled upon something like this?
"<@Latrina> sorry, i'm not too familiar with formsets, that's a good question for <#C0LMFRMB5|django> though"
"<@Jeanette> looks like either `parent_url_path` or `slug` are `None`, can you post more of your code that's causing this error?; oh ok, sorry, I didn't realise the exception was coming from library code; either the `wagtail_modeltranslation` package is broken, or it's expecting your model or some other part of your code to behave differently to how it actually is; oh good heavens, they're dynamically attaching methods to classes"
yes and based on the language that is chosen you get the translated field
"just makes it a lot harder to figure out what's going on without actually attaching a debugger to your code, that's all; maybe file an issue with `wagtail_modeltranslation`? search around first to see if someone else already has, though"
yep that is true; It's been a couple of hours now ...; Why is it trying to reach the en version? I don't get it; tried: ['en/((?:[\\w\\-]+/)*)$']
"I think at this point, you need to attach a debugger and put a breakpoint on that line in wagtail_modeltranslation/patch_wagtailadmin.py; Because that's a wagtail issue, and if it's not reported, then the debugger can help"
"thanks I didn't think about that; just fyi the regex is matching the english version because of the i18n_patterns in settings.py urlpatterns += i18n_patterns(
    url(r'', include(wagtail_urls)),
)"
"I have a package that I'm developing. I want to use the package inside of a virtualenv and install it with something like pip... but that's not possible unless I create a setup.py, right? Since pip only works with setup.py?
Setup:
```
mypackage/
    mymodule/
        __init__.py
testcode.py
requirements.txt
```
I can import the function defined in __init__.py to testcode.py by creating a virtualenv then symlinking the `mypackage` folder to my virtualenv"
you can create setup.py and call it directly
exactly. There is some tools that ease that. I heard some good things about Flit but never used it myself; <http://flit.readthedocs.io/en/latest/index.html>
I was just thinking that it's be nice to not have to manually symlink or write the setup.py (until it's needed later for packaging purposes)
you can also install your package with the `-e` flags for pip; that allow you to edit the code in place without needing to reinstall each time
"yeah, but I still need a setup.py for that?"
`pip install -e .`; yes
"Hm, I guess I'll just manually symlink to my venv's lib/python3.5/site-packages folder until I've written a setup.py file; Since it's symlinked I can edit the code in place just fine"
you might want to take a look at the tool I linked :point_up: it does almost everything for you for the setup.py
"looking at it, it seems like a way to generate the setup.py and upload it to pypi. But I'm not sure how it helps if I'm not uploading it to pypi"
well generate the setup.py :smile:
"I suppose, but through another, new sytnax; syntax; by the way, I haven't heard much about alternatives to pypi... is there a way to create a custom repository like pypi, or do people usually just install from git repos? (Which pip support); I suppose there's little reason to create a custom pypi repo when serving things from a git repo is simple enough"
usually from git or pypi; there is also <https://pypi.python.org/pypi/devpi> if you want your own pypi; and <https://pypi.org/> that is in the process of replacing PyPi
"what's the difference between ""the"" pypi and <http://pypi.org|pypi.org>?; who thought that calling them the same thing was a good idea?; I see, it's a rewrite called warehouse but the main implementation instance will also be called PyPi."
"<http://pypi.python.org|pypi.python.org> is the legacy server, <http://pypi.org|pypi.org> is the new one; Naming it the same makes sense since it is the same thing, basically everything beyond the frontend and some plumbing, but the same spec"
"Hi, We migrated our db from mysql to postgres, I am facing an issue though and had to revert back to SQL for now.; `Partner.objects.get(client_id=client_id)` returns `ObjectDoesNotExist`; What could be wrong, I can confirm that the particular client_id exists on the partner table."
What is the ORM? SQLAlchemy? Django? Something else? And how did you manage the migration?
ORM is Django.
Can you print out the django query ; And compare it to your straight sql
"Migrated from Google CloudSQL to Postgres using AWS's RDS Migration Tool.; ```&gt;&gt;&gt; from clients.models import *
&gt;&gt;&gt; instance = Partner.objects.get(client_id=X1234)
Traceback (most recent call last):
  File ""&lt;console&gt;"", line 1, in &lt;module&gt;
NameError: name 'X1234' is not defined
&gt;&gt;&gt; instance = Partner.objects.get(client_id=""X1234"")
Traceback (most recent call last):
  File ""&lt;console&gt;"", line 1, in &lt;module&gt;
  File ""/Users/pathfinder/.pyenv/versions/3.6.2/lib/python3.6/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/Users/pathfinder/.pyenv/versions/3.6.2/lib/python3.6/site-packages/django/db/models/query.py"", line 380, in get
    self.model._meta.object_name
clients.partner_models.DoesNotExist: Partner matching query does not exist.```"
"That's not quite what I meant.  

<https://stackoverflow.com/questions/971667/django-orm-how-to-view-or-log-the-executed-query>"
"```(0.022) SELECT ""PARTNER"".""CLIENT_ID"", ""PARTNER"".""FIRST_NAME"", ""PARTNER"".""LAST_NAME"", ""PARTNER"".""MOBILE"", ""PARTNER"".""ACTIVE_FROM"", ""PARTNER"".""RM_ID"", ""PARTNER"".""PREFERRED_NAME"", ""PARTNER"".""RPM"", ""PARTNER"".""DRAWDOWN_PROTECTION"", ""PARTNER"".""DEPOSITORY_ID"", ""PARTNER"".""DOB"", ""PARTNER"".""ACCOUNT_TYPE"", ""PARTNER"".""ACCOUNT_STATUS"", ""PARTNER"".""FIRST_HOLDER_PAN_NUMBER"", ""PARTNER"".""CORRESPONDENCE_ADDRESS"", ""PARTNER"".""PERMANENT_ADDRESS"", ""PARTNER"".""NOMINEE_NAME"", ""PARTNER"".""SECOND_HOLDER_NAME"", ""PARTNER"".""SECOND_PAN_NUMBER"", ""PARTNER"".""MAIL_ID"", ""PARTNER"".""BANK_NAME"", ""PARTNER"".""BANK_ACCOUNT_NUMBER"", ""PARTNER"".""BANK_MICR_CODE"", ""PARTNER"".""BANK_IFSC_CODE"" FROM ""PARTNER"" WHERE ""PARTNER"".""CLIENT_ID"" = 'S164173'; args=('S164173',)
Traceback (most recent call last):
  File ""&lt;console&gt;"", line 1, in &lt;module&gt;
  File ""/Users/pathfinder/.pyenv/versions/3.6.2/lib/python3.6/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/Users/pathfinder/.pyenv/versions/3.6.2/lib/python3.6/site-packages/django/db/models/query.py"", line 380, in get
    self.model._meta.object_name
clients.partner_models.DoesNotExist: Partner matching query does not exist.```; I ran this query to fetch all from the table, ```SELECT * FROM ""PARTNER_DB"".""PARTNER""
WHERE ""CLIENT_ID"" = 'S164173'``` and it works"
Yeah; It's doing a select from partner 
"and a slightly modified version of django's query returns data
```SELECT ""PARTNER"".""CLIENT_ID"", ""PARTNER"".""FIRST_NAME"", ""PARTNER"".""LAST_NAME"", ""PARTNER"".""MOBILE"", ""PARTNER"".""ACTIVE_FROM"", ""PARTNER"".""RM_ID"", ""PARTNER"".""PREFERRED_NAME"", ""PARTNER"".""RPM"", ""PARTNER"".""DRAWDOWN_PROTECTION"", ""PARTNER"".""DEPOSITORY_ID"", ""PARTNER"".""DOB"", ""PARTNER"".""ACCOUNT_TYPE"", ""PARTNER"".""ACCOUNT_STATUS"", ""PARTNER"".""FIRST_HOLDER_PAN_NUMBER"", ""PARTNER"".""CORRESPONDENCE_ADDRESS"", ""PARTNER"".""PERMANENT_ADDRESS"", ""PARTNER"".""NOMINEE_NAME"", ""PARTNER"".""SECOND_HOLDER_NAME"", ""PARTNER"".""SECOND_PAN_NUMBER"", ""PARTNER"".""MAIL_ID"", ""PARTNER"".""BANK_NAME"", ""PARTNER"".""BANK_ACCOUNT_NUMBER"", ""PARTNER"".""BANK_MICR_CODE"", ""PARTNER"".""BANK_IFSC_CODE"" FROM ""PARTNER_DB"".""PARTNER"" WHERE ""PARTNER"".""CLIENT_ID"" = 'S164173';```; ```FROM ""PARTNER_DB"".""PARTNER""```"
Where your manual query is going to partner_db
"why is django doing this , any idea on how to fix this ?"
"Seems to be your django connection, I suspect "
:neutral_face:
google to aws? Nooooo
AWS is fine :slightly_smiling_face:
yea. i just like googles setup more. and also can be a lot cheaper.; but im going to be setting up a project on aws too with ELB and docker using spot instances.; mostly because we use it at work so i just want to make sure to have more chances to be familiar with it
at what point do you actually need to use AWS or google rather than rolling your own?
"spot/preemptive instances can save a lot anyways.; to me, none"
I'd say when you need more of the components together than are available on their own
i guess if you have highly specialized reasons
AWS you pay for ingress/egress (data in/out) - so if you are moving data around a lot AWS makes good sense
like dropbox benefits from their hard drive tech they work with
(~AWS~ -&gt; _Preferred Cloud Provider_)
"Azure is good, but its more expensive.; and not as feature complete as google/aws"
"btw, are there any providers that provide ( :slightly_smiling_face: ) access to bare drives?"
yea
"I want to roll out ZFS, but none of providers known to me allow it"
you can do that in AWS cant you?
so is it more a case of ease of use or something?
look for dedicated boxes.; yea
thought so
why the need for zfs?
"""very specialized reasons"" :slightly_smiling_face:; and their dedicated boxes don't use SAN or anything like that?; just drives that I can access?"
on aws you can make pretty custom images.
do they give you much control over it though?
oh. idk about that much; not sure honestly.; <@Orpha> likes that one provider. cant think of their name.; linode
"i used to just use linode or other vps providers, recently started using digitalocean, they have a nice api for interacting with stuff"
i like DO too. slightly more expensive than linode but UI is far better and they have a nice api
just wondered if i was missing something obvious with the aws stuff
you should be able to make custom images; check the first result here.; <https://www.google.com/search?q=aws+custom+image+with+zfs&amp;oq=aws+custom+image+with+zfs&amp;aqs=chrome..69i57.11042j0j7&amp;sourceid=chrome&amp;ie=UTF-8>
using puppet and similar tools sorta makes a lot of it moot for me
makes what moot? the system setup?; i havent used puppet. i tinkered with ansible. but i mostly just use docker
"not the system setup, i mostly use it for management"
using alpine base images and host as either ubuntu or coreos depending on the needs; ah; managing infrastructure?
very small infrastructure
i learned about terraform for that and want to try and start using that
"Last company we just prebaked a base AMI and used that, no need for complex tooling"
i think we use cloudformation at work. which is similar and built into aws; yea. makes a lot of sense for most cases; at work they want to use docker but dont know it very well. so hopefully going into a devops position i can play with that some
im currently playing with docker :joy:
"We used docker on those, that was just the base system setup/config and docker was deployed onto it"
it seems pretty neat
Should we take the convo to <#C22DMH61M|devops> ?
Si
<@Bruno> linode is currently updating their ui because they're tired of you complaining 
"sweet; lol. their UI is pretty bad. though, not as bad as godaddy"
still better than using c-panel
yea. i would also prefer cpanel over godaddy
haha
"Hi all, I am having an issue with sorting nested OrderedDicts..

I  am trying to sort both the outermost dictionary, and the following dictionary by a key value in the innermost dictionary.

Given the attached snippet, this what I am trying to accomplish:

- For all foods, order the food subtypes by highest calorie content (i.e - For Pizza, Pesto should appear first because it has higher calories when compared to cheese.
- Order all foods by highest calorie content (i.e - Pizza should appear first as it has a subtype with more calories than any other food); Before I tacked on the outermost dictionary, I was using this to sort just the food types (red,green,pesto,cheese):   `OrderedDict(sorted(d.iteritems(), key=lambda x: x[1].iteritems()))` .  However, I am not sure how to proceed after having tacked on the outermost dictionary."
"The problem is then how to cast this as an OrderedDict?; If that is the issue, then I can think of many non-pythonic approaches."
"Right, I'd like to make the structure into an OrderedDict. Can you point me in the right direction?"
"why don't you try sorting the 2 groups separately, casting them into OrderedDict type as above. I ran your code and you are sorting operation is just making it alphabetical, ignoring the inner loops; sort Pizza, sort Apple, find Max of the two, append in order.; if you do the following `for item in d.iteritems(): print(type(item))` you will get `&lt;type 'tuple'&gt;`. You then have to unpack it accordingly making note of where your value pops out.; now, if there is a less convoluted way to do this, I am all for it.; the downside to this is that your sorting has to be via if/then type args inside each top level tuple. If there are more than two food subgroups, then you might call sort in the inner loop"
I appreciate your help. I will see if I can play with the problem a bit more given your suggestions..
"I also wonder at what level your reply ought to be; <https://stackoverflow.com/questions/10756427/loop-through-all-nested-dictionary-values>; this can get  recursive, as you might see.; this is why mentioned something about pythonicity earlier."
"So I understand how to sort the inner dictionaries (Pizza, apple), but I am still a bit confused on how to sort d"
"enter a username: asiva
username  not found please enter a valid  username: bsiva

so here it is keep on asking for username which is in our list/dict(now i'll keep dict instead of list). iwant to place here the retry function

username  not found please enter a valid  username: sivasiva
enter password: asiva
password is incorrect ,please enter  a valid password: bsiva

here also i want same retry function; this should be my output in python; how to start plz; help me"
"is there an online tool which provides list of cycles present in a graph, if provided with dependency data!!?"
"<@Hermila> well, start writing a function first"
and if you have any trouble ask for assistance and show what you already have
How can I build a pip freeze for a certain project not all what's installed in my environment?
"<@Gertude> create a virtualenv, install your requirements and run pip freeze"
"<@Marcie> Thank you, already started a project without a virtualenv :disappointed:"
<@Gertude> you can fix that!
"<@Beula> Thank you, I did by just removing all what I don't know manually with a text editor."
"Hello. I need help with tensorflow. I have a bottle server that sends an image to a tensorflow script which categorizes the image; After I send images around 5 or 10 times, it starts slowing down. The performance decreases a lot. The first time, the script runs in 1 second, and by the fifth or tenth time, it takes almost more than one minute.; This is the code that I use to categorize the images using tensorflow; And that is the code that I use to run the server; This is the line that slows down after many images: `predictions = sess.run(softmax_tensor, {'DecodeJpeg/contents:0': image_data})`; How can I improve performance?"
"what are your server specs (ram, cpu)? How often are images sent to tensorflow?"
"4GB Ram, 2 cores 1.8GHz. Right now, I'm sending the images myself through postman so it is not something specific, but I tried sending one image, wait until I get a result, I give it 5 extra seconds, and then send another image; The first 5 times it gives a result in one or two seconds, then it starts slowing down"
"I wonder if there’s a memory leak; and more resources are being used, specifically ram; also, with your tf script, move the import outside the `recognize` function; because its a wasted import each time"
Is there a python module to profile that?
its a code smell; only import modules in a function if you really need it locally and it costs alot to import
I mean a module to profile the allocated memory
<https://docs.python.org/3.6/library/profile.html>
I'll run it and hope to find the problem
do you know if tf.session is actually releasing your mem?
"that’s a good question; beautifulsoup has a bug, that with a context manager like that, it still doesn’t release memory if used in a loop 1000-1500 items long"
"I assumed it does, since it's the recommended way according to tensorflow documentation. I'll try closing it manually"
i would check github and see if this is an issue
"ok, so are you using a dev server for this or guicorn/wsgi?"
"eg, bottle/flask dev server"
I'm using bottle
"yes; but the dev server, eg command line start utility, or nginx/apache with gunicorn/wsgi?; becuase if this is on your local machine with zero prduction configuration, its either your machine or a memory leak"
"Dev server I think, I'm running it from command line"
alright; what happens when you wait one minute in between; and run `top` to see what your system’s free memory looks like during that time
"When I waited on minute after receiving a result, it was almost the same, it was eventually taking more time to get a result. Free memory sometimes decreased a lot when I sent data, and sometimes it decreased just a little, but eventually I had less free memory; I tried not using anymore the context manager, and instead I used `sess = tf.Session()` and `sess.close()` to close it, but I had the same results"
what size are the images?
18kb
have you tried this not using bottle?
"No, do you think bottle could be the problem?"
"no, it shouldn’t; but would be interesting if you can run this code standalone with an image; take the web server out of the equation and test with just tensorflow; would give clues to which direction you should go into"
I don’t really know. I’m trying to isolate issue.
"I tried two things, first I called the function to categorize in a loop, and got same result, by the 5th time it was slowing down. Then I tried to call in a loop my code to categorize as if from the command line, using `os.system(""python label_image.py image.jpg"")` and it worked, it always took around 2 seconds. So, does that mean that it is a memory problem? Or perhaps something when I import tensorflow"
does travis-ci support any kind of test that requires a database?
you can request some services to be present; I suppose mysql/postgres should be one of them
also is it recommended to test for returns from a sqlalchemy query&gt;?
I would; <@Prudence> have you pulled the tensorflow import outside of the function?
cheers :+1:
"Yes, it is at the beginning of the file"
ah `<http://travis.ci|travis.ci>` is an actual domain :smile:
yeah thats just weird
maybe they plan to migrate there; it's for cote d'ivoire
"<https://github.com/tensorflow/tensorflow/issues/10408>; <@Prudence>; oh, country TLD"
"LoL, spot on <@Meg>"
one does what one can :smile:
"That solved the problem :grinning: I had to use `with tf.Graph().as_default(), tf.Session() as sess:` instead of two separate contexts. Thank you <@Meg> <@Winnifred>"
"quick question about git. 
After my initial git add . 
Do I need to add anything next time I want to commit and push something?; Because I'm in my local repository, the git commit  command would notice changes and add them to be pushed, right? :slightly_smiling_face:"
git add every time you want to commit and push something; That's how I do mine... :slightly_smiling_face:
"ok ok :slightly_smiling_face: 
Do you use add .  or add specific files/folders?; I might do too many changes before I commit them so I end up doing git add .  because I can't keep track of eveything. 
Kinda defeats the purpose of git.. :stuck_out_tongue:"
add what you're working on
"Thanks vulgar. 
I'll do that in the future. 
No very experiences with git yet.; not*"
if you don't wait 3 months to commit it's ok :troll: :smile:
if you're using github <https://desktop.github.com/> makes it rather simple; plenty of gui clients for git though which help
the pycharm integration is also :thumbsup:
"Thanks. :slightly_smiling_face: I'll check it out. 
Yeah, I'm using pycharm so I'll definitely do that."
"Hi guys; I have a text file with 6000 email ids; My problem is the file is like this 
<http://www.website.com|www.website.com>
<mailto:Followedby@email.com|Followedby@email.com>; I want to remove all website names and would like to keep email ids; Any idea how i can get it done"
"You could do that with some regex magic.. assuming you have a reliable pattern that you can match, then transform the data to exclude the websites and format the emails however you like"
"Can you upload a screenshot of your dataset; If all the website names are at odd places..
Then simply remove those line if they don't have anything else in them..
Make a copy of dataset before experiment.."
"All website names were beginning with www. So I just want to match those lines and delete it; <@Reanna>
Like u said it seems I need to use regular expression "
"Quick CSS question. 
Excuse the lingo, I'm a total css beginner.

I got a div:
```&lt;div class=""col-md-4""&gt;
        ... some content.
    &lt;/div&gt;```

It has the css  tag 
```.col-md-4 {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}```
I want to add padding-top: 15px   without modifying the ""original"" or global .col-md-4 css. 
How do I add to that class (?) a top padding on just one instance on my index page?"
tips: user backticks ` or triple backticks ``` around code for nicer formatting in slack :slightly_smiling_face:
Thanks. tried that but I think i used the wrong 'character'; yep. Have to find it on my keyboard. Sec :9
for your question the idea would be to create a second class just for `padding-top` and add this to the element classes; but I'm no css expert; on my keyboard it's `alt-gr + 7`
"Thanks. I got a Swedish keyboard. Lots of meatballs everywhere. :wink:; hmm, so I should add a class to the first. I'll google it. 
Thanks!; Hard to know what to google for when you don't know the lingo."
"not to the first, to the element. Like `&lt;div class=""col-md-4 my-padding-top""&gt;`"
"ah, cool. Thanks.; I got bootstrap 4 implemented so I think I'll find something."
"Hi.  I’ve a typing question, does anyone have any ideas how to calculate the type of a nested, specialised generic (in the above example, how would code work out that ‘prop’ is an `int`?"
<@Cristy> `get_type_hints` is just a proxy for `__annotations__` with a bit of additional reverences; You're looking for `mypy` (<https://github.com/python/mypy/tree/master/mypy>) and how it can infer types
"<@Collette> - Thanks for the hints, from what I’ve read, neither `__annotations__` or `get_type_hints` provide the info I was looking for.  I can see it would be possible to walk the `__dict__`s and contextually resolve the TypeVars, but this seems like a lot of work.  Could you point me to the mypy docs that talk about resolving generic types?  I wasn’t able to find any"
"so what im doing with this is just dumping a bunch of tsv files into a structured folder, what i do works but im wondering whether there is a better simpler way, or whether any one has any input in what could possibly go wrong with what i did; all critique and suggestions welcome; the structured folder is based on info gathered from the data itself, i was tempted to use regex to affirm an int followed the data i used to generate the folder but decided this was overkill; can i do this in a more pythonic way, am i missing something obvious"
On the `__init__` you are handling the exception by just printing it. That will cause that when there is a connection problem your script will just print the error and continue. I think that's not what you want; Don't catch exceptions for just printing; unless you are doing something with value with it. Dont do it. Let your program crash
nice catch and thanks
for example in your case: you could catch the exception to try to retry the request; although i think `requests` can do that for you
"thats a great idea tbh; and yeah thats exactly the behaviour i would like, thank you <@Mariano>"
check this: <https://www.peterbe.com/plog/best-practice-with-retries-with-requests>
<@Mariano> :taco:
"You are doing the same con `create_dir`. How things are right now. If the user doesn't have the permission. It will print the error and continue. Which will cause that `save_dump` will try to create a file on a dir that can't be created. Unless you have a workaround the permission problem, let it crash on `create_dir`; That's all. Everything else looks good to me. Although the class might not be needed, but that is a design choice; Well the class is ok. My bad on that"
"you are right, thanks again :slightly_smiling_face:; thanks for the help dude/et :smile:"
"Anyone have a good resource for some basic documentation on flask-jwt with a dynamodb backend? ; Additionally I'm looking for the jwt Auth to be between a set of api's not users, is jwt the best way to go? I would have to set no expiration on those keys which I would think is quite the security ""faux pas"" "
"hello all i need a bit help with some wordpress apache issue; I am adding wordpress to a website i built, with laravel; <http://domain.com/blog|domain.com/blog>; i was asked to edit the nginx file but i dont know how to locate it; I use shared hosting"
"Folder Name: PrettyGraphs
Files in PrettyGraphs: __init__.py and PrettyGraphs.py
Created test.py to test.
Contents of __init__.py:
&gt; `from PrettyGraphs import PrettyGraphs`
Contents of PrettyGraphs.py:
```
class PrettyGraphs:
    def __init__(self):
        self = plt.subplot2grid(1, 1), (0, 0), frameon=False)

    def my_dot_plot(self, ax, the_data, title=''):
        y_labels = []
        x_axis_max = 0

        ax.set_title(title)

        for k, v in the_data.items():
...
```
From test.py
```
import matplotlib.pyplot as plt
from matplotlib.pyplot import subplots_adjust
import numpy as np
from PrettyGraphs import PrettyGraphs as PG


def main():

if __name__ == '__main__':
    main()
```
There is NOTHING in main(), yet if I run it, it displays a graph (identical to previous graph that I plotted).  I have rebooted, blanked out main(), and ran test.py, and it displays the same exact graph. Why?"
"Hi, I have an list of dictionary, each dict, I can create multiple new objectY.
How can i create iterators to yield those objectY, and should I?; those objectY later will be stored to file as csv file."
"I know nothing about wordpress, but I’d be very surprised if you had access to the nginx file on shared hosting.  Can you ssh in?"
"<@Collette> :
So i have used remote_pdb like below:

in code, i have added below at the place where i want debugger prompt:

```
        from remote_pdb import RemotePdb
        RemotePdb('127.0.0.1', 4444).set_trace()
```

In my container, there are 5 processes running &amp; one of the process is where i have added above snippet

After running this, i am able to get following message in my logfile

```
Aug 21 05:13:08 97dec1a33242 agent[818] root: CRITICAL - RemotePdb session open at 127.0.0.1:4444, waiting for connection ...

```
But i am not able to connect rather i'm not able to get pdb prompt.

```
# telnet 127.0.0.1 4444
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
Connection closed by foreign host.
```
Let me know if you could provide any help on this."
"<@Florene> remote-pdb should listen on `0.0.0.0`, not `127.0.0.1`"
"<@Collette> :

So i have used remote_pdb like below:

in code, i have added below at the place where i want debugger prompt:

```
        from remote_pdb import RemotePdb
        RemotePdb('127.0.0.1', 4444).set_trace()
```

In my container, there are *5 processes Running* 
and
One of the process is where i have added above snippet to enable remote-pdb.

After running this, i am able to get following message in my logfile, which means the remote pdb is been used and executed.

```
Aug 21 05:13:08 97dec1a33242 agent[818] root: CRITICAL - RemotePdb session open at 127.0.0.1:4444, waiting for connection ...

```
But i am not able to connect rather i'm not able to get pdb prompt.

```
# telnet 127.0.0.1 4444
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
Connection closed by foreign host.
```
Let me know if you could provide any help on this."
<@Emelina> what do you mean between a set of api's and not users?
<@Deedee> does the same thing happen when you have `pass` in `main`:
<@Florene> is port 4444 open in your instance?
"if you’re using AWS, for example, you have to open that port otherwise it will be blocked from external access"
Maybe <@Florene> missed my answer in the thread. You need `RemotePdb` to listen on `0.0.0.0` instead of `127.0.0.1`
"that’ll do it.; yeah, you won’t be able to do that on shared hosting"
<@Meg> : i am using a physical ubuntu machine; and in 'netstat -plunt ' i can see port opened and in LISTEN mode
"<@Suellen> these would be some flask backeds, no direct user interaction. So I'm looking for a way to do Auth without having to have the applications handle refreshing their tokens."
"<@Collette> : even with `0.0.0.0` behavior is same.; ```
# netstat -plunt | grep 4444
tcp6       0      0 :::4444                 :::*                    LISTEN      30082/docker-proxy
```
In logfile:

```root: CRITICAL - RemotePdb session open at 0.0.0.0:4444, waiting for connection ...```

But this is NOT working ...

```
$ telnet -l tuser 10.182.110.3 4444
Trying 10.182.110.3...

```; <@Collette> :
oh 
*it worked *
only from the same host :slightly_smiling_face:

Thanks!"
"Has anyone used Hug? How do you make a route accept a binary file? The documentation doesn't say anything... the first argument is always an empty dict, even though it should contain the file; Hm, finally got it to work by manually setting `@hug.default_input_format(""application/x-www-form-urlencoded"")`"
"<@Lanita> a lot of the times you’ll have to look at the falcon docs; i love hug, but find it extremely hard to use sometimes due to the lack of documentation"
"wtf... any call I make to the hug api calls the function twice, once with bytes as a falcon stream-thingy and once as a bytes... stupid magic :disappointed:"
"I have the following with me 

```
&gt;&gt;&gt; import datetime
&gt;&gt;&gt;
&gt;&gt;&gt; some_date = datetime.datetime.strptime('2017-07-03T20:35:45.000Z', '%Y-%m-%dT%H:%M:%S.%fZ')
&gt;&gt;&gt; some_date
datetime.datetime(2017, 7, 3, 20, 35, 45)
&gt;&gt;&gt; datetime.datetime.now()
datetime.datetime(2017, 8, 21, 22, 4, 20, 215391)
&gt;&gt;&gt;
```

I wanted to find out whether `some_date` is N days older than today or not? Like lets' take N as 2. Then I wanted to find whether some_date came two days ago or not. How should I subtract both?

Would this work? <https://stackoverflow.com/a/441152/3834059>"
"yes, timedelta is made for exactly this sort of purpose"
Let me try it out.; <@Gabriele> What I am trying to find out is whether the day difference between the two is more/less than N days. A bit confused over how should I proceed :sweat_smile:
Create a timedelta of N days. Compare that to the timedelta you get from the difference between the days.
"&gt; Create a timedelta of N days.
how should I do it?; ```
&gt;&gt;&gt; datetime.timedelta(days=90)
datetime.timedelta(90)
&gt;&gt;&gt;
```; ^ this would not the way I assume"
"yes, that is the way"
"<@Gabriele> 
```
&gt;&gt;&gt; timedelta_today = datetime.datetime.today() - datetime.timedelta(days=90)
&gt;&gt;&gt; timedelta_today == datetime.timedelta(days=90)
False
&gt;&gt;&gt;
```"
"date object - timedelta object =&gt; new date. or date - date =&gt; timedelta, and check the n on that (if you go the second route, timedelta_object.days will give you the day diff"
"<@Carri> 
I think I figured it 

```
&gt;&gt;&gt; some_date = datetime.datetime.strptime('2017-07-03T20:35:45.000Z', '%Y-%m-%dT%H:%M:%S.%fZ')
&gt;&gt;&gt; some_date
datetime.datetime(2017, 7, 3, 20, 35, 45)
&gt;&gt;&gt; datetime.datetime.today() - some_date
datetime.timedelta(49, 7033, 562942)
&gt;&gt;&gt; (datetime.datetime.today() - some_date).days
49
```"
"<@Meg> Got it working. :smile:
Was the exact same graph (with data) as when I had last ran it. Turned out that although I was editing a new file, it was still running the previous file. Error alerted me after I erased the earlier file. Also, did not make it a class. Maybe it should be, but I'll wait until a future version."
"ah, makes sense.; glad it was a simple issue!"
"what ways would you guys automate adding new users at a company, to remote servers? the most open way i can think of is just a simple bash script for setting up a users local environment, to also add their user/key to a remote server."
ansible ?
yea. we use salt stack at work so i was looking into that too.
"I like making them set it up following a guide, myself. Then they actually know what's up"
i already have a bash script made to do the process. part of the process of me moving to ops at work. i think for normal stuff though a bash script is probably going to be my best bet.
Then have them enter their stuff in a web-form or whatever for the remote server
yea. they want to make it all automated.; i just ask questions with bash `read` on the cli
They are shooting themselves in the foot if the people who know how things really work leave - but aight
"well to be fair, most of the devs dont need to ssh into remote servers. we do use vagrant for local dev. we do have a guide for getting into those and debugging; we can already deploy testing setups based on the current app that are short lived anyways (default 24hrs). mostly just for testing; and we dont allow people into normal staging/prod"
what about LDAP?
we dont have an ldap server
that’s what i mean. set one up.
would be another way too though.
that’s probably more long term.; i’ve had to use a number of approaches at different jobs. the most simple i can think of atm is ansible but saltstack can do the same.
ive never set one up? are they hard?
i’ve only setup windows AD before.
ah
i should set one up. they can be useful for businesses and all sorts of applications.
im not sure we would need that though. since devs are limited to what they can ssh into remotely anwyas
if you are already using saltstack just use that.
yea. that was my thought. i was just trying to think if there was any other methods i should consider or make an example for.
"yea, onboarding is always one of those “stop and see how to do this better” things."
im wondering if i should even make an example for that. since i dont think its something we will be using anyways.; our onboarding setup is already pretty good. vagrant and opendns to provide accecss to staging servers.
Whenever I run `pytest say_hello.py` it says `no tests ran in 0.00 seconds`
<https://docs.pytest.org/en/latest/goodpractices.html#test-discovery>; Pytest can't find your test function 
So the file has to start with `test_` and be in a directory?
Your assert is just run on first import of the file; So yes
it still can't find it :disappointed:
<@Alba> please show your directory structure and how you run the command ; Maybe this quick post will help with the command <https://pyslackers.com/blog/testing-a-python-library-with-pytest/>
"Practice/
  -__init__.py
  -test_say_hello.py

inside Practice i'm running `pytest`, outside Practice I run `pytest Practice`"
"Did you look at the post? You shouldn't have the test files in the same dir, and be sure to `import Practice`, then run `python -m pytest` from the parent dir "
"Thanks you, I ended up separating the files.
Practice / 
  -__init__.py
  -say_hello.py
  -test_hello.py

then inside `test_hello.py` i did `from say_hello import say_hello`"
anybody on?
"<@Ocie> numbers come and go throughout the day, just ask your question and people will generally respond when they can"
<@Ocie> lots of people. Just ask your question
"i want to set up a validator that is UniqueTogether and contains a FK; have you guys done that?; i want to validate NetworkRouteSerializer  considering origin, destiny and the LogisticsNetwork FK"
<@Ocie> generally it's best to ask in the targeted channel if it's not general Python questions. Please use the share feature to post in <#C0LMFRMB5|django> (hover over your message and click the little arrow on the right that looks like a reply or forward button in an email client)
"Hi Guys, I have a question on a data science problem I am working on. This the right place to ask ?"
yea theres also <#C0JB9ATQV|data_science>; so i would try there first
Oh. Thank you. Would join there.
"Hi, everyone. I am very new in python world. 
What's the difference between `python -m pip install pymongo` and `pip install pymongo` ?"
I think they are the same thing. `pip` just calls `python -m pip`; <https://stackoverflow.com/questions/25749621/whats-the-difference-between-pip-install-and-python-m-pip-install>
"That's not strictly true, but ~often~ in most cases they're interchangeable; You should use `python&lt;version&gt; -m pip` when in doubt which python will be used to invoke `pip` executable"
"Depending on how you installed Python and Pip, you'll usually have a `pipX.Y` binary in your `$PATH` too"
and use a virtualenv for your project to not cluter the system python
"thanks a lot guys, I am reading it. And yes, I am using virtualenv in my project. :stuck_out_tongue:"
this would belong in <#C0LMFRMB5|django>
"Whoops, sorry! Gonna delete and repost there"
"Hi guys I am new around here, have a question what do you recommend continue with Python from beginner to intermediate level, or experience my next programming language on my list (Java or Javascript)?"
depends what your end goal is.
"becoming a developer, still dont know what area or direction?"
I'd advise looking into that aspect. Because it will help you decide
I want to go for data science or ML vs web applications
"so, ML and data science is heavily python now; some java in those fields; but, languages are just tools"
"Haha, language is such a tool!"
"pick which one has the best applications to your task at hand, and balance with community participation and library support"
If you like data science and ML then maybe stick with Python and look at playing with `scikit-learn` for a bit
"I already started 2 data science courses, but is so hard to focus on them, cause there are so many other sources for this, duno still try to focus on something and finish it, I think is a kind of trap these days with so many free access to knowledge still I happy for this though"
yeah
"yeah, pick one, finish it, then do another one"
"one of the difficulties is figuring what to focus on; and sometimes its like reading a topic at wikipedia; you're on one particular article, with a link to something esle"
"believe me I am all over the place right now, accessing a lot of info"
and then somehow you find yourself reading about a coast guard rescue in the 50s :=D; wikipedia rabbit hole
"I was the other day on quora, started with python ended in what killed the dinosaurs; :slightly_smiling_face:"
:smile:
What about YouTube? It's like quicksand
it's rought and get everywhere ?
"I don't go there much, since I don't get much out of those videos without good captions"
guys anyone of you did some kind or pair programming or found a mentor that helped you?
"not really; there were a couple seniors that I leaned on when i was a junior; but code reviews and quality feedback are essential, I feel; as long as the critiques are fair and balanced, and you don't take them personally"
still trying to decide to go for a conversion program from business (my major) to ICT vs bootcamp vs continuing self study; of course I want to get into programming to get a job and enjoy
"I was self-taught for several years, then went to university. I think the idea of an individual mentor is a bit of a luxury, but getting feedback via forums, Slack, Stack Overflow etc, is a good alternative"
"also, groups like this are invaluable; as long as you find a good one, and learn how to properly ask a question"
":slightly_smiling_face: I discovered slack and ICT groups 2 days ago, pretty new around here"
Sorry? You mean YouTube videos without captions? (Not sure if you were talking to me) <@Meg>
"<@Thomasina>, not you specifically; more like relating my experience with youtube as quicksand :smile:"
"Oh, I see. However might I ask what you mean by ""captions""? Just curious."
"closed captioning, subtitles; I'm deaf and wear hearing aids; so, while I can hear just about everything in my hearing range (have pretty significant high frequency loss), there's a large gulf between _hearing_ and _understanding_; so, I use lip reading alot to understand speech"
"Oh, wow! I had no idea! Well, that makes perfect sense then.; Are the YouTube auto-captions still :poop: ?"
"so, for me... if we were talking face to face in English, I wouldn't have any trouble conversing with you.  but if you were to rotate so your back was to me, you'd go from speaking English to Russian.. and I don't speak Russian; lip reading helps me to put values to a series of sounds of speech to understand; and autocaptions have come a long way, and the ones for conference presentations are very good"
yes
"but there's a big difference in that quality and what you see in movies, TV and live programs; and that's mainly due to quality of the audio, as well as placement of the microphone; with speech, the closer the microphone, the better."
"Oh, yes. Actually I have a lot of interest in developing accessibility-related products (primarily for their function and not so much for profit). It's good to hear that - at least for some videos - auto-captioning has gone from laughable to actually helpful. There are so many ways that technology can be used to aid those with various circumstances and conditions, and even those I _think_ it has improved somewhat, I feel like the entire field could use a lot more attention and work."
"there actually is alot of work going on now; in fact, microsoft research has shown that their auto transcription error rate is lower than that of professional transcriptionists; <https://qz.com/812317/microsoft-msft-claims-its-speech-transcription-ai-is-now-better-than-human-professionals/>; but again, the primary differentator is quality of the audio combined with background noise"
"Niiice! Well, glad to hear there are some significant advances being made then. While (as far as I know) my hearing is alright, even I would appreciate automatic, perfect transcriptions. Actually I often use subtitles with educational material even if the speaking in the video is good, as I find it helps me to fully comprehend what's being said."
i like subtitles for the comprehension too. i feel like i understand better.
"same here.. I acutually did a project in undergrad using dragon naturally speaking in transcribing college lectures; turned out, it worked best for online video classes, specifically my calc 2 class"
also when you have a baby and don’t want that baby to wake up you get used to it.; lol
"ha yeah; I can imagine, wou;dn't know from personal experience :smile:"
"that’s when i noticed w/ subtitles i picked up more on the conversation or little giveaways.; dragon is really nice.; my wife was an aspiring writer for a couple years and she used that.; again, b/c of baby. lol"
"Hey, I'm trying to scrape ""<http://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=pit&amp;lg=all&amp;qual=y&amp;type=8&amp;season=2017&amp;month=0&amp;season1=2016&amp;ind=0&amp;team=0&amp;rost=0&amp;age=0&amp;filter=&amp;players=0>"" and put it in a MySQL database using beautiful soup.   Not only am I having trouble finding the correct table in the html, i can't figure out how to identify it in my soup code.  The documentation has been less than helpful.; I've never used a web scraper before, and I'm pretty lost"
<@Bernita>  What does your current code look like?
"yeah, you're going to have some issues with that; take a look at the networks tab in your browser tools; for example; <http://www.fangraphs.com/extfghtml.aspx?fgtype=30>; all that information is populated dynamically; so, what you'd need is a headless browser; load the web page in the headless browser, wait for it to finish"
I'm trying to set it up so that I can run it every morning and refill my db then run my rankings algorithm
"then extract the html from the browser, toss it in BS and extract what you need"
sorry...headless browser?
"run the browser without a gui; so you load the web page as it would normally; so, waht happens with that site you want to scrape is that the data is all loaded asynchronously; so, requests and beautifulsoup won't do; you need to have a browser instance running to load the content, render it as you'd expect"
ouch...can u send me a link that describes what im trying to do?
"well, you can google it yourself and find a number of resources.; but the gist of it is like googlebot crawling websites for indexing; <https://developers.google.com/web/updates/2017/04/headless-chrome>"
ok cool...thanks; back to the drawing board lol
"or check if that site has an api you can use; FYI, there's <#C5PHT9EGK|webscraping> channel here"
you're a g...appreciate it
"iinteresting, the TOS on that site doesn't say anything about not using the data; just this 

&gt;ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SERVICE IS DONE AT YOUR OWN DISCRETION AND RISK AND THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR LOSS OF DATA THAT RESULTS FROM THE DOWNLOAD OF ANY SUCH MATERIAL.; usually with sites like those, there are stricter usage conditions"
"I was once in a similar situation, I used Selenium to open a webpage, dumbed its content into a file and parsed what I needed. If you use webdriver you don't even need to use a headless browser."
"actually, you do; because selenium needs something to actually render the page; typically, chromedriver, phantomdriver, etc"
"You're right about that, when I said you don't need a headless browser, I meant you can just use your regular browser"
"ah, ok :slightly_smiling_face:; yup, true; but that's also more time-consuming, and not quite what I think <@Bernita> wants in this case"
"I never used the headless chrome, but it looks like it's already capable of creating a simple dump without any other tools! That's actually pretty cool"
"yep.  Originally, you had to go through quite a few steps to do it, and so phantom was usually the option of choice; but now that google's made headless chrome much easier to use in testing, usage rates are going up; which makes sense; <http://kangax.github.io/compat-table/es2016plus/>; take alook at the server/runtime part; PJS is PhantomJS, and its pretty incompatible with ES6"
"Since when does it exist? I remember looking for a headless browser last year, but couldn't find anything useful except for phantomjs"
"but given that there was only one dev/maintainer, even getting to the feature level it did is a great accomplishment; <https://developers.google.com/web/updates/2017/04/headless-chrome>; its available on linux and osx as of chrome 59, windows as of chrome 60"
"Pretty cool, have to remember that"
Yes. And I'm not sure why they haven't improved it yet.
is there a way to package my current version of python3 and also all the packages i downloaded in my virtualenv into 1 file so then I SCP my whole project to another machine?
you can do a recursive scp and move the folder with all the contents
"<@Sharika> assuming the same architecture and system deps, you could probably just tarball up the project dir... but that's a bit odd - may be best to use Docker, install them fresh, or maybe pyinstaller"
o wait n/m you want the virtualenv too.
"Hey; are there any jinja template language masters; I have passed a key into the template {{course.id}} I need some way of accessing that key in dict {{course_completion_percentages}}. I wanted to try ```{{ course_completion_percentages.{{course.id}}  }}```, but that's invalid. {{course_completion_percentages.2}} gives me the value I want (by explicitly passing the information).; Not sure how to best deal with this"
`course_completion_percentages[course.id]` ?
Unfortunately it cant parse that; ```{{ course_completion_percentages[course.id]  }} ``` nor ```{{ course_completion_percentages.[course.id]  }}```
what type is `course_completion_percentages`?
dict
do you get an error ?
yep; ```Could not parse the remainder: '[course.id]' from 'course_completion_percentages[course.id]'```
Online claims `dict.get(val.id)` may work
I can do the explicit declaration {{course_completion_percentages.2}} but that's not what I want; oh lordy
Are you sure you're on jinja2? The `foo[bar]` should work from everything I see
I did it; ```{{ course_completion_percentages.get }}{{course.id}}```; lmao
weird
im on the most recent django; so im with whatever bundled with that
that's the django templating language
ohh
"it looks like jinja2, but slightly less powerful"
well i think we should sticky this find then; :stuck_out_tongue:; this is gonna be some atlantis tier information
A number of people recommend a custom tag <https://stackoverflow.com/questions/8000022/django-template-how-to-look-up-a-dictionary-value-with-a-variable>
"This is new to me, pycharm created a virtual environment but then it lacked pip and setuptools.; Creating another one, so this isn't a question, yet."
which python version ?
3.6.0
hmm weird
yeah ive had that happen; you need to; manually install pip; um
Is there a windows equivalent to which to see which pip I'm running?; All of the other environments work fine.
ive never got; virtual env; on windows to work; otherwise i'd be using it
ouch ok
I have over a dozen and haven't ran into this issue. When 3.6 first came out I had to do it manually because pip was too out of date though.
"well, that there is half your problem, I suspect; window"
"lol, yeah, they won't give us Linux and this machine is too weak to run a vm decently."
:facepalm:
"Eh, I need to upgrade to 3.6.2 anyway."
where do you work?  so I don't apply there by accident :smile:
A fortune 150 telco.
can you install linux yourself? I did that...
"lol, I don't think they approve that one. They don't even let us have admin rights. Though, I do have work-arounds for that."
:disappointed:
"uhm, yeah; that there would have me looking"
"They have ViewFinity which elevates certain whitelisted programs to admin to install or run. For some reason they made the python 3.6 binary one of those programs. So, subprocess.call(['cmd']), boom, you are admin."
"working under those conditions, with the wide range of programming positions available, why stay?; aside from job security?"
"I'm halfway a network engineer and halfway a programmer these days.; And, I am applying elsewhere. If I could find a work from home that pays just a tad better I would probably go. But, otherwise, the environment is laid back."
"gotcha; so, you like the job, just pain in the ass conditions?  been there a few times :slightly_smiling_face:"
Yup.; Big corporate stuff.
"hey, <@Hung> thought you had to be over 18 to create an account?  :thinking_face:"
try the windows subsystem :smile:
"The Windows Python installer is still stupid. Such weird defaults, and it offers to not install tk. :open_mouth:"
windows ¯\_(ツ)_/¯
"Not on Win 10, though some volunteered for that.; I do have a few linux servers I could work in, but no x."
"alright, I'm outta here.  workday's done... finally"
does windows remote desktop can connect to a linux box ?
see you all tomorow :slightly_smiling_face:
Enjoy the evening.
:wave:
"If the linux device had rdp setup I suppose it could. But, the servers I have access to don't have X on them."
oh wait my solution isn't working x.x
It would be nice to get the lead engineer to convince IT to get him a better VM with X and we could both just remote into it for development.
bleurgh this is disgusting
"Hmm, so I look now and pip and setuptools are in the environment even though they weren't before. I think I just need a new laptop."
that's never why :stuck_out_tongue:; is there some magictrick to registering these template tags
i created a template_tags.py and put the tag suggested in but it's not recognised x.x
<@Maida> What templating system are you workign with?
django; I've managed it now; is there a way i can iterate through a query set and see if an object is equal to it in a django template?
hello guys can you help me with my multiple formset which is coming from dynamic data
need a help in implementing code ...can anyone help
Hi guys. It's better to directly ask your question. If someone is available to help he will answer
and it helps to format your code appropriately; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
"I am having some problems on a server where my script doesn't seem to be releasing or reusing memory. Obviously that makes me run out of memory and hit my pagefile. It doesn't matter what script I use. I see the same results. 

It is windows server 2008R2, NETSVCS seems to be what is holding onto the memory.  ; Any one have any ideas on where I can look for resources, or what I can do to find the memory leak. "
what's the script?; I've had similar things happen when using beautiful soup in a loop
there is some profiler available. Some should have memory support
even explicit garbage collection call ever 100 iterations didn't work
`memory_profiler`
"In one, I am creating a batch script  that has a bcp statement and then executing that script.  It is a large archiving process so I am going it in loop to grab date information to plug into the bcp command. I can share the script when. I get to my office. ; But again, it doesn't seem to matter the script. My sys admin is convinced it is the code, and to some degree it is, but the memory is still held even when I kill the python script; I'll look at memory_profiler when I get to the office too"
"held by what? If the script process is dead, it wouldn't show up in any diagnostic, so how do you know it's being held?"
"I can see, in resource manager, that the memory grabbed while the script was running never releases back for use. Ii know what you are saying cause that was my thought. That is why I am hoping to trace the trail to see if I can figure why a service holds to the memory after grabbed in the script"
"so you're saying that even after you kill the process, the memory is never released?"
"Correct, but I can see it being consumed as a script runs (almost all of my scripts have something to do with lots of data). "
are you accessing a database or something ? you sure every connection are cleanly closed ?
"I’m a little confused. Are you running it in .bat script, right?"
"I am accessing a database, I make explicit closes to the connection, before the script ends, on any script where I am using psycopg2 or pyodbc. And on a BCP command  I'm executing a batch script which is a self contained process; @malasjkovv I do a little of both depending on the needs of the original"
"as far as I remember if you kill bat script which runs python process inside of it it will no kill Python process itself, but I may mistake"
"sometimes it's possible to do something which triggers a memory leak elsewhere. For example, I once saw a computer with network drivers that had a memory leak. So if I downloaded a big file, 10 minutes later the computer was unusable"
"The batch script is created with python but it runs BCP; <@Gabriele> interesting, my pet theory has been the network drivers haven't been releasing data, similar to what you are saying. How were you able to trace it?"
"is there any similar issue reported with the server drivers?; you're running 2008R2, correct?"
Yes 2008r2; I don't see the same problem when I run from my computer
<https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/using-poolmon-to-find-a-kernel-mode-memory-leak>
"I don't remember exactly. I think it was a mixture of coincidence and research. We saw that the computer was slow when we had a downloader program running, but a bit of experimentation showed that it didn't get fixed when we closed the program, so we figured it might be related to network activity. From there, I think we started to look specifically at the memory usage of the driver DLL, then searched to see if there was a common problem with it (and there was)"
I'll look at that PoolMon when I get into the office too
Anyone used Shopify Python library?
"i’ve used sysinternals to troubleshoot windows computers/servers. I’ve found horrible .dlls conflicts, rootkits, and all sorts of things. The tools do take a bit to master but you can get a lot of techniques by watching Mark Russinovich’s videos called “Case of the Unexplained”.; <https://www.youtube.com/watch?v=m06YqR09UXw>; if you want to take a closer look at the processes running i would check out process explorer.<https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer>; the sysinternals suite is portable so you won’t need to install anything on your server."
Thanks <@Johana> I have sysinternals. I have been looking for some resources for learning it better. I'll watch that video today
hi
hello
hi and welcome!!
is there a group for pandas?
<#C0JB9ATQV|data_science> should cover thqt
"<https://stackoverflow.com/questions/45849704/django-allauth-replace-labels> 
Can someone with experience in Allauth look at this for me? Greatly appreciated."
You would have better luck with that in <#C0LMFRMB5|django> 
I don't see a group called #zoo
"CondaIOError: Missing write permissions in: /anaconda; Does this simply mean that I need to assign the user permissions to that directory?; Oh, I see now conda has this notion of environments because of the Python3 Python27 debacle.; <https://conda.io/docs/user-guide/tasks/manage-environments.html>; If I’m running a Jupyter notebook, how do I have the notebook operate within the defined userspace environment?"
<@Chester> you need to create a config for it
let me see what the command is.
"if you type `jupyter --config-dir` it will output the dir.

```
jupyter --config-dir
&gt;&gt; /Users/mike/.jupyter
```"
"for making an app modular, and making internal plugins, what are your guys thoughts on dynamically iterating over say a `modules/` directory and calling pre-defined methods to add things like routes and what not. this would be using `importlib.import_module`"
"<@Bruno> bad idea. There are existing plugin loaders, from `pkg_resources`' entrypoints to <https://pypi.python.org/pypi/pluggy>, <http://pluginbase.pocoo.org/> and <http://yapsy.sourceforge.net/> (and lots of others you may find useful)"
<@Collette> :taco: :taco: my thoughts exactly
"ooh nice. yea, good idea. thanks. i didnt know about those. doing it dynamically isnt hard. i already had it working. lol"
hi all; how do i place a space in front of a letter in a string
<@Carlene> which letter?; What if there's more than a single occurrence of such letter?
<@Collette> it was _abc
<@Carlene> can you give more examples?
"What have you tried? A few ways that come to mind quickly, depending on your requirements:

1. Iterate the string appending all characters to a new string, if your letter is found, append a space and then the letter (naive approach)
2. `str.replace` <https://docs.python.org/2/library/string.html#string.replace>
3. `re.sub` <https://docs.python.org/2/library/re.html#re.sub>"
There is a space in front of the a
It doesn't look like you read what I'm asking for.
Thanks guys....beginner to Django....and loving it :blush:
"anyone using pipenv? it doesnt seem very flexible on deciding what base interpreter to use. i have been using pyenv and it doesnt seem compatible with that, at all. How else do you manage multiple python versions if you use pipenv"
"I figured it out, thank you for responding through :slightly_smiling_face:; I wish I could use those, I am using a schools proprietary platform; I had figured it out, now on to a new issue"
<@Bruno> yeah I think there is better way. In the end I don't really like how it works in <@Alesia>. using imporlib.
"When I try to insert bytes data from uuid with pymysql, it returns 'data too long for column' error. How can I fix it?? The column is 16 binary."
"Any recommendations on how to write understandable documentation for
e.g. dicts of dicts?

Let's say we have a function that returns a dict like this:

```
    {
        ""XUC-231"": {
            ""Volvo"": ""A nice Volvo"",
        }
        ""ABD-417"": {
            ""Ford"": ""It doesn't work!"",
        }
    }
```

Using Python's typing module (which we could put as a function
annotation), we could write this as:

```
    def f(...) -&gt; Dict[str, Dict[str, str]]:
```
    
or to make things clearer:

```
    RegistrationNumber = CarBrand = Description = str
    def f(...) -&gt; Dict[RegistrationNumber, Dict[CarBrand, Description]]:
```

Or perhaps something more... GraphQL-y perhaps? Something like

```
{
    reg_number: str {
        car_brand: str = description: str
    }
}
```

This would also give us a recommended variable name for each variable,
which is worthwhile if we want other functions calling this functions
to interact with the dict using the same name."
"<@Merlin> can you try `UUID_TO_BIN`?; `UPDATE tbl SET id = UUID_TO_BIN('6ccd780c-baba-1026-9564-5b8c656024db');`; <@Lanita>
`RegistrationNumber = CarBrand = Description = str`; I feed violated"
<@Suellen> I didn't choose to let str work as both a type annotation and a function :slightly_smiling_face:
Is a docstring on your function not enough?
"yes; but I'm wondering what's the best way to write it; that's most readable; Right now I'm using the first function annotation (with aliases), and the docstring also contains an example of actual data; *without aliases I mean; e.g. no RegistrationNumber... stuff"
I doubt that a good docstring is not enough; you can try showing your function (or only definition) to somebody and let them guess what it does
"Yes, but then how would you write the docstring?; as in, actual ""syntax""; Describing it in words is super verbose and hard to understand; especially with dicts, I've never found a good syntax I like for describing what the key and value represents that isn't overly verbose"
that's one of the hardest things in computer science :slightly_smiling_face:
When I'm sketching out stuff on my own I usually use some type of Hindley–Milner with an Haskell-like syntax for describing these things; but then I convert it to python's typing module annotations (e.g. valid python code/syntax)
"```
""Returns a dictionary of cars, where keys are registration numbers, and values are Car objects. For a Car object definition see: `Car`""
```"
"The problem is that there's no key: value pair datatype in python, only unordered sets of key:value pairs, so things quickly get confusing"
What's confusing about a dict?; Every Python programmer knows what to do with a function that outputs a dictionary.
"Ah, sorry, true, a Car object in this case is `Car = Dict[str, str]`"
```Returns a dictionary of  [registration number] -&gt; `Car` ``` ?
Is there anyone who is familier with HappyBase for Hbase Connectivity
"Design question for you guys.  Not sure what is considered the correct way to do this in python

I have 2 types of output files (s3 and fs).  I have created a class for each.

I have a script which actually creates the data and then writes it to the output files (obviously the s3 and fs classes are abstracing out the differences between the two).

I have been debating if it is better to pass the class of the output file in, or pass a generator function in which can create the output format.  At first was leaning towards the class, but the more I think about it, the more I am leaning towards a generator function.  

Multiple output files are created by the script which is why I can't just pass an actual instance of the object."
"That sounds like a case for a function; `write_to_s3` and `write_to_fs`, specifically"
"well the function wouldn't actually do the writing, just generate the ""file"" to write to; I basically just wrapped up the s3 to act like a file object so I could write and read to it like a normal file"
ah
this way the script doesn't care where it is writing
Then you just need to accept a file-like object to write into.
right kinda.  since the script is generating multiple files I can't just pass in the object
You'll need an object per file
"I was initially thinking to just pass in the class, but started to lean more towards passing in a funciton that returns the object"
Just like you need a regular file object per file
"correct; would it be better to pass in an open_s3_file function or just pass in the s3_file class that responds to open (just like a normal file); both will work, just wondering what is considered more pythonic"
It would be better to pass a `S3File` instance that acts like a file-like object.
"I can't pass the instance since I don't have it yet.   The script will need to create a bunch of them; the script/function is basically reading a bunch of tables from a database, doing some transformations and then writing them out to files; the destination could be an s3 or standard filesystem; the way it is currently written it only writes to the standard filesystem, I am trying to abstract out the destination so that it can write to s3 as well"
"Yeah, pluginbase module seems to do what I want"
"so, lets say you have a section of code with multiple try-catch blocks.  Which do you prefer: breaking them out to handle specific exceptions, or just have a catch-all for everything?"
Anyone here familiar with Odoo?
this particular case has to do with looking in solr(pysolr) and S3(boto)  So I need to handle possible throws of `pysolr.SolrError` as well as `botocore.exceptions.ClientError`
"right now, I'm doing the former"
<@Gustavo> I don't think you're trying to understand what I'm trying to say. Can you look from another point of view?
"Hello everyone - I'm looking for direction on a work project. I'll put a sample of the information I can get below.  I work in a factory making car parts. There are two plants, about 10 departments in each plant. About 650 machines total. I would like to have something set up that I can see machine downtime by week/month/year, by department/plant/machine. I would like to see the count of breakdown occurrences, and various other information. (I'd love to explain if someone has time to talk to me about it). Anyway, i can export our reports to csv and get the information from there..But not sure what to do with it. Should I be looking into classes, or a database, etc."
Are they handled the same or different? 
"Report number | Date | Machine Number | Downtime | Description; There are 10,000 reports for this year alone. I made a massive spreadsheet to break all of this down, but it's soooooo slow; Not sure what direction to go with this"
"If you're familiar with databases, or have someone who is familiar with them, then why not - put stuff there. You basically get aggregations for free, and aggregations are a foundation for all reports.; On the other hand, `pandas` can load CSV data and make reports on the fly as well. No need for a database if it's not a whole lot of data ( &lt;10 GB)"
"differently, primarily by setting different variable values"
"It'll all be text, so small... I don't have any familiarity with databases, so I'll check pandas out"
which are then later set to a django model field
Thank you very much
that was the primary reason I split up into multiple try-except blocks
"Yeah, if anything is different I'd have the two separate handlers"
"<@Blanche>, if the project is very time-sensitive, I agree with <@Suellen> ‘s suggestion, but if you’re going to be doing this sort of thing regularly, it might be good to start learning databases by building out small jobs to extract and store your data."
"It's not urgent, just trying to impress people :slightly_smiling_face:  Any specific place to start with a database?"
"I learned starting with mysql using <https://www.phpmyadmin.net/>, but you should also check out sqlite."
&gt; mysql; :rage::rage::rage:
I inherited the DB from a previous dev!
mysql is to <@Suellen> as mongo is to <@Patty>
Postgres for lyfe
it's funny that postgres is more efficient with non-relational data than mongodb...; a cruel joke almost
"The answer to most questions which contain the word ""data"" in them is ""postgres"""
"how much less efficient is it to query records where a field is in a json type, compared to say a standard varchar field (assuming both are indexed)"
Not that I can answer the Q
but it will depend on JSON vs JSONB right?
not that much I think
probably. i havent researched much of the difference between json/jsonb in postgres yet.
"`jsonb data is stored in a decomposed binary format that makes it slightly slower to input due to added conversion overhead, but significantly faster to process, since no reparsing is needed. jsonb also supports indexing, which can be a significant advantage.`; from the docs"
yea. but what if theres 10k records. or 100k
with indexing it could make a huge difference
ah sounds like i would prefer jsonb then.
100k is not very big in the db world <@Bruno>; xD
<https://blog.2ndquadrant.com/jsonb-type-performance-postgresql-9-4/>
oh i know. but if im already filtering by user...; but i suppose there could be 1m after a lot of time. its for personal budgeting. so the the largest table would be all the bank transactions that come in.
which could get big very quickly
"yea.; granted, it will be a while before i get there and can come up with a plan later on. but yea.; so, this is what the transaction data coming in would look like <https://plaid.com/docs/api/#transactions>"
couldn’t `EXPLAIN` help you here ?
"only post-factum, when you already have data and indexes"
yea.
because pg can change a strategy for a query depending on quite a few factors
and i plan on doing that. but im no DBA. so still asking for input and advice.
we will help you :heart:
"im trying to get that transactions endpoint working by this evening.; chances are, i will probably be ok storing it in jsonb and just taking a few fields in the json and duping them as normal fields to make it easier to do some math operations."
"you should use the first one everywhere, even in tests; i.e. absolute import; what's your directory layout? are tests outside your package?"
the tests are in a directory along side the ClassUnderTest.py
"<@Signe> i may use waspy. its simple enough. also, when i ran the docker container with composer, it had an error related to rabbitmq"
bleh
wrong channel anyways... <#C07G5276F|async>
"ProjectName/ is root folder and contains an __init__.py, TextTools.py and ClassUnderTest.py, and a test/ folder with my unit tests; this is my first time creating my own modules so I maybe be doing something wrong, it's been working fine in my notebooks but ModuleNotFoundError's on ProjectName in tests"
"so, generally the easiest layout is like this:; ```
tacticsiege
├── ProjectName
│   ├── stuff.py
│   └── textutils.py
└── tests
    ├── test_stuff.py
    └── test_textutils.py

2 directories, 4 files
```; (forgot `__init__.py`, but you get an idea)"
"ok got it, my tests are too deep"
this way you only ever use `from ProjectName.x import y`
thanks <@Suellen> that did the trick
"`__init__.py` goes inside of `ProjectName`, right? What is `tactisiege` in your example <@Suellen> ?"
author_name?
"root project name, but yeah; `ProjectName` is a module so to speak"
__init__.py has to be in a folder in order for the python interpreter to be able to see into that dir and load files from it as modules
that makes sense. thx
"fwiw, I was also able to leave tests where they were (under ProjectName/) by adding .. to my env's search path"
that's... not great
oh yea? I was afraid you'd say that cause I like it better :-X
"changing system path isn't really a nice solution, only temporarily"
"if I understand it correctly, I only changed it in my virtualenv that the unit tests run in not system level, still not the greatest?"
what if you distribute this package to users?
I have to cd into the tacticsiege/ directory in my notebooks before I import but that's fine
you can't really expect them to modify their paths
"yes, understood, bummer... had a bad smell to it but saves me a project in my larger solution file"
"Can someone please tell me why I am getting these results?
```
# prints: hey 🙂
print email.body

# asserts true
self.assertIn(u'hey \U0001f642', email.body)

# outputs: u""hey \U0001f642""
(pdb) email.body
```"
python2 + unicode :slightly_smiling_face:
"why is it printing out the unicode character successfully in my development console fine, but shows up as some other encoding in my test assertion and in my pdb console?"
"yeah, it's a nightmare."
"```
python 1.py
hey 🙂
--Return--
&gt; /home/leovp/1.py(3)&lt;module&gt;()-&gt;None
-&gt; import pdb; pdb.set_trace()
(Pdb) x
'hey 🙂'
```"
"you're doing this?
```
(Pdb) 'hey 🙂'
'hey \xf0\x9f\x99\x82'
(Pdb) 
```; and not getting what i'm getting?"
In Python 3 I get a smiley; In Python 2 exactly what you get
i'm trying to work out a bug where that smiley shows up as 4 question marks in an email. which is probably because it gets translated to those four hex values; any pointers?
python2 only?
yep
"you need to make sure you treat text as unicode when you get it from user, for example, but as soon as you need to send it, it should be properly encoded to bytes; emails are bytes, AFAIK; ```
&gt;&gt;&gt; email_body = 'hey 🙂'
&gt;&gt;&gt; email_body
'hey \xf0\x9f\x99\x82'
&gt;&gt;&gt; # but:
&gt;&gt;&gt; email_body = unicode('hey 🙂', encoding='utf8')
&gt;&gt;&gt; email_body
u'hey \U0001f642'
&gt;&gt;&gt; print(email_body)
hey 🙂
&gt;&gt;&gt;
```"
"this works:
```
(Pdb) print 'hey 🙂'
hey 🙂
```; there is no such thing as converting a string to bytes in python2.7 no?"
<@Johana> I see. This is an out of the box VM that runs Jupyter for me.
I’m kind of tempted to update conda as root?
"<@Ashly> there is no such thing, correct, and that's why all the mess; strings are bytes and bytes are strings by default; the only sane way is convert them as soon as they cross a boundary in your system; as for ""this works"", here let me show you an example; ```
&gt;&gt;&gt; print 'hey 🙂'
hey 🙂
&gt;&gt;&gt; print 'hey 🙂'[-1]
�
&gt;&gt;&gt; print 'hey 🙂'[-2]
�
&gt;&gt;&gt; print 'hey 🙂'[-3]
�
&gt;&gt;&gt; print 'hey 🙂'[-4]
�
&gt;&gt;&gt; # four ""?"" :)
```; ```
&gt;&gt;&gt; proper = unicode('hey 🙂', encoding='utf8')
&gt;&gt;&gt; print proper
hey 🙂
&gt;&gt;&gt; print proper[-1]
🙂
&gt;&gt;&gt; print proper[-2]
 
&gt;&gt;&gt; print proper[-3]
y
&gt;&gt;&gt; print proper[-4]
e
&gt;&gt;&gt; print proper[-5]
h
&gt;&gt;&gt;
```"
ok but encoding it in unicode won't work as `email.body` is already unicode. i get `TypeError: decoding Unicode is not supported`
"oh :smile:; so, how do you send it?; the last steps.."
well there are two problems no? it should not show up like `u'hey \U0001f642'` in my test assertion right?
when i fetch it from the db it shows up like that too
"no, it's OK; ```
&gt;&gt;&gt; s
u'hey \U0001f642'
&gt;&gt;&gt; print(s)
hey 🙂
&gt;&gt;&gt; 
```; repr shows a more readable representation; ok, then the problem happens when email is converted to a `str` (bytes), just before being sent; maybe headers aren't set, I'm not really familiar with email protocols"
"cool, so then it's the email that's the problem then; email headers:
```
Content-Type: multipart/alternative; boundary=""f403045f8fb4acce3805573ba064""

--f403045f8fb4acce3805573ba064
Content-Type: text/plain; charset=""UTF-8""
Content-Transfer-Encoding: quoted-printable
```; email sent out as:
```
    email = EmailMultiAlternatives(
        subject,
        text_body,
        'Foo &lt;support@foo.com&gt;',
        to=['%s &lt;%s&gt;' % (to_user.name, to_user.email)],
        cc=[cc_emails] if cc_emails else None,
        bcc=['&lt;%s&gt;' % settings.INTERNAL_DEV_EMAIL]
    )
    email.attach_alternative(html_body, ""text/html"")
    email.send()
```; using django core mail"
is it always broken like `????`; ?
yep
"I'm lost; not really familiar with Django either, so I don't know.. but it should handle unicode fine, being a top framework"
<@Suellen> yeah me too. thanks for helping out though. at least now i know why it shows up like `hey \U0001f642` in the test
hello guys; I got a question about using the requests python module
"<@Hyman> best to just ask the question, someone will likely be along to help :)"
"If I send a POST request using this module let us say en encoded form for a login, when the server will answer, where are we going to have the response"
where?
"it depends on where you make the request. in postman it will show the response. if in the terminal, it will spit out the response when done (httpie is great for this). in a python script, there should be some response object you can get the results from. how you access that will depend on what library you are using to make the request. In order for people know better answer, it helps to have a sample of what you are doing. <@Hyman>"
"<@Hyman> on the response object. It will be as `.json()` if the response is a Json one, otherwise I think `.data()` both are covered in the docs ; <http://docs.python-requests.org/en/master/user/quickstart/#response-content>"
":waving_white_flag: I'm confused about something

This app is creating an object which calls another class' _init_ and then later modifies the variables within based on a config file. When a function from that particular class is called, it uses the init values, not the ones assigned outside the class. 

Clearly this is some kind of scoping issue but understand it well enough to explain it to my colleague. :confused:"
<@Dell> can you show us the code?
"technically no but I kind of boiled it down to the essence here; so where this json is loading and setting it, that works - but when _run_ is called those assignments don't exist; it just goes back to None"
"That is really bad code, but it should work as you showed: <https://ideone.com/4K0N7E>"
ahhh yeah that's much more straightforward
"AFAIK when you edit a message with taco, the tacobot can't notice that"
noooo; <@Collette> :taco:
Thanks :slightly_smiling_face:
that's better; _deletes wrong one_
Finally I understand how the taco bot works...
hahaha :stars: the more you know...
<@Lenny> help
"&gt; `settings: dm off`: turns off notifications from me
The best command ever."
<@Collette> but how will you see a new taco-related GIF?
"Anyone knows how to `pip install` large C-based packages *in parallel* such as cython, pandas, scipy?"
Multiple terminals?; Not that I;ve ever tried
numpy provides `NPY_NUM_BUILD_JOBS` environment variable but could not find similar things in others
why? does it really take so long you can't wait?
"because i'm installing them on Alpine linux,; pypa's shiny ""manylinux"" wheels does not work; so it builds everything from ground up; I saw there are discussions on adding ""musllinux"" tag but it seems to be taking some time to get agreement"
<@Suellen> unfortunately gifs still ignore that setting
I tried `MAKEFLAGS` `MAKEOPTS` environment variables but pip seems to just call the C compiler directly without using Makefile
I'll like to use robobrowser to sumit a form but I don't know where the response goess about
"<@Collette> why unfortunately? :cry:; y u no like tacobot; you know, when the robot / AI apocalypse starts.. I know I'm gonna be their friend"
"hello guys. sorry I am new here and even python development. I just want to know if anyone know how to use like a Rubocop to have a clean code and standard, and to use the Unit testing"
<@Leigh> wheels don't work because Alpine uses a very peculiar C library
"<@Assunta> rubocop is for ruby, you’ll want the python equivalent which will be something like flake8; or maybe someone has something for recent to suggest, it’s been a while since I’ve set up a python project"
ah I can use flake8. I will look on it <@Junita>; thanks; yes please. I need help on how to ensure to align my team in python development; because I am preparing all the process materials we need
<@Junita> isn't the flavor of the month pylint? Is there any significant difference between flake8 and pylint?
"<@Suellen> yeah, i already know -- i'm asking how to build c-based packages faster; (even not on alpine linux)"
<@Ramona> I don't thing there is. But I'm not a big user of them. I usually just put flake8 with a little bit of options and that's all
"i can bear with that i need to build things from ground up, but i want to make the build processes fast"
wheel are not available ?
not on alpine; make a docker image; accept the slow build time; deploy to docker hub
<@Ramona> quite possible.  once I have that kinda stuff going on a project it tends to stay that way
how about unit testing any idea?
so it’s been a while since I’ve looked into this stuff.
and use that image
hmm. could you built your own wheel and upload on your own devpi or something ?
hmm
but not sure that easier to do
i'm already using multi-staged builds to make it fast
<@Assunta> standard library unittest module or pytest
"then, another way of question: how to determine all the file list that is created by the build process of a wheel?"
"yeah I think pytest is the common thing these days.  there again I’m out of date, using nose still"
yeah pytest is the common one
thanks <@Ciera>; I will look on it. since I am not aware in python. I used in Ruby Rspec and TDD. using codeship; but will look fully on it; thanks guys for the details.
"i'm already doing like this:
```
FROM python:3.6-alpine as python-source
RUN cd /; tar czpf python.tar.gz /usr/local/

FROM myimage:latest
COPY --from=python-source /python.tar.gz /
RUN cd /; tar xzpf python.tar.gz
```"
pytest might have somehting for TDD (but not sure I don't use it)
"maybe if i can do the same for cython/scipy/pandas/..., it will be great"
"<@Ciera> ok, but is there anyway to have a continuous development that includes unit testing? I found this book: <http://www.obeythetestinggoat.com/book/praise.harry.html> using django; but I am not sure If I am on the right track"
that depend on your CI
yeah that’s more of a process question than a tools question
you might also want to look into `tox`; `Gives boto a facelift` Nice one :smile:
heh
"so, would it be sufficient to zip &amp; copy the package directory (e.g., `/usr/local/lib/python3.6/site-packages/numpy`), with some tweaks on pkg-info files"
"<@Leigh> <https://github.com/cython/cython/blob/7af5d3e92a59906927a566e5dc4a99eeaca49b96/.travis.yml>
It seems that CFLAGS can be passed easily for Cython build; But I couldn't find anything standard"
CFLAGS are for individual c compiler invocations
"yes, of course; I wonder if it's possible to pass MAKEOPTS this way"
setuptools seems not to use makefile at all
"there's a `--global-option` and `--install-option` for pip, but these options are passed to `setup.py` and it must deal with those -- again not standard"
"tried, but only some packages have their own specific options via that interface; there seems to be no general way; :disappointed:"
yeah :disappointed:
hm; i think i should go for separate image builds (either using multi-staged or different images) to build wheels for alpine linux
"haha, you can override `make` to point to an alias `make -j4`; but that's crazy; but, I mean... if it works.."
"<@Leigh> <https://github.com/mzdaniel/alpinewheels>; its a little out of date, but perhaps you can use the context within to make progress?"
oh... thanks for the reference!
<@Leigh> turns out `cython` doesn't use `make` at all
"Hello guys I heart robobrowser could be an awesome tool for sending forms to web pages, but while I've been looking through the documentation, I didn't find how the responses to these request"
"Hey guys. A quick git question from a beginner. 
I cloned my bitbucket repo to my 2nd machine, did some changes that I wasn't happy with. Now I wanna discard those changes and clone the master branch and work on that. 
Can I just remove the whole project folder on my 2nd machine (django project, venv and git repo and all) and just clone the master repo, set up a new venv and start again? Or is it some other recommended way of doing it?; (Oh yeah, I didn't push the changes, although they are committed to my local repo on my 2nd machine)"
`git reset --hard origin/master` is one way
"Thank you <@Carri> , Just what I was looking for."
"Cool, happy to help :thumbsup_all:"
just be careful with that command :smile:
<https://cdn.meme.am/instances/250x250/60243358/be-vewy-vewy-careful.jpg>
Hi guys anyone have experience with connecting Python with Elasticsearch?
what problem are you having
yeah I’ve done a decent bit with it
"same, just with solr; but ES/Solr are pretty similar in use cases"
basically i want for example to query ES data index via Python/Jupyter. Is elasticsearch-py worth trying?
<@Herta> you could actually try it instead of asking here if you should try it. I bet you'd spend a similar amount of time :slightly_smiling_face:
"<@Collette> i have already trying code in Jupyter, tried before posted question, but i probably got stuck with installing elasticsearch, i need hint about that"
`docker run -d -p 9200:9200 -p 9300:9300 elasticsearch:alpine`; That
"Trying to figure out what's going on with this code with kivy.
This code works and displays as expected.

If, however, I change the Grid __init__ to use RVSingle for self.devices_list I get an exception, ScrollView accept only one widget.

Is there a better way to have one of the RecycleViews be multiselect and the other single select?
```
Builder.load_string('''
&lt;MultiSelectableLabel&gt;:
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
&lt;RV&gt;:
    viewclass: 'MultiSelectableLabel'
    SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: True
        touch_multiselect: True''')

Builder.load_string('''
&lt;SingleSelectableLabel&gt;:
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
&lt;RVSingle&gt;:
    viewclass: 'SingleSelectableLabel'
    SelectableRecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False
''')
```
```
class RV(RecycleView):
    def __init__(self, choices=({'text': ''},), **kwargs):
        super().__init__(**kwargs)
        self.data = choices


class RVSingle(RV):
    def __init__(self, choices=({'text': ''},), **kwargs):
        super().__init__(**kwargs)
        self.data = choices
```
```
class Grid(GridLayout):
    def __init__(self, *args, **kwargs):
        super().__init__()
        print(kwargs)
        first_list = kwargs.pop('first_list', ({'text': ''}, ))
        rv1_callback = kwargs.pop('rv1_callback', lambda x: [{'text': ''}, ])
        second_list = kwargs.pop('second_list', ({'text': ''},))
        rv2_callback = kwargs.pop('rv1_callback', lambda x: [{'text': ''}, ])
        print(first_list)
        self.cols = 3
        self.devices_list = RV(choices=first_list)
        self.checks_list = RV(choices=second_list)
        self.creds = Credentials()

        self.add_widget(self.devices_list)
        self.add_widget(self.checks_list)
        self.add_widget(self.creds)
```; Actually, I got it working. The inheritance between RVSingle and RV caused the issue, I changed RVSingle to inherit from RecycleView instead."
"Hi All, new to python, have pulled the following out of a dict, wanting to extract the Resource value.  Thought it was a list but echo'ing list[0] echo's the full line and list[1] is 'out of range':; any ideas on the best way to do this would be greatly appreciated!"
a[0][‘Resource’]
ahhhh :slightly_smiling_face:
do you always have one element there?
that works cheers! I currently only have one element there however i plan to append values; so there will be multiple values in future
then do iterations over it
"ok cool; saved me a lot of time, have a good weekend! :smile:"
you too
"What would you guys say is the best way to distribute your Python code to other Windows machines (that don't have Python installed)? I just used `pyinstaller` and that worked great but the output was a little sloppy (a bunch of files, the .exe hidden in the dist folder). It's not bad but I'm wondering if there's a cleaner option for the end user? Thanks!"
"`pyinstaller --onefile`; or is it `--one-file`...; anyways, it will be one single executable"
<@Dominick> how'd you invoke it? You can do `--onefile` and just share the one .exe
<@Suellen> <@Beula> Ahhhh didn't know about that - I should probably read the documentation first...thanks guys
"Hey there, I'm looking to test some custom commands and wondering if there's a way to reload a command once I'm already inside shell? ie:

```
&gt; python manage.py shell
&gt; from django.core import management
&gt; management.call_command('get_embeds')
&gt; # make some changes to file
&gt; # reload command
&gt; management.call_command('get_embeds')
```
We're running on a vagrant VM so running something such as `python manage.py get_embeds` takes a bit of time to load each time I want to test the script. 

thanks!"
IPython has `%autoreload N` magic; <https://ipython.org/ipython-doc/3/config/extensions/autoreload.html>; I highly recommend using IPython as a manage.py shell
yeah i've been seeing a lot of reference to it; don't think our VM has it but i'll look in to getting it added; there's no good way to do it with vanilla? <@Suellen>
"```
&gt;&gt;&gt; from importlib import reload
&gt;&gt;&gt; import some_module
&gt;&gt;&gt; some_module.x
5
&gt;&gt;&gt; reload(some_module)
&lt;module 'some_module' from '/home/leovp/some_module.py'&gt;
&gt;&gt;&gt; some_module.x
1337
&gt;&gt;&gt;
```"
k i saw that as well; i tried to directly `import` my command but was getting an error; ie `import get_embeds`
be aware that reload may produce some weird side effect :slightly_smiling_face:
"is there a difference between:
`import mod` and 
`from mod import *`?"
"I was going to try to explain it, but I think this SO thread will do better than me:; This thread is actually more helpful; <https://stackoverflow.com/a/12270980/3046539>"
"Perfect, that's exactly what I was looking for. Thanks <@Winnifred> , I tried googling it but google got confused with other import statements. so thanks!"
how do I install conda packages to conda_root; I guess it comes down to the fact that the user doesn’t have permissions on /anaconda
*ahem* ... Eclipse &gt; IntelliJ
<@Bruno> is right
"Hey I am using gunicorn to run my flask application, but I am beginning to have an error for some reason I am unsure about. The error is `Failed to find application: myapp.app` but I can see app file in the myapp dir and it was working until recently; Oh I am also using docker so the issue isn't coming from something I have installed"
<@Vita> what's your commandline; i.e. how do you launch gunicorn
sec
and you totally have `myapp/app.py` with `def create_app()` inside?
"yep! It was working last time I tried, but I finally fixed other errors and now it won't work (this has been going on for about a month)"
"btw, I suggest a different approach, because strangely this method doesn't work for me; what I did was:
1. created `wsgi.py` in project root; ```
from projectname.app import create_app

app = create_app() # pass something in, I dunno

if __name__ == '__main__':
    app.run()
```; and then `gunicorn wsgi:app` works alright"
"hmmm let me try that to see if it works; <@Suellen> sweet! That did it! I am getting another error now, but I should be able to fix it!; <@Suellen> :taco:"
cool
"Hey all, strictly a docker question, why would my site be up and running but give me a 404 when i visit a page I know exists? Last time this happened I had the wrong server name which isn't the case anymore; oh it is a flask app"
not docker related; if your server works and you can connect to it -- docker already did its part
<@Suellen> ok thanks
did you find the culprit?
"Nope, still looking for the issue causer"
other pages are accessible?
"Nope, but I think I may have found the culprit...i am not importing my views into wsgi, gonna see if that fixes it; alright that wasnt the issue (i am using blueprints)"
"`create_app()` should take care of all that; your app should also work the same when using Flask debug server, or gunicorn, or any combination; otherwise something isn't right"
Hmmm not sure where i broke it at though....I'll continue to look and let ya know when I have found something
Does it matter whether I `CREATE EXTENSION postgis;` before or after creating the rest of the tables in my database?
"if you haven't created an extension, how would you use types from it in your table columns?"
"<@Suellen> uhhh.....magic, of course.; `return User_Report.query.filter(func.ST_DWithin(geom::geography, ST_SetSRID(ST_MakePoint(lon, lat), 4326)::geography, 50000))`
Why does this keep giving me a syntax error?; Looks perfectly fine to me; Oh wait, is `::geography` an SQL and not a Python thing?"
it is :slightly_smiling_face:; probably even postgres specific
"Ah, ok, my bad; `cast(geom, Geography)` is supposedly the way to do it but it doesn't work because `name 'cast' is not defined` but I don't know why and there are literally no relevant results when I search. :confused:; I must be missing something but I don't know what"
`func.cast(...)`; I'm not 100% certain
You need to work with sql and not python for that 
doesn't GeoAlchemy provide helpers?
"I'm on mobile so don't have the links handy, but postgis has exactly the same queries you're looking for; If it's anything like geodjango, it implements some but not the entire feature set"
"<@Suellen> Of course! I was just uhhh...testing your knowledge! :stuck_out_tongue_winking_eye:; <@Suellen> :taco:; <@Meg> `cast(geom, Geography)` seems to be the way to do it with Geoalchemy"
"Sweet!; There's certainly a learning curve to figure what's been implemented in the orm and what hasn't.; For example, geodjango doesn't have any clustering built into it, but you can do it with postgis once you install the nearest neighbor extension "
Definitely. I figured out how to do what I wanted to do using SQL in the command line but didn't realize it'd be a bit different in Python.
It will be; Because geoalchemy has its own interface to use; So you'll have to translate from a working sql call to how geoalchemy does it
<@Suellen> the issue was the wrong server name in my instance folder
"Hi,
I need to write a python script. On running it will automatically updates and upgrades the ubuntu."
"Hi,
Anyone tried out the Magensa service for credit card decryption? I am trying to use them for a POS. I am using the stripe payment gateway for credit card payment. I just want to get the decrypted card number using the Magensa service. But their doc shows integration with payment gateway. I want to make payment from my server. Any help would be appreciated."
<@Delisa> there is tool that are more adequate for this. take a look at ansible (written in python)
"<@Ciera> 
Actually I want to learn python coding. 
So I am trying to write code and learn it."
"Hello all! I divide two integers i.e. 9/10 and expect to get 0 as a  result, but instead got 1. Same test in console produce 0. Why isthat ?; ```
 def pop(self):
        stackidx = self.currentindex / self.maxstack #index of the stack
        idx = self.currentindex % self.maxstack #index of the item within the stack
        self.currentindex -= 1
        item = self.stacks[stackidx].pop()
        if idx == 0:
            self.stacks.pop()
        return item
```"
"Python 2:
```
&gt;&gt;&gt; 9 / 10
0
```
Python 3:
```
&gt;&gt;&gt; 9 / 10
0.9
```
Neither is `1`."
here is screenshot from debug session:
"If you expect zero in this case, you need to use ""integer division"".
Example:
```
&gt;&gt;&gt; 9 // 10
0
```"
can someone explain how this is possible
`%` is not `/`; `%` is the modulo
<@Ciera> look at the operation above that
oh sorry my bad
"ignore idx,"
<@Floy> you're looking at `self.currentindex` _after_ it was decreased by 1
"ops, true, this is the reason than... Thanks!"
So it was `10 / 10` at the time
"yeap, just confirmed that, need another pair of eyes, too tired.; Thanks a lot!"
Anyone ever used this add on for wagtail translations? <http://wagtailtrans.readthedocs.io/>
"Has anyone knowledge with Rpi, and if it possible to activate gpios with client pc keyboard( headless) ? Like for instance control a rc car with (w,a,s,d)"
I don't see why not <@Shirl> - as long as they have you program focused it can handle keys however you want
Is there like own library for keyboard keys?
"IIRC there are a lot of options, you can use PyGame or just read from `sys.stdin` and check the value"
"If you're doing an RC car, make sure to capture both presses and releases otherwise each direction will stay stuck on :)"
<https://stackoverflow.com/questions/24352768/python-key-press-and-key-release-listener>
Thanks <@Beula>  and <@Patty>  :)
"Hi, I am have been working with MSBI and SQL.. I want to learn python , Can anyone recommend me sites/books"
"If you have a pluralsight subscription, the Python series by Robert Smallshire and Austin Bingham is one of the best I’ve seen.  Worth a month’s fee actually just to consume those three; Other than that, the Exercism python track is good for reinforcing what you’ve learned <http://www.exercism.io/languages/python/about>"
"Pymongo issue, `X.X.X.X:27017: [WinError 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted` I keep getting this error, any idea?"
looks liky pymongo doesn’t care about the `SO_REUSEADDR` option; have you tried changing ports?
"Oh, what's that?; I have not tried changing ports, but will it solve the issue?"
It allows reuse of an address/port before waiting for the socket `TIME_WAIT`
"Yeah, I saw loads of ports going to `TIME_WAIT`"
it means you open multiple time the same socket
"It should, alternatively you can kill and restart whatever is using that port"
I have multiple python projects using the same db
"Are you closing the mongo client on shutdown of your app, <@Shelly> ?"
"I close client everytime a request is processed, but anyways, Pymongo doc says we don't have to close the connection"
well it appears to be keeping a connection open on that socket
"Yeah, looks like it, any suggestions on workarounds?"
dont use mongo; but in all seriousness
haha
"(couldnt resist, i abhor mongo); i’d look into reducing the `TIME_WAIT` on sockets in windows (not sure where that would be); I’d also take a look at what processes have that port open when the error occurs; the latter will show you if something is holding that connection open"
"Which process shows this error? I usually only see it when opening a listening socket, and I'd think you don't need to do that often"
It could also be TCP/IP port exhaustion on Windows: <https://msdn.microsoft.com/en-us/library/aa560610(v=bts.20).aspx>; since it’s Windows and Mongo though I’ve about hit the limit of my knowledge
"Possibly. Easy to check via netstat - if there are 3000 TIME_WAIT entries, it would be a contender :wink:"
"I need to check this out, thanks"
"No problem, and like <@Gabriele> said, the `netstat` command is your friend here"
"Anyways, I will check the issue. Thanks a lot for your time. <@Patty> <@Ciera> <@Gabriele> :taco: :taco:; Yeah, I tried checking that out, couldn't understand the things. Need to improve my knowledge on the same :neutral_face:"
"It’s a good thing to poke around with and get familiar with, so getting around this issue will be a good learning experience :slightly_smiling_face:"
<@Treva> we like these learning resources: <https://github.com/pyslackers/learning-resources/blob/master/topics/essentials.md>; i’ve heard great things about automate the boring things.
<@Johana> this is of great help. :slightly_smiling_face: Thanks a lot.
np!
"hey, I wrote my first multi-processing worker today after reading up this great tutorial : <http://chriskiehl.com/article/parallelism-in-one-line/|chriskiehl.com/article/parallelism-in-one-line/>. However, it runs infinitely for some reason.; ``` File ""test_parallel.py"", line 123, in &lt;module&gt;
    pool.map(worker, list_of_images)
  File ""/usr/local/lib/python3.6/multiprocessing/pool.py"", line 266, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File ""/usr/local/lib/python3.6/multiprocessing/pool.py"", line 638, in get
    self.wait(timeout)
  File ""/usr/local/lib/python3.6/multiprocessing/pool.py"", line 635, in wait
    self._event.wait(timeout)
  File ""/usr/local/lib/python3.6/threading.py"", line 551, in wait
    signaled = self._cond.wait(timeout)
  File ""/usr/local/lib/python3.6/threading.py"", line 295, in wait
    waiter.acquire()
KeyboardInterrupt```; How should I got about debugging this?"
"put some print statements in `worker` :slightly_smiling_face:; wait, no..."
<@Tameika> can you share the code that you are running?
"actually print statements will work; I know it's a stupid way, but it takes literally 10 seconds; First verify that your function works standalone, without multiprocessing."
well is `worker` a function?
"yes, that's the first step indeed; yes <@Patty> it is a function"
well without further context this is a bit tricky. sharing your code helps a lot
"sure,  i will follow <@Suellen>'s advice, if it fails -- i will get back to you"
hey.. can any one help me with AngularJS + Cloud Endpoints??
"<@Conrad> - this is a Python group, but you can try out <#C45V5EJ15|javascript> for angular help"
<@Beula> we should create jslackers and then conquer the world
I have zero desire to deal with that churn :joy:; `sirbot.js`; I think we have something though
"Trying to figure out kivy, and it is fun.

I'm using a RecycleView, following the instructions found here: <https://kivy.org/docs/api-kivy.uix.recycleview.html>

Unfortunately, I don't see a way to get selected items. Rather, I can get a all items, but nothing that says they are selected. There is the callback for when an item is selected, and I could populate my own dictionary as they are selected, but it would be preferable to access a property that returns just the selected. Anyone know how to do this?"
but maybe that way we could have a nice looking website :troll: :smile: :smile:
hahaha; It's pretty thanks to Mike's fiverr
I wis I had the time to take a deeper look at kivy
"It's interesting. Lots and lots of objects. But, I got tired of trying to figure out tkinter's issues, so thought Kivy would be more interesting."
Kivy seems really interesting for rpi based displays and stuff
I played a bit with tkinter and Qt when I was starting python; it was interesting; but yeah now I stick to cli :smile:
I did wxpython - it was the best one I could find to do menubar style widgets
"I do almost all of my programming for cli, but for this program I think a gui is appropriate for my user base. It would be a rather complex cli interface if I were to try it there.; ```    def apply_selection(self, rv, index, is_selected):
        """""" Respond to the selection of items in the view. """"""
        self.selected = is_selected
        if is_selected:
            print(""selection changed to {0}"".format(rv.data[index]))
        else:
            print(""selection removed for {0}"".format(rv.data[index]))```

This is the example they give, and I could use that to build a dictionary of what is selected. Given that what is selected is on the screen at all times though, I would expect that would be an option from the start. I don't see anything relevant in dir(object) though."
it seems to be triggered by an event
Right.
so I guess everytime you select or unselect something this function got triggered; or maybe you need to bind it somehow to a specific check box
"Exactly.
```selection removed for {'text': 'DSL'}
selection changed to {'text': 'EVC-Maps Statuses'}```"
oh ok I just re-read your initial question. my bad.; well I don't know :smile:
I'm thinking I'll add a callback to it that updates a dictionary in the rv object then just retrieve from there. Would think that would be something they would have included though.
myabe there is something to get all checkbox and then you can just find the one you want in those ? selected or not
"It's actually a listbox type of interface.; But, I think I'll just add a callback into the RV object and maintain a dictionary there.; As you can see from the screenshot, user interface design is not my specialty."
:smile: it's better than mine
"One nice thing though, that box in the bottom right formats using restructured text. So, pretty formatting that should be easy."
ooh nice; be carefull some here would prefer markdown :smile: :troll:
:rage5:
"lol, I am more comfortable with markdown, but I saw the rst box, don't know if they have a md text formatter. I can learn rst for this though."
"RST is pretty nice, it's a lot more flexible than MD as far as output formats - that's a big reason it is a thing (afaik)"
Hey guys I want to contribute to open source. Can anyone point me right direction to start
"<#C2FMLUBEU|community_projects>, we have 2 projects that are open source with lots of issues of all sorts of difficulty."
"How much python do you know? A lot of projects always want help with:

1. Documentation
2. Testing
3. Features

We have a few, as <@Johana> mentioned, otherwise there is always any library you like/use that can probably use help"
Is anybody here familiar with lowess/loess surface fitting?
"In this example, should the function always be like `_()`?
Can it return a named function instead? If so, how would I do that?

```
def raise_to_input(exponent):
    # '_' is the function that's being returned, which is then assigned to a name.
    def _(base):
        return base ** exponent
    return _
```

```
print(raise_to_input(3))
# &lt;function raise_to_input.&lt;locals&gt;._ at 0x10a77a730&gt;
input_base_new_function = raise_to_input(3)
print(type(input_base_new_function))
# &lt;class 'function'&gt;
print(input_base_new_function(10))
# 1000 = 10 ** 3
print(input_base_new_function(2))
# 8 = 2 ** 3
```"
<@Bonita> - did you try it? You can name the function (but really it gets re-assigned when you do `foo = raise_to_input(x)`); What are you really wanting to accomplish?
"<@Beula> I did attempt it, but received an error. If the work (assignment) gets done in that step, than it’s necessary to leave it in. I was just looking for a way to remove that step. I don’t have a direct application for it at the moment. I’m just learning the concept. Thanks for the help.; <@Beula> Like, maybe, adding the name of the returned (newly minted) function as an input parameter, for instance."
"oh, you want a dynamic ""name"" `func.__name__`?; ```
&gt;&gt;&gt; def foobar():
...   pass
...
&gt;&gt;&gt; foobar.__name__
'foobar'
&gt;&gt;&gt; foobar.__name__ = 'baz'
&gt;&gt;&gt; foobar
&lt;function foobar at 0x102d29f28&gt;
&gt;&gt;&gt; foobar.__name__
'baz'
```"
"<@Beula> I think so, but am unclear on the terminology. I’m experimenting with it to try to figure-out how that works."
"To answer the original question, you can return any function object:

```
def foo():
    def baz(v):
        print('value:', v)
    return baz
```

If that is what you are going for"
"<@Beula> ```def foo():
    def baz(v):
        z = v + 7
        print('value:', z)
    return baz

print(foo())
# &lt;function foo.&lt;locals&gt;.baz at 0x1084b9840&gt;
print(baz(3))``` It raises a NameError over `baz`. While, ```baz = foo()
print(baz(5))``` provides `value: 12`. Am I understanding correctly that it’s not possible to remove the assignment step `baz = foo()`?"
Correct due to scoping rules; baz is defined in a nested scope that's not visible to you after it's returned 
<@Beula> Great. Thanks. That makes it clear.
"Hi guys is there anyone around that can help me out?; I'm working on a technical test I was given.  I completed the test, and my code works.
I've been asked however to make it installable via pip.
I'm abit confused as to the process.
I created a setup.py, I've uploaded it to pypi (<https://pypi.python.org/pypi/boggle2/0.1>)
and you can install it using pip
```pip install boggle2```; but as ive never done this before, I'm not sure what is the end goal here?  Is it that once you ```pip install boggle2``` you won't need to download the code from my github repo?"
exactly; then you can `import boggle2` in your python repl or script
ok and once you run import boggle2 you can run my code?
"and quick tips you should .gitignore the `__pycache__` dir :slightly_smiling_face:; yeah then you should be able to do
```
import boggle2

boggle2.board_generate()
```
for example"
"ok, so I created a virtualenv to test it out.
I did the 
```pip install boggle2```
ran python
but it can't find boggle2; Thanks for your help, my mind is a bit pickled with this.; ```(boggletest) C:\Users\CTingCTer\Documents\boggle\boggletest&gt;pip install boggle2
Requirement already satisfied: boggle2 in c:\users\ctingcter\documents\boggle\boggletest\lib\site-packages

(boggletest) C:\Users\CTingCTer\Documents\boggle\boggletest&gt;python
Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 17:54:52) [MSC v.1900 32 bit (Intel)] on win32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import boggle2
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ModuleNotFoundError: No module named 'boggle2'```"
can you do a `pip freeze`
"```&gt;&gt;&gt; pip freeze
  File ""&lt;stdin&gt;"", line 1
    pip freeze
             ^
SyntaxError: invalid syntax```"
not in python. like you did pip install
"```(boggletest) C:\Users\CTingCTer\Documents\boggle\boggletest&gt;pip freeze
boggle2==0.1
Django==1.11.4
pytz==2017.2```"
and can you share your `setup.py` maybe you installed it with a different name
"```
from setuptools import setup
setup(
    name='boggle2',
    version='0.1',
    description='Boggle answer checker',
    author='Gareth Miller',
    author_email='<mailto:gmiller290488@gmail.com|gmiller290488@gmail.com>',
    url='<https://github.com/Gmiller290488/trial>',
    setup_requires=[
        'pip'
    ],
    install_requires=[
    ],
    include_package_data=True,
    license='',
    classifiers=[
        'Intended Audience :: Developers',
        'Operating System :: MacOS :: MacOS X',
        'Operating System :: Microsoft :: Windows',
        'Programming Language :: Python',
        'Programming Language :: Python :: 3'
    ], )```"
hmm. I think you are missing something
Ok; Does the file structure when I uploaded to pypi matter?
you need something like `    packages=find_packages()` in your setup.py
ok
and `from setuptools import find_packages` at the top; otherwise it doesn't know what packages it bundle
"ok so
```packages=['boggle2', 'test_boggle'],```; something like that?; and the import statement at the top"
`find_packages()` should be enough; it should autofind your package
"ok, so ill upload again, and then when I create a virtualenv and pip install, I should be able to import boggle2"
but you might need to have your script in a directory; `boogle2/boogle2.py`; not sure if it's mandatory or not; maybe someone else knows
"Ok, ill do that.  Thanks for your help :thumbsup:; ill give it a go"
"Hi, What is the name off the community projects channel?"
<#C2FMLUBEU|community_projects> :smile:
Ahah thank u <@Ciera>
you can click on `channels` in the top left to browse the channels list
"No i can't see all the channels
"
hmm you should; click on `channels` between All Threads and admin_help :slightly_smiling_face:
"I think I've got it working <@Ciera> 
Thanks so much for all your help, you really saved me!"
no problem. good luck for your interview; don't forget to push the new version on pypi :slightly_smiling_face:
Yup did it!
"ok so last question (I think)...; a user runs ```pip install boggle_checker```

They then need to go to the directory where pip installed it to be able to import it and run it?"
<@Ciera> thank you !! I am new to Slack 
"<@Anastacia>  by default, pip installs the package in a way that makes it available to all Python programs, except those that run in a virtual environment. For those, you need to install it in the virtual environment directly."
"I ask because that's what I expected, yet I can't get it to work unless I go to that directory; I must be missing something again &gt;.&lt;"
"what do you mean exactly by ""can't get it to work""? What are you trying, and what happens when you do?"
"```C:\Users\CTingCTer\newboggle&gt;pip install boggle_checker
Collecting boggle_checker
  Using cached boggle_checker-0.1-py3-none-any.whl
Installing collected packages: boggle-checker
Successfully installed boggle-checker-0.1

C:\Users\CTingCTer\newboggle&gt;python
Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 17:54:52) [MSC v.1900 32 bit (Intel)] on win32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import boggle
&gt;&gt;&gt; boggle.board_generate()
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: module 'boggle' has no attribute 'board_generate'
```"
"Okay, so it does install properly. It's suggesting there a problem in your module. Are you sure that is your module, and you don't have some other `boggle` installed?; Another thing to check is whether you have a `boggle` file in the newboggle directory, which could be taking precedence over the one installed via the `boggle_checker` package"
"Ok let me check those things; ```
C:\Users\CTingCTer&gt;pip freeze
boggle-checker==0.1
colorama==0.3.9
Django==1.10.6
django-bootstrap3==8.2.1
enum34==1.1.6
Facebook==0.0
olefile==0.44
pdir2==0.2.1
Pillow==4.0.0
pkginfo==1.4.1
requests==2.13.0
requests-toolbelt==0.8.0
selenium==3.3.3
six==1.10.0
slackclient==1.0.5
tqdm==4.15.0
twine==1.9.1
virtualenv==15.1.0
websocket-client==0.40.0

C:\Users\CTingCTer&gt;python
Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 17:54:52) [MSC v.1900 32 bit (Intel)] on win32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import boggle
&gt;&gt;&gt; boggle.board_generate()
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: module 'boggle' has no attribute 'board_generate'
&gt;&gt;&gt;
```; Ha.  The guy has just emailed me to say he ran the code so not to worry about packaging it up"
It would be nice to figure it out though
could share the code <@Anastacia> ? you had it on github but I lost the link :smile:
"```C:\Users\CTingCTer\AppData\Local\Programs\Python\Python36-32\Lib\site-packages\boggle&gt;dir
 Volume in drive C is Windows
 Volume Serial Number is ECDF-7AAD

 Directory of C:\Users\CTingCTer\AppData\Local\Programs\Python\Python36-32\Lib\site-packages\boggle

30/08/2017  10:39    &lt;DIR&gt;          .
30/08/2017  10:39    &lt;DIR&gt;          ..
30/08/2017  10:39             3,192 boggle.py
30/08/2017  10:39             2,402 test_boggle.py
30/08/2017  10:39    &lt;DIR&gt;          __pycache__
               2 File(s)          5,594 bytes
               3 Dir(s)  12,892,381,184 bytes free

C:\Users\CTingCTer\AppData\Local\Programs\Python\Python36-32\Lib\site-packages\boggle&gt;python
Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 17:54:52) [MSC v.1900 32 bit (Intel)] on win32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import boggle
&gt;&gt;&gt; boggle.board_generate()
[['U', 'Q', 'N', 'D', 'E', 'X', 'Z'], ['C', 'M', 'U', 'T', 'K', 'L', 'I'], ['R', 'G', 'K', 'Q', 'U', 'D', 'C'], ['F', 'U', 'W', 'B', 'C', 'D', 'Q'], ['E', 'T', 'J', 'O', 'B', 'A', 'X'], ['D', 'W', 'I', 'Z', 'J', 'G', 'E'], ['L', 'K', 'D', 'R', 'S', 'R', 'Y']]
&gt;&gt;&gt;```"
Did you check for a boggle file in the directory you were running from?
Yeah
"Or, try running in some other location?"
Okay. I think the issue is perhaps that you have a boggle module inside the boggle package; You might need to use it like `from boggle import boggle` or similar
That works; cheers
"```
&gt;&gt;&gt; boggle.test_boggle
&lt;module 'boggle.test_boggle' from 'C:\\Users\\CTingCTer\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\boggle\\test_boggle.py'&gt;
```"
How would I get it to run and show the results of the tests?
you can create a function call run in test_boggle that runs the tests
"hey guys! I’m trying to run my code on Rpi, which is suppose to let me control rc car through the keyboard of my laptop. But when i run it nothing happens, no errors no nothing. Here is my code: <https://repl.it/K75M/0>"
is it Python 2 or 3 ? as your Line#71 is Py2.x style while the rest are Py3.x style
"Python 3; yeah i guess i forgot () around print statement, changed it now; still nothing"
the code looks correct to me
I'd use a debugger and step through to find where it gets stuck (pdb or whatever is built into your editor/ide); That's better than any of us guessing what is going on
"or if you don't have a remote debugger connection set up, use print statements or log to a file on the raspi"
"Hello, what would be the easiest way to approach over simple application? I have too many options to choose from, so I get so confused.
Image gallery, with functionality: everyone can see images, admin can see add remove edit. Images/posts contain info, title, image etc

So very simple; what I know I need pretty much is Flask, authentication, somewhere to upload them (?) and fetch them and show them.

So, what I was thinking is using s3, flask with some authentication, any better ideas on the workflow?; Haven't really deployed any python apps so I am a bit confused. Although, I once did deploy one to my on VPS, but it was quite a mess to hassle round with UWSGI + other"
if it's simple flask is a good way to go :slightly_smiling_face:; (and if it's more complex it's also a good way)
"yeah, heh. I always overcomplicate simple stuff"
<@Shirl> can you confirm that keypress events are being received in your code?; <@Sean> that's pretty easy to do!; thats where communities like this are handy
<@Sean> one thing to look at - you can pass signed urls to the client and have them upload the images directly to s3 so they don’t have to go through your server
"<@Junita> something like this is exactly what I was hoping for - even ignoring the whole server part all in all, but is this possible?"
"well, you need some way to have auth, right?"
you would still need a flask + postgres behind
for the admin to upload - yes.; <@Ciera> exactly; where do I keep that then? also in AWS?
"well, you *can* do auth using lambda and their cognito service"
"one downside with direct to s3 upload is you're relying on the client for the upload, and bypassing restrictions can be done"
might be easier to start thought just doing a simple flask app
"if you do it server side, that's trickier to work around, and you'll be able to store metrics and other info about the uploads/images"
<@Meg> when you create the signed url you can restrict it to that specific file upload
<@Junita> I like your proposition when he just said `I always overcomplicate simple stuff` :smile: :smile:
:stuck_out_tongue:
"<@Meg> uhm not really, i’m trying to use debugger but not sure how to do that either"
"in a sense it actually simplifies it, but the big issue is it’s easier to get help with a simple flask app than running the world via lambda  :stuck_out_tongue:"
"<@Shirl>, are you using something like pycharm to write your code?"
no i’m actually writing it in atom and testing it on Rpi through ssh
"ok, that makes things a little trickier; you should look at how to set up a remote python debugger with atom"
"ill be back in little over an hour, let's see what i've came up with :slightly_smiling_face: see you soon :palm_tree:"
"<https://atom.io/packages/python-debugger>; unfortunately, that one doesn't support remote debugging"
"but if it’ll make a lot easier for me to debug with pycharm, i can try to get that instead"
"and doesn't seem like other packages will allow you to do so; there's a community version that's free, and should fit your needs here; but its a more full-featured environment than atom, with a learning curve.; not to dissuade you, but as a heads up"
isn't the remote debugger only in the paid version ?
"not sure, lemme check"
I think sshing to the rpi and using logging/print could do the trick; or use the rpi ide
"+1, or run with `pdb` via ssh"
"yeah, rpi is headless right now"
Just add `import pdb; pdb.set_trace()` at the beginning of your function
"<@Shirl> <@Ciera>, pycharm remote debugging is only in the paid version; :confused:"
oh
then when you run the script it will pause
ok i’ll try that <@Beula>
"I think `?` will show the commands, but basically you can then ""step"" through with `s` and it will go line by line as you hit `s&lt;enter&gt;`"
"```&gt; /home/pi/Rpi/rc_control_test.py(26)&lt;module&gt;()
-&gt; def steer():
(Pdb) def steer():
*** SyntaxError: unexpected EOF while parsing (&lt;stdin&gt;, line 1)
(Pdb)```"
how are you importing pdb in that function?
Where did you put the pdb statement?
Seems like maybe it was executed at interpreter startup
right before the def steer():
do it inside the function
"it needs to be inside the function; FYI, you can use code formatting in slack; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>; makes things a little more readable when differentiating code from regular text"
"```
def steer():
    import pdb; pdb.set_trace()
    # the rest of your code
```"
"```def steer():
    import pdb; pdb.set_trace()
    loop = True
    while loop:
        for event in pygame.event.get():
            if event.type == KEYDOWN:
                key_input = pygame.key.get_pressed()```; the out put i’m getting is; ```pi@raspberrypi:~/Rpi $ sudo python rc_control_test.py 
&gt; /home/pi/Rpi/rc_control_test.py(26)steer()
-&gt; loop = True
(Pdb) loop = True
(Pdb) s
&gt; /home/pi/Rpi/rc_control_test.py(27)steer()
-&gt; while loop:
(Pdb) while loop:
*** SyntaxError: unexpected EOF while parsing (&lt;stdin&gt;, line 1)
(Pdb) s
&gt; /home/pi/Rpi/rc_control_test.py(28)steer()
-&gt; for event in pygame.event.get():
(Pdb) for event in pygame.event.get():
*** SyntaxError: unexpected EOF while parsing (&lt;stdin&gt;, line 1)
(Pdb) s
&gt; /home/pi/Rpi/rc_control_test.py(27)steer()
-&gt; while loop:
(Pdb) ```"
"Maybe just use `print` statements for now, that's odd but am about to run out the door"
ok i’ll try to run print everywhere :slightly_smiling_face:
It's an age old debugging technique :joy:
"```def steer():
    #import pdb; pdb.set_trace()
    loop = True
    print(""True"")
    while loop:
        print(""while"")
        for event in pygame.event.get():
            print(""event"")
            if event.type == KEYDOWN:
                key_input = pygame.key.get_pressed()```; Ok , so it prints “True”, it does for sure prints “while” and it stops there; even if i remove print from underneath while loop for less spam it never manages to get to print(“event”); BTW when i use Control + C command to kill program, following error appears:; ```^CTraceback (most recent call last):
  File ""rc_control_test.py"", line 84, in &lt;module&gt;
    steer()
  File ""rc_control_test.py"", line 29, in steer
    for event in pygame.event.get():
KeyboardInterrupt```"
well what does that is wiating for ?  `pygame.event.get()`
looks like it's waiting for some kind of event happening on the rpi
^^ this. are you triggering any events that would go to the pygame queue?
yeah it should monitor keyboard keys
Well it seems it doesn't get the event
"Hello everyone. Can somebody please help me figure out how to make a dict of the following structure in Python?
```
{'name': 'somename',
 'pdf': [{'url': '<https://example.com/file.pdf>'}]
 }
```"
never used pygame so can't really help you on that
I’m struggling to get the url inside a list.
json is valid python isn't it? surely that example is a valid dict
it's not JSON; single-quotes aren't allowed in JSON
ah
what's the source of this data?
"My bad, it should be double quotes, then."
"ah, it IS json :stuck_out_tongue:"
"This is what I’m trying to achieve (it’s an example):

```
curl -v -XPOST <https://api.airtable.com/v0/RANDOM_AIRTABLE/BASE> \
-H ""Authorization: Bearer $AIRTABLE_API_KEY"" \
-H ""Content-type: application/json"" \
 -d '{
  ""fields"": {
    ""Fotos"":[{""url"":""IMAGE_URL""}]
  }
}'
```"
"<@Shirl> how are you initializing pygame? Mind sharing more of the file?; The following works fine (on my mac):
```
import pygame

pygame.init()

while True:
    for event in pygame.event.get():
        print(event)
```"
"```
import json
my_dict = json.loads(my_json)
```"
yeah here is full source code: <https://repl.it/K7by/0>
"Having an issue with a Django test, hoping someone can help. Basically have code that does MyModel.objects.create() inside a try block"
"umm so i have a question about `print`
in conjunction with a string that i got back from subprocess.run stdout
i have the value `b'     12 main.py'` which i have in `result.stdout`
and i want to render it in the shell with the newlines actually showing-up, rather being escaped... what am I doing wrong?
`print(result.stdout)` # gives me unformatted output
(python 3 btw, if the parens didn't clarify that)"
i initializing it by pygame.init() before def steer():
"But the exception doesn't get raised there, instead it happens at the end of the test"
<@Ciera> I’m actually trying to generate JSON in Python :slightly_smiling_face:
"You might think my except statement is wrong, but I opened it all the way up, still doesn't catch the exception."
"It seems to me that it should be simple enough, but I just can’t get it to work."
<@Mendy> we have a <#C0LMFRMB5|django> channels for question regarding django :slightly_smiling_face:
<@Mendy> <#C0LMFRMB5|django> would be more apt
beaten!
<@Ciera> Whoops! Thanks
<@Todd> use `json.dumps(my_data)`
<@Shirl> and is the keyboard you are sending commands through connected to the pi?
That’s what I am doing. But I need to have the correct structure first. That’s my problem here.
"<@Patty> the code source you linked , did the same thing to me as the source code for my rc… it just doing nothing there waiting for input"
and is it connected to a screen or is this all via terminal?
yeah my mac is connected to pi through ssh
<@Sheri> if you transform your bytes into a string it should work
via terminal
and that’s where you’re sending keyboard presses?
"```
Python 3.5.2 (default, Nov 17 2016, 17:05:23)
[GCC 5.4.0 20160609] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; print('Hello\nworld')
Hello
world
&gt;&gt;&gt; print(b'Hello\nworld')
b'Hello\nworld'
&gt;&gt;&gt;
```"
Not through a USB keyboard?
no
<@Todd> do you get an error or something ?
"the way your code is written, it won’t work in a terminal, only with a keyboard plugged into the pi"
"ah the b'...' is a byte[] or something?
yeah, the simple `print('\n')` test worked and i was starting to clock on haha thanks"
ahh
<@Ciera> :taco:
woot thanks :slightly_smiling_face:
is there a simple way to implement that feature into my code?
"pygame starts everything in its own window. if you try my snippet on your mac, youll see you need to switch focus to the window; not sure if that’s possible with pygame"
"ironic that the first SO post i found for bytes to string
is someone trying to use the subprocess stdout like I am haha"
"<@Ciera> list indices must be integers or slices, not str"
I would try with just reading from `stdin` using the builtin `sys` module
can you share your whole code <@Todd> :slightly_smiling_face:
<https://stackoverflow.com/questions/34497323/what-is-the-easiest-way-to-detect-key-presses-in-python-3-on-a-linux-machine>   should be able to help you get started
"```url = [{'url': '<https://example.com/file.pdf>'}]
project['pdf']['url'] = url```; Bear in mind what I’m trying to achieve here."
"the error says that whereas you think you have nested dicts, you don't."
"OK, can you suggest something?"
"find out what type `project` is, and what type `project['pdf']` is; examine the schema, or use print, or the debugger; perhaps all you really need is `project['pdf'] = url`, as the structure otherwise is quite weird"
"btw i tried to connect keyboard to Rpi, still same output as with my laptop when i tried to run it through ssh terminal"
Thanks! Solved it: `project['pdf'] = url`
"If you can share what `project` is, that would be helpful. If it’s something like: 
```
project = {'name': 'somename', 'pdf': [{'url': '<https://example.com/file.pdf>'}]}
```
then getting the url would be 
```
project['pdf'][0]['url']
```"
"Thanks for the help, <@Patty>. Issue resolved."
"You’ll also need to have it run and switch to the window that pygame opens, but, if you’re not using a display, then pygame isn’t going to really help you"
<@Yessenia> not really very clear...
"<@Suellen>; Probably not elegant, but works"
<@Yessenia> <https://pypi.python.org/pypi/tabulate>
Sharing it here to get more eyes on it :slightly_smiling_face:
"are you concerned about speed, or ...?; do you need to preserve the original array?"
"Hi everyone :slightly_smiling_face: I want to talk with some developer about carrier path; I'm trying to become dev, I'm currently Automation Tester and I just don't really know what should I learn because I'm writing code everyday etc. what the difference that making developer"
"Where do your interests lie?; For example, while I was not bad with maths, I wan't really good at it.
So reading about low-level stuff was interesting, but I didn't want to do it myself."
<@Gregorio> generally cross-posting questions is frowned upon here. Thanks! :slightly_smiling_face:
oh sorry <@Patty>. I didn’t get any response in <#C0L7UUTGR|numpy>.  But I’ll move it there.
<@Suellen> are you in <#C0L7UUTGR|numpy> ? :slightly_smiling_face:
"How can i show a message""time out"" in template on django. After 10sec"
"<@Georgetta>, is this a template rendering issue?; or are you loading something with ajax"
"None of them ; Just im showed some charts, but sometimes pages takes time to load,; And i want to add smth where need more than 10sec showed messaged Time out; <@Meg> "
"originally posted in <#C33EUEV5M|help-es>  but getting no responses.

Having an issue w/ Azure Service Bus subscription filters. They do not seem to work properly when there are more than one. Error messages from SO are in English. If anyone recognizes them, please advise."
"<@Georgetta>, you need to give alot more information about what you're trying to do and how and where the bottleneck is.  right now, you're being very vague and nondescript."
For tips on asking clear questions: <https://stackoverflow.com/help/how-to-ask>
"Is this not kosher?
```
debug = True
logger = logging.getLogger(__name__)
if debug:
    debugger = partial(logger.debug)
else:
    debugger = lambda x: None
```
PyCharm says do not assign a lambda expression, use a def.; For its PEP 8 checks."
"Since it's just a no-op, I would just `# noqa` it and move along"
"```
Always use a def statement instead of an assignment statement that binds a lambda expression directly to an identifier.

Yes:

def f(x): return 2*x
No:

f = lambda x: 2*x
The first form means that the name of the resulting function object is specifically 'f' instead of the generic '&lt;lambda&gt;'. This is more useful for tracebacks and string representations in general. The use of the assignment statement eliminates the sole benefit a lambda expression can offer over an explicit def statement (i.e. that it can be embedded inside a larger expression)```"
"Also, changed the first two lines around, because next to one another.; # noqa?"
he meant `#noop`
oh
or `#noqa` meaning no need to check because its a no-op
ok
`#  noqa` disables the inspection for the line
"PyCharm apparently doesn't concern itself for such comments, instead complains it's mispelled. :slightly_smiling_face:"
"anyone know, in pycharm or others, is it possible to not have a toold window docked to the side, but have it places like a normal tab i can have with the rest of my tabs/buffers?"
like a regular file ?; I don't think it's possible
yea.; i didnt think it was but i was looking. couldnt find anything.
"question about unit tests (don't everyone scream at once) - I am working with some open-source software and we've extended some of its base modules to meet our custom requirements. In the process we've written our own unit tests contained in our custom / extended modules and the all pass, but the core system contains unit tests that fail. this is a bummer because our CI declares a failed build, altho it's because of a change in workflow, not failing code. Is there an easy way to pass these tests without monkey-patching or totally rewriting them?; using `unittest2` module"
window tiing manager for the win! (i3)
Do their tests pass with their own code? Or do your changes cause it to fail?
our changes cause it to fail; on their CI (I'm using Odoo btw so the CI is their own Runbot) it has a passing build; and our custom modules depend on their core ones except they often extend the functionality; e.g. Sale Order does not require a payment method in core. Our customizations require a payment method with a sale order.; I'm trying to avoid wrapping their tests in a `@unittest.skip()` decorator but it seems to be the only option unless I rewrite them
"If I have some Sequence `seq`, I can send each of the values to a function one at at time with `f(*seq)`. What is this unwrapping called, and is there a function that does this in the standard library?"
unpacking
"sequences are unpacked via a star, `*[1, 2, 3] -&gt; 1, 2, 3`; mappings are unpacked via a double star: `**{'a': 1, 'b': 2} -&gt; a=1, b=2`"
"e.g.
```
def unpacked(f):
    def wrapper(arg, **kwargs):
        return f(*arg, **kwargs)
    return wrapper

# I can now do 

map(unpacked(""{}: {}"".format), some_dict.items()) 
```; This function is kind of useful since I find myself wanting to send sequences of objects into functions often"
"this is nice; but you can use a star too; ```
&gt;&gt;&gt; print(*some_dict.items())
('a', 1) ('b', 2) ('c', 3)
```"
"ooh; `map(""{}: {}"".format, *some_dict.items())` works just fine; the star operator is easily one of the coolest things about python..."
it is!
"I've really been missing it when playing around with ML-style languages (mostly because I've attempted the problem from the wrong approach, but... you still have standard libraries containing functions such as e.g. `fmap6` because there's no unpacking-style syntax available); (like this: <https://hackage.haskell.org/package/functor-utils-1.1/docs/Data-Functor-Utils.html> ...not that it has anything to do with python)"
"oh no, not haskell"
"...wait, that `*some_dict.items()` solution isn't the same..."
"well, what do you need it to be?"
"I want to send every key-value pair to ""{}: {}"".format"
`*some_dict.items()` unpacks a dictionary into pairs of.. keys and values :slightly_smiling_face:
"```
d = {
    ""hello"": 42,
    ""world"": 43,
    ""foo"": 9,
}

def print_map(*args):
    print(list(map(*args)))

print_map(lambda x: ""{}: {}"".format(*x), d.items())
# ['hello: 42', 'world: 43', 'foo: 9']
print_map(""{}: {}"".format, *d.items())
# ['world: hello', '43: 42']
```"
":open_mouth:; ```
&gt;&gt;&gt; print(list(map('{}: {}'.format, *d.items())))
['hello: world', '42: 43']
&gt;&gt;&gt; print(*d.items())
('hello', 42) ('world', 43) ('foo', 9)
```; your stuff is broken, yo"
"```
print(list(map('{}: {}'.format, *d.items())))
# ['hello: foo', '42: 9']
```; python 3.5.2; so, my problem of finding a decorator that turns a function into a function that first unpacks its args still remains :slightly_smiling_face:"
I'd say the problem of why a value is disappearing from the dict is more pressing :slightly_smiling_face:
"Oh, map is lazy... I need to figure out when it binds the values; when it's run... fuck that could lead to some nasty bugs if I'm not careful"
I'm not sure I understand what you are trying to do :smile:
"oh, I see what's going on"
"can't explain it in words, but it makes sense now"
```
"&gt; can't explain it in words
Functional programming ITT"
:smile:
"```
seq = [1,2,3]
map_object = map(print, seq)
seq.append(4)
list(map_object) # will print 1 2 3 4
```
This wasn't obvious to me"
I think also the star operator doesn't do precisely what is needed here
<@Lanita> nice little mutability example you have there
"By the way, while we're talking about map...
What are the pitfalls of doing `list(some_map_object)` when you really want `[x for x in some_map_object]`?; I don't have any good non-complicated examples of when they're not the same, but I've found this ""bug"" in my own code many times"
they are the same?
*always*?
"in py2.x the internal variable, in your case `x` is leaked, and is usable after your list comprehension (it was fixed in 3.x)"
"Hi I am need some help with a regex expression. I am trying to extract the language code from the url with this expression '[^/]\w{1}' and it works. What I need is to assign it to a variable  language_code = re.match( '[^/]\w{1}' ) However, this doesn't work because I don't want to provide a string to match to as an argument. I just want to get the two letters from the string."
"I'm not sure I'm understanding what you are saying, can you show that part of your code?; Why would you not provide the string as an argument?; Also, regex could be the wrong way for this. Regex really should be used when other string manipulation can't do what you want easily."
"request = context['request']
    #&lt;WSGIRequest: GET '/bg/news'&gt;
    language = re.match('[^/]\w{1}')
    language_code = language.group(0); match needs a second argument, the string to match to; e.g.   language = re.match('[^/]\w{1}', 'bg')"
<@Jeanette> it also is useful to use code formatting in slack: <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
"<@Jeanette> but, if you're not providing a second argument, what are you matching your regex against?"
"The second argument is the string, you have to provide that."
only the first two letters between the slashes
"Is the url format always the same? If so, just split on slashes.; ```language = url.split('/')[1]```"
the urls always starts with the language code e.g: /en/blog/first-post/
"That is splitting on slashes, which returns a list of strings, and taking the 1 index. You'll want to do this for the other pieces too most likely."
I will try it thank you!
"You're welcome.; If you are taking parameters after that, such as a sort order, or number of items to show, you'll probably want to convert it to a dictionary for those, that too should be easy."
"I want to look into data visualization with python, what are some decent data sources I can use for free without violating any laws?"
<https://github.com/caesar0301/awesome-public-datasets>
Wow this is a gigantic collection! Thanks <@Meg> :taco: 
"its not an actual storage, more like a curated list of links for you to retrieve yourself; but I think it should fit your needs; also, there's <http://academictorrents.com/>; <@Patty> might be interested in that too"
"Hey all. I have a question, and I hope this is the right Slack to ask it in. I am trying to get Molecule to work on Windows 7 to test Ansbile roles. I get everything installed, however, when I try and run Molecule, it tells me that sh 1.12.14 is currently not available on Windows, and to install pbs instead. I used pip install pbs, but now I am not sure how to actually get Molecule to use it instead of sh."
"I am trying to understand why the multi-processing code keeps waiting. My code works completely fine standalone. Here is the dumbed down version (does not compile) : ``` import someLib 
##someLib library has both Request and process modules
def delegate(response, unwm_img_path, wm_url):
    '''
    do something here
    '''

def worker(image_url):
    print(image_url)
    start = time.time()
    i = 0
    req.image_path = get_path(image_url)
        print('before: ', req.image_path)
        new_rows = delegate(someLib.process(req), req.image_path, image_url)
        print('after: ', req.image_path)
        if new_rows is not None:
            print(new_rows)
        else:
            print('not processing ', image_url)
    else:
        print('failed to open image:', image_url) 

if __name__ == '__main__':
    with open(file_path, 'r') as f:
        image_urls = sum(list(csv.reader(f)), [])
    if os.path.exists(cf_file_path):
        append_write = 'a'  # append if already exists
    else:
        append_write = 'w'  # make a new file if not
    1_file = open(cfile_path, append_write)
    2_file = open(afile, append_write)
    wr = csv.writer(cfile, quoting=csv.QUOTE_ALL)
    wr2 = csv.writer(afile)
    req = someLib.Request()
    pool = Pool()
    pool.map(worker, image_urls)
    pool.close()
    pool.join() ```"
<@Tameika> where does it stop behaving in a predictable manner?
"<@Suellen> : i think the problem is this line :  ` new_rows = delegate(someLib.process(req), req.image_path, image_url)`; when I comment that line, the whole program runs fine"
"so, relevant code is probably there"
"true, i think it has got do with the fact that the `someLib.process(req)` is being called by multiple workers"
"what is that library?; hm.. even if it's not thread-safe, does that mean it's not multiprocess-safe?; I'm honestly not sure"
it is a library which I created myself to wrap C++ code. Didnt take it account thread safety
"in theory it should be ok, since a whole process is launched for the task; a debugger of some kind is your best bet, guessing will only take you so far; One guess left:
&gt; req = someLib.Request(); This is a shared resource that's used between processes; that's not very good; can you refactor it so that each worker gets its own copy?"
sure will do; it still waits; essentially it prints all the 'before' statements and hangs
inside `delegate` too?; up until you call a C function?
"delegate does not call the C function , it is `someLib.process(req)` which does; i even decoupled that line into 2 lines : ```c_resp = someLib.process(req)"
"` new_rows = delegate(c_resp, req.image_path, image_url)```"
you most definitely need a real debugger then
"in pycharm when querying a database using an sql console, is it possible to mimic the output format of `\G` ?; it doesnt seem to like that. but when i have one record with a ton of columns, make it harder to read.; ah on the top right theres a ""Transpose"" button. any ways to get that from the actual query?"
probably not :disappointed:; but it's saved in your current session
"hmm. more efficient way to write this if theres a million `accounts` and you just need to return the first:
```
account = [acc for acc in portfolio if 'type' in acc and acc['type'] == 'annuity'][0]
```
while keeping it in a generator. easy if just using a loop"
<@Bruno> can you do `account = next(acc for acc in portfolio if 'type' in acc and acc['type'] == 'annuity')`
What is the most effective way to perform `Open Image in new tab` and grab the url of that image in python?
"if you know what to open in a new tab, don't you know an URL already?"
I tried referring to this SO link : <https://stackoverflow.com/questions/40110394/how-to-get-absolute-path-for-image-on-a-website>; but it does seem to retrieve all images
"<@Antionette> hmm, ill have to try that."
don't forget about iter!
<@Bruno> afaik it should only run until first is found
doesn't exhaust the generator!
no but if it doesnt exist it will throw an exception.
so need try/catch
which is fine.
"<@Bruno> I believe it could also take in a default argument like: `account = next((acc for acc in portfolio if 'type' in acc and acc['type'] == 'annuity'), false)` if you wanted to do it like that.  I think your original example would have also thrown an error if it was not found (list index out of range)"
<https://docs.python.org/3/library/functions.html#next>
"hmm, interesting.; the original shouldnt and just not return any results."
the comprehension part would return an empty list and then trying to get the first element would raise the exception
Dooood! FINALLY! I've read and read and looked at multiple examples and IT JUST CLICKED!; :taco: <@Suellen>
<@Antionette> ooh. youre right.
<@Deedee> trying to understand unpacking?
"This is awesome! Thanks!; :taco: <@Meg>; I've done it before but haven't really grasped it. And I've encountered it in reading but, again, hadn't really grasped it. I think this did it though. :wink: No worries though <@Bruno> . I'll be posting here if I have issues w/ it moving forward hahaha"
cool. glad you got it.
"Bump...
Our boy is almost certain that this is an Azure Service Bus shortcoming, and not a problem w/ Python. Can anyone confirm? Again, error messages are in English.; How it was originally shared here yesterday."
Hi All!; am I allowed to ask for coding help here?; Stupid q but I nearly got kicked off another platform
"<@Carlene> yup! <#C07EFMZ1N|help> is for more general python questions and then we've got various channels for more specific stuff like <#C0LMFRMB5|django> <#C0LN2AD7T|flask>, etc."
I believe it's best to `.gitignore` the `.pyc` files
i did but they were added to the log before I added *.pyc to gitignore actually just did a commit without adding the files and it worked
you might also want to do a commit that delete the one on master
"I have a list `seq`. I want to split this list up into sublists by grouping them around a function. Any idea what this might be called?
Best explained with an example probably:
`f(seq=range(8), grouping_function=lambda x: x % 3) == [[0,3,6]. [1,4,7], [2,5]]`"
groupby?
oh... of course. I kept looking at things called partition. thanks.
"you might want to look at `more-itertools` or `boltons` library; lots of short helper functions there; <https://github.com/mahmoud/boltons/blob/master/boltons/iterutils.py#L470>; ```
    &gt;&gt;&gt; bucketize(range(10), lambda x: x % 3)
    {0: [0, 3, 6, 9], 1: [1, 4, 7], 2: [2, 5, 8]}
```; just look at the example!; cool"
"hello guys; i have a question; i have a user data with 20 different parameters and i have some ""results"" with predefined conditions; like ""((a=5 or b=3) and user.is_active) or user.is_admin""; i can run eval(condition) for each result on each data but there are plenty of result items now, like 2000, it takes too long"
"Perhaps there's a nicer way to solve my problem though: I want to grab the first value in each group created by splitting a sequence up using some function.
Right now I'm thinking of doing something like
```
    for k, group in groupby(sorted(seq), partitionfunc):
        yield next(group)
        continue
```"
any advices to make it faster and more clean-logical-pythonic?
<@Lanita> `next(groupby(...))`?
<@Denna> those predifined conditions are string ?
<@Denna> I think that depends largely on the semantics of those conditions. `eval` is almost certainly not the answer though
<@Ciera> they are coming from users of the system; not from a programmer
also please use <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks> :slightly_smiling_face:; you might want to look at testing framework that does thing like this; but I don't remember how it's called :confused:
How are users able to formulate these conditions when they obviously refer to code details (like the existence of an 'is_admin' property)
"Perhaps this explains it better:

```
from typing import Sequence, TypeVar, Callable, Any, Generator
from itertools import groupby
    
T = TypeVar(""T"")
def first_of_each_group(seq: Sequence[T], group_by: Callable[[T], Any])\
        -&gt; Generator:
    """"""Groups every object x in `seq` by the value from `group_by(x)`,
    then returns the first entry of every group.
    """"""
    for _, group in groupby(sorted(seq), group_by):
        yield next(group)
        continue
    
from unittest import TestCase
class FuncTest(TestCase):
    def test_first_of_each_group(self):
        input_data = [3, 1, 349, 12, 4, 939, 16]
        group_by = lambda x: len(str(x))
        expected_outut = [1, 349, 12]
        
        self.assertCountEqual(
            list(first_of_each_group(input_data, group_by)),
            expected_output)
```"
"we're giving a simple doc about available variables to them; in practice, there is no ""user.is_admin"" for them; i mean, the real input is, ""is_admin"", and i change it with ""self.request.user.is_admin"" like thing"
If you truly do have an arbitrary list of completely unrelated conditions then I fear that there is very little that can be done to improve your situation
fair enough; thanks btw
If you can simplify the conditions in some way - e.g. to make them all into conjunctions (everything must be true) - then you can make it more data-driven
"hm, in this case we're sorting `seq` first so we're not getting the first value of `seq` as much as ""exactly one value from seq"", but it doesn't matter for me at the moment"
I'm really not sure how to change it right now
"Hello everyone, i have a question about class initialization

so i have a class that i am importing into a main .py file. Lets call it imp_mod.

i have the init defined so that when i call imp_mod.ClassName() it runs the init. but it also seems to be running the rest of the methods inside of the class. Why would it be doing that?"
"so you have something like 

```
class ImpMod:
    def __init__(self):
        # some code here
```; and you’re calling it via `imp_mode.ImpMod()`?"
yes
what do you have defined in the `__init__`?
underneath that i have a function that runs the self.desktop_driver called def search(self) and it runs a loop. When i call imp_mod.ImpBot() it seems like it is running that search function that isnt being called in init
"You don't seem _sure_ though. Have you tried putting a print statement in that search function to confirm, one way or the other?"
"i just did as a sanity check, and my print statement inside search does appear; might it be because in the main function i am assigning it to a variable?"
would you mind adding the entire `ImpBot class`?
You'll have to show the code
bot = imp_mod.ImpBot(); sure
"does it also happen when you do

```
from imp_mod import ImpBot
bot = ImpBot()
```"
ill see; yes it still does it
what is `search_terms`; and where are you declaring it
search terms is an array of strings that lives outside of the class but in the same file
Most likely it's the stuff outside the class that is causing this problem
ok
perhaps something is making an instance and calling .search()?
"so...i have a tkinter button; ill put that file in; h/o; the command arg is set to call the search; so that may be it, but idk why it is running it before the Tkinter menu even appears"
perhaps it's set up wrong. sometimes people put in the `()` in the UI code when they shouldn't
ohhhh; so im doing .search()
exactly
"when it should just be .search; ohhhhhh; WORKS; thank you, i didnt know that that would make a difference"
glad we could help
<@Gabriele> <@Meg> :+1:; so that is a general python rule then? that if it has the () at the end it will run it regardless?
"depends, really; is it being passed as an argument to a method that is expecting a function or method?; or is it to be executed at that point?"
the `()` means 'call this function immediately'; so you're assigning the result of that function call to `command`
ahhhh
when you really want to assign the _function itself_ to `command`
"right, makes sense to me; it shouldnt be called instantly, since it is a button and should only be called when pressed; so no (); got it!"
"however, there are places where you do need the function to be called right away; for example, django url definitions with class based views; you have to use the `.as_view()` call when mapping a view class to a URL, or it won’t work"
"yeah, sometimes you have to call a function which returns the function you want to assign. functions returning functions. :slightly_smiling_face:"
functionception
"<@Gabriele> just found out that, the keyword is ""rule engine"""
i'm looking for pyke now
Has anyone here built a Python .pex distributable file -- need help in doing so
hey guys need ur help understanding why my function does not work…
"<@Margareta>, verify that `created_time` is generating some values that are &gt; 10 days ago.; w.r.t `current`"
"Maybe that 'platform' doesn't deserve you. :slightly_smiling_face:
We, here, are a `community`, not a platform."
"<@Margareta>, it also could be that you’re passing `path` into `os.path.isfile` instead of `full_path`."
<@Winnifred> bingo that was the issue i didnt catch that!; thanks <@Winnifred> !!!!
w00t!
<@Winnifred> :taco:
"TY for keeping tacos alive, <@Suellen> "
<@Suellen> :taco: :wink:
"we're playing ""hot taco"" :slightly_smiling_face:"
"Anyone know how to get x days before now using isoformat? This is what I have,
'''

from datetime import datetime, timedelta

print datetime.now().isoformat() - timedelta(days=2) 

''' "
"` ``` `; it's backticks; ok, so, `.isoformat()` returns a string, and you can't subtract anything from a string; what you should do is perform all date-related operations before formatting, and then use isoformat; for example you need a date 2 days before today:; ```
&gt;&gt;&gt; past_date = datetime.now() - timedelta(days=2)
&gt;&gt;&gt; past_date.isoformat()
'2017-08-31T01:50:45.124580'
```; in one expression:
```
&gt;&gt;&gt; print((datetime.now() - timedelta(days=2)).isoformat())
2017-08-31T01:51:22.652891
```"
is anyone familiar with Behave Testing ?
"Hey guys. 
I screwed up some stuff when hacking and slashing some name changes of classes and file names. 
How can I go back to my last commit/push ?; I haven't added anything or commited since last night and I wanna to back to that point.; Delete everything and clone the repo?"
"Hi, does anyone have any experience in using aiohttp 2.0+ vs. sanic as a HTTP server?"
<@Gisela> if you haven't commited: `git reset &amp;&amp; git checkout`
Thanks! checkout was what I was missing!
<@Adalberto> I use aiohttp and it get the job done. didn't try sanic
"sanic is a microframework, and as such it's easier to work with"
<@Ciera> do you use it for a full webserver or only for slower endpoints? Are you using it with an ORM?
we use it for all our API. Without any ORM pure sql
"OK, and just a very basic async question: what happens if I try to use a blocking ORM like Sqlalchemy ORM in an async app? As normal db requests are so fast, would it be a problem that it blocks?"
Well it's best to use a non blocking one obviously. There is some work on making sqlalchemy work with asyncio; for example this <https://github.com/CanopyTax/asyncpgsa> by <@Signe> but it's only for sqlalchemy core
"wait, what parts of ORM are inherently blocking?; I thought ORM was an abstraction over Core which by itself does nothing; Or it's just too complex to sort out at once?"
no idea
"Well, if you call a function that returns some objects, that function doesn't return until the objects are available, so that counts as blocking in some sense"
I think people are trying to focus on core first as it's the most important part
"true that, even Core is fantastic"
I think Core is now async and only ORM is the problem. Also there is a great article by Mike: <http://techspot.zzzeek.org/2015/02/15/asynchronous-python-and-databases/>
"great article, in which he says he doesn't care about async and nobody should :confused:"
"<@Suellen> yes, it's a bit strange that he says that. But he also recommends gevent to solve the same problems, and some long time Python users told me that using gevent is insane in production."
It's pretty clear from the Core docs that it's not intrinsically an async API
"gevent isn't really insane, it has a looong history and is stable"
This reply: <https://groups.google.com/d/msg/pylons-discuss/hI9zY4JYBU4/yNGGbE-IAgAJ>
but it IS a very non-native approach; funny that he says it's inappropriate to use async with databases; when threads are just async functions from the POV of the OS
fyi this might be more a topic for <#C07G5276F|async> :slightly_smiling_face:
sorry mr admin
haha well it's also that I'm sure some people in <#C07G5276F|async> might have good arguments on this topic and not sure they are all in here
anyone have a full proof method installing ffmpeg and opencv on a mac using make or brew combination that actually works?
"hmm, what’s the error you are getting?"
(what about docker though?)
yeah that was my first thought too.  :slightly_smiling_face:
<https://stackoverflow.com/questions/46015606/pil-set-pixel-as-transparent-blank>
Does `print(img.mode)` show ARGB?
it's rgb
`img = img.convert('ARGB')`; otherwise there is no transparency channel
"is this before or after saving, note I have two saves; one for creating the file the other for editing to transparent"
"what do you mean?; you can't set a transparent pixel on an image that doesn't have a transparency (alpha) channel; you need to convert from RBG to ARBG before you put a tranparent pixel there; and obviously when you save, you should use a format that supports alpha channels. For example png."
"ValueError: conversion from RGB to ARGB not supported; img.convert('ARGB')
		img.save(random_name, ""PNG"")"
try RGBA; I forgot a proper name :slightly_smiling_face:; `img.convert('RGBA')` -- the image gets converted to RGBA and you throw the result away; `img = img.convert('RGBA')`
yes that was it works :slightly_smiling_face:
"I am writing a Python program part of which authenticates with OAuth 1.0 to access a privileged API. I have figured out how to get the authorization URL. After signing in, the browser redirects to <http://localhost> which I registered as the callback with the provider. How do I get the request to localhost and continue with my bot? I figure I need to have a http server of some sort. I would rather not install a full Apache server. What is a lightweight alternative that can receive the request and forward the token to my bot code to continue with API calls?"
<@Sidney> <https://docs.python.org/3/library/http.server.html#module-http.server>; you can spin up a simple http server using only stdlib; are you sure you even need to accept a request at all?
"AFAIK, yes, the result of the authorization comes to me as a HTTP request to the callback URL.; There's a chance I misunderstand how OAuth 1.0 works."
"I only ask because, for example, you can auth on Reddit using OAuth without a redirect or a callback"
Is it OAuth 1.0 or 2.0?
2
"That might be one of the differences.; Or more likely, I'm completely misunderstanding how this works.; <@Suellen> Thanks for the link. Keeping everything in python and in the same codebase will definitely make this easier to manage. I'll look into that library further."
"<@Sidney> There are often 2 different authentication flows available - one for clients, and one for servers. Make sure you're using the right one for your situation"
"<@Gabriele> I don't follow. From what I understand all authentication flows require a client **and** a server, each playing a different role in the exchange."
"I'm in the middle of writing a simple process priority script, and I'm running into ""access is denied"" even in an admin cmd window for processes that are ran by System. Would anyone be able to access me?; assist rather"
I need a little help with Django... please ping me
anybody in here use jetbrains products?
yes
<@Clarine>
can anybody help me with Interpretabiliy models in Deep Learning??
What's up with people not just posting their problems? :grimacing: how is anyone supposed to help that way 
right
"<@Galen> post in <#C0LMFRMB5|django>, they are much more likely to help; <@Augusta> also we have a <#C2J4B66PK|machine_learning> channel where you can post your problem"
<@Suellen> thanks for the lead brother :)
"does anybody use PyCharm? When I switch tabs, I want   Run/Debug in the upper right corner to change automatically. Now I have to manually select the file which I want to Run/Debug everytime I switch a tab."
"it won’t; pycharm usually has the last run execution as the top option in the dropdown; but you can right click in the file after changing the tab and select Run or Debug; if that’s something that you would find handy to have, you can submit a feature request at <https://youtrack.jetbrains.com/issues/PY>; but a major problem for that is most run configurations are project based, not file based"
"yes, but don't you agree that it is silly for PyCharm, which is one of the best Python IDE's, to not have that option?"
¯\_(ツ)_/¯; make a feature request
How many times have I ran the wrong file :slightly_smiling_face:
right click -&gt; run; and then the list will be re-ordered
"yeah, I know, I'am using that option...I will submit a request"
"for me, it would be an absolutely useless feature; because I’m project-based, not file based"
why is that?
"so, if I keep changing files and tabs in a project, I don’t want to run the current file; I want to run the entire project; so if I have a django or flask project going on, and I edit the models file.  I don’t want the run configuration to automatically switch to running that file, vs the project run configuration I already have active"
"ohh...I am a absolute beginner, so I find that lack of option strange and unintuitive"
"ah, ok.  for you, it might make more sense to have that kind of option.  But I would suspect that for the vast majority of pycharm users, that would result in unintended side effects like how I described above; also, consider the fact that each file might have different interpreter and run arguments; so that would require you to create a run configuration for each file; if you switch over to a file that has no configuration set up, how would it behave?"
different interpreter? Why would someone want to change the interpreter?
one file runs on 3.5; other runs on 3.6.2; or you need to pass in a different argument to the interpreter
backward compatible?
"so, what pycharm lets you do is define interpreter configurations, where you can define interpeter executable paths or virtualenvs; and then apply in run config; so, for one project, if you need it to be backwards compatible, you can have a run config pointing to your 3.6 environment; named `project 3.6`; and another `project 3.5`; now, if you’re flipping from file to file intending to run it against a specific interpreter version, re-ordering the run configuration options will mess you up; and introduce a non-intuitive UI; so, from a UI experience, think about this; how much extra complexity will implementing your workflow introduce into the UI, and how to handle the edge cases?; compared to how many users this is actually targeted for?"
"I cannot fully understand you, but wouldn't it be logical when the file changes, interpreter for that specific file changes too?; In other words, when you change the file, Run configuration for that file changes too"
no; because pycharm is intended to be project based run configuration; not file based
"ok, I will get that later maybe, when I run into such problems :slightly_smiling_face: Do you have a time to help me with some code. I am building a simple calculator, about 25 lines of code"
ask here.  I suspect I’m not the only one around here now :slightly_smiling_face:
"I have made it, but I want to make it more efficient....; ok, the question is...how do I print dictionary value, if some variable is the same as dictionary key?; when that variable is found in dictionary, and it matches the dictionary key, I want the program to print the dictionary value that is associated with that key that matches that variable"
"you mean something like a dict `{'a'=0, 'b'=1, 'c'=3}` and  a variable `lookup_key = 'a'`?"
give me a few minutes to translate the code in english
no problem.  What’s your native language?
"Serbian; ```while True:
    print(
        ""Welcome to our shitttttty calculator. First, choose two numbers, the choose the operation."")

    first_number = float(input(""Enter the first number: ""))
    second_number = float(input(""Enter the second number: ""))

    dictionary1 = {""addition"": first_number + second_number, ""substraction"": first_number - second_number,
              ""multiplication"": first_number * second_number, ""division"": first_number / second_number }

    user_input= str(input(""Choose your operation: ""))

    if user_input in dictionary1:
        print(dictionary1.items())
        break```"
"so, its `user_input` you’re looking for?"
"yes; I want to...; when user_input matches a key in dictionary1 (when their values are matched) , then to print the value of that matched key; I don't know how to target that"
"so, `dict` has a few methods on it that you would find useful here.  first, `items()` returns a tuple of `key, value`.  Also, `key()` returns a list of the keys, and `values()` does the same for values; so, here, you would want to leverage `keys()` for your `if user_input` conditional; for example, with your dict above, `addition in dictionary1.keys()` returns `True`"
"yes, I googled that a little, and I know that it returns the whole list of values and keys, but I want that one specific value from dictionary, not all of them..."
"alright; so, if you have `if user_input in dictionary1.keys()`:; and `addition` is user_input; so, you know `addition` is a key in the dict; how do you access keys with a dict?; `dictionary1[user_input]`"
"hey all, if anyone has any experience with selenium I've got a quick question I just posted in learning_python"
thanks...I did not know that I can target values outside of dictionary...
"oh, yes.; but remember, in order to get a value from a dict, you either have to know the key beforehand; eg, `dictionary`[‘addition’]`; or loop through it and doing some comparison"
aha...makes sense...
"if you want to simplify things, you can use list comprehensions

`[value for key, value in dictionary1.items() if key == user_input]`; which returns a list of matches"
"I came from more then a  year discrete math course, and I thought the transition would be much more easier. The most difficult thing in programming so far has been the understanding how the language actually works, quirks, what am I allowed and not allowed to do..."
"yup; there are two major difficulties, I feel; one: describe what you want to do in discrete steps; two, use the language syntax and tools to replicate the project steps; first language, you typically struggle with both at the same time, because you need to get the syntax and how to use it to do what you want; but after that, its easier to pick up another one"
"yes, exactly, number two is a bigger problem now :slightly_smiling_face:"
"like for me, I originally started in java; and there were lots of times where I felt I was paying the university for nothing more than to feel like an idiot"
"I was considering to start in Java, there are more jobs, more mature language, static typing, etc. But as soon as I saw hello world in Java and Python, I made my decision :smile:"
"java and python have alot of good things; I’m equally comfortable wokrking in both; but then, I’m a full stack dev in both languages; everything from server configuration all the way to css styling for a web application"
"java seems okay to me, but java developers often overcomplicate things"
"Do you have Skype, email, facebook, or some other tools of communication where  I can ask you something when I get really stuck? :slightly_smiling_face:"
"like when they have a single class (a custom service sdk) with a bunch of methods to test, they're likely to
a) create the sdk interface (even if it's obvious there won't be an other implementation)
b) create the abstract base class implementing the interface (even there won't be more than one subclass, ever)
c) repeat a and b for the testing suite (!)"
"yep; all that is implemented ad nauseaum in the spring framework; architecture astronauts :slightly_smiling_face:; just ask here, to be honest"
"Oh, if only in the spring framework. Much likely in an in-house, custom framework which won't have many nice integrations and features spring provides"
"because I’m not really a mentor, nor do I have the time to be.  Also, being part of the community here means you get to ask questions and then as you get better, contribute back"
"sure, I understand"
"I’ve only worked on two large java projects.  one was in spring, other was in google web toolkit with a custom in-house library; and honestly, the in-house library was about 100KLOC of some of the best code I’ve ever read.  Sure, there were some warts in it that I was glad I didn’t have to implement, but overall the code quality was extremely high.  Most of the problems came with integrating with GWT.. so glad I don’t have to do that anymore"
You're lucky then
"I guess what I’m trying to say is in a community like this, you get more resources from multiple people than just relying on one person :slightly_smiling_face:"
"I'm definitely fan of a very specific, well-written, tested in-house library that does the thing"
"To be fair, originally a lot of that was pretty much required for proper unit test mocking ; In Java/spring"
"None of that applies to our current developers, unfortunately"
"no, I was not really looking for a mentor, I was looking for someone to answer some  questions when I get stuck,  5-10 minutes max, but as you said, I can get that help on the <#C07EFMZ1N|help> channel...maybe I was thinking that you are the only living person on that channel :smile:"
"ah, no worries :slightly_smiling_face:  thanks for understanding!"
np
"Does anyone know how i can split this string into multiple parts ```'media/Clearance.png?sometexthere'``` ideally i'd like just the Clearance.png; so if i was splitting it it'd be 'media/', 'Clearance.png' and '?sometexthere'; I have ```f = imgString.split('medias/')[1]
g = f.split('?')[0]
print(g)``` but i'd prefer it on one line"
"If it's always a similar format you could regex it and get the groups, but that's less obvious and I'd favor a few lines to a single line if it isn't as clean "
"Yeah the image name will change, but media/ and ? stay the same, i'll probs stick to what i have, it works so :smile:"
do you have the full path available?
"if so, you can use the `urlparse` library"
"```
# python3
from urllib.parse import urlparse

# python 2
from urlparse import urlparse
parsed = urlparse('media/Clearance.png?sometexthere')
```"
"outputs this

```
In [27]: parsed
Out[27]: ParseResult(scheme='', netloc='', path='media/Clearance.png', params='', query='sometexthere', fragment='')

In [29]: parsed.path.split('/')[1]
Out[29]: 'Clearance.png'
```"
Yeah i'm scraping with bs4 and the image name ie (Clearance) changes so I can't reference it; Thanks tho <@Meg>
"I'm trying to understand how I can implement the google speech api for my purposes. There's a good example by them `<https://github.com/GoogleCloudPlatform/python-docs-samples/blob/master/speech/cloud-client/transcribe_streaming_mic.py#L170>` That deals with streaming from a mic. I've gotten this `transcribe_streaming_mic.py` to work. But I'm a little confused with if I should be using async vs sync.... and how to modify this for my use case. I want to only collect up to five seconds of data at a time with the ability to short circuit the `listen_print_loop` if a certain condition is met. I'm think I can put a timer around the `with MicrophoneStream` and I can have the listen_print_loop(responses) throw an exception when it meets a certain condition (timeout= 5 seconds, or correct response). Catch this response in the main and do something based upon it.

I'm going through their api reference docs to see if there's something I can use: `<https://googlecloudplatform.github.io/google-cloud-python/latest/speech/gapic/api.html>`"
Is there a particular channel here that deals with coding issues?; or do most folks paste into the <#C07EFMZ1N|help> Channel
yeah <#C07EFMZ1N|help> is a good place :slightly_smiling_face:
"<@Ciera> nice thanks!; here it is:; ```

# import webbrowser
# import jsonfrom urllib.request import urlopen

print(""Let's find an old website."")
site = input(""Type a website URL: "")
era = input(""Type a year, month, and day, like 20150613: "")
url = ""<http://archive.org/wayback/available?url=%s&amp;timestamp=%s>"" % (site, era)
response = urlopen(url)
content = response.read()
text = contents.decode(""utf-8"")
data = json.loads(text)
try:
    old_site = data[""archived_snapshots""][""closest""][""url""]
    print(""Found this copy: "", old_site)
    print(""It should appear in your browser now."")
    webbrowser.open(old_site)
except:
    print(""Sorry, no luck finding"" , site)

```; I'm getting the error of: 

```

Traceback (most recent call last):
  File ""archive.py"", line 8, in &lt;module&gt;
    response = urlopen(url)
NameError: name 'urlopen' is not defined

```; I want to say I am missing something; btw this is from the books ""Introducing Python"""
your imports seems to be commented out; `from urllib.request import urlopen`
"```
import webbrowser
import jsonfrom urllib.request import urlopen

print(""Let's find an old website."")
site = input(""Type a website URL: "")
era = input(""Type a year, month, and day, like 20150613: "")
url = ""<http://archive.org/wayback/available?url=%s&amp;timestamp=%s>"" % (site, era)
response = urlopen(url)
content = response.read()
text = contents.decode(""utf-8"")
data = json.loads(text)
try:
    old_site = data[""archived_snapshots""][""closest""][""url""]
    print(""Found this copy: "", old_site)
    print(""It should appear in your browser now."")
    webbrowser.open(old_site)
except:
    print(""Sorry, no luck finding"", site)


```; I just noticed that too"
btw I recommend you to use this module `requests` to do http calls it's a lot easier
where would I use this?  I am extremely new to python; and I haven't coded in YEARS
the documentation is pretty straightforward; <http://docs.python-requests.org/en/master/>; but if you are following a book it might be better to follow what it says. It depends how you like to learn :slightly_smiling_face:
I am open to learning various ways.  I am typing exactly what the books says but the program isn't interpreting correctly
what's the error ?; maybe once you have made the book version try to rewrite it using requests
"```

Traceback (most recent call last):
  File ""archive.py"", line 8, in &lt;module&gt;
    response = urlopen(url)
NameError: name 'urlopen' is not defined

```"
`import jsonfrom urllib.request import urlopen` this should be on two lines
terminal is coming back with a syntax error: urllib.request
"python3 ?; ```
Python 3.6.2 (default, Aug  7 2017, 10:49:43)
[GCC 5.4.0 20160609] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; from urllib.request import urlopen
&gt;&gt;&gt; urlopen('<http://www.google.be>')
&lt;http.client.HTTPResponse object at 0x7f528a1fb940&gt;
&gt;&gt;&gt;
```"
I am running it via python 3.5; I have Python 3.5.2 :: Anaconda 4.2.0 (x86_64); MacOS 10.12
hmm I don't know. Does a simple import of `urllib` works ?
<@Suellen> :taco: Thanks for the link for `http.server`. That seems to do what I want.
Hi All anyone online currently?
"<@Carlene> Yup; ```import webbrowser
import json
import requests

print(""Let's find an old website."")
site = input(""Type a website URL: "")
era = input(""Type a year, month, and day, like 20150613: "")
url = ""<http://archive.org/wayback/available?url=%s&amp;timestamp=%s>"" % (site, era)
response = requests.get(url)
data = response.json()
try:
    old_site = data[""archived_snapshots""][""closest""][""url""]
    print(""Found this copy: "", old_site)
    print(""It should appear in your browser now."")
    webbrowser.open(old_site)
except:
    print(""Sorry, no luck finding"", site)```
Made few changes, this should work."
<@Shelly> oh Hello! Thank you very much!; Can you please tell me what changes you made? This is very new to me
`import requests` in place of `from urllib.request import urlopen`
"```

Traceback (most recent call last):
  File ""/Users/tanuja/Desktop/IntrotoPython/archive2.py"", line 3, in &lt;module&gt;
    import requests
ImportError: No module named 'requests'

```; why am I getting this error"
"`requests` package is not installed, do `pip install requests`"
"WORKED like a charm, and thank you!!; what is the diff from import requests to urllib.request import urlopen?; <@Shelly>"
"`urllib.request.urlopen` is a library that comes with python, while `requests` is a package created by a third party developer; they both do the same thing at the very core (deal with http), but requests is a much much easier package to use"
"I am  facing issue in Converting iPython Notebook file to PDF
I have posted question on Stackoverflow but no response till now
Please help

Stackoverflow Question Link
<https://stackoverflow.com/questions/43247818/error-in-converting-ipython-notebook-file-to-pdf>"
Could someone explain this whole tox.ini thing? Is that just for linters and coverage? Will mypy follow it? Is it deprecated?; <https://tox.readthedocs.io/en/latest/> seems to make it like tox is all about unit testing
"It's useful when you need to test your codebase against a matrix of dependencies; i.e. you webapp supports Django 1.11, 1.10 and 1.9; and it also works with Python 2.7 and 3.3+; just `make test` or `py.test` will only test against your current configuration"
or to run multiple test one after another :slightly_smiling_face:
"Right now, with my django tests, I'm using manage.py test, but that's inside of the env. I guess you'd use tox as an alternative to starting a specific venv and running the tests; What confused me intiially is that I do use a tox.ini file, but only for flake8 ignores and coverage omit's; but I can't seem to use it for mypy, I need a mypy.ini for that"
as tox is widely use some tools allow you to put their configuration inside the `tox.ini` file to limit the number of configuration file; I have no idea if mypy allow that; there might be a command line arg to pass the configuration file
"Mypy could easily add pattern matching for that, but I don't think it does; (hard to prove a negative :))"
<https://github.com/python/mypy/pull/2761>; so it's seem :bdfl: was against it in the beginning then change his mind
"His opinion certainly is reasonable; btw, separate topic, why do so many programs not come with man pages? Have nobody done it yet, or are people against it? (thiis is a very general question)"
python program ? or in general ?
in general
nobody :nose:
"for mypy for example, guido himself said ""no it's too complicated"" here: <https://github.com/python/mypy/issues/2599>
but there's a thousand big projects missing manpages; (not literally ""too complicated"")"
well if it's for using the output of the `--help` I don't really see a need; and as he said it creates more complexity to release; maybe if there was a way to generate man page from sphinx doc
FYI: <https://github.com/pyslackers/community/blob/master/introduction.md#taco-bot-taco>
"Hi there, I'm kinda new in the ""do the stuff by yourself"". Since I broke up with school books and tasks so, I started a little project in Python, a Bible Verse Searcher (It's my first Python Project, and it will be donated to my local church, ¡Yay!)...

Apart from the boring part, I'm trying to parse the XML of the Bible in a Finder class, but I got this:
```Traceback (most recent call last):
  File ""Documents/Universidad/Python/Bible/BibleSearcher.py"", line 4, in &lt;module&gt;
    class Finder():
  File ""Documents/Universidad/Python/Bible/BibleSearcher.py"", line 6, in Finder
    tree = et.parse('RVR1960.xml')
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/xml/etree/ElementTree.py""
, line 1196, in parse
    tree.parse(source, parser)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/xml/etree/ElementTree.py""
, line 586, in parse
    source = open(source, ""rb"")
FileNotFoundError: [Errno 2] No such file or directory: 'RVR1960.xml'  ```

You can say, ""You don't have the freaking XML in the same folder, you big dummy!"" but I have it, actually. Do you have an idea what's going on here?; And, if someone has ideas to make this program interesting (functionality) I'll be thankful if you share them with me, :smile:"
"The XML might be in the _same_ folder, but that isn't necessarily the folder that the program is running from"
"So, full path is the solution?"
Maybe; You get to decide where you run a program from.
full path is always better :slightly_smiling_face:
"Well, I got this: ```FileNotFoundError: [Errno 2] No such file or directory: '~/Documents/Universidad/Pyhon/Bible/RVR1
960.xml'   ```"
typo
I don't get this... :disappointed:
Pyhon vs. Python
Still not getting it :S
you have typed the path incorrectly
"Well, You have to know, I'm not running it whitin a venv :see_no_evil:; Oh"
which is at least one argument against using a full path
You think maybe a solution could be setting up a venv?; Or makes no difference :confused:
Your most immediate solution is just to type that path out correctly.; Your second solution is to work out why you seem to be running the program from somewhere other than where the XML file is.
"Ok I found the full path, thanks... Tacos but, still thinking about the venv, maybe that's a better solution (beginner with that stuff, don't know if the venv really matters); :taco: <@Gabriele>; And, if yes, I have a serious problem because I just moved from atom to MacVim :S; And I'm kinda new using it so, I don't know anything about running venv's in vim."
Virtualenvs wouldn't really change the nature of this problem. Mostly it just ensures that your libraries are exactly what you want them to be.
"Oh, nevermind then... Thanks again, bro; Ok, another question (I really need to wonder if I really learned Python)... Uhhh; I have this:
```import xml.etree.ElementTree as et

class Finder():
    version = 'RVR1960' # Default version in Spanish Bible
    tree = et.parse('/Users/alfonsoima/Documents/Universidad/Python/Bible/RVR1960.xml')
    bible = tree.getroot()

    def __init__(self):
        pass

    def find(book = ""Génesis"", chv = ""1:1""):
        try:
            cha, ver = chv.split(':')
        except:
            cha = chv
            ver = '1'
        finally:
            return bible.find('./b[@n=""{}""]/c[@n=""{}""]/v[@n=""{}""]'.format(book, cha, ver))
```
And the shell prompts this:
`NameError: name 'bible' is not defined `; So, I tried with the `global bible` then `return bible.find(args)` but still didn't work.; And `self.bible` neither works."
"your class isn’t being created properly. Your `def find()` method has no ‘self’ being passed into it so it would need to be decorated with `@staticmethod`.; i would suggest structuring you class a little differently. I would pass in that full path like so

```
class Finder(object):
    def __init__(self, version, xml_path):
        self.version = version
        self.xml_path = xml_path
        self.tree = et.parse(xml_path)
        self.bible = tree.getroot()

    def find(self, book, chv):
        try:
            cha, ver chv.split()
        except SomeError:
            cha = chv
            ver = '1'
        finally:
            . . . 
```; then you can do 

```
finder = Finder('1.0', '/path/to/xml_file.xml')
book = finder.find(book='Genesis', chv='1:1')
```; <@Lana> :point_up:"
Why am I so bad structuring this stuff while you guys are awesome?; :taco: <@Johana>
"it’s just experience :wink:.; you’ll get there.; you may also want to start introducing some assumptions for sanity’s sake.; for example an app/script that finds things in bible xml should be able to safely assume where the files are located…; i think having to specify the full_path is unnecessary. could offer a way for the user to override this behavior by doing this:

```
def __init__(self, xml_path=None):
    if xml_path:
        self.xml_path = xml_path
    else:
        self.xml_path = '/path/to/file'
```"
"Sounds awesome...; And, about the experience, I have ~1 year and... Nothing I can say :stuck_out_tongue:"
scripts never die so it’s best to design them in a way you can run them and they work for the most part b/c 3 months from now you might not remember :wink:.; i love having defaults that just work.
The Bible was written in XML?; TIL
Think it was originally written in YAML and King James converted it to XML
"Hello, I have mind problem with TDD using mock. 
I can't just break through this: 
How can I write test before my code using mocking if I'm not exactly sure what I want to use?
It's nice when You're testing behavior of something but when it comes to use some side-effect generating objects it's unbreakable wall for me.
I know how to write unittest, mock things .etc but I don't really know how to do testing before code when 
I'm not sure what will fit best.
For example when I'm using paramiko to do some sftp staff I simply can't predict every thing I do because I don't really know this lib enough. (Well, I know paramiko, this is just example :D)
When I'm trying stuff and checking how it works... well I'm ending up with already created solution... and then pre-testing is becoming a post-testing which shouldn't be done in TDD

halp
:confused:"
"<@Carie> I think you'd generally do best by ""wrapping"" the external lib and then testing those functions, you can define a noop function and write tests around it (obviously they fail immediately). Then you integrate the external lib into those functions (so none of your main app code uses the external lib, since that's an ""implementation detail"") and keep going until it's passing."
"hi guys, quick question, im trying to make a really simple crud api. does this make sense?
```

CREATE AN ALBUM
album/create/{artist_id}/{album_id}
return all albums with artist name, album name, genre, year with the new album

DELETE AN ALBUM BY ALBUM ID
album/{album_id}
=returns albumin, album name, artist name, genre, year that was deleted

PUT/UPDATE AN ALBUM BY ALBUM ID
album/{album_id}
=returns reads all albums with artist name, album name, genre, year with the updated version
(for each artists with multiple albums are grouped together)

GET/READ AN ALBUM
album/{album_id}
=returns reads album name, artist name, genre, year that was deleted

1: {
albumName: ['Do You Wanna Know', 'Some Other Album']
artistName: 'Arctic Monkeys',
Genre: 'Rock'
]

```"
<@Eartha> if you wanna make rest api I’d recommend you don’t use verbs in urls and use http methods instead
"`from typing import Iterable, Iterator, Sequence`

An iterator describes the actual iterator object (e.g. what you get back when you run `iter(some_list)`).
An Iterable is some object `xs` that you can do `for x in xs: ...`
A Sequence describes an object `xs` that is an Iterable that also allows you to grab a specific element, e.g. `xs[4]` (that is, xs has a `__getitem__` method defined). An Iterable MAY have `__getitem__`, but a Sequence MUST have it.

Correct?; So, when I'm annotating a function, I could use Iterable if I want some duck typing and I know that I won't be accessing a specific member of the object, but I have to use Sequence if I ever access a specific member (e.g. I'll run `xs[-1]` at some point, if xs is the object we're annotating)"
seems correct
"This is all in the context of type annotations btw, which is why the official definitions as found in the docs might not match up; I really wish that the Callable type annotation was more advanced... It'd be cool if I could for example create a NewType for a Django view function, being a ""Callable whose first argument is HttpRequest, ignoring all the other aspects"". Right now the annotation is `Callable[[arg1, arg2], return_type]`, but there's no way of doing e.g. `Callable[[HttpRequest, ...], Any]`"
<@Lanita> why would you annotate a django's view function?
"<@Collette>, it would make it clearer when writing e.g. decorators"
"<@Lanita> this is a very, very specific use-case. I doubt it's worth it to introduce a custom syntax to handle this case (imo, a good type checker should infer all necessary information automatically), but you can always open a feature request"
"<@Collette> No, it's not anywhere near ""very very"" user specific. This is a standard part of python function definition syntax. E.g. doing `def f(some_arg, *rest_of_args)`; Being able to annotate that function as `Callable[[type(some_arg), ...], Any]` would be neat; It's also common when ""overloading"" methods in classes, e.g. class A has `def some_method(arg1)`, class B which inherits from class A has `def some_method(arg1, extra_arg)`; example of similar things proposed: <https://github.com/python/mypy/issues/3157>"
"<@Lanita> you're implying that type annotations should be everywhere. No, they don't.
It would be good if `typing` would support that use-case, but to me it doesn't seem so much critical at all."
"That's why I proposed you to create a feature request, and looks like it's created already by someone else"
"Well multiple people clearly think otherwise, as proven by the various issues on mypy with positive response regarding this subject..."
"Even more people haven't participated in these issues, who may have another opinion. But let's not discuss that.

Again, I'm not against this feature. I just think that
a) annotating everything will destroy one of the most important features of python (to me) - readability,
b) therefore it would be better to improve static type checkers to infer as much as possible;
c) however, I think we can live without type checking in this specific use-case because we lived without `typing` module for a quite long time and sky didn't fall, but
d) it won't hurt anyone if this feature is supported. Some folks will definitely find it useful."
"I have a string with a method name in it, I'm looking for a way to call that function on an instanced object identifying the method by the name of the string.

This somewhat works, but is ugly as can be:
```instance.__class__.__dict__[method_name](instance)```
Except, these are inherited objects, and inherited methods aren't accessible.

There must be a better way.; Actually, it looks like ```getattr``` will do that. Slightly less ugly."
maybe something like:
"Yeah, that's what I found. It will work. Thanks.; A lot cleaner than the mess I had above."
"No problem, you beat me to it!; if you expect this behavior, you may be able to add methods to class that operate on state of instance"
I'm not sure what you mean.
"you’re operating on an instance of a class, why not write a method on instance to take in `self`?"
I'm still not sure what you mean. Example code?
"This is what im thinking, but I don’t actually know what your function is doing."
"Sorry, got distracted.

I see what you are saying. I think the getattr fits what I'm doing better.; I realize I didn't describe how I got there, so it makes it difficult. It is just a lot of code across different modules.

But, it's from a modular gui in kivy that is listing a pretty version of a method name, the user selects what objects, and from there what methods to run, and kivy then sends on the list of strings. It's been interesting, for sure."
"ah yeah, I was making assumptions about what you were doing :neutral_face:; that definitely does sound interesting!"
"Hi guys!

I just joined this channel.
I am hoping that someone can maybe help me with a matplotlib chart I'm struggling with.

```
sns.set_palette('muted')

fig, ax1 = plt.subplots(figsize=(12, 6))
fig.patch.set_facecolor('grey')

ax1.plot(df['Time'], df[[col for col in df.columns if 'level' in col]])
ax1.set_xlabel('Time of day')
ax1.set_ylabel('Dam level (%)')
ax1.set_ylim([0, 100])

ax2 = ax1.twinx()
ax2.plot(df['Time'], df[[col for col in df.columns if 'status' in col]])
ax2.set_ylabel('Pump status')
ax2.yaxis.set_major_locator(MaxNLocator(integer=True))

#ax1.xaxis.set_major_locator(mdates.HourLocator())
#ax1.xaxis.set_major_formatter(mdates.DateFormatter('%H:%M'))
fig.autofmt_xdate()
plt.xticks(rotation=90)
'''hfmt = mdates.DateFormatter('%H:%M')
ax1.xaxis.set_major_locator(mdates.HourLocator())
ax1.xaxis.set_major_formatter(hfmt)'''

ax1.grid(which='major', alpha=0.5)
ax2.grid(which='major', alpha=0.5)

fig.tight_layout()
plt.show()
plt.close('all')
```; It's plotting data with x data being time format.; I actually want the x ticks to be rotated 90 degrees, but that's not happening for some reason
I also want the x ticks to be each hour, but as soon as I uncomment the two #-commented lines, the xticks go away entirely

Could someone please help?"
"I've not used matplotlib, but others likely have. It takes a bit to get a response though, especially when other libraries are involved."
I'm starting to dislike matplotlib more and more :neutral_face:
<@Luana> can you clarify? those crud operations are based on http methods. but you still want to reference the domain in this case `/album/{some_params}` correct? maybe I’m missing something?
"Ok little doubt...; Never mind, I was going to ask for floor division in Python 3, found the `foo //= bar` one; *UPDATE*: It doesn't work, proper syntax is `foo // bar`"
"<@Lana>, check out `divmod` too"
"Thanks <@Winnifred> but I'm trying to do something different. A 3x2 deal within a function; My code looks like this: `self.pOH -= (self.pOH // 3)`; If `self.pOH = 5`, then `self.pOH -= (self.pOH // 3) = 4`; Anyway, looked up the docs, you're right!; :taco: <@Winnifred>"
"ha, yeah, there’s lots of ways to do what you want"
"Can someone help here with cryptography lib in python.. 
I am trying to decrypt the text which I get from node.js app.  
This is how I can decrypt the key in nodejs
`key.decrypt(&lt;encrypted_text`, ‘base64’, ‘utf8’, ursa.RSA_PKCS1_PADDING)`
However, when I try to decrypt same text using python `cryptography` module, I get error.

Here is more detail:  I am trying to decrypt that in python using this code :

```from Crypto.Cipher import PKCS1_v1_5
from Crypto.PublicKey import RSA
from Crypto.Hash import SHA
from Crypto.Hash import SHA
from Crypto import Random
from base64 import b64decode

key = RSA.importKey(open('cert.key').read())
sentinel = Random.new().read(15+dsize)      # Let's assume that average data length is 15
text = b64decode(&lt;encrypted_text&gt;)

cipher = PKCS1_v1_5.new(key)
message = cipher.decrypt(text, sentinel)
print 'message =====&gt;', message`
```
I get this error:
```
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-180-a1b00798e108&gt; in &lt;module&gt;()
     19 
     20 cipher = PKCS1_v1_5.new(key)
---&gt; 21 message = cipher.decrypt(text, sentinel)
     22 print 'message =====&gt;', message, '\n'
     23 digest = SHA.new(message[:-dsize]).digest()

/Users/skapil/.virtualenvs/dave/lib/python2.7/site-packages/Crypto/Cipher/PKCS1_v1_5.pyc in decrypt(self, ct, sentinel)
    202         # Step 1
    203         if len(ct) != k:
--&gt; 204             raise ValueError(""Ciphertext with incorrect length."")
    205         # Step 2a (O2SIP), 2b (RSADP), and part of 2c (I2OSP)
    206         m = self._key.decrypt(ct)

ValueError: Ciphertext with incorrect length.
```"
"I told about this url `album/create/`

better to deal with it is send POST to `/album/`
```
POST /album/
%and here will be json of params like%
{
""artist_id"":123,
""album_id"":456
}
%or here will be post form params. It depends on your needs%
```
There is good article about rest api design. Link to urls explanation  <http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api#restful>

But! It’s all about http rest api. If you wanna some kind of rpc, it’s a different story"
"<@Daron> with an issue like this, look at how the incoming data is first created. how are you encrypting the original text?  seems that is the issue here.  what library is used in node?"
"Hi

Can someone please help me with this matplotlib fill_between?
```
x = range(0, 10)
y = x
fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(x,y)
fig.patch.set_facecolor('grey')
ax.fill_between(x, 0, 10, where=x &gt; 5 and x &lt; 7, facecolor='red', alpha=0.5)
```"
"<@Jon> can you give more info; if you want help, we need to know what's wrong and what you're expecting"
"<@Meg> it's giving an error on the last line

I want to shade the entire chart area for certain x regions. In this case, between 5 and 7 (excl.)"
what error
`TypeError: '&gt;' not supported between instances of 'range' and 'int'`; Any idea <@Meg>?
make sure what you are comparing are ints; or the same type
"Well, x is a range of ints?"
"Comparison must between the same type, or after implicit conversion "
"To be honest, this was just an example that I tried
My actual one has x values being of DateTime time; *type; Can someone please help?"
<@Jon> the issue is your original example is non-representative of your actual input.  You didn't specify a crucial part of the problem at the start.  And you've given no indication of actually using datetime objects for comparison
"Okay I'll re-post using that; It's just much longer, which is why I tried to generalise it a bit; ```
sns.set_palette('muted')
x = df['DateTime2'].values

fig, ax1 = plt.subplots(figsize=(12, 6))
fig.patch.set_facecolor('grey')

ax1.plot(x, df[[col for col in df.columns if 'level' in col]])
ax1.set_xlabel('Time of day')
ax1.set_ylabel('Dam level (%)')
ax1.set_ylim([0, 100])

ax2 = ax1.twinx()
ax2.plot(x, df[[col for col in df.columns if 'status' in col]])
ax2.set_ylabel('Pump status')
ax2.yaxis.set_major_locator(MaxNLocator(integer=True))

ax1.xaxis.set_major_locator(mdates.HourLocator())
ax1.xaxis.set_minor_locator(mdates.MinuteLocator(byminute=30))
ax1.xaxis.set_major_formatter(mdates.DateFormatter('%H:%M'))
fig.autofmt_xdate(rotation=90)
ax1.set_xlim((min(x),max(x)))

y = df[[col for col in df.columns if 'level' in col]]
x2 = pd.to_numeric(x)
ax1.fill_between(x2, 0, 100, where=x2 &gt; 990014340000000000/2, facecolor='red', alpha=0.5)

ax1.grid(which='major', alpha=0.5)
ax1.grid(which='minor', alpha=0.25)
ax2.grid(which='major', alpha=0.5)
#ax1.minorticks_on()

fig.tight_layout()
plt.show()
fig.savefig('output.png')
plt.close('all')
```
No shading is happening...; `x2 = array([989971200000000000,` ..... `990057360000000000, 990057480000000000], dtype=int64)`"
that's your problem there; because you need to compare on the actual values in `x2`; try `where=numeric_timestamp in x2`
So I should make a new list and check if the *numeric* timestamps are in there?
"no need.  look at my example above; ah, correction; yes; you can use a list comprehesion for that"
"Something like this?
`where=[x for x in x2 if x in list]`"
"so, the `where` param uses a comparison to evaulate as true/false to determine where fill happens; if you pass in a list of values, it needs something to compare with; and the `in` keyword does an exact match; <https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.fill_between.html>; ah, correction.; pass in the list there; but you'd have to do it with a division and comparison"
"I know. I just did that to make more red fill, so I can know if it works or not; I want to chart to be shaded between 7am and 10am; Oh I misread what you said. nvm"
eg `where = [x for x in x2 if x &gt; numeric_timestamp/2 ]`
Where numeric_timestamp is my chosen value
Hey everyone! Bit stuck on something. I'm using a nested list comprehension to retrieve data from a generator returned by a method in a tool I'm building. It seems a bit wasteful to do so - would using ```next()``` be more suitable for working with generators?
"<@Jon> correct.  In your code example, `numeric_timestamp = 990014340000000000`"
"<@Meg>, I dont know if I'm missing something now...

I did `(x2[0] + x2[-1])/2` and got `9.9001434e+17`
So then I did `ax1.fill_between(x2, 0, 100, where = [x for x in x2 if x &gt; 9.9001434e+17/2 ], facecolor='red', alpha=0.5)`

It's plotting, but there is no shading
If I remove the `/2`, I get `ValueError: Argument dimensions are incompatible`"
"Hello there, I'm learning Kivy and, I just got this error: 
```[INFO   ] [Logger      ] Record log in /Users/alfonsoima/.kivy/logs/kivy_17-09-06_1.txt
[INFO   ] [Kivy        ] v1.10.0
[INFO   ] [Python      ] v3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]
[INFO   ] [Factory     ] 194 symbols loaded
[INFO   ] [Image       ] Providers: img_tex, img_imageio, img_dds, img_pygame, img_gif (img_pil, img_ffpyplayer ignored)
 Traceback (most recent call last):
   File ""main.py"", line 2, in &lt;module&gt;
     from kivy.uix.Widget import Widget
 ModuleNotFoundError: No module named 'kivy.uix.Widget'```
The problem is that I tried `pip3 install kivy &amp;&amp; pip3 install pygame` and It just doesn't work"
<@Davida> could you share some code ? :slightly_smiling_face:
"<@Jon> is there a way you can check the list values outside of the `fill_between`?; eg, `[x for x in x2 if x &gt; 9.9001434e+17/2 ]` in the shell"
<@Ciera> will do - I need to genericise it first though :stuck_out_tongue: (work project)
what values are there
"I'm using jupyter, but I can do that in a new cell"
"<@Davida> when you're asking for help, code always makes things easier; since we don't know what you're doing"
<@Lana> is it maybe an additional thing to install ? I suppose `import kivy` is working ?
"<@Ciera> I'm an idiot, just pressed enter to this channel with my question and realized `kivy.uix.Widget ≠ kivy.uix.widget`"
"<@Meg> I am getting a long list of values. Too many to post here (my dataset is quite large)

`x2.shape` = `(720,)`
`len([x for x in x2 if x &gt; 9.9001434e+17/2 ])` = 720; I think I need a masked boolean array
Or what do you call it"
"<@Meg> noted. I need to be wary of being too specific, but I'll do what I can; <@Ciera> see below

```
#!/usr/bin/python

from logs import LogRetriever

l = LogRetriever()

# l.list_logs() output looks like this:
# [cruft, cruft, cruft, log_ID, cruft, cruft, log_ID]

groups = [i.log_group for i in [
    x for x in l.list_logs(
        param1,
        param2, param3
    )
]]
```"
"Because `len([x for x in x2 if x &gt; 990002640000000000 ])` = 457
So then it complains that the dimensions differ. I guess it expects 720 values
<@Meg>"
"That gives me a set of values as such:

```
[log_ID, log_ID, log_ID, log_ID}
```"
":taco: Anyway, thanks <@Ciera>"
"Again, I'm starting to practice everyday so, still kinda new :S"
<@Ciera> I was thinking of simplifying that giant list comp by using ``` next(groups)``` instead but not sure if that'd work
<@Lana> we have all been there :wink:
Thanks again
"<@Davida> I don't know but, is not the `next()`method callable when you use `yield`instead of `return`?"
there is definitively a better way <@Davida> jsut need to find it :smile:
"Oh, I just scrolled up, you know that, sorry"
"<@Lana> not necessarily, according to the docs (<https://docs.python.org/3.4/library/functions.html#next>) it's callable on any iterator. I am unsure whether a generator is different to an iterator, though - that's where I'm kind of :scream: ing

e: Gah, no markdown support in Slack, I geddit"
"<https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>; but yeah, no MD formatting is a bit of a PITA; <@Davida> basically, a generator is an iterator, but an iterator is not a generator"
"<@Meg> gotcha, thank you. Just found that help page and am disappointed that Slack hasn't implemented MD, but it is what it is."
"I'm not really sure of what this does `[i.log_group for i in [
    x for x in l.list_logs(
        param1,
        param2, param3
    )
]`; you don't do anythin g on x or i"
"l.list_logs() returns a list of lists. Each nested list contains a field named ""log_identifier"". I'm trying to extract that field, and only that field."
would somehting like that work `[x[2] for x in list_logs(...)]`
"that would work, yes!"
fyi you can also put `if` statements inside a list comprehension
o.O; so glad I'm here
"like `[x * 2 for x in [1,2,3,4] if x % 2 == 0]` will give you `[4,8]`"
"<@Meg> 
I tried doing it differently now:
```
x2 = pd.to_numeric(x)
x2_mask = np.ma.masked_greater_equal(x2, 990002640000000000).mask
ax1.fill_between(x2, 0, 100, where=x2_mask, facecolor='red')
```
I'm not getting any errors, but also, no shading is happening,..."
sorry :confused: maybe ask on stackoverflow or the matplotlib github issue tracker; <https://github.com/matplotlib/matplotlib>
"Thanks; Addtionally, I have a bar chart question...

```
score_sim = (70, 80, 90)
score_feat = (10, 20, 30)
ind = np.arange(len(score_sim))    # the x locations for the groups
width = 0.35       # the width of the bars: can also be len(x) sequence

p1 = plt.bar(ind, score_sim, width)
p2 = plt.bar(ind, score_feat, width)

plt.ylabel('Scores')
plt.xticks(ind, ('1-factor', '2-factor', 'n-factor'))
plt.yticks(np.arange(0, 101, 10))
plt.legend((p1[0], p2[0]), ('Simulation score', 'Feature score'), loc='best')
```

I want to change the order - i.e. have the simulation score be below the feature score.
When I swap and 'rename' the p1 and p2 rows, only one series shows up in my plot; <@Meg> FYI, SO helped me - I ended up using `ax.axvspan`"
"Hello everyone! I am building a desktop application that will be uploading images to amazon S3 using `boto3`. However I haven’t figured out the best way to store the credentials to access the bucket.

I have created a IAM User with only the PutObject policy, but how can I request the credentials for this user without having to store it in a file or hardcode it? Any ideas?"
"<@Cecelia> Is the app being distributed to end users, or just for yourself?"
You can store them in env variables in os as far as i remember
It is being distributed
"The problem with distributing them is that then any user can generate signed requests for uploads to the bucket (if your policy is set well, that may be okay - but I don't think the policy allows you to control sizes). But most cases of boto3 usage I see are webdev (vs desktop) - so I am not sure on the ""best practice"" other than to maybe have a web-service that generates the presigned urls"
"that would probably be best, IMO; have the web service as a middleman; upload the file(s) to the server, which then would put directly to S3"
"Would then only asking the server for a session token be sufficient?; The files are specific and generated, being around 100KB, so size won’t be a problem.; This way I can store the credentials in env variables"
"I don't see how asking for a session token is different than the pre-signed URL, which would be the route I would go (that way the load is between the client computer and AWS, not your web service)"
"I'm plotting data like this:
```
lines1 = ax1.plot(x, df[[col for col in df.columns if 'level' in col]])
ax2 = ax1.twinx()
lines2 = ax2.plot(x, df[[col for col in df.columns if 'status' in col]])
```
I added a legend like this:
```
plt.legend(lines1, ('a','b'), loc='best')
```

Gives; How do I add lines2's legend entries into that same legend box?"
<@Beula> got it! thanks for the advice!
"Hello everybody, I am going to start a new project soon and I've decided to settle for Django. However, I have absolutely no experience in Python, Django &amp; any kind of hosting beside fully-managed VPS or shared. Now, since the beginning of my ""learning"" journey, I've stumbled across many tutorials that were for Linux &amp; I also read about some Python libraries that were not compatible with Windows at all... So I would like to know if I should install a Linux partition to start my project (which would add another layer of complexity since I haven't touched Linux since ~10 years). Would it be worth it to take the time to install Ubuntu, learn how it works and how to set up the hosting or would I be perfectly fine just staying on Windows with PyCharm (here though, I am quite scared about the moment where we will have to deploy in production xD) Thanks!"
"You’ll definitely want to get a bit of a sense for how it’ll be hosted and learn some of the ins and outs of it.; But I don’t know that you need to go as far as installing Ubuntu - I’d recommend Docker.  It has its own learning curve (although personally I don’t find it to be that steep); But it’ll allow you to work in Windows, but run the application in the same Linux environment it will run in on the server"
So you would recommend Docker and not Vagrant?
and it allows you to pull in things easily like Postgres or Redis; definitely; if you were experienced with Linux and this was going to be something else to pile on then I might say it’s not worth it
"lol ok, I don't know anything about these tools, but I'd like to not waste my time learning something useless haha"
"But you’ll need to learn how it’s going to be hosted, and in my opinion investing the time learning docker rather than running linux and how to put all the rest of it together that way will take you a lot further"
cool
"there are plenty of docker lovers here and in <#C22DMH61M|devops> too, so if you get stuck and need help, just ask"
do you know if hosts can usually help with this?; it's free?
"Docker itself is free (the community edition at least, but that’s all you need); Hosting it of course will require you to pay somebody, but docker has some nice tools to get you running with that on AWS or other cloud providers"
We're on a VPS
Are you tied to this VPS?
"Hmmm, I wouldn't say so, but to start the project we'll be using it since my friend is already paying it for his (small) WP site"
"If you sign up for AWS you get a decent amount of free tier credit.; I’d recommend against sharing the hosting with other things, especially WordPress."
For security?
"yeah security, ease of management, etc."
"The issue I ran into when I was checking hosts like Heroku, AWS was that it seems like people ends up paying a ton... So I checked DO, which looked nice but it's not managed. After, I found WebFaction and my friend already had a managed VPS on HostWinds so we thought it would be a good start lol"
"A lot can be done on Heroku on the free tier actually; And I mean yeah you can end up paying a ton on AWS as you scale up, but honestly at the kind of scale that becomes an issue it’s not really feasible to be doing this sort of stuff on managed VPS boxes"
"Oh; So it might be possible for me to make the project on free Heroku to showcase it, then move it or scale up"
yup
"I will look into this; It's a bit scary though lol, with the Dynos and the Databases and everything seems to be customizable haha..."
ha.  it’s not so bad.
Im used to run PHP with MySQL/PHPMyAdmin on a shared hosting :stuck_out_tongue:
"it’s mostly a terminology issue, they complicate things with these crazy names like “dyno”; this stuff, in a sense, isn’t much different than what you did.  a “dyno” on heroku is basically just an instance of your application; and you put some files in standardized places so it knows how to run it; the big difference between running a python (or ruby or node) type web app and something like PHP via say Apache is that in Python you’ll usually run the application and have a webserver connect to via its ip address; so the user talks to say, Apache, like normal, and then instead of running mod_php or whatever inside apache, it will run what’s called a reverse proxy and send the connections to your web application’s ip and port"
oh; that sounds weird to me lol
"ha.  it does seem kind of weird at first, but it can be beneficial, because for example you can have many workers behind a simple reverse proxy; and it’s also possible to develop locally without needing the whole big heavy apache server"
"well, weird or not, I am very interested in both Python and NodeJS so gotta learn haha; I saw that Django seems to come with a kind of webserver on its own"
"yup, so that the reverse proxy can connect to it; and so you can develop locally"
"I see; So, my learning stack would be: Docker -&gt; Heroku -&gt; Python -&gt; Django?"
"That’s up to you - you probably could get started with Django on Windows without too much fuss.; But in my experience things like Node or Python projects do tend to be more oriented towards unix like operating systems, so problems can arise.; So yeah, to your original point, putting things in Ubuntu would help there.; But there’s a learning cost, so in my opinion it’s worth it to just learn Docker instead, it’ll give you the same benefits and so many more.; And then too when you go to deploy the site, you can rest easy knowing you are deploying the same thing you developed on."
Docker and Python have some decent courses on Pluralsight if you have a subscription.  The Django course there is kinda old now
"Yeah... I am not very good in the ""sys"" side so the faster I can start coding, the faster I will be comfortable building the site lol xD"
"oh that’s a good idea, yeah a course like that might help jumpstart things a bit"
I don't have an inscription but they give a 10 days free trial
"and that’s sort of the interesting thing too - Docker seems to many to be “advanced” but I actually think it helps do a good job of obfuscating a lot of the sys admin stuff pretty well; so that in the end that yes, you need to learn this tool, but things overall get a lot simpler."
okay; well I suppose I could deal with Docker at the same time as I learn about Heroku; hum <@Britteny> do you have any specific course for Docker to recommend on pluralsight? There's like 63... xD
"yeah, make sure you feel comfortable with a simple hello world django app locally first"
"Getting Started with Docker - was good; Also, for Python “Python Fundamentals” and “Python – Beyond the Basics” really helped me"
oh nice they are much shorter than Udemy too lol
"Beyond the Basics is longer, but in my opinion there is no filler.  It’s all great stuff.  Actually, Beyond the Basics I think is the best screencast I’ve seen"
Hey guys; Could you list the most typical questions on python interview?
Is python pass by reference or value?
I think that’d largely depend on the position
I am applying to back-end role
"Junior, or senior?"
by value;); Middle
not all arguments are by value
"Explain the HTTP Request/Response process; Describe RESTful APIs, HTTP verbs, idempotent, etc"
"actually a common related question is about mutable default arguments, since many people don’t realize that each time a function or method is instantiated, it gets a reference to the same object; so if you have `foo(bar=[])` and modify bar in foo, each run of foo() will be modifyin the same default bar; MVC architecture will often come up, as well as perhaps some questions about [No]SQL or any ORMs you have experience with."
"Definitely, also maybe some basic SQL, joins, 3rd normal form, etc"
"CORS, CSRF tokens, other security related questions might come up as well.; mid-level is tough for both the interviewer and the interviewee because a mid-level is naturally not going to know certain things"
"I’m finding this kind of interesting.  When I interview these days, which has only really been for seniors recently, I’m generally looking for qualities above and beyond technical skills.  Your CV and Github / provided code should give evidence of that, and then I just want to understand  -how you solve problems, how do you learn something new, how do you work with your colleagues, how curious are you, how enthusiastic are you, when do you ask for help versus research on your own, etc"
yeah I certainly have moved away from a focus on very technical interview questions
"I find I ask no more than about 25 mins of tech questions, but then drop in stuff like ‘Have you seen the new feature in Node 8, what’s your opinion of async/await versus promises’; (we are mainly a JS environment)"
yeah I think that’s a good approach.  give people a topic and let them run with it and they’ll tell you a lot about themselves
"I like the async/await vs promises, basically language features, or differences between languages even and get their opinion"
I also like to talk to people about projects they’ve worked on in a very conversational manner.  I find it can tell a lot
"I usually ask stuff about what they're into, what excites them, their favorite projects they've been on"
"All of the above, yeah.  If they can’t talk coherently about the design choices and trade-offs they’ve made, then they’re not really fluent enough with the tech; For a senior role; I’ve not interviewed for juniors in 10 years, which is a bit sad really as we need to do more of that"
interviewing a junior is basically flipping a coin. lol
"Looks I am the only ""lucky guy"" with questions about big O; and internals of JVM; I am more a Java-developer but also looking for a python role"
"Haha.. wow.  I think it depends on who you interview with.  We’re not trying to be google and have the best engineering team.  We want to solve our customer’s problems, even those they haven’t been able to explain to us"
"Big O, algorithms, traverse a binary search tree in order, post order, pre order, but then your role has very little to do with that.  I mean I understand needing to know fundamentals but those questions have always bothered me.; But Java roles seem to like those types of questions."
Yeah agreed.  And honestly an interviewer asking those sorts of questions to me is a huge red flag about a place.
But there are many red flags though
I am ok with questions about datastructs and access/search time because you use datastructs every day
"yeah, that’s true, there are.  and that’s actually an important thing as a job seeker.  don’t settle for a place raising a bunch of red flags if possible."
But writing an optimal solution having 5 minutes when interviewer is near you - it is weird
Weird and just not how you do your day to day job.  I'm not what information interviewers think they gleaning from a candidate in those situations.
"it's neither by value, nor by reference"
"That's always been my issue with smaller companies following suit with the ""Google style"" of interviewing blindly. They fail to realize that these methods are essentially an ongoing experiment executed by organizations that can afford teams the size of companies to crunch the data and adjust processes, and absorb high failure rates (and the corresponding cost) because of their revenue per engineer and never-ending pipeline of candidates due to their size. Google and others are quite open about their attempts to quantify hiring and that it isn't a solved problem. It's all fairly interesting, but many people are too quick to get tunnel vision on the ""best practices"" of hiring and make it awful for the company and the candidate in the process, creating a market for interviewing skills that, like timgraf said, have no direct relation to day-to-day work."
"I think this was posted to a channel here not too long ago

<http://robertheaton.com/2014/02/09/pythons-pass-by-object-reference-as-explained-by-philip-k-dick/>"
"even with all ""blockers"" disabled or whatever."
"Is there a way to order words in the terminal? (MacOS/Linux)
```
The words looks li
ke this
```
And..
```
I want them
like this
```"
not simply like that.; you can take a list of words and sort them with `sort`. but it simply sorts lines from stdout
I think I didn't explain myself
"❯ echo ""a\nc\nb"" | sort
a
b
c"
"I want them not ""sorted"" but without splitting them among lines"
ok; can you paste that text in here?
"I'll use a lot of texts (actually, it's for a python project I'm working on), use any Bible verse, for example"
"yea just a sec; <@Charles> 
```
❯ echo ""i am blah bla bla words just fill asdf asdf \ndoo"" | tr "" "" ""\n"" | sort | tr ""\n"" "" ""
 am asdf asdf bla bla blah doo fill i just words
```; the command `tr` replaces text.; so make all spaces new lines. then simply `sort` them. then make new lines spaces; but also note in this case, you will end up with a blank line. so you may want to make sure that may not happen.; if possible"
"Nope, not working :confused:"
are you on linux or osx?; whats the error?
"OSX; I don't want that split:
```
word 1 word 2 wo
rd 3 # I don't w
ant this
==================
word 1 word 2
word 3 # This one
```"
"ok with the above, what is the expected output; so you also want to remove comments after the hash `#` ?"
Nope...
oh i see
I just want to NOT split the words; That's frustrating for those (including me) who love to read...
"ok. thats going to be harder to do intelligently. since what if those are actually 2 different words; such as is it a new line, or is it a ""word wrap"" which isnt a true new line. but to bash it looks like one.; joining the lines is easy. with simply `tr ""\n"" "" ""` its just where to do it and make sure the split words are kept whole."
I tried with `tput rmam`; But Terminal just gone crazy
yea.
"*FINAL*: Just came from MacOS Feedback page, looks like I'm not the only one with this issue (There's no possible solution right now in OSX Terminal or xterm for Linux Users)."
unfortunately doing this is easy until you try to keep the words from being split. sorting is the easy part as is joining lines. even in bash.; this isnt a bash issue really. its kind of a machine learning issue. though simple.; as you are trying to detect whole and real words
"I'll develop my code to detect the width of the window (In characters) and do the `""\n""`thing when words cannot fill in the current line; hope that works.; Thanks anyway <@Bruno> You made a great effort; You deserve this... :taco: <@Bruno>"
"when the word is split is there never a space after it and only a new line? and when the word is NOT split, is there always a space PLUS a new line?; lol thanks"
I don't get it
"if thats the case, you can change all only new lines with nothing, and space newline with space. so 
```
echo ""..."" | tr "" \n"" "" "" | tr ""\n"" """"
```; so. in your example above.; ```
word 1 word 2 wo
rd 3 # I don't 
want this
```; `wo` is split onto a new line from `rd`. and `don't` is split from another whole word `want` only 1 word is being split there, correct?"
I think I'm not getting your explanation
"what i mean, if `wo` has no spaces before `rd`, meaning its the same as `wo\nrd`."
I just want to disable text-wrapping
"and `don't` and `want` is split with a space AND a new line. so that its actually `don't \nwant`; then you could work with that.; since `SPACE` + `\n` always means whole words.; and `\n` by itself, is a slit word"
"Hello everyone.
I need help or teach about pybugz and bugzilla.
So could anyone help me?"
"<@Karyl> please share what you're trying to accomplish in some absolute term so people can try to grasp the actual ""problem"""
"Hi mattrasband.
I have no project or problem yet, just getting ready to the project using bugzilla and pybugz.
So I just want to prepare basic knowledge about it.
When i get specific project or problem, at that time i'll share it.; we can get open-source gitzilla  from ""<https://github.com/gera/gitzilla/>"".
I would like to know work-flow, or functionality of this gitzilla.
can you help me?"
"Hey everyone,
I’m experimenting with XML and Python. 
I’ve set up a new build system in Sublime Text to build with Python 3.6 instead of 2.7.
The system builds everything but there is no output in the console. CMD+Shift+B does not work either.
This is the python3.sublime-build file:
`{
	“cmd”: [“python3"", “-u”, “$file”],
    “file_regex”: “^[ ]*File \“(...*?)\“, line ([0-9]*)“,
    “selector”: “source.python”,
    “encoding”: “unicode”,
    “path”: “/Library/Frameworks/Python.framework/Versions/3.6/bin/”
}`"
"I am struggling to break up the following line of code into multiple lines. Everytime I try I get either a lint error or the JSON variables fail to resolve resulting in a sql string that had the literal variable name rather than the variable data. Sry if this is a dumb question, I'm pretty new to python.; '''
sqldatastring = ""insert into table_warinfo_test1(war_name, clan_name, clan_tag, endTime, opponent_name, opponent_tag, preparationStartTime, startTime, teamSize) values('"" + war_name + ""', '"" + PARSEDJASON['clan']['name'] + ""', '"" + PARSEDJASON['clan']['tag'] + ""', '"" + PARSEDJASON['endTime'] + ""', '"" + PARSEDJASON['opponent']['name'] + ""', '"" + PARSEDJASON['opponent']['tag'] + ""', '"" + PARSEDJASON['preparationStartTime'] + ""', '"" + PARSEDJASON['startTime'] + ""', '"" + str(PARSEDJASON['teamSize']) + ""')""
'''"
<@Virgen> for formating you need to use backticks `; and you should you format to format string. See <https://www.digitalocean.com/community/tutorials/how-to-use-string-formatters-in-python-3>
"<@Ciera> thx. I was going for back ticks, but I'm on my mobile...

```
Ah, found it!
```

Also, thank you for that digital ocean article! Ill read it thoroughly. Looks like something that would be applicable frequently. "
anybody work with pyTelegramBotAPI?
"Hi all, any excel gurus around?"
"Hello everyone.
I need help about GitZilla and pybugz.
anyone can teach and help me?"
<@Karyl> what's your issue ?; <@Mercedes> maybe in <#C0JB9ATQV|data_science> but it's mostly python here :wink:; and <@Karyl> please avoid cross posting
"Hi ovv.
thanks for your attention."
"<@Ciera> thanks, I know. :slightly_smiling_face: That's why I didn't elaborate unless there is someone keen to solve a challange"
"I am trying to download GitZill from ""<https://github.com/gera/gitzilla/>"".; and following the steps.; here i have some problems.; can you help me?"
I can recommand /r/excell it's usually very good
pardon please?
<@Karyl> you need to explain what exactly is your issue or nobody can help you :slightly_smiling_face:
"sure.
I donwload GitZilla from ""<https://github.com/gera/gitzilla/>"".
and ran the command : sudo python3 setup.py install; and the following step mentions that delete post-receive and update hooks.; but in hooks folder, there is only update(update.sample) and no post-receive.; So i wonder if i am wrong.; Hi ovv.; are u there?"
well if it's not there no need to delete it I guess
"are you looking at <https://github.com/gera/gitzilla/>; ?; i recommend you to look at ""<https://github.com/gera/gitzilla/>"" please; i have to hook those two things.; hi there?"
I don't understand what's your issue. It ask you to delete the hooks that you may have. If you don't have any no need to delete them
"okay.
I'll try myself.; Hi ovv; have you ever used gitzilla or bugzilla?"
no never used it
"okay.
and who can help me?"
"<@Karyl> there is mailing list for GitZilla (<mailto:gitzilla-talk@googlegroups.com|gitzilla-talk@googlegroups.com>), I think you should write email to it, maintainers can help you."
thanks for your advice.
"Anybody knows a best way to integrate django registration/login with Android? I have a django-project , deployed on <http://www.pythonanywhere.com|www.pythonanywhere.com> where i keep aggregated DB for users. I'd like to use REST for registration/authentification , but i have no idea how to realise it better with Django."
<@Latasha> you might want to ask that in <#C0LMFRMB5|django> :slightly_smiling_face:
<@Ciera> Thank you! I haven't seen this channel
"Hi!

I've seen online that just importing seaborn automatically makes matplotlib charts look better
Just importing it did not alter the way my charts look

I manually did sns.set_palette('muted') to get my charts to look different
How do I get that shaded background?"
"<@Jon> I think matplotlib is not used by most of the people here; for example, the help yesterday from me was entirely from looking at the documentation and some of stackoverflow; so you may have better results with matplotlib related questions on SO, as you did yesterday; unfortunately, we don’t have a data visualization channel, apparently there hasn’t been a need for it"
"<@Jon> Try 

```
import matplotlib.pyplot as plt
plt.style.use('ggplot')
```; I'm not familiar with seaborn, so I'm not sure if that's what you want, but you can modify the style of your matplotlib plots in a notebook like this <http://matplotlib.org/users/style_sheets.html>"
"how can i serve static content with flask? im trying to create a simple api, which creates an entity (post) and post has an image(s); currently saving the image under ./instance/static/uploads/&lt;id&gt;/primary.png"
what does the documentation not cover for you?; <http://exploreflask.com/en/latest/static.html>
"thanks, the problem was (somewhere else instructed) the location of the static directory :thumbsup:"
Is there a good way to do bulk insert with sql alchemy and handle / ignore / skip duplicate entry errors?
use upsert
Thanks I'll check it out
<https://github.com/openstax/biglearn-sparfa-server/blob/master/sparfa_server/db.py#L42-L94>; <@Orpha> :point_up: i have two examples there.
I was looking for more of an add_all replacement 
add_all ?
so right now; i have this in a for loop
oh you are using the orm.
yea
then you will need to use session.merge()
"i can take it out of the loop and use add_all; ok, yea i was looking at that just now; im moving files to s3 and storing url in db, but i have to handle duplicates; just incase #clients"
i wouldn’t consider that a bulk insert but ok.
fair enough
through the orm you would have to look through all of them and .merge() them to the system.
"i haven’t actually read into it, but im assuming the current way im doing it is bad performance wise"
"yea, the fastest thing you’ll get is using the core."
sort of like doing a raw insert in a for loop 1000x times
Moving the commit out of the loop will likely help a lot
"Hi! Does anyone know the way to validate json string without `json.loads`? `eval` is faster, but no :slightly_smiling_face:"
yea; it will commit everything at once.; remember that the session is like a recorder.
"yea, that was my other question"
it records everything in order and executes everything in that order when you do `session.commit()`
"is it worth doing a list then add all at once then commit, or just move the commit out"
<@Chu> Why don't you want to use `loads`?
your loop above is doing an insert statement for every iteration.
"I'm receiveing string from client side and need to store in database as is. But I need to know that my json is valid. (There is no way to make json field in db, too large db under load)"
it depends <@Orpha>. how many inserts do you suspect?
"<@Orpha> If there's no good reason why you need to commit after each one, then don't do it. Usually you would commit after a coherent block of work has been completed. In this case, finishing inserting everything is a logical block of work, I'd say; That doesn't explain why you don't want to use `loads`"
It consumes a lot of memory and CPU time in my scale. Looking for optimization.
anywhere from 1 to 7k
"I don't know of a faster way than to use `loads`, sorry"
moving the commit out throws the duplicate entry error
the commit won't affect that
well… it does
did you try .merge instead of .add?
"at some point, a commit will happen, and your duplicates will get found"
not yet; only tried moving the commit out
"moving the commit is to speed things up, that's all"
:point_up:
:thumbsup:
for ultimate performance gains i urge using the core.; but if that isn’t of utmost importance … carry on.
"not the most important; so merge needs an existing object?; ah, same duplicate error too"
i think so.; yea it will need the id of the entity and it will merge the records.
"ah, forget it… ill just leave it as is… it works, and it’s not slow at all… was just bored seeing what other way i could quickly change it to"
argh. i keep getting slow connection and connection errors to websites. happens both at home and work. both of which are pretty fast connections. at least 100mpbs. even google search stalls. some times i have to hit the search button again. not connected to vpn. even in incognito window. and other browsers.
"<@Bruno> you have problems, your phone doesn’t even get text messages for a few days"
you’re hax0red; wipe and pave
i recommend buying all new hardware
<@Orpha> lol that was over night. and only once; lol i wish
check all your network connections for any outgoing tor nodes
^ oh fun
it does sound like a dns related thing. if it keeps happening you may want to flush your dns.; maybe even try changing dns servers
flushed.; yea. i may try using googles.
or opendns
you may want to even do a traceroute and see what hops you’re taking.; are you on windows?
xubuntu. yea tracert is windows. running it now; that was pretty quick just to <http://google.com|google.com>
Try using a different browser 
yea. gonna test vivaldi for a bit.
i’ve been using brave. i really like it.
cool. i havent used that one. i do like vivaldi but the lack of tab sync across devices is a no go for full time usage for me. for personal use at least
brave is more security oriented.
"could someone help me with this python code? I’m trying to build my own tuple by looping through a list and adding them to the tuple, but something seems wrong and I can’t really figure why:

```

myTuple = (('', ''),)
answers = ['Test1', 'Test2', 'Test3']

l = list(myTuple)

for x in answers:
    l.append((x, x))

widget.choices = (myTuple)```

What i want my widget.choices to look like is 

```widget.choices = (('', ''),('Test1', 'Test1'), ('Test2','Test2'), ('Test3','Test3'))```"
"What does `widget.choices` look like in reality? You are modifying a list `l` but then you assign `myTuple` to `widget.choices`. Also know that `(myTuple)` won't make `myTuple` a tuple, if that is what you were thinking the paren would do in that case."
Looks like you want a tuple of tuples.; When you're better off using a list of namedtuple; Or any other object that isn't tuple of tuple
Looks like your widget.choices is waiting a tuple of tuples…
"well I just figured my mistake, I had to give widget.choices `l` instead of `myTuple`"
"Anyone know of a way to make the `pd.read_csv` function change the header columns to lower case during import operation?    I'm currently pre-processing each input file to make this happen, but it feels like something that's a common enough problem that I've overlooked a feature.; `pd` being pandas in this scenario; The ordering is important, as you can't be specific about which column names to bring in, if they don't match case."
can you be sure there won't be duplicate column names?
"Yep, all my datasets are from database dumps of individual tables"
"```from collections import namedtuple

# build the tuple class
example_named_tuple = namedtuple('example_named_tuple', ('val1', 'val2'))
# example call single one
single_tuple = example_named_tuple('','')
print('this is value 1', single_tuple.val1, 'BLANK')
print('this is value 2', single_tuple.val2, 'BLANK')

# your items and making all named tuples
answers = ['','Test1', 'Test2', 'Test3']
choices = [example_named_tuple(item, item) for item in answers]

# print the list of tuples
print(choices)
# individually
for item in choices:
  print(item.val1, item.val2)
```

<https://repl.it/Knzz/3>"
"I think I have one dataset based on Oracle (which loves all uppercase field names), and 10 others which are always lowercase"
"I mean, you can do conversion after import, but I don't think the `read_csv` options allow column name case change; I mean, ther eis a `converters` option, but that's just for you to apply functions to convert values in specific columns"
"<@Adrian> this way works really well if you need to keep your items intact.; You can apply a lambda function for pandas on import; <https://github.com/pandas-dev/pandas/issues/15799>; ```skipcols = [...]
userows = [...]
read_csv(..., usecols=lambda x: x not in skipcols,
              skiprows=lambda x: x not in userows])```; <https://www.programiz.com/python-programming/anonymous-function>

` double = lambda x: x* 2` is equivalent to :

```def double(x):
   return x * 2```"
"Ohh, okay, I can make that work.  didn't realize usecols was that flexible"
It's really amazing; The reason it's better to use a named tuple is you can preserve your relationship between the first and second item. You don't have to worry about inserting in any order. You can also do things like create a dictionary of named tuples.
"<@Adrian> and are you using this for a ChoiceField by chance? It doesn't _have_ to be a tuple I don't think, it just needs to be iterable, so `l` probably works as is"
"nice find, <@Glinda> :taco:"
"Yes, thanks <@Glinda> :taco:"
"Even if it needs to end up being a tuple. It's better to keep it in an some related object until you need to raw tuple.; That way you can have it throw exceptions when you want do :

a, b = item.var1, item.var2  if it tries to unpack a None or wrong object you can catch that exception to prevent an error.; Yeah I have lots of shitty experience with importing terrible pandas csv; csv with variable header location, first few rows with 1,2 columns and the header being at row 10, but row 11 has len(row_10) &lt; len(row_11) and you only want the data that's in that extra row.; Because the developer didn't think naming that column was important."
"i gave up on giving up, got rid of the orm stuff… made a list of tuples and insert ignored them; dont need to update because the url to the file wont change even if the file does"
"but, it works, its good, thanks for the advise <@Johana>"
Can you remind  me about the question/.
"Awesome, thaks for that, gonna look into it, sound definitely better what i used :stuck_out_tongue: <@Glinda> :taco:; yeah I used it for a choicefield that was created through a django widget"
hello I have a question
go ahead and just ask <@Claudine>
"I ended up using this to fix my mixed case header lines:
```
def lower_columns(df):
    df.columns=df.columns.str.lower()

col_list = ['subnet_id', 'subnet_addr1']

sub = pd.read_csv(subnet_file,  usecols=lambda x : x.lower() in col_list)
lower_columns(sub)
```"
"Hello all. This is the very first time, I am trying something like this in Python. I need help. 
I am writing a script that reads from a csv file and gets only the headers and then I need to insert those headers into a table on SQL, but how do I define the datatypes ?
I can only read the header names from csv and not the datatype of each column."
Are you using a python database orm?; why do you need to define data type?
"I am trying to create ddl statement which would like create a new table on the sql using the columns I extracted from csv.; How would I define the datatypes for those columns then ?; CREATE TABLE TABLE (
COLUMN_NAME DATATYPE(SIZE));; As per that definition, I would like to define the datatype and size."
"So if you are reading in csv, you are reading in a string.; you can represent other items (int, float, string, char, bool, etc) using strings.; So you need a way of parsing in these values and giving the corresponding string the correct type.; Can you give an example of a few columns in the header and what you know the data type of each to be?"
"Yea, so will I have to parse them manually, or are their any methods that are built in that would help me do it ?"
it really depends on what you have; If one row of data =
Let me share the script I have written.
"`True, 1.01, 2, hi, h`; That will be slightly easier; What you have written is doing it correctly; csv datatype = varchar; or string; csv is storing your data as a string; can you paste an example of your header/ dattype"
Sure.
"If this is a one time thing where you'll never read in this data again, you can make adictionary with the headerstring, in this dictionary you'll have 'head_string':'data_type' then you use that relate to your database entry.; If you do it very often with the same heads, then you can do the same as first option.; If the heads are different and you need to inspect the actual data this is where it gets complicated."
I apparently dont understand how python logging works
I try to set the logging level to `DEBUG`
"but debug statements still dont print; Here is an MCVE:
```
import logging
  
mylogger = logging.getLogger('myapp')

mylogger.warn('warn1')
mylogger.debug('debug1')

mylogger.setLevel('DEBUG')

mylogger.warn('warn2')
mylogger.debug('debug2')
```; which prints:
```
warn1
warn2
```; no debug2"
You need to call `logging.basicConfig()` first to ensure some handler is set to format it
wow; thats super dumb
"```
&gt;&gt;&gt; import logging
&gt;&gt;&gt; logging.basicConfig()
&gt;&gt;&gt; logger = logging.getLogger('foo')
&gt;&gt;&gt; logger.setLevel(logging.DEBUG)
&gt;&gt;&gt; logger.debug('foobar')
DEBUG:foo:foobar
```"
yep. So weird that you have to call it for anything to work.; would expect that to be default
"<https://docs.python.org/3/library/logging.html#logging.basicConfig>
&gt; Does basic configuration for the logging system by creating a StreamHandler with a default Formatter and adding it to the root logger. The functions debug(), info(), warning(), error() and critical() will call basicConfig() automatically if no handlers are defined for the root logger."
well.. I thought I was crazy for the longest time
"Haha, yeah - python logging could use an overhaul; e.g. make it pythonic for a start"
"idea for a 3rd party package?; a pythonic, sane, logger?; that uses `.format` syntax"
"I'd rather ship apps :smile: ¯\_(ツ)_/¯; but it isn't a bad idea, one thing it should include is a better way to do MDC logging"
"I mean, it could just read the stack"
"<@Signe> <@Beula> I recall reading an article about <https://github.com/jd/daiquiri>
It set up a modern logging configuration so you don't have to"
"Found it:
<https://julien.danjou.info/blog/python-logging-easy-with-daiquiri>"
"Looks like it has some niceties, color by default to a terminal is nice; Why did they do the same `getLogger` thing :disappointed:"
¯\_(ツ)_/¯
"I worked with a guy who spend a huge amount of time writing his own logger.; really smart guy, but it was a huge waste of time"
I used logzero and I can't recommend it enough. It's relation to logging is like requests to urllib. <https://github.com/metachris/logzero>
That one looks pretty solid <@Betsy> - thanks! :taco:
ooooh nice! thanks <@Betsy> :taco:
"Sure thing, thanks for the tacos :laughing: "
hi
"hey <#C07EFMZ1N|help> -ers, I’m looking at the documentation for `functools.partials` (<https://docs.python.org/3.5/library/functools.html?highlight=functools#functools.partial>) and it’s pretty late. Can someone eli5 why the example assigns  `.func`, `.args` and `.keywords` attributes to the returned function?"
"<@Winnifred> It's just showing how they implement it, so the short is they store the ""partial application"" as attributes on the function object; You can see the source here: <https://github.com/python/cpython/blob/3.5/Lib/functools.py#L240>; Then later when the partial is actually called, it merges any additional args/kwargs with those stored values and calls the function"
"ahhhhh; nice; okay; thanks <@Beula> :taco:; note to self, go to source code :slightly_smiling_face:"
":thumbsup::skin-tone-4: If you haven't seen it, there is a link on the top of many of the pages to jump to the file on github"
"Is this an acceptable way to build this SQL string? In its current state, it works.; is there a better way to achieve this goal?; I had asked a similar question yesterday and was advised to read the following article.; <https://www.digitalocean.com/community/tutorials/how-to-use-string-formatters-in-python-3>"
"<@Virgen> not if any of that data is from a user input/untrusted source; That opens yourself up to ""sql injection"""
the data is from an API.
It's still best to use parametrized queries - what db are you using?
"I get a JSON dump from the API, this then builds the sql statement to dump the data into teh DB.; mssql2016 express"
"with `pymssql`?

```
cursor.execute('SELECT * FROM persons WHERE salesrep=%s', 'John Doe')
```"
pyodbc; is ```pymssql``` a better option than ```pyodbc```?; how did you get pymssql to format like that?
"I don't think either is better, I just wanted to find a doc"
"<@Beula> which do you use? And, out of curiosity, what db do you use? I'm pretty new to this, so I would rather spend my time learning on what most people use. I mean, if everyone uses pymssql, I don't want to waste my time with pyodbc."
I use postgres and psycopg2 usually
<@Virgen> <https://stackoverflow.com/a/9739020>
Why postgres over sql? Feel free to say Google it... 
"Postgres is open source, fast, modern, free, easy to run anywhere"
"Thx! Ill check it out. 
Well, I'm off for tonight. Thx for the info, Ill read more into it tomorrow.; Have a great rest of your day!"
you too!
"Hi, I'm struggling with some Flask migration issues. I restructured my app and SQLAlchemy is no longer picking up my models. :disappointed: Would anyone be able to help me debug this?"
"<@Leena>, post your question and sample code in <#C0LN2AD7T|flask> "
Ah okay thanks!
Hey guys
I am kinda struggling to understand this &gt;&gt; [Word for Word in WORD_TOKENS if not Word in STOP_WORDS]
"I do not understand how this for loop works no matter how hard I try to understand; In layman term, what is the best explaination for this kinda for statement"
"<@Rosalind> did you try to open it up to a 'normal' for loop?; ```
for word in WORD_TOKENS:
    if Word not in STOP_WORDS:
        yield Word
```

Hope this helps"
Is it the same thing??
"yes; but you can use the one liner to create an array variable, ex: ` NON_STOP_WORDS = [Word for Word in WORD_TOKENS if not Word in STOP_WORDS] `"
How do you actually break it down?
It's more like a yield than a return; but otherwise spot on
"<@Fabiola> thanks; <@Rosalind> you divide it in 3 parts: the _yielding_ part is the first `Word` , then you have the _loop_ `for Word in WORD_TOKENS` and lastly, you have the _condition_ `if not Word in STOP_WORDS`"
"Because sometimes, there are cases like (word in word_token if not in word_token etc etc; Ohhh!; Word (Yield) for Word (for loop condition); True??"
`(yield) (for loop) (condition: if True then yield)` does that make sense?
"Oh man, this is so helpful ,thank you so much sensai!"
The regular case is `[x for for x in thing]`. Adding the conditional allows you to drop elements if you don't want them.
"I see, i see"
"yes, more often (I) use it without the condition"
can someone help me? Sublime Text builds without output
"I'm currently poking around with opencv, to be more spesific lane detection. My question is why when i run my code on my stationary windows pc, it works fine but when i run it on my macbook pro 2016 it looking very bad, almost like it doesnt work like it should or something.

```

import numpy as np
from PIL import ImageGrab
import cv2
import time


def process_img(image):
    original_image = image
    # convert to gray
    processed_img = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    # edge detection
    processed_img =  cv2.Canny(processed_img, threshold1 = 200, threshold2=300)
    return processed_img

def main():
    last_time = time.time()
    while True:
        screen =  np.array(ImageGrab.grab(bbox=(0,40,800,640)))
        #print('Frame took {} seconds'.format(time.time()-last_time))
        last_time = time.time()
        new_screen = process_img(screen)
        cv2.imshow('window', new_screen)
        #cv2.imshow('window',cv2.cvtColor(screen, cv2.COLOR_BGR2RGB))
        if cv2.waitKey(25) &amp; 0xFF == ord('q'):
            cv2.destroyAllWindows()
            break
main()

```"
<@Hannah> you'll need to provide a bit more information for someone to help you; <@Shirl> please use the `+` on the left of the input box for snippet formatting :slightly_smiling_face:
"and <@Shirl>, what’s the difference between windows output and mac?; `just looks different or something` isn’t too detailed"
"sry lads trying to wrap this into code but slack aint working with me today :stuck_out_tongue:; no on mac it doesnt really work; Ok, the while loop got print func that tests how good it performs, on mac it prints once and then nothing, the opencv ""window"" is very laggy"
"you need to use backticks, you are currently using quotes :wink:"
Here is the source btw : <https://pythonprogramming.net/open-cv-basics-python-plays-gta-v/?completed=/game-frames-open-cv-python-plays-gta-v/>
you didn’t have any problems installing opencv on mac?
lol thanks :slightly_smiling_face:; nope i installed it using conda
"smart; ok, without any error output, not much we can do here; do `cvtColor` and `Canny` raise any exceptions that you can catch?"
Looking for help resolving 502 error hosting flask app on VPS. App works fine locally. Followed instructions: <https://www.digitalocean.com/community/questions/flask-nginx-uwsgi-ubuntu-tutorial> . 502 on going to the domain and logs don't seem to say anything :neutral_face:
"so if you ssh to the server, can you see that your python application is listening?"
it's running as a service somewhere; i'm not that experienced with uwsgi/nginx
"or for example as they say in the guide, trying to go to port 5000, is it up?"
`lsof -i :&lt;port&gt;` if you are looking for a port; Or just `curl localhost:5000` to make sure your app is listening
5k doesn't work; i think the app crash(es)
is it logging anything?
"What if you try to run the commands manually, acting like the `.service` file?"
it sits waiting for confiuration; `[uWSGI] getting INI configuration from foobar.ini`
"So you are saying that your application itself is running, and it is `uWSGI` that isn't? If you aren't sure, start at the application, then step to uwsgi"
how can i verify if it's running? curling just gives connection refused; i don't know how uwsgi/nginx run the application
"You need to find the port your app should be listening on and try to reach it, are you sure you are trying the right port?"
"they talk about sockets instead of ports, does this matter?"
Or specific to the guide you are following - did you get the “Hello There” (or whatever your app’s equivalent is before the section “Create the WSGI Entry Point”
"yeah; sorry for late response, had to ddouble check that"
"so you can reach it on the port  directly, outside of uwsgi then?"
"yeah, both of the 'tests' work; `uwsgi --socket....` and `python foo.py`; afterwards `curl localhost:5000`"
what’s in your ini file?
same as in the link
and the wsgi.py is in the same folder?
yes
are the paths in the .service file all correct?
"i actually had earlier an typo there which i fixed, don't know if this matters though; double checking now; yup, all correct"
and when running `sudo systemctl start myproject` you see no errors?
jup
Any errors printed in the syslog (`journalctl`)?
"`$ journalctl
No journal files were found.
-- No entries --`"
"how does your `/etc/nginx/sites-available/myproject` look - is the socket file correct?  if you copy the path, can you see it?"
yup
and when doing `grep server_name /etc/nginx/sites-enabled/* -RiI` you see your server listed?
yup
and I’m guessing running the syntax error test returns no errors?; and running `sudo systemctl restart nginx` returns no errors?
both no errors; umm now it's saying it's running
it should be properly setup then.
`   Active: active (running) since Fri 2017-09-08 17:47:49 EEST; 15min ago`
like you can connect to the site through your main ip from the internet?
cant connect; can i verify if i am blocking it somehow?
what do the permissions/ownership of the sock file look like?
i might be using some firewall or similar but i cant seem to remember what setup i have; `srw-rw----`
"no if you are getting the gateway error it’s connecting to nginx on your machine, it’s something about nginx routing to the uwsgi socket; who owns it?"
my username and www-data
"and your username is the one in here:
```
[Unit]
Description=uWSGI instance to serve myproject
After=network.target

[Service]
User=sammy
Group=www-data
WorkingDirectory=/home/sammy/myproject
Environment=""PATH=/home/sammy/myproject/myprojectenv/bin""
ExecStart=/home/sammy/myproject/myprojectenv/bin/uwsgi --ini myproject.ini

[Install]
WantedBy=multi-user.target
```; like, instead of “sammy” it’s “msorja” or whatever it is"
yes; exactly
what happens if in your ini file you change `chmod-socket = 664` and restart it?
which command for restart?
`sudo systemctl restart myproject`
no difference
what are the permissions on that socket file now?
`srw-rw-r--`
"hmm, in your service file, maybe try `ExecStart=/home/blizzard/myproject/myprojectenv/bin/uwsgi --ini myapp.ini --uid sammy --gid www-data`; basically add your username to `--uid` and the `--gid www-data` - and you did add your user to the www-data group right?"
"yea, but when i write `groups` it doesn't print out the `www-data` group ¿"
"okay, screw all this.  lets just make it run on a port.  lol"
:smile:; i hate uwsgi + nginx + python combo... i spent last time over 3 days (almost straight) getting it to work
"in the ini file, change `socket = myproject.sock` to `socket = 127.0.0.1:5000`"
just quickly - could you explain briefly the difference between sock and port?
"the port is just like you use connecting via the internet, sockets is a way for interprocess communication locally; in your nginx config, change `uwsgi_pass unix:/home/sammy/myproject/myproject.sock;` to `uwsgi_pass 127.0.0.1:5000;`; now restart :allthethings:; first `sudo systemctl start myproject`; then `sudo systemctl restart nginx`"
shouldnt i stop in between?; myproject
"oh, oops, yeah.  stop, or just restart should work"
still 502 :smile:
"yeah, I have no idea then, sorry.  I do know we’ve seen other people come in with issues specifically around that tutorial"
"yeah; vps configuration not cool; especially when it's my first and haven't reinitialized it in like 5 years... a lot of old configuration there, even some might be overlapping"
"yeah, this is why I love Docker.  :stuck_out_tongue:"
"yeah, that's where im getting next, asap I get to reinitialize my vps, but I think that's a big job too; but hey, thanks a lot , i'm out for today :unicorn_face:"
"```import numpy as np
from PIL import ImageGrab
import cv2
import time

def screen_record(): 
    last_time = time.time()
    while(True):
        # 800x600 windowed mode
        printscreen =  np.array(ImageGrab.grab(bbox=(0,40,800,640)))
        print('loop took {} seconds'.format(time.time()-last_time))
        last_time = time.time()
        cv2.imshow('window',cv2.cvtColor(printscreen, cv2.COLOR_BGR2RGB))
        if cv2.waitKey(25) &amp; 0xFF == ord('q'):
            cv2.destroyAllWindows()
            break
```; any idea why it looks like that?"
Probably the colour channel order is not what is being assumed
And how do i fix that :)?
"question on a debate i'm having. we have a bunch of API classes that all take the same `api_session` parameter. we're debating these two approaches to a factory-esque thing:
```
from someapi1 import Api1
from someapi2 import Api2

def get_api1(api_session):
    return api1(api_session)

def get_api1(api_session):
	return api2(api_session)
```
vs.:
```
from someapi1 import Api1
from someapi2 import Api2

def get_api(api_session, api_name):
    return return globals()[api_name](api_session)
```; benefits of the first approach: don't have to remember the API names and intellisense-type completion works in IDEs; benefits of the second: all you have to add is an import, no getters"
why would you want a function that only init a class ?
"<@Ciera> so we don't have to import the APIs all individually, we can just import one ""importer"" and tell it what we want and it will find it; this is actually used in a fixture for pytest, so we avoid having to make a fixture for every API, just 1 one fixture that can import them all"
I don't know a lot pytest but if you really need it I would say the first one. I'm not a fan of using `globals`
"me neither, and i hate breaking code completion; argument against me is ""no one should rely on code completion"" :confused:"
or make an `if` statement for each `api_name`
"I am kind of with <@Ciera> though i don't love either, myself. In a rare case I have just had a function to init those kinds of things and auto discover them; but that complexity is isolated elsewhere"
"```
def get_api(api_session, api):
  return api(api_session)
```; I would prefer something like that (doesn't really provide anything here but we could imagine there is other param; but then you still need to import the api modules where you call the function"
yeah the problem is `api` is what there are a lot of
Or a dict of mappings
yeah a big if or a dict would be the best imo
example? not sure i follow
"+1 - it's clearer and more explicit; ```
APIS = {
  'v1': ApiV1,
  'v2': ApiV2,
}

def get_api(name):
    return APIS[name]
```; This is all a bit abstract, so it still feels a little awkward - is this for flask?"
"i gotcha, yeah that seems just a different version of #2"
<https://stackoverflow.com/questions/46124511/django-csrf-token-setup-with-jquery-issue> hey guys got a bug with javascript hoping another eye on this might help fix it
but actually does save a little bit; also i think this method still breaks code completion
"It probably does, what is the `api` classes?; You can use type-hinting if you are on new python :smile:; `apiv1: ApiV1 = get_api('v1')`"
<@Beula> `api` classes hold the methods for that particular API
wow I am struggling
they are broken up by function
are you a client or server?
client
<@Beverley> looks like it's a better fit for <#C0LMFRMB5|django> or <#C45V5EJ15|javascript> :slightly_smiling_face:
"Oh, in that case I wouldn't likely do that at all and would much prefer to explicitly grab what I want if I need to know the name of the thing to get...; You aren't really abstracting anything with that factory - so it doesn't really provide value"
yes let me push this there
"<@Beula> it allows us to be able to instantiate all APIs from one place, which for testing is nice; otherwise we need a fixture for every single API"
So?; explicit &gt; implicit
"well that's the problem we're solving; right, i agree, but not everyone does; some people favor code tidyness"
"No, they are preferring ""terseness"""
everyone has an opinion ¯\_(ツ)_/¯
"sometimes I just implement something to show the concrete way, gives less time to bike shed ¯\_(ツ)_/¯"
"actually, the dict mapping does *not* break code completion somehow...; interesting"
:tada:
Have anybody of you taken an internship in Quora/Qualcomm/Intel/Cisco/Apple/Dropbox/Palantir or maybe is working there now?
"Hi; I am trying to convert a script file to exe file but i get this error; ```
error: compiling 'C:\Python27\lib\site-packages\jinja2\asyncsupport.py' failed
    SyntaxError: invalid syntax (asyncsupport.py, line 22)
```; Can any1 advise how to solve this; Tq"
<@Cassaundra> what have you tried to do?
<@Cassaundra> please avoid cross posting. I'll delete your messages in other channels
"```
from distutils.core import setup
import py2exe

setup(console=['myfile.py'])
```
I saved this file as setup.py
and run as python setup.py py2exe
the error i got was 

```
running py2exe
*** searching for required modules ***
error: compiling 'C:\Python27\lib\site-packages\jinja2\asyncsupport.py' failed
    SyntaxError: invalid syntax (asyncsupport.py, line 22)
```; <@Collette>"
"<@Cassaundra> okay, you need to downgrade your installed `jinja2` version to `2.8.1`, in which there's no `asyncsupport` module; It has python3.5+ only syntax"
<@Collette> How to downgrade `jinja2` i am using Python 2.7?; Thanks for your advise
<@Cassaundra>  `pip install jinja2==2.8.1`
How do you convert an existing XML file to XLSX with Python? I’m using Python 3.
First Google result: <https://github.com/pkaczynski/xml2xlsx>
anyone feels like helping debugging flask on vps with nginx and uwsgi?
"Hi All I am getting an error with the following code: 

```

print('/\  /\,')
print(' o o  ')
print('=    =')
print('      ')
print(' ---  ')

```"
what the error says; <@Carlene>
<@Sean> what's the problem ? :slightly_smiling_face:
502; I'm using ufw and I think it's blocking my socket somehow or something
without nginx is it working ?
"if you scroll a little bit back the messages, you see the yesterdays conversation; but, now, i got it working by connection to :5001; yeah, if i either `python run.py` or `uwsgi --socket 0.0.0.0:5001 --protocol=http -w wsgi:app`"
so `<http://your_ip:5001>` is working ?
"both work, but 5k is in use (?); ye"
"<@Romelia> let get the error; ```



/\   /\
  o o
 =   =
  ---```"
so only when you put nginx it's not working. can you share your nginx conf
"which, nginx.conf or available-sites"
"\n for newline on print, and you have to erase the comma. also you forgot some extra space"
available-sites :slightly_smiling_face:
"sorry for delay, battery died on me; earlier version had uwsgi_pass pointing to sock file"
"<@Qiana> 

```

 File ""main.py"", line 9
    print('/\  /\')
                  ^
SyntaxError: EOL while scanning string literal

```"
You're escaping the ending quote 
<@Sean> weird to have ssl on 80 not sure if that's working with nginx
You need two backslashes 
<@Beula>  can you please help me understand? I am a newbie to python
<@Ciera> can i comment it out somehow? it was working with a static page
and I think you need to use `proxy_pass` and not `uwsgi_pass`
"&gt; The backslash (\) character is used to escape characters that otherwise have a special meaning, such as newline, backslash itself, or the quote character; From <https://docs.python.org/2.0/ref/strings.html>"
it might be working fine like this. It's just that usually 80 is for http and 443 for https
"oh, i wanted everything to be https, i found this from some tutorial"
"When you are working with backslash on print, you have to put a second one print('/\\  /\\')"
then it's better to just redirect http to https :slightly_smiling_face:
"The short of it is: certain characters have special meanings when escaped and they are escaped with a backslash, so to print a literal backslash you need `print('/\\/\\')`"
can you try that; and is the port 5000 or 5001 ?
"5k1 if i run manually now; oh yeah, something new, `Job for nginx.service failed because the control process exited with error code. See ""systemctl status nginx.service"" and ""journalctl -xe"" for details.` when i try to restart nginx `sudo systemctl restart nginx`"
you can check the log with `journalctl -u nginx.service -f` :slightly_smiling_face:
"-&gt; 502 coming if not running manually
 -&gt; 502 coming if running manually; `No journal files were found.`"
can you do `tail -f /var/log/nginx/error.log` or for your nginx error file; and when running manually you made sure to change the port in the nginx config ?
yup; <@Ciera> `invalid url prefix...` with your configuration
`proxy_pass <http://127.0.0.1:5000;>`
"doesn't work; as in prolem 502 persists :s; it's weird, because connecting to the port &lt;ip&gt;:5001 works"
is there something in the nginx log ?
nothing
are you connecting with the ip or the domain name ?; and if it's domain name is the dns correct ?
"trying both; correct dns; the situtation is, i am using the same vps and nginx configuration to serve static files for different dns"
`less /var/log/nginx/access.log` something in this ?
i;m using cloudflare as the middleman (now I for this have toggled the middleman part off); let me see
so you have a working nginx on the vps for other domain ?
yes; but they're serving static index.html file(s); `sudo netstat -peanut` doesn't even show usage of the port 5k; should i try to go back to the sock usage?
if the curl to the port work it should be fine
what do you mean
you said connecting to the port works ?
"yes, if i run it manually; should i keep it running manually? is what i meant; _is there a big difference between socks and ports?_"
yeah keep it running manually for now :slightly_smiling_face:
i got it working o_O
no not a big difference; sockets are usually a bit faster I believe
"i got it working using sock somehow, but there's no ssl now"
to have ssl you need nginx to listen on 80 and redirect to 433 and listen on 433; you can do that like this
"is there a default config for this?; thank you, let me try it out"
obviously you need to adapt a bit :slightly_smiling_face:
"yeah; okay, cool, progressing. now i get ""Your connection is not private"" error from Chrome, and if I enable cloudflare I receive 502"
oh yeah I'm not sure you to set up all that with cloudfare
thank you so much for your time :tada::unicorn_face:
"I've searched for hours with no luck. What is the best way to deal with MySQl escaped strings. I'm somewhat new to Python and this has me stuck. I know i could do a regex but I'm hoping there is a standard method for this. It uses SqlAlchemy; I come from a PHP background where we use stripslashes, this might lend a hand to the thinking pattern I have"
"I believe SQLAlchemy should handle it for you as long as you declare a mapping and use the ""?"" to pass in parameters into your query string"
"ok, i will look into that then. Thank you elliot"
hello guys; I am newbie to python; I need take screenshot for particular area on my screen.; Can u suggest right module to work on?
"windows, mac or linux? <@Moon>"
Windows
ShareX
<@Romelia> ShareX has a Python binding?
"Quick question guys, what is everyone's preferred means of environment configuration handling?"
Doing research for an article and I want some alternative opinions
I honestly don't know <@Suellen>
<@Dominque> like for your local development machine or something else?
"Hello, 
I'm trying to run this condition `int(np.sign(weights.T.dot(points))) != y` however I've been getting this error for a while and can't seem to debug. I'm new to Python and Numpy. Here's the error: `ValueError: setting an array element with a sequence.`

Code: <https://gist.github.com/hallaksec/99ab4d6a6da93ed9ff991a5e3315a291>"
"Probably best to break it down into individual steps so that you can see from the error line number exactly where the problem lies. e.g.:
```
dot = weights.T.dot(points)
sign = np.sign(dot)
int_sign = int(sign)
if int_sign != y:
    # etc
```"
<@Gabriele> I can tell that its `np.sign(weights.T.dot(points))`
"but is it the np.sign call, or the weights.T.dot call?"
"Its the .dot; Here's a sample:
```weights = [[ 0.  0.  0.]]
points =  [(array([ 1.        , -0.18592399, -0.14921323]), 1), (array([ 1.        ,  0.63754454,  0.36669891]), 1)]
```"
is it expected that the elements in points are arrays?  how was that constructed?  do you know the expected dimensions?
"<@Junita> i constructed points using this function:
```def generate_data(self, N):        
        print(""[+] Generating Data.."")
        data = []
        for i in range(N):
            x, y = [np.random.uniform(-1, 1) for i in range(2)]
            points = np.array([1,x,y])
            data.append((points, int(np.sign(self.V.T.dot(points)))))
        return data```"
so points is the return value of `generate_data`?
Yup; Full code here <https://gist.github.com/hallaksec/99ab4d6a6da93ed9ff991a5e3315a291>
"so, take this with a grain of salt as I’m a numpy noob myself - but I think the issue here is that you are trying to use a multidimensional array here instead of a numpy matrix"
"If I replace np.array with np.matrix `shapes (3,) and (1,3) not aligned: 3 (dim 0) != 1 (dim 0)`; So I guess my vector V is now the problem but I replaced the np.array with np.matrix as well which yields `only length-1 arrays can be converted to Python scalars`"
"so, you can give a shape to `np.random.uniform`; although I’m not 100% following what you are trying to do - but yeah, I think trying to construct it the way you are is at fault; also, I seem to recall a tip of avoiding rank 1 arrays like that, where it’s better to use a vector (i.e. something of shape (n, 1) vs (n,)"
Can't seem to find any solution :confused: <@Junita> <@Gabriele>
What does the whole traceback look like?
"<@Gabriele> ```Traceback (most recent call last):
  File ""C:\Users\hallak\Desktop\a.py"", line 106, in &lt;module&gt;
    p.run()
  File ""C:\Users\hallak\Desktop\a.py"", line 90, in run
    while self.error(w) != 0 or iterations &lt;= 1000:
  File ""C:\Users\hallak\Desktop\a.py"", line 58, in error
    if int(np.sign(weights.T.dot(points))) != y:
ValueError: setting an array element with a sequence.```"
"Not as helpful as I'd hoped. I think you just have to make sure that `points` is the same shape and size as `weights.T`. You might want to print both those values out to see what they are, and try and use that information to make the necessary adjustments"
"I have a `pytest` dilemma. I have a a `conftest.py` that's gotten to be pretty huge, since it contains a lot of fixtures (around 1500) lines. I know I can have several `conftest` files but I kinda like having all my fixtures bundled together. Ideas anyone? "
"Sounds like you know the options, I personally nest my test folders and Cascade the fixtures down, and only ""promote"" them to a higher level when they're needed "
I guess that makes sense
<@Romelia> ShareX is not binded for python . Any other alternate python modules for screenshots?
"hi guys, trying to get pip3 working when installing python3.4 on my mac using brew."
"In case this is ever useful for someone else. I ended up just doing .replace(""\\'"", ""'"") and calling it a day"
<@Junita> I meant as in how do you manage dev environment config and prod environment config in the same project? I'd tend to go down the system environment variable route but I'm wondering if there are other options
I find this description quite good <https://12factor.net/config>
Hi all - looking for any recommendations on streaming a 3GB csv - fortunately im going to reduce the columns to maybe 3-5 at most but its a good size - possibly 10s of millions of rows
AWS S3?; for storage; or do you mean some sort of streaming addition to a server?
no I have it locally - we are importing our next batch of contacts - and thats all set up - but im doing a side analysis for our product manager - its techinically only text processing - but im doing it locally and giving him back a list of all the crappy contacts - I have a class I wrote that I use allt he time that determies likely relation between an entity and a url
"ok, by streaming, do you mean chunking with `csv`?"
yeah - i just want to read in the data and write it back out after running it through one function - i just dont want to read it all into memory
"hmm.  hmm; <https://codereview.stackexchange.com/questions/88885/efficiently-filter-a-large-100gb-csv-file-v3>; its a similar problem as you have, so you might find some tips to try there"
thanks im looking thru it
"using the `csv` module you can iterate over a `Reader` object which is a generator, so you won't load it all into memory; <https://docs.python.org/3/library/csv.html#csv.reader>"
what is a good way to measure/test whether or not its properly running (e.g. using or not using a bunch of memory)
"Yep, +1 for the csv.reader:

```
import csv

with open('massive_file.txt') as f:
    reader = csv.reader(f)
    headers = next(reader)
    for row in reader:
        pass
```; you can do `free -m` on a posix machine (linux, mac)"
If your machine didn't crash then it's probably fine :grimacing: 
lol id like to not crash my computer :slightly_smiling_face:
it shouldn't since you only have a row at a time
Are you familiar with the concept of generators in python? 
kind of - I havent really used them much yet tbh -i would likely use them for csvs but  i usually throw all my massive csv into gocsv
"Or more accurately, an iterator ; Well, the whole concept of an iterator object is that it doesn't hold the data structure in memory, but iterates over the elements per requests, yielding the relevant part ; In case of the csv module, that means that only one line is read into memory each time, and released when the next one is called "
thats exactly what I want
Hence the recommendation :wink: 
thanks :slightly_smiling_face:
"I think `panda` had some nice tools for handling csv, but 8 have no experience with that "
"playing around with the suggestions now - will be back shortly lol; yeah i saw a few answers on so about pandas; but i dont use it much, ive found other workaround sometimes suit better at times"
It may be overkill for your needs though ; <https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html>; Can you share the code you used? 
"```def readCsv(filename):
    with open(filename, ""r"") as csvfile:
        datareader = csv.reader(csvfile)
        count = 0
        for row in datareader:
            count += 1
            if count % 1000 == 0:
                print(count)
            for [name,url,email] in [row]:
                mmq = s.MismatchedQueryData(name, url)
                mmq_results = mmq.build_results()
                if mmq_results[2] != 'Related':
                    row = mmq_results[:3]
                    outcsv.writerow(row)
                    outfile.flush()```; thanks :taco: <@Betsy> <@Beula>"
"Well you kinda misused the csv module there. You don't need to implement the iterator yourself, reader is already an iterator ; I'm on the phone so forgive the crude syntax :
"
oh its fine - i just kind of mashed 2 different functions together lol - open to suggestions/etc that I can fix; I have one that I usually use the csv with haha so I was trying to add the part of that which I like
Well for off you can use `DictReader`that will return a nice dict object per row ; Ah gotcha 
basically i want it to write to file in real time - so i can preview results as it is building if needed (which I do a lot); thats the only requirement really for me
Not sure what you mean by real time... 
im prob mixing two concepts together - i imagine thats whats wrong here lol
"Maybe. Well I'm off for now, night "
I have a problem when trying to use .update on a dict from a json file; It seems to disregard the dict from the json file and replace it with the dict I want to append
<@Kati> use the `+` button to add a code snippet with the code you're having an issue with
"It's a bit messy after all the experimenting, but I'll make a clean example and upload it, 2 sec"
"<@Kati> I get back:
```In [14]: a = Example()
{u'posted': {'new_value': {}}}```; which is the expected behaviour; are you expecting something different?"
"I want it to append the new value to the already existing dict from the json file; like this 
```{
  ""posted"": {
    ""112asdfasdfas833434000714_207568954"": {},
    ""new_value"": {}
  }
}
```"
"ahh; so `update` is not a deep update, it only does one level of keys, so that entire `posted` key is getting updated with the one from your new json; if you want to update a key inside the dict, just call update on that key's dict; `get_json_dict['posted'].update(my_sec_dict['posted'])`"
Aha! It's that simple; Haha had me stuck for hours
cool! glad i could help :slightly_smiling_face:
Thank you so much!
hi; i’m having trouble in finding out what encryption this is; BAGfxzupdBepIrhfNxeDoQ==; could someone help me?
<@Niki> could be anything. Can you provide more details?
of course. It is supposed to be an encrypted e-mail
"Anyone can send anything via an e-mail, that's just text"
"i mean, is like a encrypted e-mail address; <mailto:foobar@gmail.com|foobar@gmail.com> for example"
"e-mail address is just text, it doesn't differ much from ""foobarbuz""; It really could be anything, unless you know _something_; i.e. which program have been used to encrypt that string"
that is what i want to find out; i dont need to know the original string
You can't. It doesn't work like that.
"i need to know if it is md5, base64, sha256.."
These aren't encryption algorithms. These are hashing algorithms.
"ok; so, is there how to discover which hashing algorightm?"
"Only by hand. You should learn about all these algorithms, how they form a hash and why base64 is actually not a hashing algorithm; I can tell that it looks like a base64-encoded string, although the decoding doesn't give me anything remotely useful"
"ok. I will do that; but it is definitely not md5, right?"
"Yes. md5 is a hex string, it cannot contain letters except for a-f"
alright; thanks you very much
"Hi; Can any1 advise me how to solve this error 
```*** finding dlls needed ***
error: [Errno 2] No such file or directory: 'numpy-atlas.dll'
```; I am trying to convert script file to a exe file"
looks like you are missing a `.dll`
did you check <https://stackoverflow.com/questions/36191770/py2exe-errno-2-no-such-file-or-directory-numpy-atlas-dll>
<@Florentina> tq
"Hi all, I have a problem to store a geometry value into a PostgreSQL+PostGIS database. I want to store latitude and longitude, that I get using geopy library, I'm very confused about what SQL sentence I have to write. Can anybody help me? I write this question also in SoF <https://stackoverflow.com/questions/46156857/geometry-value-into-postgreslqpostgis>"
"are you sure `sensor.getLongitude` is a value and not a method?; also, you have a misspelling with `frequencyUpdate`"
"Sorry, it's true. Now the error is ""doesn't exits relation «sensor»""
LINE 1: INSERT INTO Sensor(name, value, location, unit, frecuencyUpd...
                    ^"
what's the full error
Sounds like there's no table called `sensor`
"The full error is the last one. Now in Spanish, from the console: no existe la relación «sensor»
LINE 1: INSERT INTO Sensor(name, value, location, unit, frecuencyUpd...; It exits, it is called Sensor"
"FYI, you might want to move this to <#C3X4T24LB|databases>"
"Ok, thanks!"
anyone here use lektor?
"A little, never got very far"
"Hi! Does anyone know python packages that helps to organize communication between cluster members (select cluster leader, schedule task on defined percent of nodes etc.)?"
<@Mallie> ah ok. trying to get the home page to show a list of posts from another model.; <https://github.com/lektor/lektor/issues/443>
Yeah that's outside my experience; I wanted to do more with it but just couldn't find the time
I always defer that to something like consul
do you use anything now?
"Or you can do distributed locks with redis, I believe "
if i cant get it working i may try hugo again. it was nice too.
Thanks. I found that I want <https://github.com/bakwc/PySyncObj>
hi; has anyone here has class variables revert to their previous value after being assigned in a method?
"<@Otha> Negative, can you provide a minimal example to show this happening?"
"yep , just sketching one up now"
"any threading going on, or shared memory?; but yeah - minimal example is key"
"<@Otha> only instance is when a property setter was resetting other class properties inside; eg 

```    @value.setter
     def value(self, val):
           self.some_property = val ** 2
           self.value = val
```"
"```class myclass:
  myvar1 = None

  def set_myvar1(self, input):
    if input == 1:
      self.myvar1 = '12345'
    else:
      self.myvar1 = '8765'


def make_my_thing():
  set_myvar1('some_input')```; in pycharm I can see `myvar1` = ’12345; when I call make_my_thing"
"You are using class variables, not instance variables there"
yup
"but as soon as I exit the method, its reverted to None"
e.g. shared across all objects
append `self` to `myvar`; eg `self.myvar1` and refer to that in the setter
I have ?
"```
class MyClass:
    def __init__(self):
        self.myvar1 = None
```; That is what you need; Set it on the _instance_; And then use properties for the set/get logic"
"oh I follow; been a long day, not sure how I missed that one :confused:"
don't forget to use `self` too; when accessing the properties
"having said that, I want ALL instances of my class to have these defaults"
"one of my first brain farts with python, coming from java :slightly_smiling_face:"
buyt I suppose the __init__ will do that
"```
class MyClass
    def __init__(self):
        self._myvar1 = None

    @property
    def myvar1(self):
        return self._myvar1

    @myvar1.setter
    def myvar1(self, value):
        self._myvar1 = value * pi  # or whatever
```"
do I need to decorate the setters ?; never had to do that before?
"In python it's not idiomatic to use ""set_value"" and ""get_value"" as it would be in Java; Properties are what you do that for"
so why are some of my class variables changing as I require them too; and others reverting to default?
That is a bit weird
basically `self` == `this`
You example doesn't actually work
weird is what I’ve got too
So I think you need to re-try it or edit it
example was a very quick hack and slash; let me get some real code
We need to see one that we could run locally and repeat the error
"I think I might of seen the error of my ways; I have a method, calling a method; in the same class; yep, thats solved it; trying to set self.brand = xxx in a method, which was itself called by a method; if I return a value from the second method, then do self.brand = returned_answer; the value sitcks; never run in to that one before; ah, I can see the full error now; inherited code; I was doing self.brand = self.make_brand(); and; make_brand() would assign the answer to self.band; and have no return; ergo None; so self.band = None; time to go home I think; thankyou all for your help :slightly_smiling_face:"
we were just rubber ducks for your debugging :slightly_smiling_face:
I really should invest in a small yellow duck for my desk; can tell the other programmer in the office is away this week!
I got a dolphin. Helps with stress too.
"<@Otha> Why settle for a normal yellow duck when you can have so much more
<https://media-cdn.tripadvisor.com/media/photo-s/08/8e/7b/3f/amsterdam-duck-store.jpg>"
"<@Beverley> If I remember this correctly, it depends on the name of the module; so it looks for `celery_app.py` in `revamp` module"
"that's the funny part I created revamp but "".celery_app"" isn't on either as far as I can tell"
"ok, and if you try just `celery worker --app revamp`?"
ImportError: No module named celery
"oh, tbh it looks fine to me, maybe it's something wrong with the project structure or virtualenv?; (just throwing ideas)"
noted will see if I can figure out why
sometimes old `.pyc` files are messing things up
"samuel@samuel-pc:~/Documents/code/revamp$ celery worker --app revamp.celery_app
...; ImportError: No module named celery_app; don't think it's .pyc since I can get it to work on an example project"
<@Beverley> Are you in the `revamp` module? The module needs to be on your path so it won't look a directory up. If `revamp/` is in `code/` you should do `celery worker --app revamp.celery_app` in `code/`
yes working in the module; in the same dir with manage.py for django project
Oh so revamp is also the name of the project? Gotcha. What are the contents of the 'revamp' module?; That should contain your `celery_app`?
"what i have is in gallery.colorfest this code; how I got it this creates a celery worker revamp, I only mimick "".celery_app"" since it was the last command an example project i'm porting over. if I try "".full_render"" I get a missing module error"
"Hm I'm not sure, you're mentioning several module names here and I don't know what they look like. Basically the `--app` flag expects to be given a module on python path that has a Celery app config; So you need to make sure that the path exists as a python module if you pass it to `--app`; You don't want to give `--app` ""full_render"" since that is a task - when you are running a worker it is going to hang out and wait to receive registered tasks for the app, but you don't instantiate it with a task"
"short explanation for this there's channels and sockets supposed to run a background process and return status in between &amp; final result, working with another dev on this, did ask him about it...; [9/11/2017 4:05:14 PM] Samuel Muiruri: where's the location of this script? celery worker --app ch.celery_app
[9/11/2017 4:06:33 PM] Dev: It should be installed (pip install celery); the ""app"" isn't in the folder, here's ls from ""ch"" &gt; ch  db.sqlite3  django_cache  manage.py  requirements.txt"
<@Beverley> please use code formatting
formatting it
thanks!
"can't trace ""celery_app"" but this is what runs on celery"
Seems like this belongs in <#C0LMFRMB5|django> ?; You may get the best help there for celery + django
re-posted will wait and see
"Looks like Base64. Decoding gives - '\x04\x01\x9f\xc7;\xa9t\x17\xa9""\xb8_7\x17\x83\xa1'; <https://stackoverflow.com/questions/6916805/why-does-a-base64-encoded-string-have-an-sign-at-the-end>"
"guys can someone help me with regex?; &gt;| Player | PL | CL | FA | LC | SC | Total |
|:-------------------:|:--:|:--:|:--:|:--:|:--:|:-:
| **R. Lukaku** | 4 | 0 | 0 | 0 | 1 | **5**
| **A. Martial** | 2 | 0 | 0 | 0 | 0 | **2**
| **P. Pogba** | 2 | 0 | 0 | 0 | 0 | **2**
| **M. Rashford** | 2 | 0 | 0 | 0 | 0 |**2**
| **E. Bailly** | 1 | 0 | 0 | 0 | 0 | **1**




-------
How do I use regex to turn this into :

R. Lukaku 5( this is the final number of each line)
A. Martial 2
P. Pogba   2
M. Rashford 2
E. Bailey   1"
<@Charlena> why regex for this? Seems like you could use the csv module with the right delimiter; Then some basic replaces; Where are you stuck?
... or just explode (<http://php.net/manual/en/function.explode.php>) it.
<@Beula> I look into those options guys
I think you may be in the wrong slack group for that.
I can give you a regex answer after my meeting - its a relatively simple pattern
"Aurille, thank you. I will will be waiting."
"<@Charlena> ```import re
text = '| **R. Lukaku** | 4 | 0 | 0 | 0 | 1 | **5**'
data = re.findall('\*\*([\w+\.\s]+)\*\*', text)
print(data)```"
<@Earline> worked perfect. Thanks so much
<@Martha> wow that's perfect.
you can also wrap the final in `print(' '.join(data))` to have it come out as `R. Lukaku 5`
I'll use that . Thanks <@Martha>
"hahaha, totally. And when I wrote that I thought 'hmmm, what's the PHP function for that...'"
Haha! We have lots of current and former PHPers here :slightly_smiling_face: I think in Python we have `.split` which I think is the same?
"Hey, is anyone free to help me out with some fairly basic stuff? :slightly_smiling_face:; Would be much appreciated."
<@Lanora> sure
"I'm trying to create a function that draws something in turtle in a different place depending on what information is pulled from a certain nested list.; This is the function paste_up(data_sets[52]) - 52 being the list number.; Number 52 for example.; ['X', ['Sheet A', 'Location 1', 'Upright'],
          ['Sheet B', 'Location 2', 'Upright'],
          ['Sheet C', 'Location 3', 'Upright'],
          ['Sheet D', 'Location 4', 'Upright']],"
can you also provide the body of function?
"def paste_up(*params):
    if params[1] == 'Upright':
        print('Sheet is upright.')
    else:
        print('Sheet is upside down.'); Just starting off, but trying to check whether it's 'Upright' or 'Upside Down'."
<@Lanora> please use formatting for your message <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages> :slightly_smiling_face:
"Problem is, the variable in paste_up(data_sets[52]) only specifies the section as a whole and I don't know how to target each individual item in the list; Can't be hardcoded, as the paste_up(data_sets[52]) &lt;-- Number is subject to change.; Alrighty, one second <@Ciera>; '''paste_up(data_sets[52])'''; Oops.; ```paste_up(data_sets[52])```"
it's backticks ` not quote ' :slightly_smiling_face:
"```def paste_up(*params):
    if params[1] == 'Upright':
        print('Sheet is upright.')
    else:
        print('Sheet is upside down.')```; ```    # These are the final, 'correct' arrangements of sheets
    # Data sets 51 - 52
    ['X', ['Sheet A', 'Location 1', 'Upright'],
          ['Sheet B', 'Location 2', 'Upright'],
          ['Sheet C', 'Location 3', 'Upright'],
          ['Sheet D', 'Location 4', 'Upright']],
    ['O', ['Sheet A', 'Location 1', 'Upright'],
          ['Sheet B', 'Location 2', 'Upright'],
          ['Sheet C', 'Location 3', 'Upright'],
          ['Sheet D', 'Location 4', 'Upright']]
    ]```"
Upright's position is 2. You need to compare params[2]
"```Traceback (most recent call last):
  File ""C:/Users/Peter/Desktop/IFB104 - Assessment 1/billboard-final.py"", line 407, in &lt;module&gt;
    paste_up(data_sets[52])
  File ""C:/Users/Peter/Desktop/IFB104 - Assessment 1/billboard-final.py"", line 363, in paste_up
    if params[2] == 'Upright':
IndexError: tuple index out of range```"
could you show us how you call `paste_up` ?
"```### Call the student's function to display the billboard
### ***** Change the number in the argument to this function
### ***** to test your code with a different data setpaste_up(data_sets[52])```; ```paste_up(data_sets[52])```; That's the extent of it.; I've been trying to figure this out for hours, it's driving me mad and I'm sure it's quite basic."
this prints 'Upright'
"```
paste_up(*data_sets[52])

# in paste_up
if params[1][-1] == 'Upright':
```"
"No go, I don't think params is the right thing, was just trying different possibilities at this point."
"Hi All, Im new to Django and Atom, anyone please clarify some of my doubts..
How to create Django project in Atom.
bit confused with the docs I have read, Im Using Windows and Powershell is the only option to create Django project or any other way to create Django project in atom??"
Better luck if you ask that in <#C0LMFRMB5|django> :slightly_smiling_face:
"In python 3, if you have a list with unpredictable, mixed types, is there a way to efficiently order that list (actual order doesn’t matter, just that the order is stable between calls)? - In python2, I would have just used `sorted`"
a list is ordered
"^ sort; sorry, what I meant is that I want to sort the contents of two lists so that if they contain the same elements (but in different orders), the sorted versions will have the same ordering"
"```
&gt;&gt;&gt; def key_function(x):
...     if isinstance(x, int):
...         x = '0%d' % x
...     return x

&gt;&gt;&gt; sorted([1, '1', 2, '2', 3, '3'], key=key_function)
[1, 2, 3, '1', '2', '3']
```; something like that ?; oh"
"yeah, but with Nones, tuples, namedtuples, lists, strings, enums, etc."
you'd need an `isinstance` check for each type and determine how to handle the type. At least with a key function you don't end up casting all types to something like string in the result
I feel like this might be an X-Y problem. Why do you want them sorted in the same way? <https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem>
"<@Fabiola> - kind-of, I’m trying to pair-up and remove common elements from two collections of unhashable objects"
"can you give an example of the 2 lists input, and what you'd expect the output to be ?"
"I'd suggest using sets, but you can't because they're unhashable? Are there duplicate items in the lists?"
<@Cristy> order doesn't matter you say? :slightly_smiling_face:
"And if there are duplicates, does there need to be an equal number of the objects in both lists to in order to remove them all? ie. is it one for one?"
"```
&gt;&gt;&gt;&gt; from collections import namedtuple
&gt;&gt;&gt;&gt; Person = namedtuple('Person', 'name age')
&gt;&gt;&gt;&gt; data = [1.0, '13', 27, 'x', None, (1, 2, 3), [1337], Person('Alex', 24)]
&gt;&gt;&gt;&gt; sorted(data, key=repr)
['13', 'x', (1, 2, 3), 1.0, 27, None, Person(name='Alex', age=24), [1337]]
```"
nice idea there <@Suellen>
"I suspect it's not ideal, but more often than not an object has a stable `repr`esentation."
Could you use `id` instead?
"<@Suellen> - thanks, I thought about that, the idea of repring everything emotionally hurts me, esp from a performance side, but maybe is best"
<https://docs.python.org/3/library/functions.html#id>
"<@Fabiola>  - For duplicates I need to still pair up 1-1; id might just about work, (this is an optimization after all) but not really, as many objects will compare equal with different ids; thanks for suggestions"
"I've made some progress.; ```def paste_up(*params):
    for entry in data_sets:
        sheet, location, axis = entry[1]
        if location == ('Location 1'):
            print('Location 1')
        elif location == ('Location 2'):
            print('Location 2')
        elif location == ('Location 3'):
            print('Location 3')
        elif location == ('Location 4'):
            print('Location 4')
        else:
            print('Null')
            break
```; The code now iterates through the list but I'm unsure how to get it to target a specific ""data set"" in the list?; ```    # Data sets 51 - 52
    ['X', ['Sheet A', 'Location 1', 'Upright'],
     ['Sheet B', 'Location 2', 'Upright'],
     ['Sheet C', 'Location 3', 'Upright'],
     ['Sheet D', 'Location 4', 'Upright']],
    ['O', ['Sheet A', 'Location 1', 'Upright'],
     ['Sheet B', 'Location 2', 'Upright'],
     ['Sheet C', 'Location 3', 'Upright'],
     ['Sheet D', 'Location 4', 'Upright']]```; Paste up is triggered with the following.; ```paste_up(data_sets[52])```; Am I missing something simple <@Ciera>?"
"your first `for` loop goes through `X` and  `0` you should make a seconde one to iterate through the entries; `sheet, location, axis = entry[1]` Here you just take the first entry but you should loop to use them all"
"If I try any others I just get this.; ```    sheet, location, axis = entry[23]
IndexError: list index out of range```"
yeah that's because `X` and `0` only have 4 elements. So you get an index error when trying to access the 23th
"Alrighty, but how does one get the variable from the command to copy over to the function?; ```paste_up(data_sets[0]) - 0 Being the variable```; I've tried a few different things like *params.; ```def paste_up(*params):```"
I do not get what you are trying to say :disappointed:
"I'd like a bit of advice. I'm using imagehash to help me find similar images. I have 20,000 to hash, so it's pretty slow. Would either threading, asyncnio, or multiprocessing speed up this process? I've never really used any of these before."
<@Amalia> assuming you are just generating a db of hashes than yes they will definitely help as you can hash them independently
and then use the db for lookups
any particular one you would recommend?
"but if you're iterating over the images each time, expect it to take a while"
All the above could help although I'd recommend asyncio as that is most up to date one and definitely worth learning
"<@Amalia> are you planning to iterate over the image set each time, or are you storing the hashes for later lookup comparisons?"
i think just a one time iterate
If you iterate like that then yes it will take a very long time
"just to be clear, iterate once and then save the results for later lookup"
"Ok, with the async model you'll iterate once to add all the hashing tasks to the pool and then wait for them to finish before doing the later lookup; Adding to the pool is basically instantaneous. It's the waiting for all the tasks to finish that will take some time"
"thank you. I assume this still only uses 1 core. As there is no waiting for responses, such as for across the internet, is using aync much quicker?"
"not really; if you're using multiple cores, then yes; but as far as using one core, you may have to use threading to help out with that.  Not sure if asyncio does that implicitly; you may want to ask in <#C07G5276F|async> about that"
:+1:
"Hey What's up guys ! I have a question regarding testing that's been on my mind lately and I was hoping you could enlighten me. So here goes: How do you effectively test a function that makes a call to a website and returns a response object ? Like in the case of a web scraper for example ? (code sample below); ```
import requests
def make_soup(url):
     response = requests.get(url)
     soup = BeautifulSoup(response.text)

make_soup(""<http://google.co.uk>"")
```; Is it relevant to want to assert that make_soup called `requests.get` with the correct url ? or should I pass requests as a dependency ?; Not really sure how to tackle this; thanks in advance !"
to make sure `request.get` is called with the correct `url` you should mock request for this test
I think this package <https://pypi.python.org/pypi/requests-mock> may help
I use the excellent responses library for mocking requests: <https://github.com/getsentry/responses>
"I haven't used the library recommended by <@Luana> so I can't compare, but the key thing is to mock one way or another. Without mocking, you're not testing your code so much as testing the API / website itself. It makes your tests fragile and slow to run, as network problems will make your tests fail etc."
Nice !! thank you very much <@Fabiola> <@Luana> <@Ciera> !; I suppose the same approach would apply to DB insertions ?
definitely
"I prefer `pook` myself, no need to specifically mock any lib but it mocks the network layer; <https://pook.readthedocs.io/en/latest/examples.html>; You can basically:

```
@pook.get('<https://myurl>')
def test_my_url():
    my_lib_function()
    assert pook.isdone()
```; It has a load of matchers you can use with it"
Are people writing separate functional tests for the APIs at all?
"Doesn't that typically depend if the API provides you a ""sandbox"" or demo env?"
You tell me. :slightly_smiling_face:  This is not an area I work in much. The APIs I use are public ones and I've not encountered that sort of functionality.
"Generally speaking, I don't if I don't have a testing env for them due to rate limits and such; I mock all the major response cases so I know if I can handle the error conditions around their API - generally speaking most places are decent about not breaking existing APIs; Assuming their devs are decent, anyway"
The people I'm working on this with have made some functional tests. I don't know if it's necessary: <https://github.com/keboola/sapi-python-client/tree/master/tests>
"One of the APIs I use is the Nominatim endpoint... it's barely documented and the source code is spaghetti PHP, so I have little confidence in it :smile:"
"oh, that's a fun one to use; especially when the rate limiting doc says 'depends'; with no hard limits"
"yup. Unfortunately I refuse to use Google Maps/Places, and Factual are discontinuing their Javascript API in favour of an app that semi-secretly tracks their users, so my options for a public places database are very limited"
what about mapbox?
"they are very committed to open source, and were very prominent at FOSS4G last month; with the main dev for Leaflet, Vlad, giving three talks"
Doesn't look like they have a places database
"oh, thought you meant geocoding"
Mapzen? <https://whosonfirst.mapzen.com/> Also seem to be big proponents of oss
"Looks like it has potential. If only their docs weren't written by a frustrated English Literature graduate; I mean, I'm trying to browse it to find out what it actually offers, and I come across a page detailing the Chicken response format: <https://mapzen.com/documentation/wof/formats/#chicken>"
every api should have chicken format
I'll add it to my backlog
"hey guys, I've been thinking about whether I should use a Mixin or Class Composition. In my scenario, I have a cross cutting concern that I would like to share across a few classes. For concreteness, lets say the class looks like the following: 
```
class CrossCuttingMixin(object):

    def initialize(self, service, external_id):
        pass

    def is_enabled(self, payload):
        pass

    def is_id_allowed(self, id):
        pass
```
1. Is it better to write a mixin or use class composition (i.e. initialize the class within another class)
2. Should mixins should keep state or be stateless?
3. Any good reads on this debate?"
"Your example is a bit too abstract for me to understand what exactly it would be used for, but these days it's common to prefer composition to inheritance, certainly; It's not like Python makes it easy to enforce the interfaces anyway"
"<@Gabriele> check out abc, you can enforce interfaces (e.g. when trying to instantiate a class from an ABC, abstract base class, you'll get an error if any abstract methods are not overridden)"
Starts to feel a bit like Java then :wink:
<@Gabriele> - what about testability? Classes become harder to test because of composition; The only way I could think of making it easier is passing the class as a param on initialization
"Why? Mixins are just composition that the compiler does for you.; I guess you can't easily pass several different composed types to the same tests, but if you really want the same interface across them, you can add that"
"Mixins aren't composition; You can write them as such, but it's still a  ""is-a"" relationship there"
"Composition is more about aggregating functionality than about interfaces; Well, I'm thinking on a more abstract level. It's still just taking the bits from one thing and inserting them into another. Is-A and Has-A becomes rather fluid in a dynamically typed language anyway"
"Not really, inheritance is always ""is-a""; Dynamic doesn't really impact that at all"
"But you can have ""is-a"" without inheritance, and you can have mixins with all 'private' members which don't really give you any sort of useful 'is-a' relationship.; As I see it, the only really important thing is, ""does this object support this interface?"""
"It's not about whether or not you get anything useful from it though; And you are right, that _can_ happen; But that's digressing from mixin not really being composition"
I still think it's just a matter of perspective.
Far enough :slightly_smiling_face:
"For Python specifically, I'd define the difference between Mixin and Composition classes in this way:
```
#Mixin
class Mixin(object):
    def do_something(self):
        print 'Hi'

class BaseClass(Mixin):
    def run(self):
        self.do_something()

#Composition
class Composition(object):
    def do_something(self):
        print 'Hi'

class BaseClass(object):
    def __init__(self):
        self.composition = Composition()

    def run(self):
        self.composition.do_something()
```"
Sure
"<@Gabriele> Is right, a mixin is meant as a type of composition, it really depends on how the mixin class is written"
"say, we have a Deep Learning model written in python2.x and the next step is to deploy it as a web service. Is it okay, if the Flask REST APIs are in Python3.x; How do me maintain the parity?"
<@Tameika> Are the Deep Learning models populating a database or something? Or are you wanting to trigger the py2 models from the flask app?
"True, they should all trigger py2 models as well libraries installed for py2.x"
"How are you ""triggering"" the deep learning models?"
does anyone here knows how to set up gpiozero library on mac?
what
"<@Shirl>, you can't.  you need to use it on a pi"
what's the best practice for accessing database credentials for multiple databases in django?
<https://docs.djangoproject.com/en/1.11/topics/db/multi-db/>
I can't just stick the username/password in the settings.py
<https://github.com/joke2k/django-environ>
"<@Meg> I read that, but it doesn't provide a solution for my problem"
"honestly, that's what I interpreted your original question as"
<@Meg>  <https://gpiozero.readthedocs.io/en/stable/remote_gpio.html>; the only problem is when i follow it line  by line i´m still missing some files
<@Cherrie> How does it not fix the problem? You need to load the config from the environment if you can't store it in settings.py
"<@Beula> is there a way to leverage another settings file?; like a ""databases"" only setting file"
eg `dev_settings.py`
sure
"Sure, set `DJANGO_SETTINGS_MODULE='other.settings.file'`; And in that other file extend your base; <https://github.com/pyslackers/website/tree/master/config/settings>; That is how we do it for this community's website; But we also use the environment"
"I tried to move the second db connection to the dev_settings.py, but it seems to overwrite the test_settings which means my tests try to run using a real connection as opposed to a test connection.  I suppose the real conflict is between test_settings and original settings and where to put the second database connection"
"I guess I am not following you, take a peek at the link above - we have three different settings files (dev/test/prod) that all extend a _base; each adds its customization"
"<@Beula> sure, for your example, when you run your project you're selecting which settings module to run via the command line, right?"
"We override the `DJANGO_SETTINGS_MODULE` envvar: the manage.py sets the default to ""development"", testing uses pytest-django (which sets it to testing), and in prod we set the envvar explicitly"
"oh got it, my settings are just misconfigured; thanks <@Beula>"
:thumbsup::skin-tone-4:; We have a <#C0LMFRMB5|django> specific channel for any django questions :slightly_smiling_face:
<@Beula> okay I'll use that moving forward.
Has anyone tried using setup.py build_ext with a cpp file that's already been compiled (file.bin) but includes the requisite Python hooks?
"Hey, would anyone knows how the answer for this Pytest / Pycharm question? 
<https://twitter.com/AlexZamai/status/907575096507854848>"
How can run my unittest programmatically? <https://stackoverflow.com/questions/46183899/importing-and-calling-unittest-programmatically>
"I would say your config file should mainly have code related to pytest itself. Say, new commands related to skipping tests or such."
"but what about fixtures that I'm sharing across the test suite? 
in my case its generated by faker names an email address I would like to import and use them across?"
"Sorry, took more than a second long look. Rename your testing_config to conftest.py. You don't need to import those fakes into your tests."
"aha, its the filename autodiscovered by pytest?"
Yup; I just recently started transitioning over to pytest here as well and there's a lot there (that sometimes isn't explained well).
can someone help me with python for AWS lambda? I have a simple question
"<@Charlena> ask away, someone will see it and answer you if they can"
<@Charlena> I've been playing with it a bit lately.
How do I access a variable from one method to another? lets say I have a variable goals=5  in my method goal_total()  . How do I access that goal variable in another method? I've tried a few things but for no success. Also i wasnt able to find proper documentation on that topic.
"Can't you just set global variable at the top of your file?

```
GOALS = 5

def goal_total():
    # something to do with goals
```; You can also set Environment variables pretty easily which is handy"
<@Charlena> I have just started playing with AWS and lambda myself - I would have thought what <@Lorna> said - is that not working?
"<@Charlena> there's no state sharing between lambda executions, you need to use an external store for state"
"that can be things like external databases (postgres, etc.), key-value stores (dynamodb, etc.), or if they're direct deps, invoking other lambda functions directly either via API gateway or SQS"
<@Charlena> so you want data to persist between Lambda calls?
"<@Lorna> no I'm not that deep and into stuff like persistence yet. But I made a simple lambda function and the normal python way seems to be working.; def lambda_handler(event, context):
    # TODO implement
    
    
    print (hello())
    print (""hi"")
    
    
    
    return 'Hello from Lambda'
    
    
    
    
    
def hello():
    
    a=""5""
    
    return a"
<@Charlena> you can use the little `+` button on the left there &lt;-- to add a python snippet
I was able to print 5 when I called hello(); <@Marcie> will do next time. Thanks
help please with conversion
<@Eustolia> you should fix the source of that output
i am fixed source
"Sorry, what?; Whatever gave you that output is broken - that string is a `repr` of a python dictionary; You shouldn't exchange `repr`s of python objects and try to deserialize them; you should serialize objects in a sane manner (for example, using `json.dumps`) and exchange that instead"
I need to get the dict from jinja2 Template
string -&gt; json -&gt; dict
how this string convert to json?; i am did it
"```
&gt;&gt;&gt; import json

&gt;&gt;&gt; foo = '{""1018.2"": [0, 0], ""1009.2"": [1, 1]}'

&gt;&gt;&gt; type(foo)
&lt;class 'str'&gt;

&gt;&gt;&gt; data = json.loads(foo)

&gt;&gt;&gt; data
{'1018.2': [0, 0], '1009.2': [1, 1]}

&gt;&gt;&gt; type(data)
&lt;class 'dict'&gt;

```; <@Eustolia> ^^ proper way"
im get code from this answer <https://stackoverflow.com/a/18178379/6108054>
"dont use eval; if its a well formatted json, use `json.loads()`"
"<@Collette> actually it could be argued that it's one of the goal of `__repr__`. <https://docs.python.org/3/reference/datamodel.html#object.__repr__>; &gt; Called by the repr() built-in function to compute the “official” string representation of an object. If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value (given an appropriate environment). If this is not possible, a string of the form &lt;...some useful description...&gt; should be returned."
<@Eustolia> ok wait. i see
"<@Ciera> I've digged cpython hg repo in order to find the fact that this documentation section was added _before_ introducing `pickle` module... but I failed. Apparently `pickle` has been added in cpython v1.2, and there were no such section in the docs at the time.; I think this is a bug in the docs - nobody should ever try to recreate an object using its `repr`"
<@Collette> :taco: for the research; Yeah I wouldn't do it either. I was also quite surprise when I saw that in the doc
which part of that doesn’t seem to be working?; oh.  oops.  slack fail.  that was in response to something that was apparently said forever ago.  weird
<@Ciera> that section was added between v1.3 and v1.5.2 - I can't be more specific because for some reason v1.3 &lt; cpython &lt; v1.5.2 has reference documentation in ms doc format instead of LaTeX :smile:
must find who did that :smile:
"Can anyone help me optimize a function I have written? It really slows down when processing large 'length' values. (function in thread); ```
def answer(start, length):

    #Ex start=0,length=3, iterable_line == [0,1,2]
    iterable_line = map(lambda x: x+start, list(range(length)))

    final_checksum = []

    while len(iterable_line) &gt; 0:
        #performs XOR on each item in iterable_line, yielding a single value
        checksum = reduce(lambda x,y: (int(bin(x),2)^int(bin(y),2)), iterable_line)

        #that value is appended to final_checksum
        final_checksum.append(checksum)

        #then remove the last element from iterable line
        iterable_line = iterable_line[:-1]

        #add value of length to each element in iterable_line
        iterable_line = map(lambda x: x+length, iterable_line)

    #returns the XOR of captured values from all 'lines', a single int.
    return reduce(lambda x,y: (int(bin(x),2)^int(bin(y),2)), final_checksum)

#To clarify, I am looking to capture the values to the left of the forward slash:
#ex: start = 0, length = 4
#  0  1  2  3  /
#  4  5  6  /  7
#  8  9  / 10 11
# 12 / 13 14 15
# /
```"
I'm not entirely sure I understand what you are trying to do; but it all looks unpythonic to me; so there should be a way to optimize that :slightly_smiling_face:
"Ok, I can try to explain what I'm aiming for"
Hey guys. I've been working with Django and I want to learn more pure Python. Any simple projects in mind?
"the function returns a checksum of all captured numbers, using XOR"
the best is to find something useful for you. Maybe some thing you do everyday that you can automate ?
"I'm looking for a more efficient way to capture the values I want. 

Currently generating a list, then trimming the list down one element at a time, really slows it down at larger values"
Yea that was what I was thinking but I don't know the limitations of what Python can do. For example one project idea I had in mind was creating an auto deploy system for my job but I'm not sure if Python is able to move files through ftp
"all captured number being 0, 1,2,3,4,5,6,8,9,12 ?"
"yes, all elements from the first line, then 1 element less, per line"
"&gt;  I don't know the limitations of what Python can do
Python can do everything :wink:"
As so I hear. Do you personally know how to go about that? I just need help with that part and I think I'll be good
There’s a module for FTP: <https://docs.python.org/3/library/ftplib.html>; tools like fabric are useful though for automating tasks like that
"I added the visual example because it seems to form a pattern, I'm looking to ignore: multiples of length &lt; ignore &lt; multiples of length -1 , but I can't figure out how to write a function for that"
Ah nice I think this is what I was looking for. Going to read more on this. Thanks man!
other lengths follow the same pattern as well
"`range(start, stop)` could be useful for that; start being the start of the line and stop (start + length - x); incrementing x by one for each line"
np.
"do you think that will be more efficient than list manipulation? I think it will, but I'm still learning"
"```
length = 4
start = 0
minus = 0

for _ in range(length):
  for x in range(start, start + length - minus):
    print(x)
  minus += 1
  start = x + minus
```; something like this will get you a list of the captured number"
"nice, can you tell me why you used the underscore in `for _ in` ? that's the second time I've seen that"
"in fact it can even be ```
length = 4
start = 0

for minus in range(length):
  for x in range(start, start + length - minus):
    print(x)
  minus += 1
  start = x + minus
```; `_` is a convention when you don't need to use the value"
"I see, so I'm just iterating over the values; Thanks for the help by the way, I really appreciate it"
no problem. Do you understand how the code works ?
"the first one I understand for sure, the second one is similar but I'll need a second look"
don't hesitate to put some more print in there to exactly see how everything interact
yeah I'm going to test the code here in a moment; but it makes sense
and Python come with a lot of good tools in it and it's always better to use those than create lambda and stuff :slightly_smiling_face:
"this is actually the third or so iteration of the function I've made; It's for a puzzle, but my submissions keep timing out"
it's by coding that you learn :wink:
"yeah, I love it; so I'm trying to optimize it a bit more"
<@Felicita> I'd suggest ansible
"Hey lads, need abit help with this code. The code was originally writte for Pillow library and ImageGrab.grab, since the output had very bad fps i'm trying to rewrite it with mss library instead."
(not only lads here)
"<@Gabriele> my apologies :slightly_smiling_face:; the error i'm getting is 
```
Warning (from warnings module):
  File ""C:\Users\maksim.FIRECOM\Desktop\opencv\grab_screen.py"", line 41
    x1 = (min_y-b) / m
RuntimeWarning: divide by zero encountered in double_scalars

Warning (from warnings module):
  File ""C:\Users\maksim.FIRECOM\Desktop\opencv\grab_screen.py"", line 42
    x2 = (max_y-b) / m
RuntimeWarning: divide by zero encountered in double_scalars
cannot convert float infinity to integer
'NoneType' object is not iterable
Traceback (most recent call last):
  File ""C:\Users\maksim.FIRECOM\Desktop\opencv\grab_screen.py"", line 154, in &lt;module&gt;
    cv2.imshow('OpenCV/Numpy grayscale', cv2.cvtColor(new_img, cv2.COLOR_BGRA2GRAY))
TypeError: src is not a numerical tuple
```; Original code : <https://github.com/Sentdex/pygta5/blob/master/Tutorial%20Codes/Part%201-7/part-7-self-driving-example.py>
MSS Implementation code:
<https://python-mss.readthedocs.io/en/latest/examples.html#opencv-numpy>"
"Well, you'll want to start by fixing the first bit. Division by zero is never going to end well. Maybe the data you're pushing in to the `lstsq` function is invalid."
"Hmm I came up with this, but the interpreter is still telling me I've exceeded the time limit ```from itertools import imap

def answer(start, length):
    def gen_raw(length):
        range_start = 0
        
        for minus in range(length):
            for cap_this in range(range_start, range_start + length - minus):
                yield cap_this
                
            minus += 1
            range_start = cap_this + minus
    
    return reduce((lambda x,y: (int(bin(x),2)^int(bin(y),2))), (imap(lambda x: x+start, gen_raw(length)))) ```; the only reason I can think of is because of the nested 'for' loops"
"I'm not exaclty sure hwat this does `reduce((lambda x,y: (int(bin(x),2)^int(bin(y),2))), (imap(lambda x: x+start, gen_raw(length)))) `; maybe there is a better solution for that part"
"reduce takes a function and an iterable and performs the function on the iterables until only one remains; int(bin(x),2)^int(bin(y),2) is performing XOR on the binary representations of x and y; and the iterable is the second part, in two parts; imap(lambda x: x+start is adding the value 'start' to each element of gen_raw(length); gen_raw(length) performs the function you helped me with earlier"
I'm not sure you need to do something like that
perhaps I'm overthinking it
you shouldn't really need to define a function either
maybe I focused too much on cramming a bunch of stuff on that one line
can you explain what are x and y ?
"x,y: is taking the first two different values generated from the iterator; which it then turns into one value; then when another is generated, it reduces that, compared with the previous value"
ok got it; are you sure this is the way to calculate it ?
"to be honest there might be easier ways; I didn't even know about XOR binary before this problem, like I understand the concept, but this method is what I came up with by putting a couple stackoverflow answers together; so it's possible the delay is taking place there"
I'm not at all familiar with this stuff so idk
"but I couldn't find an easier way to do xor on two ints than by doing that; sure, no worries; it's a weird problem, I have 24 hours left to solve it"
maybe repost it in <#C07EFMZ1N|help> :slightly_smiling_face:
"might try reddit, then come back here later, thanks again for looking"
no problem
"Now it works, the only problem is lines that should be drawn on screen rarely appearing"
"Hi everyone, there's a challenge on which I would like suggestions how to best approach. We have like 200,000 messages which are grouped into (Categories-&gt;subcategories-&gt; tags), A usecase is:
(i) Show all Categories on the same screen 
(ii) When a user clicks on one of the Category bars, show all of the subcategories on the same screen
(iii) When a user clicks on one of the subcategories bars, show the tags under the subcategory.

We are using google charts for this right now but it is painfully slow. How would anyone here go about this? 
P.S. The minimum we can go is to set the retrieved data to a span of one week at any viewing time."
"<@Daniell> use a database with D3 or Highcharts?; <https://d3js.org/>; <https://www.highcharts.com/>; the former is free, the latter is paid"
Here's my code <https://gist.github.com/anonymous/050039dcc320b2298ee0f30cf1d699b7>
In this case I suppose it means that `left` is `None` so you can't do `left(..)`
"<@Ciera> thanks, so how would I go about fixing it?"
Will look into it too. Thanks.
"```
    left, right = None, None
    node_value = 0
    tmp_right, tmp_left = None, None
    node_list = []
    for elem in the_matrix[the_root]:
        if elem:
            if (node_value &gt; the_root):
                node_list.append(right(root, node_value))
            else:
                node_list.append(left(root, node_value))
        node_value += 1
```; you can't set something to `None` then call it; I don't really know what your goal is, Maybe `node_list.append((left, root, node_value))`; if that's what you need"
"Thanks. I’m solving this question without using additional Tree Node data structure. It says that the question can be solved with in place traversal of the input matrix using BST property of tree, so I’m trying that.

````
Find the least common ancestor between two nodes on a binary search tree.

The least common ancestor is the farthest node from the root that is an ancestor

of both nodes. For example, the root is a common ancestor of all nodes on the

tree, but if both nodes are descendents of the root's left child, then that left

child might be the lowest common ancestor. You can assume that both nodes are in

the tree, and the tree itself adheres to all BST properties. The function

definition should look like question4(T, r, n1, n2), where Tis the tree

represented as a matrix, where the index of the list is equal to the integer

stored in that node and a 1 represents a child node, r is a non-negative integer

representing the root, and n1 and n2 are non-negative integers representing the

two nodes in no particular order. For example, one test case might be ...

question4([[0, 1, 0, 0, 0],

           [0, 0, 0, 0, 0],

           [0, 0, 0, 0, 0],

           [1, 0, 0, 0, 1],

           [0, 0, 0, 0, 0]],

          3,

          1,

          4)

""""""
```"
"Hi everyone, has anyone here already tried to implement <http://draw.io|draw.io> or GraphEditor to a django app ?"
"Hi! 
I've stated using SQLAlchemy in my new project and can not exactly get the relationships part.
I have a method which goes over a list of `Candidate` objects, its model has ` applications = relationship('Application', backref='candidate', )` and in that loop I want to merge the Candidate objects to different session. Problem is that it only merges the `Candidates` not the `Application` objects to the other session. I have a feeling that there is a setting that I'm missing either on the merge or model side that would enable saving all of the related models."
"Hello all!
why I do have this error here:
b = map(sum,a)
TypeError: 'int' object is not iterable
```
a = [1,2,3,4]
b = map(sum,a)
print b
```"
"`sum` expects an iterable of numbers to add together; `map` iterates over each thing in an iterable and applies a function to it; `map(sum, a))` says to apply `sum` to each individual item in `a`"
"I see, thank you!; sum is not used the right way"
"if you just need to add up the list of numbers `sum(a)` will do exactly what you want; there's not really any way to use `map` to add a list of numbers. `reduce` could do it, but there's no reason to since `sum` exists"
I some slick way to sum up two dimensional list :slightly_smiling_face:; other than : `b = sum([sum(x) for x in a])`
what's wrong with that?
"nothing, just want a shorter one :slightly_smiling_face:"
make a method; and return that list comprehension; :smile:
"should be done without for, possible?"
"i mean, that's clear and explicit"
it is clear and explicit
why? it's fine
"I know its fine, just get bored :slightly_smiling_face:"
I think you're having a case of premature optimization and cleverness.
and tired; I know :slightly_smiling_face:
"being clever is a good thing, when its clear what you're doing"
and someone else apart from you can read that :slightly_smiling_face:
bingo
you should almost never be clever
"which, unfortunately is not the case"
boring and obvious is _great_
"if you can be clever while being readable, understandable and efficient, why not.  But that's a pretty tough trinity to hit; good for cold golfing, though"
"OK, thank you! I'm done for today :slightly_smiling_face:"
PyDanny gave a good talk in 2011 about being stupid and lazy. <https://www.slideshare.net/pydanny/confessions-of-a-joe-developer>
logged in as root
`chown -R django:django`
"great thanks; I should do this from inside the folder, right"
correct; or provide the full path
don't you need to provide a path anyway?; `chown -R django:django .`
forgot that last period
with the period it works; with the period it works
"Struggling with mysql.connector.

```
sql = 'INSERT INTO MARKET_DATA_ACTIVE_DHCP (SM_ID, NODE_PORT_NODE, VLAN_VPI,' \
      ' CTAG, DSLAM) VALUES (%(redback)s, %(slot_port)s, %(vlan)s, %(ctag)s, %(dslam)s)' \
      ' ON DUPLICATE KEY UPDATE DSLAM = %(dslam)s, LAST_SEEN=CURRENT_TIMESTAMP;'

args = (('rbohmnfd80', '3/7', '662', '38', 'GLSTOHXAH03'),
        ('rbksgrnr80', '9/3', '752', '34', 'BURLKSAWRLA'),
        ('rbncrcmt92', '3/1', '740', '100', 'GNVLNCGXRLA'))

keys = 'redback slot_port vlan ctag dslam'.split()
args = [{key: arg for key, arg in zip(keys, args_set)}
        for args_set in args]

with mysql_connect(config) as cursor:
    print(cursor.executemany(sql, args))

Traceback: mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '%(dslam)s' at line 1
```

It seems the dictionary keys work in the insert statement, but after the update clause it isn't substituting.; Also, ```.callproc``` doesn't seem to allow for multiple sets of data at once, is there a way to do that? It would be preferred if so.; If anyone was wondering about mysql_connect above, that's not standard to the library, though similar probably should be...

```
@contextmanager
def mysql_connect(config, commit=True):
    with closing(connection.MySQLConnection(**config)) as cnx:
        with closing(cnx.cursor()) as cursor:
            yield cursor
            if commit:
                cnx.commit()
```"
"<@Meghan>, would a `REPLACE` statement  be viable here?; Not to be dismissive, but there’s also a not-too-old SO thread about it: <https://stackoverflow.com/questions/37006202/bulk-update-mysql-with-python#37008749>."
"<@Winnifred> Yeah, it looks like that may be the way. Such a pain."
<@Manuel> fully parsing javascript with regex would have similar problems as fully parsing html with regex - as made famous in this stack overflow answer <https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454>
<https://i.ytimg.com/vi/qPopSBUpQ_4/hqdefault.jpg>
"<@Manuel> moving it over here  are these the top level functions you want? 
```   function cmMedicalDevicesTreatmentsController
 
        function activate
 
        function initializeScope
 
        function getTreatments
 
        function refreshWidget
 
        function addTreatment
 
        function editTreatment
 
        function deleteTreatment
        function nullString```"
"I want all top level functions (cmMedicalDevicesTreatmentsController) and their content.; My regex doesn't seem to be able to match the correct closing curly brace.  That why I thought the ""iterating"" stack overflow answer might be the best option.; basically find the first function, then count all the opening and closing braces and parens until I get back to the correct closing one."
just the raw data inside the open and close for `cmMedicalDevicesTreatmentsController`? - sorry just clarifying
"yeah, that's basically what I'm seeing... regex no es sufficiente; I need the function declaration and it's body"
"Hi all. I have what might be a bit of a stupid question, but I’m trying to sort out the most ‘appropriate’ way to handle multiple bitfields (with what are effectively defined boolean flags).

I saw this ctypes answer on SO…<https://stackoverflow.com/a/11481471>"
A single bitfield would effectively look like (stealing the code example):
"So, do I have to do the insane thing and create a bits struct, and a union where I cast the byte into the struct for every single bitfield? I’m looking at upwards of 20 of these things, and I can imagine the sheer number of classes being a painful thing to manage"
"Need help :pray: 
```
list_a = [{'a': 1}, {'b': 2}, {'c'; 3}]
list_b = [{'a':3}, {'d': 4}, {'c':5}, {'e':6}]
# if lista_a is newer than list_b the result should be:
# [{'a':1}, {'b':2}, {'c':3}, {'d':4}, {'e':6}]
# and if list_b is newer than list_a the result should be:
# [{'a':3}, {'b':2}, {'c':5}, {'d':4}, {'e':6}]
```
thanks"
<@Mercedez> what do you define as “newer”?
"i have a list, and the newer list is an input from the user. and i need to merge them; its old user data and new user data."
have you tried list.extend()
?
<@Mercedez> are you sure the internal dictionaries only have 1 key?; <@Mercedez> if that’s the case then using tuples would be better.  then you could use sets to combine.
<@Delphine> awesome!
"I believe the reason it throws this error ""(failed)
net::ERR_INCOMPLETE_CHUNKED_ENCODING"" during uploading is nginx fails to get permission to upload the file, the folder it should upload to is empty; snapshot from the view of the folder it targets and it's empty meaning it never uploads the file"
"Hi folks, any one can help me to write python mysqldb modules; #!/usr/bin/python

import MySQLdb

# Open database connection
db = MySQLdb.connect(""localhost"",""root"",""redbury"",""testdb"" )

# prepare a cursor object using cursor() method
cursor = db.cursor()

# Create table as per requirement
sql = """"""CREATE TABLE EMPLOYEE4 (
         FIRST_NAME  CHAR(20) NOT NULL,
         LAST_NAME  CHAR(20),
         AGE INT,
         SEX CHAR(1),
         INCOME FLOAT )""""""


# execute SQL query using execute() method.
cursor.execute(sql)

print (cursor.fetchall())


#for row in data:
#  print row[0]


#print(""Returned rows:\n{}"".format(data))
#print (data)

# disconnect from server
db.close(); I want to get fetchall() method to get output. but its not working . how to use fetchall() to get print"
you need to execute a sql query that retrieve data for `fetchall` to return data; and please use slack formatting or snippet. <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages>
"```#!/usr/bin/python

import MySQLdb

# Open database connection
db = MySQLdb.connect(""localhost"",""root"",""redbury"",""testdb"" )

# prepare a cursor object using cursor() method
cursor = db.cursor()

# Create table as per requirement
sql = """"""CREATE TABLE EMPLOYEE4 (
         FIRST_NAME  CHAR(20) NOT NULL,
         LAST_NAME  CHAR(20),
         AGE INT,
         SEX CHAR(1),
         INCOME FLOAT )""""""


# execute SQL query using execute() method.
cursor.execute(sql)

print (cursor.fetchall())


#for row in data:
#  print row[0]


#print(""Returned rows:\n{}"".format(data))
#print (data)

# disconnect from server
db.close()```; do you have any script like that ?"
are you following a tutorial and/or are you familiar with sql ?
"Hey guys,  i am storing time in my model like this ""Sept. 6, 2017, 2:21 p.m."" is there anyway i can transform this into a date like so /DD/MM/YYYY when pulling it from the db?"
you are storing it as a string?; are you using an ORM or SQL directly?
no timezone :open_mouth:
im adding it with 'datetime.now()'
"that looks like `%b. %-d, %Y, %-I:%-M %p` as the format, except the `%b` locale abbreviated name for September is `Sep` and not `Sept`"
"So once the job has been accepted i run this 
`def accepted_date(self, resale):
    resale.accepted_date = datetime.now()`

now is it easier to format the date/time before it gets sent to the db? and how?"
"`.utcnow()` would be preferred instead of `.now()`. And if your DB driver is DBAPI compatible, it will convert datetime's into the correct format for your DB"
okay thanks :0; :slightly_smiling_face: *; Why does this give me an error obj.accepted_date.strftime('%d/%m/%Y')#; 'NoneType' object has no attribute 'strftime'
It's telling you that `accepted_date` is None
are you returning the `resale` object from your function before trying to persist it ?
"I have no idea. The job is created then accepted at that point 

`
`; `def accepted_date(self, job):
    job.accepted_date = datetime.now().strftime(""%Y-%m-%d %H:%M:%S"")`"
fyi it's backticks ` :slightly_smiling_face:
"that runs and inputs the date it was accepted. but it still is shown like `Sept. 14, 2017, 9:19 a.m.`; Okay, can i start again please.

So my aim is to compare the accepted date field with today date and calculate the number of days that have passed.

So when a job is accepted, the date/time is inserted using this statement
`def accepted_date(self, job):
    job.accepted_date = datetime.now().strftime(""%Y-%m-%d %H:%M:%S"")`

In the admin i am trying to calculate and show the number of days.

`
    def get_accepted_date(self, obj):
        date_format = ""%m/%d/%Y""
        today = datetime.date.today()
        today = today.strftime('%d/%m/%Y')
        accepted_date = obj.accepted_date

        #diff = accepted_date - today.strftime('We are the %d, %b %Y')
        return obj.accepted_date
    get_accepted_date.short_description = 'Accepted date'
    get_accepted_date.change_date = ''
`

This is what i have so far. but i cant get the formats to match so i can run `diff = accepted_date - today`"
"`today.strftime` creates a string, then you try to subtract that from accepted_date, which won't work; You'll need parentheses around the subtraction operation - or better still, to calculate that first, then call strftime on the result"
"Okay i have removed strftime from the functions that upload the date when its accepted; and tried it again and it is still showing the same format, Sept. 14, 2017, 9:30 a.m."
"what shows that, and why is that a problem? You're interested in calculating the days that passed, so I don't see how the format is applicable"
"Its showing like that in the admin models, how do i got from that format to calculating it with the format of todays date :confused: ahh my head hurts"
"the text format doesn't matter; the difference between dates is based on the value stored in the date, not the way it displays it on screen"
"ah okay, so its just a case of comparing them"
"yes. for some reason it looks like you insert a date as text, which is a bad idea, but even so, you can convert it back to a date, then perform the subtraction normally; dates need to be stored and compared as datetime objects. Leave the stringifying part to the very last minute, when you're displaying the info"
"`
    def get_accepted_date(self, obj):
        today = datetime.date.today()
        accepted_date = obj.accepted_date
        diff = accepted_date - today
        return diff
`
Soin me eyes, this should now work"
"yes, diff will be of type `datetime.timedelta`"
"If obj.accepted_date is in the right type, yes"
for code blocks use triple backticks with no spaces on either side of the code block
`unsupported operand type(s) for -: 'datetime.datetime' and 'datetime.date'`
One of those types needs to change; You can decide which
`today = datetime.datetime.utcnow()` as your accepted date is a `datetime` object and not a `date` object
"```    def get_accepted_date(self, obj):
        today = datetime.datetime.utcnow()
        accepted_date = obj.accepted_date
        diff = accepted_date - today
        return diff```

is giving me `can't subtract offset-naive and offset-aware datetimes`"
"and then your diff you're returning, if all you want is the number of days difference, you can `return diff.days`; ah, then change the `.utcnow()` to `.now()`"
"ugh, Python UTC handling is a bit broken, unfortunately. I'd suggest using utcnow everywhere, if you can"
"Still getting the same error, 
```  def get_accepted_date(self, obj):
        today = datetime.datetime.now()
        accepted_date = obj.accepted_date
        diff = accepted_date - today
        return diff.days```"
"yeah, ^ agree with that. in general UTC should be preferred for storage. if you need to render date/times in a locale specific TZ, that should be done on the presentation layer; `accepted_date = obj.accepted_date.replace(tzinfo=None)` to remove the TZ Info"
thanks for this btw guys
I believe that both .now() and .utcnow() are offset-naive in Python (even though that is clearly incorrect for UTC). You will need to make sure that obj.accepted_date created in the same way
<@Carri> after adding that line i get a new error `'NoneType' object has no attribute 'replace'`
Same error that we mentioned above - accepted_date is None
is this telling my the accepted_date is a type of none?
You need to make sure that's set before calling this
"way im getting somewhere :slightly_smiling_face:; ```    def get_accepted_date(self, obj):
        if obj.accepted_date:
            today = datetime.datetime.now()
            accepted_date = obj.accepted_date.replace(tzinfo=None)
            diff = accepted_date - today
        else:
            diff = ''
        return diff```; now returns `-8 days, 4:36:58.466533`"
You don't want to be returning an empty string when there's no accepted date
"it gave me an error before i added it; said diff was not referenced, so i just added that :stuck_out_tongue:"
"The error was because accepted_date was None. That doesn't mean you want to return a string in that case; Whatever is calling that function either should check for the presence of obj.accepted_date first, or your program needs to ensure there is always an accepted date"
"Okay awesome, so i am getting `7 days, 19:30:49.019527` is there an easy way of taking of the mili seconds"
"You have a `timedelta` object, so you can use whichever of the fields you like, and write them into a string: <https://docs.python.org/3/library/datetime.html#timedelta-objects>"
"One more question before i leave, in the model admin view some columns can be filtered by pressing the bar over the column. how can i make this work with the column i just made?"
"no idea, sorry. I know nothing about whatever admin view you're talking about; Looks like a job for <#C0LMFRMB5|django>"
"alright thanks, and thanks for you help :slightly_smiling_face:"
hi; i search for freelancers man
"<@Gala> if you’re looking for jobs or job advice, <#C080T8XT2|job_board> or <#C64GEEM7U|job_advice> would be the place to look"
"Hi , how to pass values from one function to other functions"
"```
value = 13.37
result = function(value)
```; it's the same whether you call one simple function or a very complex one"
<@Suellen> if my function name is *create_query(customer)* means i have to use result = create_query(customer(value)) or can you tel me the format
is `customer` a function?
def create_query(customer)
"alright, so your function needs a customer object; and you give this function a customer: `query = create_query(some_customer)`"
yes. you are correct
where do other functions come into play?
"```def create_query(customer):
  """""" Craft a specific query. """"""
  query = """"""select * from customers where customer_id &gt; ""{0}""; """""".format(customer)
  return query

def run_query():
  """""" Execute a given query. """"""
  db = MySQLdb.connect(host=DB_HOST,
        port=DB_PORT, user=DB_USER,
        passwd=DB_PASS, db=DB_NAME)
  cursor = db.cursor()

  print('Will execute the following query on PRODUCTION:')
  print create_query(""customer"")

affected_rows = cursor.execute(query)
   data = cursor.fetchall()
   db.commit()
   db.close()


def output(affected_rows, data):
  """""" Output the returned data. """"""
  print(""Result:\n{}"".format(affected_rows))
  print(""Returned rows:\n{}"".format(data))
```; I want to pass the value to next next functions."
"well, just call them like you normally would; ```
affected_rows = cursor.execute(query)
data = cursor.fetchall()
db.commit()
db.close()
# print result to screen
output(affected_rows, data)
```"
<@Suellen> can you share any link for my better understand
<@Bell> <https://www.tutorialspoint.com/python/python_functions.htm>; Any entry-level tutorial on functions is OK.
Some info: I am a mathematician i am workin as Full stack .NET Developer but i have studied python only for data science so i have no main things in developing in python so could you tell me some main similarities in C# and Python?? cuz the differences are plenty?? As far as the OOP have the same technical mentality?
"well, OOP basics are the same regardless of language; jsut Python doesn’t have interfaces; but there are alot of differences"
"and supports multiple inheritance, while C# does not"
not a whole lot of overlap
C#8 is gonna change to multiple inheritance and it gonna have MI and that was my worst nightmare no MI. But Python so versatile and thats what i love; I want slowly to do besides my work python projects from scratch in OOP so i wanted to know if its easy (OOP is the same as you said) . Cuz its easier for someone who doesnt know OOP to start OOP in a new language rather than one who knows from some other language as far as i am concerned :smile:
<@Shalonda> Hi Edward :slightly_smiling_face:
"well, python is object oriented, so shouldn’t matter"
"Hi! I want to reailize the functional ""get_or_create"", as it implement in Django models. I know how do it with defaultdict. But this method has many disadvantages  . Maybe i need use some methaclasses? or class Descriptors?"
I think I would create a class method for `Reseller` and `Customer`; something like `Reseller.get_unique(id_)` that check into a dict if the id exist
how can i get only package that i use one project
<@Georgetta> What do you mean?
quick question. How do you convert a string to a date and then substract dates from each other; so 2/2/17 - 2/7/17 will give me 5 days
"<@Felicita> Don't convert it to a string to do any sort of math, you do that with the datetime/date struct; Convert it to string just for presentation"
"timedelta and datetime.strptime(‘Jun 1 2005  1:33PM’, ‘%b %d %Y %I:%M%p’); i think he’s going from string to datetime obj"
"Oh woops I had it backwards, you're right"
i’ve provided some tips. try those out and come back with what you have tried :wink:.
"<@Mallie> <@Johana> Yea I needed to convert it to date because I'm getting the date from the front end as strings; <@Johana> yup will give it a shot thanks; end_date = datetime.strptime(‘Jun 1 2005  1:33PM’, ‘%b %d %Y %I:%M%p’)
                                    ^
SyntaxError: invalid character in identifier; Are there supposed to be spaces?"
you may need to adjust your import statement of datetime.; `from datetime import datetime`; something like that
"Invalid character in identifier... did you copy and paste that line, perhaps?"
actually you don’t need timedelta either. i have some code here where i compare dates. i’m not formatting from a string but it shows the general idea: <https://github.com/openstax/research-p3-experiment-4/blob/master/digital_logic/experiment/service.py#L298-L311>
yea I imported it <@Johana>; <@Gabriele> yea I copied it straight. But then I tried typing it
"The error just looks like maybe you copied a character that doesn't work in Python, that's all"
"yea, i got an error on the quotes.; i’ll adjust it"
"<@Johana> Are those date types?; <@Gabriele> Yea probably, let me try type it manually"
it’s the quotes for some reason they are jacked up.
just your right it was the quotes just as I finished typing it out too lol <@Johana>
and yes those are datetimes.; sqlalchemy takes the datetime field from the database and converts it to a python datetime obj.
the dates actually subtract without any conversions. I just need to convert the result into a readable date now
"i just discovered groupby from itertools, how can someone know about these functions if they are not usually covered in courses?"
what led you to finding it?
there are some books out there that try to cover the standard lib.; i think there is one called standard lib by example or something like that.; reading source code from many projects helps you learn those things too.
the standard lib is _huge_ so it's really hard to cover the whole thing
yea that’s why they hit the mostly used ones like collections.; and itertools; <https://www.amazon.com/Python-Standard-Library-Example/dp/0321767349>
"found it while doing this - <http://exercism.io/exercises/python/run-length-encoding/readme>; googled a bit cause i was gonna brute force do for/if and wanted a pythonic way; ran into a solution and used it, then i read up on it on the official docs; so its stuff like this that makes me love the language but damn its hard to know all of these things exist already; so wondering if theres a better way - but im guessing googling the crap out of everything"
"most people find these things by needing them, just like you did :slightly_smiling_face:; that said, yeah, it'd be good to have content out there about handy tools"
uhh. chrome full screen. havent used it in a while. doesnt it usually show the tabs when you mouse to the top of the screen?
Does anyone has a good series of python tutorial.?
<@Arnetta> <https://docs.python.org/3/tutorial/>
"<@Arnetta> refer documentation , docs. are the best reference and tutorials you can get out in internet . Good luck"
if you are just starting `Automate the boring stuff` is pretty good too
thanks <@Collette> <@Alfreda>
"Hello! I'd love some help with a mock.patch issue I am having. I am using Django/DRF to run some integration tests. My test is using the http client to make a request to the DRF API. I use service classes inside my API viewset functions to do the bulk of the logic, e.g. I might have a test method that uses `mock.patch('internalapi.views.users.UserService', autospec=True)` to mock the UserService class used by the API and this works great. What I am unable to do however is mock the `SMSService` that the `UserService` uses internally. I cannot come up with a `mock.patch` target string that mocks that class. I've tried `mock.patch('internalapi.views.users.UserService.SMSService', autospec=True)` but of course `UserService` is a class not a module. I've also tried `mock.patch('internalapi.views.users.UserService.login.SMSService', autospec=True)` to target a class function but that also is not doing it. Is this possible - I want the `UserService` code to run during my test but not the `SMSService`.; OK, so actually I was able to do this with a direct patch to `mock.patch('core.services.user_service.SMSService', autospec=True)`"
"Hi folks, which youtube session will be good to know abt python for beginner"
"<@Bell> I would look for Raymond Hettinger's videos on YouTube. It may not be beginner enough, but they are invaluable.; <@Bell> SentDex has some beginner videos. He's good at explaining things. The only thing is sometimes he lacks why to do things."
<https://github.com/pyslackers/learning-resources/blob/master/topics/essentials.md>
"Do you know any way to generate documentation from a django project (From docstring, etc.), standard tools like pydoc don’t work because many things in the code expect to be run from django directly (So it fails with AppRegistryNotReady: Apps aren’t loaded yet.)"
"Never used it but doesn't Sphinx:<http://www.sphinx-doc.org/en/stable/> do that? Not sure if it relies on pydoc...; I mean, it does more, but I think it does that too"
when you do:; does the context manager properly close?
yes
"thanks, <@Mallie>, so on `return`, `context_manager.__exit__()` is called still ?"
"Pretty sure but I'll check for confirmation...; <https://www.python.org/dev/peps/pep-0343/>; ```with locked(myLock):
    # Code here executes with myLock held.  The lock is
    # guaranteed to be released when the block is left (even
    # if via return or by an uncaught exception).```"
<@Mallie> :taco:; Nice :slightly_smiling_face:
"Ah so read the PEP a little more and this comparison is actually a little more informative to the point even; ```with EXPR as VAR:
    BLOCK```; is equivalent to; ```mgr = (EXPR)
exit = type(mgr).__exit__  # Not calling it yet
value = type(mgr).__enter__(mgr)
exc = True
try:
    try:
        VAR = value  # Only if ""as VAR"" is present
        BLOCK
    except:
        # The exceptional case is handled here
        exc = False
        if not exit(mgr, *sys.exc_info()):
            raise
        # The exception is swallowed if exit() returns true
finally:
    # The normal and non-local-goto cases are handled here
    if exc:
        exit(mgr, None, None, None)```; So the cleanup is basically a `finally`"
This is amazing.
"Hi everyone, any stripe experts in here?"
i know a bit; whats up?
"Sorry, just noticed your response, I'm also in the Stripe IRC chat lol; I think I've got it worked out, I'm just trying to figure out how to tie up the loose ends in my payment system. I'm not sure if there are things I should be keeping in my database that I'm not"
"ah ok; yea, that just really depends on how you are using it, the stripe IRC can probably help you a lot more"
"yeah I'm talking to a guy in there right now. He seems to think what I've got now is good enough. I mean, it works, I'm just nervous about releasing it to the wild because, you know, it's peoples' credit cards lol; I'm afraid I'm gonna zig where I should have zagged and accidentally charge all my customers $1000 LOL"
"yea, you for sure dont want to store credit cards; stripe can tokenize payment methods, thats probably what you want to use if you can"
"oh I am, I'm way past that point lol; I'm not worried about releasing credit card info, it's never touching my servers. I'm only concerned I'm not using stripe properly and am going to accidentally double bill someone, provide a refund wrong, or something along those lines; or not handle an error properly and Charge a customer without giving them access to stuff via my database, etc; just trying to consider all the possible ways this could go wrong, haha"
"ah gotcha, thats more your app code then… just gotta test it over and over and over and make sure you only call things when they need to be called"
"yeah; it's my app code and also my DB design; I just feel like I should be keeping some sort of a history in my database in terms of charges, invoices, etc; currently I'm not, and it works fine, but I feel like there might be a time down the road when this design will shaft me lol"
"yea, you should keep track of transactions; who paid what when; or who was paid what when; depending on the direction of money flow; there are many ways to do that too… basically, it’s a log of what you need or want to track… with any log, the more information you log, the better, because who knows when you need xyz"
true true!; I mean it's logged within Stripe
"but its still a log, so dont stress about it, you should at minimum track the who was paid what when stuff; yea, you should keep your own log too though"
"But the reason I ask is when customers change plans the easiest way for me to do it was to have them cancel their current subscription and sign up for a different one, rather than use the stripe upgrade/downgrade stuff and deal with changing billing cycles etc"
"maybe your system things someone got paid, and stripe doesnt show a refund… this is why you also need a log"
"so when I do that and delete the customer to start fresh it wipes their billing history.; ok, cool; I will probably create a payment history table for each user then"
"ah, you should for sure use stripes (or your own) upgrade/downgrade; dont let users cancel then signup again; you will likely lose people that way"
"well, then I will need to undo everything I just did, lol"
"lol; i mean, its your app.. so you can do what you want"
"It takes about 2 seconds to switch though, I couldn't see people really having an issue with that"
just doesnt sound like the best UX; im no expert though; so yea haha; do you have a subscriptions table?; could you not just ‘on upgrade’ switch the users subscription_id to whatever they changed to; then in transactions log you can also store what subscription they were on at the time of the transaction
Yeah I could do that. I might ... this was just the fastest/easiest way I could think to get it working
for sure
"hey guys, is this a good way to sum properties of objects contained in two different arrays?

```
expenses = [Expense(""pizza"", 50), Expense(""Rock Concert"", 100)]
incomes = [Income(""Salary"", 5000), Income(""Dividends"", 200)]

total = (
    reduce(add, map(lambda income: income.amount, incomes)) -
    reduce(add, map(lambda expense: expense.amount, expenses))
)
```"
```sum(income.amount for income in incomes) - sum(expense.amount for expense in expenses)``` ?
"traditionally, this is done by having one list of transactions, and the expenses having a negative value, this way you can just sum one list, it also makes several other common operations much simpler"
"very nice, thanks <@Cristy>"
"Hello, someone knows how to iterate in Numpy.matrix ? like:
x = np.matrix([1,2,3])"
<@Qiana> is it just `for item in x.flat`?; <https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.matrix.html>
"oh thanks, <@Mallie> i figured out how to work with it. I'm starting to work with numpy :weary:"
"Got a question about `threading.Thread` (_I'm fairly new to working with threads &amp; am not 100% sure about what's going on behind the scenes_) .

I'm generating some live MIDI signals, and found that if I use `thread.start(); thread.join();`, the thread becomes blocking and I lose realtime functionality.
Alternatively, if I only use `thead.start()`, without `thread.join()`, the realtime functionality acts as expected.

Are there any potential issues with starting a thread and never joining it?
Is joining an optional thing for when you _want_ a thread to be blocking, or is its usage required in some way?"
"<@Libby> I have not used the `threading` module much but I can't see anything in the doc to imply that `thread.join()` is is anyway a necessary operation. The thread terminates when `run()` returns, you shouldn't have to do more than ensure there isn't an infinite loop somewhere in there to ""clean up"" the thread part of things. You definitely shouldn't _have_ to force another thread to wait for it with `join()`."
"I have a maybe dumb question about the sortedcontainers package. is there a performance advantage to using sortedlist versus a regular python list and sorting after each insertion? as i understand it, sorting is a solved problem at O(nlogn) so whatever sortedlist does to maintain sorting at all times cant be any faster then the standardlib sorting function, right?"
"It can be.; If you insert and then sort, you're doing `n * n * logn` which is `n^2`; if you insert something into already sorted container, you kind of already know which position it will occupy (maybe not with 100% certainty)"
"if you just append to the list then sort its 1 + n * logn, right?"
whats the performance of binary search using bisection? i think thats what sortedcontainers library uses
"if you append every time it's N append+sort operations, and with sort itself being n*logn it becomes n^2"
"oh right; bisect is logn so, if you use it to maintain the sort then its n * logn, right?"
:thinking_face:
"```bisect.insort_left(a, x, lo=0, hi=len(a))¶
Insert x in a in sorted order. This is equivalent to a.insert(bisect.bisect_left(a, x, lo, hi), x) assuming that a is already sorted. Keep in mind that the O(log n) search is dominated by the slow O(n) insertion step.```"
"Not sure if this library does this, but one trick about sorted containers is that they don't actually need to be sorted at all times or after every insert. They only have to be sorted when you try to read from them; So they can postpone the sorts, unless they're trying to provide strong guarantees about each operation"
thats a good point; but the SortedContainers package maintains the order at all times; <http://www.grantjenks.com/docs/sortedcontainers/introduction.html>
best just benchmark it
good call. i’ll do that now
"It looks like it uses something like a heap of indices. Personally I'd be surprised if this sort of package made a positive difference to performance, with the extra memory and complexity involved."
i saw it mentioned on a lot of stackoverflow questions about sorted datastructures so i figured it was considered the standard
probably is. :slightly_smiling_face:
"okay sorted() is blazingly fast; oh wait; derp, i didnt sort between each insert in normalListInsert; only did one insert at theend; gotta rerun it; sorting() after each insert is terrible actually; ```import random
import bisect
from sortedcontainers import SortedList
from pyutils import timeit

@timeit
def normalListInplace(arr: list) -&gt; list:
    return sorted(arr)

@timeit
def normalListInsert(arr: list) -&gt; list:
    result = []
    for el in arr:
        result.append(el)
        result = sorted(result)
    return result

@timeit
def bisectListInsert(arr: list) -&gt; list:
    result = []
    for el in arr:
        bisect.insort_left(result, el, lo=0, hi=len(result))
    return result

@timeit
def sortedListInsert(arr: list) -&gt; list:
    result = SortedList()
    for el in arr:
        result.add(el)
    return result

if __name__== '__main__':
    L = random.sample(range(0,10000), 10000)
    normalListInplace(L)
    normalListInsert(L)
    bisectListInsert(L)
    sortedListInsert(L)
```"
"&gt; sorting() after each insert is terrible actually
no way :stuck_out_tongue:"
"```solomon@MacBookPro python 💰  python list_sorting.py
'normalListInplace'  2.90 ms
'normalListInsert'  1232.83 ms
'bisectListInsert'  33.03 ms
'sortedListInsert'  33.08 ms
```; couldnt even run it with 100,000 elements in the list; bisect matches sortedList package up to 10,000 elements then slows down substantially; at 100,000 elements its 1982ms vs 348ms; now i need to read the source of sortedList to see what they are doing; oh neat, it plays on the fact that bisect.insort is fast up to 10,000 elements; and splits the list into multiple sublists that are load balanced; with a bunch more magic on top of that"
"Out of interest, might heapq be a contender here?"
"<@Catheryn> It makes sense that the sortedList is as fast as bisect, as it uses it internally"
<https://github.com/grantjenks/sorted_containers/blob/master/sortedcontainers/sortedlist.py#L8>; I honestly wonder why none of these are implemented using a C-written balanced binary search tree
<@Tatum> would that be substantially faster?
I can’t tell because I’m not sure of the running time on the bisect algorithm; but using a tree would be O(log n) per element addition; which is super fast
<@Tatum> well sortedlist is marketed as a pure Python solution 
a pure python tree should be faster
"Hmm. I have an avl tree I wrote for a project. I'll compare that; <https://github.com/ssbothwell/BinPack/blob/master/binpack/avl_tree.py>; It's fast but it depends on how much rebalancing ends up happening ; I wish the standard library had a bunch of trees built in ; <@Cristy> heapq could be a contender if
You only need access to the min or max value of the list. For fun I'll timeit as well"
"Actually no; a tree in python turns out to be slower; I think this is due to the class instantiation overhead; ```
RB Tree took 0:00:01.798895
Sorted list took 0:00:00.258929
```
with 100k elements"
Yah try using. _slot_ to remove the objects dict
"I don’t think its a memory problem; but this makes me think that bisect is O(log N) as well; <https://stackoverflow.com/a/12022278/3218627>; Ah there we go, yeah no wonder its faster; Significant overhead by the tree class; wait this isnt fair; the `bisect` module which is the core of `SortedList` is implemented in C as well; <https://github.com/python/cpython/blob/3.6/Lib/bisect.py#L90>; I can’t find it on their github but I have the library executable on my local machine
`/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_bisect.cpython-36m-darwin.so`

I found this by opening the `_bisect` file through Pycharm"
"well sortedcontainers is substantially faster then bisect past 10,000 items"
"```'normalListInplace'  6.81 ms
'bisectListInsert'  100.45 ms
'sortedListInsert'  65.39 ms
'avlInsert'  602.80 ms
'heapInsert'  4.89 ms```; with 10,000 items; heappush is fast assuming a heap does what you need; im not sure i did that write; ```@timeit
def heapInsert(arr: list) -&gt; None:
    heap = []
    for el in arr:
        heapq.heappush(heap, el)
```; is heappush the right function?"
"you could get the functions to return the result, then assert they’re all the right values"
"Having trouble figuring out how to upgrade my version of Celery from 3.1 to 4.1 
It’s on an ubuntu server, if that matters… Can’t figure out why it won’t upgrade."
`pip install Celery==4.1` won’t work?
"```
(venv) alex@newton:~/newton$ pip install Celery==4.1
Requirement already satisfied: Celery==4.1 in ./venv/lib/python3.4/site-packages
Requirement already satisfied: billiard&lt;3.6.0,&gt;=3.5.0.2 in ./venv/lib/python3.4/site-packages (from Celery==4.1)
Requirement already satisfied: pytz&gt;dev in ./venv/lib/python3.4/site-packages (from Celery==4.1)
Requirement already satisfied: kombu&lt;5.0,&gt;=4.0.2 in ./venv/lib/python3.4/site-packages (from Celery==4.1)
Requirement already satisfied: amqp&lt;3.0,&gt;=2.1.4 in ./venv/lib/python3.4/site-packages (from kombu&lt;5.0,&gt;=4.0.2-&gt;Celery==4.1)
Requirement already satisfied: vine&gt;=1.1.3 in ./venv/lib/python3.4/site-packages (from amqp&lt;3.0,&gt;=2.1.4-&gt;kombu&lt;5.0,&gt;=4.0.2-&gt;Celery==4.1)
(venv) alex@newton:~/newton$ celery --version
3.1.6 (Cipater)
```"
hmm; how about `pip uninstall Celery==3.1.6`; and then re-install
"Good call. I’ll give it a shot.; Hah! ` Successfully uninstalled celery-4.1.0`; I swear I copy/pasted ==3.1.6; Then after a reinstall:
```
Successfully installed Celery-4.1.0
(venv) alex@newton:~/newton$ celery --version
3.1.6 (Cipater)
```; This feels like some kind of classic comedy bit."
hahaha; what does `which celery` show you?; maybe you need to deactivate and reactivate the virtualenv?
"```(venv) alex@newton:~/newton$ which celery
/home/alex/newton/venv/bin/celery```; Good call!; ```(venv) alex@newton:~/newton$ celery --version
4.1.0 (latentcall)```"
"similar path with me; ah, nice; interesting, though"
"Thanks, man. Didn’t realize that would have an affect."
me either; only thing that made me think of it is using pycharm with vagrant
"Yeah. Not a good punchline after all that, but I’ll take it."
"when I add pip packages in vagrant, pycharm doesn’t recognize them until after a cache invalidate and restart; so made me wonder if there was something similar happening"
"Yeah, I’ve had to do something similar with pycharm a couple times. I guess it’s a similar venv in a sense?"
"I don’t know. what seems to me is the remote interpreter connection doesn’t update with new packages when you install on the remote maching; and in order to get pycharm to see them, you need to clear the cache and rebuild the index; which can only be done via cache invalidate and restart"
Does the cache invalidate thing happen when you just close pycharm and open it again?
I don’t believe so
"Ah, maybe I haven’t encountered that before, then."
because cache invalidate happens when you select the option in File menu; <https://www.jetbrains.com/help/pycharm/cleaning-system-cache.html>; apparently not
hey is anyone on by chance
I have a more than most likely stupid question
"<@Brendon> we're an international community so people come and go, best bet is to just drop a question and a code sample in here"
well i dont really have a code example its more of a gen question. You know how you have event listeners in JS?
yup
Well i'm trying to develop an addon for Sublime Text 3 that when you type in html specifically classes and ids that it automatically generates a CSS file with the said classes and ids.; Im working hard on this i've just hit a roadblock; sounds ridiculous right?
sounds alright to me; what's the roadblock?
well I'm having a trip up on the fact that i cannot find the args for that particular aspect of the program; (new to python); I cannot seem to find a great resource for Python knowledge learning wise to make this first plugin happen; see it seems impossible?
"Good morning buddies.; ```     print(capital.data)
        core_capital = ""0""
        nest_capital = ""0""
        print(""yolo"")
        print(len(capital.data))
        if capital.data[0][""product""] == ""CORE_PRODUCT"":
            core_capital = capital.data[0][""capital""]

        elif capital.data[0][""product""] == ""NEST_EGG"":
            nest_capital = capital.data[0][""capital""] 
        

        net_capital = float(core_capital) + float(nest_capital)
        return Response({""core_product"": core_capital,
                       ""nest_egg"": nest_capital,
                       ""net_capital"": str(net_capital) })```; Output:
```[OrderedDict([('capital', '376031.95'), ('product', 'CORE_PRODUCT')]), OrderedDict([('capital', '15000.00'), ('product', 'NEST_EGG')])]
yolo
2```; So I get this ordered dict from a query response, where a particular user may have both products or none or just one of the two.; What I want to do is in my json response , i want to set the value of the product (nest_capital or core_capital) to 0,  if that user does not have that product.; I am not able to get it to work, i understand that I have to loop though the dict but I am getting confused.; Appreciate your help. Thanks; Final json response, suppose the user does not have nest_egg in his portfolio :
```{
    ""core_product"": ""376031.95"",
    ""nest_egg"": ""0"",
    ""net_capital"": ""376031.95""
}```"
"Hmm, that bit seems like it should work.  What are you seeing instead, some errors?"
<@Junita> That bit works but I need to loop inside the dict to make it deterministic. I am hitting a blank here.; depending on the length of the dict.
"oh, I see what you are saying.  Do you want one response, that sums it all up?"
"<@Junita> This is the response from the query ```[OrderedDict([('capital', '376031.95'), ('product', 'CORE_PRODUCT')]), OrderedDict([('capital', '15000.00'), ('product', 'NEST_EGG')])]```, Now this user has both the products core_product as well as nest_egg.; ```so it will be capital.data[0][""product""] == ""CORE_PRODUCT""``` and ``` capital.data[1][""product""] == ""NEST_EGG""```"
I guess I’m not understanding the problem then.   What do you mean by “make it deterministic” - do you feel like it’s non-deterministic now?  Do you get different values on different runs?
now these two variables   `core_capital` and `nest_capital` should have the value of the respective products if the user has them in his portfolio or it should be 0.
have you tried something like `for item in capital.data:` and then replacing instances of `capital.data[0]` with `item`?
"No, i will try that"
and accumulate the results
"```        for item in capital.data:
            if item[""product""] == ""CORE_PRODUCT"":
                core_capital = item[""capital""]
            elif item[""product""] == ""NEST_EGG"":
                nest_capital = item[""capital""]```; <@Junita> Thanks for pointing me towards the right direction.; Was i being too stupid ?"
"np.  and no, not at all.  it just takes experience.  and now you have more than you did before.  :slightly_smiling_face:"
"i’m having trouble getting stubfiles for mypy to work; i usually use typehints in my actual code but im trying to learn how stubfiles work. so i made a super basic test module and a stubfile to go with it. when i run mypy it doesnt parse the stub file tho; i’m using mypy -v to see that; heres the files:; ```class foo:
    def __init__(self, bar, baz):
        self.bar = bar
        self.baz = baz

    def f(self):
        return self.bar + self.baz
```; ```class foo:
   def __init__(self, bar: int, baz: int) -&gt; None: ...
   def f(self) -&gt; int: ...
```; they are called mytest.py and mytest.pyi and are in the same holder; and i’m executing `mypy mytest.py`; and `mypy -v mytest.py` doesnt show mytest.pyi being parsed; am i doing something wrong?; well in case anyone else was curious about the solution its here: <https://stackoverflow.com/questions/37537194/using-mypy-local-stubs>"
"Hey Guys
How can I achieve a statement like this
`client.list(""fruits"").get(""oranges"").number()` 

Here I want to pass parameter for each method , I am working on API wrapper and creating methods to interact with  the server"
<@Ward> <http://code.activestate.com/recipes/578770-method-chaining-or-cascading/>; <@Ward> <https://stackoverflow.com/questions/41817578/basic-method-chaining>
Thanks
"Hi Everyone, looking for a bit of advice on where to being reading, libraries to look at maybe some examples if there is one.  I have a list of 180,000 items I need matching images for, so want to download images from a google search, rename the image to the search string, create a 100x100 thumbnail, upload the original and thumbnail image to an s3 bucket and add the new file name to the original csv file.  I am really new to python so apologies if this has been asked before."
"that is a _really_ ambitious scale; because if you’re running it on your own machine for 100 items, it could take about two seconds per item to execute; that’s about two minutes there to test"
"Ahhh ok, time does not really matter, I can sit and leave the machine running int he background."
"and assume you’re able to get it down to a half second per item when deployed, that’s still 25 hours of execution time; and if you’re still on the two second/item average, that’s basically four days"
which means you’ll definitely want to be able to track your progress locally so you don’t have to rerun it from scratch when it inevitably fails partway through for some reason.  :slightly_smiling_face:
yup
MAybe batch it down to 1000s at a time; not a problem if it takes 2 weeks
do you have any kind of programming experience?
I know python on a basic level and have experience in javascript
"well a couple things there - google often has apis you can interface with directly instead of trying to scrape a page.  I’d look into that to see if that’s possible; it’ll also help because they’ll eventually shut you off otherwise; otherwise, I’d just sort of sketch out your approach on a piece of paper and get to building the individual pieces in isolation, as it’ll make the whole thing feel a lot more manageable"
<@Junita> the image search api is deprecated though
thats what I thought I had read <@Meg>
<https://developers.google.com/image-search/v1/devguide>
(I feel ethics-bound to mention that this application is probably strongly against copyright law)
"ah, is it?  is there not a replacement?"
"use custom search instead, which apparently is an umbrella replacement"
<@Gabriele> you can usually specify licensing in the search
<https://developers.google.com/custom-search/>
<@Meg> thanks for that
"It might be possible to get results with a legit licence, yeah"
"I have no idea if that will be possible through the custom search though, it is through the UI"
"any particular libraries I should look at? I know Boto will handle the upload to S3 and urllib will grab the images from the search, what can I use to resize the image  / create the thumb?"
I’d use `requests` in place of urlib; and use `Pillow` for the image manipulation
Ok thanks for that
"if you want speed, you can use imagemagick and call it via subprocess; huh, apparently imagemagick has python bindings; <https://wiki.python.org/moin/ImageMagick>; or wand; <http://docs.wand-py.org/en/0.4.4/>"
"Cool, thanks for those <@Meg>"
<https://github.com/thumbor/thumbor> &lt;- that's much faster than shelling out to imagemagick
Oooh thats interesting thanks <@Carri>
The feature of image detection algorithms look really helpful
"although if you were to use Pillow, and are running on a machine that supports SIMD instructions I'd recommend this drop-in replacement that's substantially faster than vanilla Pillow <https://github.com/uploadcare/pillow-simd>; &gt; Pillow-SIMD with AVX2 is always 16 to 40 times faster than ImageMagick and outperforms Skia, the high-speed graphics library used in Chromium."
isn’t smid integrated in almost all CPUs post Pentium 3?
"but dang, nice find! <@Carri> :taco:"
"yeah, in some forms. although it has evolved to SSE4 these days, and AVX support from 2011"
"Anyone know how it's possible to run a function in a class through a subclass with multiprocessing?
So I have a `class tracker` which I'm calling with a subclass called `class Track(tracker)`. 

I then have a list containing many subclasses: `Track`, I would like to call a function and give the same input ""an image"" to each subclass `Track` by using multiprocessing. 
Currently it is working using: 
```
for i in range(len(listOfTracks)):
    listOfTracks[i].update(image)
```

And then i can extract the information from each Track using a call to `pos = listOfTracks[i].get_position` 

When I'm trying to add multiprocessing to it, I never receive the updated position, but I can see the image I input is different, but it seems like it's not saving or updating as before, since the `Tracks.get_position` call always return the same position. 
```
procs = []
for i in range(len(tracker)):
     p = mp.Process(target=tracker[i].renew, args=(img,))
     procs.append(p)
     p.start()
     
for p in procs:
     p.join()
```"
"Hi folks, I have doubt.Anybody have python script, to run the sql query and save the output  particular field value and pass the arguments to the new sql query.."
"Hi <@Bell>, you could do that with sqlalchemy, but it may be possible to do it in pure SQL too"
<@Bell> what db are you using?
"<@Vada> I want to connect mysql db and have to execute querry using python code; Hi, i am new to python. do u have any example or script"
<http://docs.sqlalchemy.org/en/latest/core/connections.html>
<@Bell> if you are just doing basic queries look at mysqlclient here <https://github.com/PyMySQL/mysqlclient-python>; It's pretty simple and easy to use. There are examples here: <https://mysqlclient.readthedocs.io/>; If you are doing anything more complex have a look at an ORM like sqlalchemy as <@Fabiola> has said
Let me check on the docs and ping later. Thanks for both of you
My SO question on `celerybeat` got an upvote after 7 months! There is still hope :astonished: <https://stackoverflow.com/questions/42322486/celery-beat-schedule-schedule-to-run-on-load-then-on-interval>; If anyone knows the answer in here that'd be awesome.
Why not schedule a task on startup?; your project will have a main.py or something right?; <@Mallie>
"<@Vada> Because it is a longer running task and I don't want it to overlap, nor preferably would I have to track state for objects updated (which is an option). Right now I want it to run hourly and it finishes within 30 minutes, but I don't want it to run over itself. Scheduling a task on startup would just mean enqueuing it when the service starts? That would be esp. troublesome in the way I stated because I need to restart the celery services when I deploy code (it is a production Django project). I have hooks to reset the service so it'd be great if the functionality existed so I could just delete the right file or run the right command to run the task on startup but not have the interval locked again to always run 1 hour from when it was originally scheduled.; As it is now it is easily worked around by not updating code related to the task during the interval (:00 - :30) every hour, and if the code isn't related, just restarting the services. So it is managed by controlling releases.; But if I did have to make a critical code update to the task, I wish I could just force it to reset after purging the queue."
I see two options; 1) You have a check (e.g. a cache lock or anything else) which the task checks - if the lock is active the task dies; 2) The task calls itself on finish - scheduling the next run that way; neither would use beat; I think beat is wrong for this if you want to schedule it from after it runs on startup; and definitely wrong if it cannot run concurrently
"So (2) is interesting - is there a way to do that in celery? I wasn't aware. Like, I could see the end of the task and say `run again in n minutes`? That'd be fine, I thought `celerybeat` was the only option for scheduling"
"I've not done it myself, but considering python supports recursion, you should be able to just call the task again"
or call an api endpoint for which generates a new task
"e.g.

```
@task
def this_task():
    # do stuff
    this_task.delay()
```"
"you could also do something at the end of your run like

```
    task = SomeTask()
    task.apply_async(args = args, queue = 'queue')
```"
<@Meg> that means you need another task to call that endpoint to trigger the task though :wink:
not always
"So I didn't realize
```eta (datetime) – Absolute time and date of when the task should be executed. May not be specified if countdown is also supplied.```
existed, nor `countdown` for that matter"
have a view handler; and post to said URL
"yep although  if the only reason you are doing it every hour is so it doesn't overlap, you may as well just do the countdown"
Yeah just saw that too hah; I thought the only options were `do now` or `celerybeat` so that's cool
<@Meg> but why would that be better than the task calling itself?
<@Vada> :taco:
"I mean that is the task calling itself, but via an API endpoint right?; ty <@Mallie>"
If this Slack existed when I first was working with celery would've been great lol
"ah, never mind"
Instead of my 7 mo issue and SO question
I was thinking recursion depth; and trying to avoid bottoming out
Haha I can post an SO response as well if you want
"so when a task calls itself, does it get put in the broker?; or does it immediately execute on the same worker"
"yeah delay doesn't actually call the task, it posts it to the message broker"
"gotcha; ah, then `run` would execute immediately on the worker"
so it should become a separate stack - although I'd be very interested/surprised if that isn't the case
"FWIW, I prefer `apply_async` vs `delay`"
They're essentially the same thing righht?
"because it lets me specify the args, queue and any potential tasks to run after sequence; `delay` is a simplified `apply_async` with non-overrideable defaults"
"yeah that's true; I default to delay, but use all of them in some places."
"So another question, and this may get more into broker specifics, but does anyone know how celery/RabbitMQ would handle scheduling *a lot* of tasks (30k+)? Right now I update a large number of objects via `requests`, so I just queue them up in order once an hour - that was really the only good option with using `celerybeat`, but with what I just learned, it would be conceivable to set a timeout 60 min from the run time for _each_ object at the startup. Approximately 60 min is/will be sufficient for these objects to update, so the container task to just enqueue them (unscheduled) at the same time has been fine and i wouldn't make things more complicated without a reason. Just wondering how it might handle it if I had an interest in doing it differently in the future, e.g. I wanted objects to update at a different rate. So a few parts:

1) Would it have any issue with retaining an `eta` or `timeout` for a lot of tasks (let's just say 100k)
2) Is there a simple way to inspect if a task is currently scheduled?"
"for 2; you mean personally, or by a program?"
"Programmatically, b/c it would basically be `if this object task not scheduled scheduled, schedule this object task` because I would need to run the checker on some interval since objects may be added by users; Then, have the object task schedule its next run when it is done, and so on; I'm not sure if I could do that without tracking state"
"so for 1, no it won't have an issue - but you may have a bottleneck in terms of your numbers of workers.; so regardless of ETA; if there aren't enough workers to get the job done, it'll take a while"
"Well now enqueing them all at once only takes about 30 minutes with current config, so I have an external job to check the stats to make sure it doesn't need to be tweaked and so on. Spreading them out would be perfectly acceptable, it was just unmanageable with `celerybeat` obv."
for 2) You can check what tasks are in the queue and inspect the workers (e.g. <http://docs.celeryproject.org/en/latest/userguide/workers.html?highlight=revoke#inspecting-workers>)
Ah sick
One of the things we have in house is an RSS feed processor which can't be run concurrently; celery has a cookbook for this; <http://docs.celeryproject.org/en/latest/tutorials/task-cookbook.html#ensuring-a-task-is-only-executed-one-at-a-time>; specific to django; so that is worth looking at as well
Great great <@Vada> :taco:; el dubble taco
:slightly_smiling_face:
"That'll be great to consider later if I have an interest in tweaking things for users that may warrant more frequent updates and so on so very cool; The thing I query actually may chance every second, but the 60 minutes is an acceptable ""free"" aggregate update; So that'd be cool to be able to tweak it per-object; And I just added `memcached` a few weeks ago; Also, up to you if you want to nab the question <@Vada>, I think the alternatives you have raised are a good solution; So I'd accept it and you could get them sweet SO duckets"
I mean in an ideal world you'd schedule a task every time it updates as a post-commit hook
"Well our deployment isn't based on a repo action - it is rolled into a single command but it requires someone (me) to tell it to release; But if I were to leave `celerybeat` and just make sure each object schedules itself out at end run, if there is a necessary change it would still affect them all after a release so should be fine; Every release I just restart `celerybeat` and `celeryd` in case related code changes - I have never experienced issues there"
Post db commit :wink:; not git commit
oh ha
but I can see how that misled you
I was a bit confused as to how that'd work lol
:stuck_out_tongue:; It would be quite amusing if commiting code affected prod in that way; but not a good idea
"""Our software is so agile we couldn't stop it if we wanted to""; Well sheesh after my experience on SO and talking within other groups I was thinking no one used celery; So this has been great"
I use it quite a bit; and i think <@Patty> made a few PRs to the project
"<@Collette> is one of the core contributors as well; it's used, a lot"
Joining this Slack has already paid for itself :money_mouth_face:
but is sadly completely underfunded
"<@Vada> I got that impression, which is unfortunate because is there _any_ alternative in Python?"
"there are a few, but none so complete"
why do i need to restart server (python manage.py runserver) for my admin data changes to appear on the site
<@Domonique> we have a very active <#C0LMFRMB5|django> channel which is the best place to ask django q's :wink:
<@Mallie> I've used huey and pythonrq
"thanks , i guess I should learn to use slack , before django :slightly_smiling_face:"
"haha it's ok, this is an appropriate channel but given the growth of the team to nearly 10k it can be hard to filter through all the different topics so we encourage people going to specialist channels"
"so, I use celery alot, and the previous dev rolled his own system using zeromq and other bits and pieces; it was a pretty fragile async task network, tbh; celery is _much_ more robust and featured"
celery is amazing. i built biglearn using it.
"gotta love the groups, signatures, and chains."
how do you structure your docs dir for github pages?
<@Orpha> first 3 links all have good info <http://bfy.tw/E0wi>
Thnx 
does anybody have any experience working with `django-graphene` and GraphQL? i'm having some difficulty creating a custom queryset for a model file and would love some help: <https://stackoverflow.com/questions/46241419/annotate-with-django-graphene-and-filters>
<@Keshia> there is a <#C0LMFRMB5|django> channel
thank you
I have been guided from <#C07EFN21K|random> in regards to some help I need with webpack. I'm having some scss issues that I need some guidance on.
"you’re going to want to require you scss in your js.

```
import React from ""react"";
import ReactDOM from ""react-dom"";
import App from ""./App"";

require('./sass/main.scss');
```

in my webpack config i have this for scss loader
```
        test: /\.scss$/i,
        loader: ExtractTextPlugin.extract('style-loader', 'css!sass')
      },
```; the app i’m pulling from is a bit dated so this may have changed syntactically."
require and imports :slightly_smiling_face:
"Ok, is it absolutely necessary to have a js file for the scss import? Or is there a way to set that up in the webpack.config.js?"
it’s webpack that will see the import and extract the css for you.; as it builds your project.; my style above also uses the sass way guide. <http://thesassway.com/beginner/how-to-structure-a-sass-project>
Mine does as well. I'll setup a js file to import the scss and see how that goes.
in your plugin you are already specifying what you want the output to be.; `new ExtractTextPlugin('./website/static/css/bundle.css')`; you can even include hashes and shas if you want for caching.
"Got it working. I still don't see why there cant be a way to roughly do the following

```
module.exports = {
    scss-entry : ""./path/to/style.scss"",
    scss-output : ""./path/to/style.css"",
    use : [{""sass-2-css"" : {source-map : True}}, ""autoprefixer""]
    ...
}
```"
'roughly ' as in very roughly
"Yea, when I've done that in the past webpack would make extra js files. I can try it layer."
"Since I don't need to use any JS at the moment, I would rather not setup a js file specifically for requiring my scss"
"hello all! I need to export a slkearn model to a flask api, I can export the trained model using pickle, but I'm stucked trying to export my fitted vectorizer.
Does anyone has an approach to resolve this?"
"pythonistas - I'm studying the various parallel processing modules (threading, multiprocessing, concurrent.futures) and could use some help. I realize that threading allows you to share variables between threads (which apparently MP does not allow). Is there a consensus on which library actually processes concurrent tasks faster? Which module is used for most applications? Can anyone provide a few reasons why I would use one over the other?"
"<@Margeret>, I too am a n00b with python parallel processing (p^3?) modules. After looking at some examples in `multiprocessing` and `concurrent`, I decided to go with `concurrent` mainly because it was easier for me to understand and fit my example (parallel api requests)."
<@Winnifred> can you share your code? I'm interested how you implemented `concurrent`
"<@Margeret>, I can, but I think the docs would be more helpful since the use context is fairly straightforward. Check that out here: <https://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example>."
Does Anyone here integrated Bitcoin wallet with Django?
hi is there someone who can help me with django serializer; ?
"it’s usually best just to ask your question, and if someone knows they’ll pipe up"
"thanks <@Junita> for the heads up,; I can't figure out how to populate the serializer fields with any model related to them"
<@Meredith> django rest serializers or django serializers?
Some people who are experts in how to parallelize python code?
what's your question?
"<@Suellen> I have this code the commented part is my try on multiprocessing. The issue is that I can see the update function takes a new image as input, but I can't extract the position anymore from the instance, if I run the code without the multiprocessing part it works fine with extraction of position, but with it doesn't and I can't really see the reason and how to fix it :thinking_face::
```
class Track(correlation_tracker):
    def __init__(self):
        correlation_tracker.__init__(self)

    def start(self, img, det):
        correlation_tracker.start_track(self, img, det)

    def renew(self, img):
        print(""her"")
        score = correlation_tracker.update(self, img)
        print(score)
        # p = Pool()
        # result = p.amap(correlation_tracker.update, (self, img))
        # print(result.get())

    def loc(self):
        return correlation_tracker.get_position(self)


def update(tracker, image):
    tracker.renew(image)
```

```
def main():
    tracker = [Track() for _ in range(len(points))]
    [tracker[i].start(img, rectangle(*rect)) for i, rect in enumerate(points)]
    p = Pool(8)
    while True:
        # pool = mp.Pool(mp.cpu_count())
        procs = []
        retval, img = cam.read()
        if not retval:
            print(""Couldn't read frame from device"")
        start = time.time()
        for i in range(len(tracker)):
            update(tracker[i], img)
        #     p = mp.Process(target=update, args=(tracker[i], img))
        #     p.start()
        #     procs.append(p)

        # for p in procs:
        #     p.join()

        print(""Time taken (tracker update):{0:.5f}"".format(time.time() - start))
        for i in range(len(tracker)):
            rect = tracker[i].get_position()
            rect = tracker[i].loc()
            pt1 = (int(rect.left()), int(rect.top()))
            pt2 = (int(rect.right()), int(rect.bottom()))
            cv2.rectangle(img, pt1, pt2, (255, 255, 255), 3)
        cv2.imshow(""Image"", img)
```"
"What is `correlation_tracker`? Is that safe for use across multiple processes?; And when you say you can't extract the position, what actually happens instead?"
"<@Gabriele> correlation_tracker is from the dlib library <http://dlib.net/imaging.html#correlation_tracker>. I'm not sure if its safe, but I suppose since I initialise several instances of it, that each instance should be able to run in multiple processes ? (I might be wrong here)
About extracting the position, I can execute the command but I don't get an updated position from the tracker, it stays the same value as when I initialised it."
"It's hard to make assumptions about 3rd party software although I'd hope that each process would be sufficiently isolated. What is the actual result variable you're watching here, or the function you expect to do the work? I don't know dlib."
"I have an image with some detections on (bounding boxes marking each person). 
I'm initialising a subclass of correlation_tracker which I called Tracker for each detection. 

Next image I'm calling each subclasses.update function with the new image and then the function updates the tracker to a new position depending on the image input (it searches nearby its old position) and it gives a confidence score in how well it did it as an output. 

Then I call the subclass.get_position() which should return the trackers position, but this position stays static (with the same numbers as when I initialised it with the `[tracker[i].start(img, rectangle(*rect)) for i, rect in enumerate(points)]` call."
"not sure if you can follow me; I have a list with objects where I'm trying to call each objects update function and this is where I would like to do it in multiple processes, so each object can update parallel and be done ~the same time, instead of after each other."
"Okay. It's still a bit confusing to follow, partly because you have commented out code in there which doesn't look like it would ever do the right thing, such as each tracker creating its own Pool, or calling amap which doesn't seem to be a documented function; I'd recommend maybe writing a similar test case where you replace the dlib stuff with a dummy function of your own choosing, and verify whether that works correctly or not. If not, the problem is elsewhere in your code"
"The pool thing is some old code from old experiments with it. I get your idea and will try it out and see if I can get anything to work. 
Thanks for your time!"
"Hey, guys! Maybe someone can help me with SimpleNamespace.
I have several nested SimpleNamespace objects and I need to convert them to dicts:
```
from types import SimpleNamespace as SN
a = SN(test='test', subsn=SN(a='a'))
```
When I try to use dict() or json.dumps() I get a TypeError.
Is there any pythonic way to cast it to dict other than manually iterating over attrs and converting them to dict?"
"you can create a custom encoder:
```
class CustomEncoder(json.JSONEncoder):
    def default(self, n):
        return n.__dict__
```
then use `cls` argument on `json.dumps`: `json.dumps(a, cls=CustomEncoder)`"
<@Candelaria> Thanks! I'll try it
"Hey all, would anyone have a resource for how to run a store where multiple people can sell things through your site for money? I am wondering about how to pay people (handled via code)....are there any services for this? Was planning on using stripe but I have never used it this way before; Oh to clarify I was going to take a small amount of their profit for using my site"
"To get the idea you want an ""ebay-platform"" ? <@Vita>; <@Vita> it seems like stripe have something implemented like that, if you read this article it's talking about it
*Account debits: Some marketplaces charge sellers subscriptions or a fee per transaction — now they can directly debit those accounts.* 
<https://venturebeat.com/2017/05/25/stripe-opens-express-sign-ups-for-connect-marketplaces/>"
"<@Adell> Sorry, I didn't  see the first message, but yea it's similar to that and thanks for the article! I wasn't sure how to word that properly for google; <@Adell> :taco:"
"Fair enough, yeah I edited because I found a better example :slightly_smiling_face:; Also since they have it directly implemented according to the article I will expect they have some f.a.q. on it in their documentation or webpage, else I guess a call or mail wouldn't harm :slightly_smiling_face:"
"Thanks, don't plan on staring this until late this year/early next year because of other projects, but I like to do my research way ahead of time"
"Quick simple one, how would i add these together `{{ job.get_lines_total|VAT|currency + job.get_lines_total|currency  }}`"
<@Robbin> Could you give more information like what frameworks you are using or at least where the funciton `get_lines_total` comes from?
"<@Robbin> Can you give some background. It looks like you are using HTML with flask to replace the value within `{{syntax1 + syntax2 }}` but I'm not sure what those two syntaxes are. It looks like job is a class of some sort along with the bitwise or, or maybe you're trying to use python to interface with bash and using the pipe for some other reason. Or you are trying to do some math operation but I'm not really sure."
"I'm studying decorators- has anyone run across any sites that provide decorator practice scenarios? For instance, they give you some code and you are tasked with refactoring to use decorators"
"Hi there, is anyone here familiar with serving media from an Apache2.4 server for a Django application hosted on Webfaction ?"
"<@Vita> <@Glinda> Hey, thanks for trying to help me yesterday, i managed to fix it. I'm sorry i didn't leave much detail i forgot i posted in Help and not Django. My bad. Thanks though :slightly_smiling_face:"
"Hi
How do I get this to work?
```
karee = {'K3 compressors': 'a a a',
         'K4 compressors': ['bbb', 'c cc', 'dd d']}

for k,v in karee.items():
    tag_list = list(v)
    for t in tag_list:
        print(t)
```

It prints the first one as 
```
a

a

a
```

I want it as 
```a a a```"
"Instead of `list(v)`, you probably want `v.split(' ')`, or similar"
"I don't want to split the strings, I want to print them as is"
"It doesn't help that you have a different data type for K3 and K4... that is going to be awkward; okay, so you want a list with just 1 item in it?; (It should probably be a list in the original data)"
"```
karee = {'K3 compressors': 'aaa',
         'K4 compressors': ['bbb', 'ccc', 'ddd']}
```
is also an option


I want to create a function that adds items together.  If there is only one, it should just add that one.
I'm using strings, as I will use those strings to refer to pandas dataframe columns; the strings i put there are just random nonsense now. They can contain any amount and combination of characters"
"Well, ideally you'd _always_ have lists as the values, so it's unfortunate your data looks like this. But if you can't change that, you'll probably have to inspect the type; e.g. `tag_list = v if isinstance(v, list) else [v]`"
"ahh. I'll try that, thanks; It works. Thanks"
"Hey Everyone ! I got sort of a newbie question related to imports; I've got the following directory structure for my project; ```
├── app.py
├── db.py
├── exceptions.py
├── helpers.py
├── __init__.py
├── requirements.txt
├── tests
│   ├── db_connection.py
│   ├── db_operations.py
│   ├── http_requests.py
│   └── __init__.py
```; what I would like to do is this: from within `tests/db_connection` I want to import db from the top level directory; only problem is when I run `python -m unittest discover` I get an `ImportError` saying that there's no module called `pokemon_scraper.db`; (the project folder is named pokemon_scraper); I have put init.py files inside both directories; not sure what I'm missing; thanks in advance for your precious help :slightly_smiling_face:"
where do you run that command from?
from the top level directory; where requirements file is located
"Hmm, I don't know then. I find Python very awkward for this sort of thing. Often I have to hack in edits to sys.path to get my tests to run.; An expert probably has a better solution though, so hopefully they'll see this"
yeah it's a very strange behaviour; thanks for your input <@Gabriele>!
"what happens if you try to import from db directly?  I think a lot of the test runners (I’ve never used unittest discover myself, so just speaking generally here) add the root folder to your search path; when you try and import from `pokemon_scraper` you are trying to import from the directory above that; I usually also contain my code within a `src` directory, or something like that, to help keep things tidy, and then import in my tests from `src`"
yup it was an issue with the unittest package; I switched to nose and now it works fine
"cool.  I *think* nose is on the outs though, right?  I still use it all over the place because I’m old and stubborn, but is it still under active development?; I think the kids these days are using pytest or something similar?"
:fidget_spinners: pytest :fidget_spinners: only :fidget_spinners:; I'm a kid-these-days
haha
I switched to pytest myself. But I run it from Pycharm so I've no idea how it works outside of there
"what does pytest do that nose doesn’t?  I feel like I asked this question, got a satisfactory answer, but I’ve forgotten.  :stuck_out_tongue:; I suppose one valid answer is “get actively developed”  :stuck_out_tongue:"
"`assert`, fixtures, plugins, parametrized fixtures and test cases, test functions instead of classes...; lots of things, actually; They have only one thing in common: they're both test runners."
"it has some magic fixture stuff, which looks pretty but which I dislike because of the magicness. But I'm sure it can make for quick test development"
"&gt; dislike because of the magicness; yeah, I hate python, where is my `malloc()` :stuck_out_tongue:"
Not really the same thing; In this case I'm talking about decorators that magically rewrite things to inject arguments
"^ that's my biggest concern, too."
"why magically? they just rewrite things, not magically"
I'd rather want to explicitly request fixtures to use in test functions
"All sufficiently advanced technology looks like magic. This is advanced and mostly hidden, so I call it magic; ""explicit is better than implicit"", right?"
"implicit is implicit, not magic :confused:"
"i.e. ```
@pytest.use_fixtures('foo', 'bar', 'baz')
def test_stuff(foo, bar, baz):
    assert foo == bar == baz
```"
<@Collette> you can do this :))
Link?
<https://docs.pytest.org/en/latest/fixture.html#usefixtures>
It's not the same.
"I guess of that list, plugins could be nice"
"in older pytest versions this was the only way, but now you can do it implicitly too
I remember the older tests I've written when there was no fixture injection."
the others I seem to be getting away with on my own just fine.  I mean it’s not like I don’t have fixtures.
"In my example I can actually _use_ fixture objects in the test function, while `@usefixtures` is just, well, ""enabling"" fixtures for that test function"
"and you could always test functions instead of classes, right?"
"<@Junita> what? `nose` is a runner for `unittest.TestCase` cases, you can't write a dedicated test function and expect `nose` to discover it"
"<@Collette> I don't really understand the distinction. In older pytest versions `usefixtures` is the only way to access a fixture in a test function. The result is the same.; Without it you can't do it, with it you can. :confused:"
"&gt; Within a test module, functions and classes whose names match testMatch and TestCase subclasses with any name will be loaded and executed as tests
<https://nose.readthedocs.io/en/latest/usage.html>; I mean, I’ve done it, the docs say it, so you definitely can"
"hmm, i guess information in my head is outdated then; but you can't define `setUp`/`tearDown` for these test functions, right?"
"yeah maybe at some point in the past you couldn’t, it’s possible; To my knowledge, no.  If I’m going to do `setUp` and `tearDown` I’m going to just use a class"
"Right; From my experience, I pretty much always need fixtures/setUp :slightly_smiling_face:; The only exception is test functions in which I test whatever is in a fixture/setUp method"
<@Collette> can you explain how they are different? it's totally lost on me :confused:
'they'?
"&gt; In my example I can actually _use_ fixture objects in the test function, while `@usefixtures` is just, well, ""enabling"" fixtures for that test function; I think I'm missing something, but the behaviour seems identical to me"
"I was thinking about the case when ```
@pytest.mark.usefixtures('foo')
def test_foo(foo):
    pass
```
passes, but ```
def test_foo(foo):
    pass
```
fails with `TypeError` about missing arguments; I also dislike that whole `pytest.mark` idea. It's so highly dynamic that introspection doesn't work"
"&gt; fails with `TypeError` about missing arguments
It was like that before they decided to make fixtures available by default, which is not really nice... I agree."
"Maybe given py3 annotations, we could at least do ```
def test_foo(foo: pytest.fixture)
```..."
"I wish some projects, especially that can hugely benefit from annotations, dropped py2"
django? :slightly_smiling_face:
"I have almost zero experience with Django, but if it's anything like Flask then lack of certain py3-only features doesn't really stand in the way too much.
But some flask extensions are py3-only and they use annotations to define endpoints which is really cool if you're designing an API"
On pycharm. Is there a way to see what method will be called when a class inherit from two classes with the same method and no super?
"not sure about pycharm, but in the debugger you can look at `__mro__`"
That's good enough <@Junita> :taco:
om nom nom
Anyone familiar with `async/await` ?; I was wondering if it's relevant to use this construct in the context of DB operations; say DB insertion for example
"It's likely to be an overcomplication unless you truly know that you need it, and even then there are other optimisations to try first"
yeah depends on how things are made.
what kind of other optimisations ? (out of curiosity)
Depends on the application
someone wrote an article a bit ago arguing that async for db isn't useful as they are so fast.
"Maybe you don't need an insert, maybe you can postpone it, maybe you can write to a cache, etc"
but if all your app is async you might as well use it
ah I see !
"<@Ciera> I expect you mean this one, by the author of SQLAlchemy - <http://techspot.zzzeek.org/2015/02/15/asynchronous-python-and-databases/>"
The thing is I failed to find a concrete usage example for async/await
"I don't agree with all the conclusions, but broadly speaking it's right"
even for a simple http request to an external service
<@Gabriele> yes thanks :taco:
"If you have an application that needs to perform slow I/O operations as well as be responsive in some other way, then async operations may be what you need; e.g. I write video games, and I don't want to hang the whole game while we do a Quick Save, because we need to render every 16 or 32 milliseconds. So we do the save asynchronously"
<@Gwenda> you might want to read <@Signe> article <https://hackernoon.com/async-through-the-looking-glass-d69a0a88b661>
"This sort of thing doesn't come up in Python that often, I'd argue"
this one might be best to start <https://hackernoon.com/asynchronous-python-45df84b82434>
thanks a lot <@Ciera> :taco:
<@Gwenda> did you read it? Did you enjoy it? Did you learn anything?
<@Gwenda> <@Signe> ^^ is the one who wrote it :wink:
yup the first one; was particularly helpful in understanding how async vs sync works; I really liked the fast food vs bank analogy
awesome. Glad it helped
yea that was one of my fav. parts too. :wink:
"I want to make python service for simple server monitoring ( is it available by IP or not ), so I need to make constant requests, I once in a minute. What is the best way to do it? 
```
while True do
    some_func()
    time.sleep(60)
```

Or there is more sophisticated way?"
"cronjob; make a standalone script, if possible; and have cron execute it once a minute"
"cron or celery, yeah"
Not sure how to debug multi-threading code. The threads start off and abruptly print ```Killed```.; How do I resolve this issue?
"check kernel logs; might be a kernel out of memory issue, so your process has been killed; eg, `tail -f /var/log/kern.log`"
Thanks!; <@Meg> :taco:; <@Frieda> :taco:
"This is probably a dumb/novice question...but if I want to refactor a specific line in a ton of different python and/or template (html) files, how would I go about doing that? For example, if I wanted to find and replace one line with another multi-line block? I'm using `atom` as my IDE at the moment."
"how many files are we talking about?; sublime has something similar, IIRC; but I always felt those can get out of hand really quick"
"I'd use `sed` tbh, but your particular case my vary..."
"under Find you can do replace in project; or sorry, under the menu it’s called “Find in Project”; and then it has a replace field"
"Oh that's nice, I don't use Atom"
I do find it’s useful to “Find All” first to make sure you are actually aware of what will be changed
Nice - i'll check that out. I can see where you could screw up a lot really fast but I figure if it's one line it'd be safe.; Thanks all.
"and apply the change one at a time; reviewing the section beforehand, with the filename; I screwed up spectacularly once upon a time; fortunately, `git revert` saved my bacon, and nobody knew"
"of course in the end, just make - ha yeah that; make sure you are doing it in git, and you have other changes committed"
the last part was the key point
<@Junita> Find in Project is super useful! :taco:
"actually looking at it, it may not do multiline replace, and doing a \n doesn’t seem to work"
because mixing that kind of changeset with existing changes is not cool
so maybe I owe you a taco back.  :stuck_out_tongue:
Haha hmmm...ya I always wondered if any IDEs out there did allow multi-line replace...cuz that seems useful.
<https://github.com/atom/find-and-replace/issues/398>; could always code it up!  :stuck_out_tongue:
"<@Dominick> To some extent I'm sure they do, just depends on what you prefer. Emacs isn't an IDE persay (though you can customize it to one) but you can do multi-line replace. Visual Studio has an add-on for it I've never tested... For Atom though jkelly's issue tells you the status there."
"<@Mallie> Definitely. I've never used emacs or visual studio actually. Looks like it doesn't quite work in Atom, but Find in Project should suit my needs. More of an exploratory question at this point :slightly_smiling_face:"
"If you have a need for it that you think will take too much time in Atom, could always jump to something like `sed` that I mentioned to; Just depends on if learning the steps is faster at that time and such..."
"I'll explore that option. tbh, I don't have _that_ many to replace, I'm just being a lazy (or efficient, if you're being polite) programmer haha"
"I'm trying to use NLP or machine learning to solve a problem. I'm trying to take a legal document and a re-written version of the same document in more common speech, and be able to automate this process. Any ideas? I've thought of using decision trees with the first doc as a feature and the output doc as a label. But that doesn't seem like it work. "
Mike Bayer :rage:
"<@Enid>, my friend said that a good starting point may be something called “cosine similarity”"
you can also ask around in <#C0JB9ATQV|data_science>
<@Suellen> are you of a different opinion? I would love to hear it...(spoiler: I don't ~really~ know async yet)
"<@Enid> I think you should look at document summarization using recurrent neural networks, if you have a good training set"
"Hey guys, burnt out building this tool over the last few days... <https://github.com/jamespacileo/mr-piper>; Any chance someone could give some feedback? :sweat_smile:"
<@Elroy> this looks really nice!; i'll give it a try with a new project later today
<@Marcie> thanks Sean! That's great to hear :) will look forward to read what you have to say!
"Hi guys, is there anybody who has experience with gitzilla and bugzilla?"
Does anyone here knows about bitcoin?
project package manager seems to be the new thing; look nice <@Elroy>. I'm just wondering why json and not yaml ?
Hey! Anyone with `pygal` experience? <https://stackoverflow.com/questions/46337638/pygal-labels-on-multiseries-pie>
Anyone know about priority management in Celery ?
are you using rabbit?
"<@Ciera> thanks! went with json because python2/3 has a standard library, piper generates a setup.py in a project that uses piper.json. Not sure I can use third-party modules like pyYAML within setup.py."
"<@Belva> that’s more the broker’s responsibility for priority management, not celery"
"I found the issue at the end, my priority settings were reversed :slightly_smiling_face:"
"in rabbit?; glad it was an easy fix; looking at the new version of celery, I definitely can use some of the 4.x features; _including in next update cycle_"
Yes :slightly_smiling_face:; The x-max-priority; I though lower value would mean “prioritary” but it’s the opposite
How can I convert number like this 2.7e-07 to 0.000000
"You can use format with fixed point; `format(2.7e-07, 'f')`"
you could also try casting to float; float(2.7e-07); format seems to be the way to go on stack though
"does anyone know how to implement a repr that will be pretty printed without inheriting from list?; e.g.; `Dot([1, 2, 3])` is a nice repr; but this is what happens; `Dot([1, 2, 3, ... 100])`  (where ... is actually just all numbers); a list will be pretty printed in ipython though"
<@Tanya> Thank you
Hey guys new to this group
"<@Cicely> welcome; is there a dunder method i can use in a class to return a dict, when using something like
```
opts = Config()['postgres']
```
this way `opts` is a dict that I can set up to return"
<@Bruno> `__getitem__`?
"yea im already using that when the resulting item only has a single element. but trying to get it working properly so I can also return a dict if needed.; ooh, i think it got it."
"What is the best way to handle external api calls in Django? Should i put them in a model, just call them from a view or use javascript and do it all on the front end?"
Hey guys how can I get my current location using geopy?
can anyone help me troubleshoot an issue I'm having working through chapter 5 of Tango with Django? <https://stackoverflow.com/questions/46331620/tango-with-django-v1-9-1-10-chapter-5-populate-rango-issues>
Hi everyone! Can someone let me know what's the best way to find all runtime remote dependencies of a python program?
"<@Randolph> hi, see if this helps: <https://stackoverflow.com/questions/9232568/identifying-the-dependency-relationship-for-python-packages-installed-with-pip>"
I think that pipdeptree should do the job :slightly_smiling_face:
"can someone help me fix this error ```line 18, in question3
    if edge[1] &lt; minEdge[1] and edge[1] != minEdge[1] and edge[0] not in seen:
IndexError: string index out of range
```; full code ```def question3(adjDict):
	newDict = {}
	# make placeholder edge impossibly large
	minsetEdge = ('placeHolder', 99999999)
	#  min edge found initially to true
	found = True
	seen = []
	lastSeen = ''
	# set initial vertex
	vert = adjDict.keys()[0]
	print vert

	while len(seen) != len(adjDict):
		for edge in vert:
			if edge[0] in lastSeen and found == True:
				newDict[vert].append(edge)

			if edge[1] &lt; minEdge[1] and edge[1] != minEdge[1] and edge[0] not in seen:
				minEdge = edge

			if minEdge[0] != 'placeholder':
				newDict[vert].append(minEdge)
				lastSeen = vert
				minEdge = ('placeHolder', 99999999)
				vert = adjDict[minEdge[0]]

			else:
				for edge in adjDict[lastSeen]:
					# set found, now backtracking to find other edges
					found = False
					if edge[0] not in seen:
						newDict[lastSeen].append(edge)
						# set found to continue normal cycle
						found = True
						lastSeen = vert
						minEdge = ('placeHolder', 99999999)
						vert = adjDict[minEdge[0]]

			if found == False:
				# if edge still ot found:

				# go back to the last vertex in the trail
				vert = adjDict[lastSeen]
				# set last seen to vertex 2 back in the trail
				# using the first edge of the last seen vert in the new
				# dictionary where the first added egde is the previous vertex
				lastSeen = newDict[(lastSeen[0][0])]
				minEdge = ('placeHolder', 99999999)

			print 'Current New Dict ', newDict

	return newDict






a = {
	'A': [('B', 3), ('D', 4)],
	'B': [('A', 3), ('E', 4), ('F', 6)],
	'C': [('E', 5)],
	'D': [('A', 4)],
	'E': [('B', 4), ('F', 5), ('C', 5)],
	'F': [('B', 6), ('E', 5)]
}

print question3(a)
# Should return
# { 
#   'A': [('B', 3), ('D', 4)],
#	'B': [('A', 3), ('E', 4)],
#	'C': [('E', 5)],
#	'D': [('A', 4)],
#	'E': [('B', 4), ('C', 5), ('F', 5)],
#	'F': [('E', 5)]
# }```"
just make a try except around and print all strings in your if cond
"<@Spencer> thanks could you give a code example please; <@Spencer> I tried that but it resulted in infinite loop. see ```def question3(adjDict):
    newDict = {}
    # make placeholder edge impossibly large
    minsetEdge = ('placeHolder', 99999999)
    #  min edge found initially to true
    found = True
    seen = []
    lastSeen = ''
    # set initial vertex
    vert = adjDict.keys()[0]
    print vert

    while len(seen) != len(adjDict):
        for edge in vert:
            if edge[0] in lastSeen and found == True:
                newDict[vert].append(edge)

            try:
                if edge:
                    if edge[1] &lt; minEdge[1] and edge[1] != minEdge[1] and edge[0] not in seen:
                        minEdge = edge

                    if minEdge[0] != 'placeholder':
                        newDict[vert].append(minEdge)
                        lastSeen = vert
                        minEdge = ('placeHolder', 99999999)
                        vert = adjDict[minEdge[0]]

                    else:
                        for edge in adjDict[lastSeen]:
                            # set found, now backtracking to find other edges
                            found = False
                            if edge[0] not in seen:
                                newDict[lastSeen].append(edge)
                                # set found to continue normal cycle
                                found = True
                                lastSeen = vert
                                minEdge = ('placeHolder', 99999999)
                                vert = adjDict[minEdge[0]]
            except:
                print(edge)




            if found == False:
                # if edge still ot found:

                # go back to the last vertex in the trail
                vert = adjDict[lastSeen]
                # set last seen to vertex 2 back in the trail
                # using the first edge of the last seen vert in the new
                # dictionary where the first added egde is the previous vertex
                lastSeen = newDict[(lastSeen[0][0])]
                minEdge = ('placeHolder', 99999999)

            print 'Current New Dict ', newDict

    return newDict






a = {
    'A': [('B', 3), ('D', 4)],
    'B': [('A', 3), ('E', 4), ('F', 6)],
    'C': [('E', 5)],
    'D': [('A', 4)],
    'E': [('B', 4), ('F', 5), ('C', 5)],
    'F': [('B', 6), ('E', 5)]
}

print question3(a)
# Should return
# {
#   'A': [('B', 3), ('D', 4)],
#    'B': [('A', 3), ('E', 4)],
#    'C': [('E', 5)],
#    'D': [('A', 4)],
#    'E': [('B', 4), ('C', 5), ('F', 5)],
#    'F': [('E', 5)]
# }```"
"oh sorry, add raise after print(edge)"
"<@Spencer> tried that but now getting the same error ```line 20, in question3
    if edge[1] &lt; minEdge[1] and edge[1] != minEdge[1] and edge[0] not in seen:
IndexError: string index out of range```"
and before what was printed…
Are you comparing tuple with list?
"full code ```def question3(adjDict):
    newDict = {}
    # make placeholder edge impossibly large
    minsetEdge = ('placeHolder', 99999999)
    #  min edge found initially to true
    found = True
    seen = []
    lastSeen = ''
    # set initial vertex
    vert = adjDict.keys()[0]
    print vert

    while len(seen) != len(adjDict):
        for edge in vert:
            if edge[0] in lastSeen and found == True:
                newDict[vert].append(edge)

            try:
                if edge:
                    if edge[1] &lt; minEdge[1] and edge[1] != minEdge[1] and edge[0] not in seen:
                        minEdge = edge

                    if minEdge[0] != 'placeholder':
                        newDict[vert].append(minEdge)
                        lastSeen = vert
                        minEdge = ('placeHolder', 99999999)
                        vert = adjDict[minEdge[0]]

                    else:
                        for edge in adjDict[lastSeen]:
                            # set found, now backtracking to find other edges
                            found = False
                            if edge[0] not in seen:
                                newDict[lastSeen].append(edge)
                                # set found to continue normal cycle
                                found = True
                                lastSeen = vert
                                minEdge = ('placeHolder', 99999999)
                                vert = adjDict[minEdge[0]]
            except:
                print(edge)
            raise




            if found == False:
                # if edge still ot found:

                # go back to the last vertex in the trail
                vert = adjDict[lastSeen]
                # set last seen to vertex 2 back in the trail
                # using the first edge of the last seen vert in the new
                # dictionary where the first added egde is the previous vertex
                lastSeen = newDict[(lastSeen[0][0])]
                minEdge = ('placeHolder', 99999999)

            print 'Current New Dict ', newDict

    return newDict






a = {
    'A': [('B', 3), ('D', 4)],
    'B': [('A', 3), ('E', 4), ('F', 6)],
    'C': [('E', 5)],
    'D': [('A', 4)],
    'E': [('B', 4), ('F', 5), ('C', 5)],
    'F': [('B', 6), ('E', 5)]
}

print question3(a)
# Should return
# {
#   'A': [('B', 3), ('D', 4)],
#    'B': [('A', 3), ('E', 4)],
#    'C': [('E', 5)],
#    'D': [('A', 4)],
#    'E': [('B', 4), ('C', 5), ('F', 5)],
#    'F': [('E', 5)]
# }```"
you see you printed the edge variable.. however it contains only “A” so you cant do edge[1]
"Maybe you should debug and watch the value for edge[1] &amp; minEdge[1], which IDE are you using"
"<@Spencer> thanks, yea edge only contains A so I only got edge[0] but not edge[1]. I guess my whole logic is wrong"
"Hey! Can someone please help me?
I want to do calculations in different python scripts, each using 'custom variable types' that I created using classes in another file.
It worked okay, but now I want to move those python scripts each into their own folder, because they all use two files as inputs and give one file as output. I want it organised into folders.

This is my folder layout
```
-----main folder
  |- module
  |   |- __init__.py
  |   |- custom_class.py
  |- script folder 1
  |   |- script1.py
  |   |- script_1_input.csv
  |   |- script_1_output.csv
  |- script folder 2
  |   |- script2.py
  |   |- script_2_input.csv
  |   |- script_2_output.csv
...
```; it keeps complaining about my module not having some attribute. As far as I know, I have created that attribute in my file as; ```
class PumpSystem:
    def __init__(self, name):
        self.name = name
        self.levels = []
#other functions down here
```; `AttributeError: module 'pumpsystem' has no attribute 'PumpSystem'`"
what is that file called?
<@Jon>
"Sorry, just noticed this was hours ago..."
<@Niki> and <@Mirian>: Thank you :slightly_smiling_face: I tried --trace and it worked pretty well.
"i’m trying to upload a package to pypi and am having problems. I registered an account at ‘<https://pypi.python.org/pypi>', put my login info in into a .pypirc file in my home folder, filled out a setup.py file for my package with all my repository info, ran  `python setup.py register -r pypitest`, and got a login error `Server response (401): You must login to access this feature`; i followed this guide: <http://peterdowns.com/posts/first-time-with-pypi.html>; is that outdated or something?; oh i see. theres a seperate registration process for the pypi testing server"
"Hello Guys ! I am new to this group. Good to see that such groups exists and good to be in a group like this.
I am a big fan of python
Lately, I am involved in a project, which involves many stemmed and hashed values. Does anybody have experience in dealing with hashed values, then your help is needed.
Thank you"
"<@Frederica> It's better to ask a specific question than ask if people have knowledge in something. You are more likely to get an answer that way - either people know what you are talking about, they are interested enough to look it up, or the issue you have may be unrelated to a specific topic and more a general python issue"
I have written an api view
"how can i parse the params from get in my function?; my url is `""<http://127.0.0.1:8000/gdfl/?params=>""NFO""`; my url conf is `url(r'^gdfl/$', api_wrapper.views.gdfl),`; my api view is :
```@api_view(['GET'])
def gdfl(req):
    print(req.data)
    return Response({'message': 'Request Body'}, status=status.HTTP_200_OK)```"
use ```req.query_params.get('params')```
<@Jorge> Thanks that helped.; Had forgotten this
:+1:
Is there a way i can parse an very long query param ?
i didnt get you long param means
"like this ```params=""exchange=NFO&amp;instrumentIdentifier=OPTIDX_BANKNIFTY_28Sep2017_PE_24000&amp;periodicity=MINUTE&amp;max=1""```"
"iam not sure i think you can use the same , i guess; have you tried?"
"i did but when i did a print; it printed only `""exchange=NFO`"
ya i have tried even i got same output
<@Desire> check out query dict; <https://docs.djangoproject.com/en/1.11/ref/request-response/#querydict-objects>; which is accessible via `request.GET` or `<http://request.POST|request.POST>`; and all regular dict methods are available; so you can do `request.GET.items()` to get a list of tuples of all query params and values
"Hey guys; How do you type this into the IDE?; &gt;&gt;&gt; from nltk.corpus import brown
&gt;&gt;&gt; cfd = nltk.ConditionalFreqDist(
...           (genre, word)
...           for genre in brown.categories()
...           for word in brown.words(categories=genre)); from nltk.corpus import brown
 cfd = nltk.ConditionalFreqDist(
...           (genre, word)
...           for genre in brown.categories()
...           for word in brown.words(categories=genre)); it always prompt me with error message"
What’s the error message?
wait; i think i got it; hahahaha opps
Thanks buddy :slightly_smiling_face:
"Hi all. I came to know about the usage of filter along with lambda function in Python. Just like the the following 
```d = {'a': None, 'b': 'myname', 'c': 122}
print dict(filter(lambda x:x[1], d.items()))
{'b': 'myname', 'c': 122}```.  The result is `a` get popped. That’s what actually I need. Here I couldn’t figure out what does x:x[1] stands for. It would be great if someone explain me what is exactly happening. Thanks in advance."
"<@Cleotilde> lambda is pretty much the same as ```
def to_filter(x):
    return bool(x[1])
```"
Okay.
"The items method of dictionary (<https://docs.python.org/3/library/stdtypes.html?highlight=items#dict.items>) returns a list of tuples in the form of (key, value), the lambda function is called on each tuple, and the [1] notation refers to the second element in the tuple which is the value in the dictionary; so in this case if the value is falsy it gets filtered out"
Okay. Thank you very much <@Antionette>.
"hello, I am trying to implement `pivot`, consider this scenario. Given a dataframe df with schema as `id, url, type, val`. I wish to convert it into a dataframe with schema as `id, url, type1, type2, type3, ...` where each column value in `type_i` is dervied from the `val`"
"anyone here with bulk indexing in solr experience?  I have a project coming up in which I have to index about 10 million web pages on S3 as well as an continual average of 20k or so per week.  Objects in the celery bucket are like `/bucket_name/$db_id/path/to/file.ext`

Distributor task - take in a folder ID and get all html files from the folder, recursively
Single-page index task - Responsible for indexing one single web page, started from parent task above

Using Celery, my workflow is like this:
1. Query db for IDs of records and chunk to distributor celery task
2. Celery task uses `boto3` to get all html files from the S3 `bucket_name/db_id` 'folder'  Puts path in queue for single-page index task
3. Individual page processes and inserts into mysql db table
4. Once all child tasks are finished, parent task triggers a Solr DataImportHandler API call to do a delta-import from the mysql table, which should import all the recently inserted data from mysql into solr
5. After import is complete, delete all imported rows from mysql table; I plan on using at least four distributor workers, and about 20 single page workers, so this can easily overwhelm the solr import API"
"<@Tameika>, something like so?"
but if there are duplicates in the dataframe
make sure you drop those before you pivot
hello gurus
happy monday
what is your recommendation on crontab using python; simple way to save jobs and run cron
how to join the lobby anyone
"Lobby isn't for general chat, it is basically announcements; <#C07EFN21K|random> is general chat"
oh^_^  thank you
i think it’s also kinda messed up to be impersonating aaron swartz.
Does anyone know of a way to use protobuf2 generated files with protobuf3+ library?
"Hello! 
I would need some help with some Bottle API code. 
I am sending a json object containing french text to an html page. I am using Bottle for that.
The problem is the output  json text encoding ( Bottle encodes text as unicode, my output json file is by default in ascii). 
```
&gt;&gt;&gt; request.apparent_encoding
        'ascii'
``` 
My request header dict:
```
{'Content-Length': '515', 'Date': 'Mon, 25 Sep 2017 22:09:35 GMT', 'Server': 'waitress', 'Content-Type': 'application/json'}
```
Any idea How I could ""force"" an utf-8 encoding on the output json file? ( Python 3.5 version ) 

Thank you!"
morning! anyone able to give me some advice on getting out of a while loop? python newbie here
use ```break```
not allowed for this homework assignment
"write some condition in while ,eg:; ```while count&lt;0```"
"maybe some context would help. the assignment is to recreate the game of “Pig”, human vs computer. player rolls a die, and can keep rolling as many times as they want, and then the other player rolls. first player to 50 wins.  if you roll a 6, your entire score for that round is 0. I’m work on the ask_yes_or_no method, which includes a prompt."
"```
a = True
while a:
  a = False
```"
"<@Chi> if you need to prompt, you can use something like `input(""Enter yes or no"")`"
"the code is doing the opposite of what I want it to do.; not sure if it’s appropriate to post the entire thing here (it’s 100 lines); this is the prompt function ```def ask_yes_or_no(prompt): 
     roll_again = True
     while roll_again:
          answer = input(prompt)
          if answer.startswith(""y"") or answer == ""yes"":
              roll_again = False #why does it run properly when roll_again = False and not True?
              
          elif answer.startswith(""n"") or answer == ""no"":
               break #not allowed, but not sure how else to get out of this
               
          else:
               print(""sorry, what was that?"")   
```; when it’s nested in the computer_move method, and i run the program, if I type “no” it loops back and rolls the die again. if i type “yes” it just keeps asking “roll again?”"
"so, a while loop looks at the variable sequence and evaluates it to true or false.; you only set `roll_again` once in the loop, and that's when the input is that of 'Yes, I want to roll again'; you should set `roll_again` to be True` in the `if` and `False` in the `elif` block"
"```def ask_yes_or_no(prompt): 
     roll_again = True
     while roll_again:
          answer = input(prompt)
          if answer.startswith(""y"") or answer == ""yes"":
              roll_again = True #why does it run properly when roll_again = False and not True?
              
          elif answer.startswith(""n"") or answer == ""no"":
              roll_again = False
               #break #not allowed, but not sure how else to get out of this
               
          else:
               print(""sorry, what was that?"")   ```; when i enter “yes”, it just endlessly keeps asking “roll again?” when i enter “no”, it rolls the die"
then the issue is whatever else is within the conditionals that you're not posting here; you can post a code snippet by pressing the + at the side of the text entry and selecting `Code or Text Snippet`
<@Chi> I feel like something is missing here
ok. this is the whole program so far
"so with `ask_yes_or_no`, you're not returning a value there to use within the `while computer:` loop; so you should modify the `ask_yes_or_no` conditionals to

```
if answer.startswith('y') or answer == 'yes':
    return True
elif answer.startswith('n') or answer == 'no':
    return False
else:
   print('Sorry?')
```; because a `return` inside a loop is an implicit break execution"
that doesn’t break the loop. it continues to roll the die
but I think you have your whole program structured wrong.
we have to use the functions provided. starter code of sorts
is this intro to programming?
yes. intro to python and java; thanks for your suggestions everyone. i’ll pick this back up when I get to work. have to catch the bus
"Hey everyone; I am getting an error; ```Traceback (most recent call last):
         File ""app.py"", line 4, in &lt;module&gt;
           from flask import Flask, redirect, url_for, session, request, jsonify, render_template, flask_restful
       ImportError: cannot import name flask_restful
       Traceback (most recent call last):
         File ""app.py"", line 4, in &lt;module&gt;
           from flask import Flask, redirect, url_for, session, request, jsonify, render_template, flask_restful```"
there is no `flask_restful` in `flask` package; you should import it separately if it's installed; `import flask_restful`
"from flask import Flask, flask_restful; its already there in app.py; i also have ```Flask_RESTful==0.3.6``` in requirements.txt"
"not `from flask import flask_restful`, but `import flask_restful`; it's a separate package from flask"
ah okay i will try it
"hi all!; I'm in need of some dire help, I think I broke python...; I installed fb chat using `python3.6 -m pip install fbchat --user`
and then I got an error from bs4 saying 
```
bs4.FeatureNotFound: Couldn't find a tree builder with the features you requested: lxml. Do you need to install a parser library?
```; Now, trying to run `python3.6 -m pip uninstall bs4`
gives me
```
  File ""/usr/lib/python3.6/re.py"", line 142, in &lt;module&gt;
    class RegexFlag(enum.IntFlag):
AttributeError: module 'enum' has no attribute 'IntFlag'
```"
Have you checked SO? <https://stackoverflow.com/questions/43124775/why-python-3-6-1-throws-attributeerror-module-enum-has-no-attribute-intflag#44466013>
"Thanks!; for those curious, I needed to do:
`sudo python3.6 -m pip uninstall lxml`
`python3.6 -m pip install lxml --user`"
"Hey guys, any of you guys know mongodb? I'm trying to make a query but I'm not able to find a way. 
I need to sort a collection with a triple of its fields but no matter what I do I can only manage to sort by the first element.

```
for e in OBJ.objects.aggregate(*[{
    ""$sort"": {""priority"": 1}
}]): 
    print(e.get('priority'), e.get('creation_datetime'), e.get('object_type'))
<tel:1002017-01-01|100 2017-01-01> 00:00:00 free
<tel:2002017-01-05|200 2017-01-05> 00:00:00 free
<tel:3002017-01-01|300 2017-01-01> 00:00:00 paid
<tel:4002017-01-03|400 2017-01-03> 00:00:00 free
<tel:5002017-01-02|500 2017-01-02> 00:00:00 paid


for e in OBJ.objects.aggregate(*[{
    ""$sort"": {""priority"": -1}
}]): 
    print(e.get('priority'), e.get('creation_datetime'), e.get('object_type'))
<tel:5002017-01-02|500 2017-01-02> 00:00:00 paid
<tel:4002017-01-03|400 2017-01-03> 00:00:00 free
<tel:3002017-01-01|300 2017-01-01> 00:00:00 paid
<tel:2002017-01-05|200 2017-01-05> 00:00:00 free
<tel:1002017-01-01|100 2017-01-01> 00:00:00 free


for e in OBJ.objects.aggregate(*[{
    ""$sort"": {""priority"": -1, ""creation_datetime"": 1 }
}]): 
    print(e.get('priority'), e.get('creation_datetime'), e.get('object_type'))
<tel:5002017-01-02|500 2017-01-02> 00:00:00 paid
<tel:4002017-01-03|400 2017-01-03> 00:00:00 free
<tel:3002017-01-01|300 2017-01-01> 00:00:00 paid
<tel:2002017-01-05|200 2017-01-05> 00:00:00 free
<tel:1002017-01-01|100 2017-01-01> 00:00:00 free


for e in OBJ.objects.aggregate(*[{
    ""$sort"": {""priority"": -1, ""creation_datetime"": 1, ""object_type"": 1 }
}]): 
    print(e.get('priority'), e.get('creation_datetime'), e.get('object_type'))
<tel:5002017-01-02|500 2017-01-02> 00:00:00 paid
<tel:4002017-01-03|400 2017-01-03> 00:00:00 free
<tel:3002017-01-01|300 2017-01-01> 00:00:00 paid
<tel:2002017-01-05|200 2017-01-05> 00:00:00 free
<tel:1002017-01-01|100 2017-01-01> 00:00:00 free
```

Do you have any idea why? Already went to check the *$sort* operator page on MongoDB manual and although they say it works with two fields, I don't seem to be able to replicate the functionality.

&gt; ""This operation sorts the documents in the users collection, in descending order according by the age field and then in ascending order according to the value in the posts field.""  (<https://docs.mongodb.com/manual/reference/operator/aggregation/sort/index.html#ascending-descending-sort>)
&gt;  ""$sort"" operator: <https://docs.mongodb.com/manual/reference/operator/aggregation/sort/index.html>

Thanks :slightly_smiling_face:"
"Has anyone worked with bluetoothctl via python? I wanna automate the setup initialization, auto pairing (no pin required), etc..."
"I’m trying to pass a context variable to my template as a url:
`context['parent'] = ""&lt;a href=""{% url 'aircraft' %}""&gt;Aircraft&lt;/a&gt;`

To show up in my breadcrumbs like `Home / {{parent}} / {{page_title}}`

I’ve tried several different ways but can’t get a good google result. I must be fighting the framework?"
<https://docs.djangoproject.com/en/1.11/ref/urlresolvers/#reverse>; that's what you're looking for in place of the `url` tag in the template; since you would have to do this in the view
"Do you have to cite an image taken from Instagram? Also, whil I am thinking about it do i just cite the image by putting `source: url` in the alt tag?"
what are you using them for?; fair use might apply and make things easy
"also <@Vita> citations need to be visible, not just an alt tag"
"I don't think citation is going to help, as by default images aren't published with a license; i.e. you straight up can't use them without talking to their author; (except ""fair use"")"
"well that was just an “if a citation is needed”; but, yes, it depends on usage"
"Using them for an event, people who attended the event in the past uploaded pics to insta...and okay cool, thanks for letting me know; <@Patty> <@Suellen> :taco:"
"well... good news for you, kind of; when you are reporting news you can use the images"
"It's an event website, would that still count as news?"
so its advertising events?; and you want to use images from past events that were done?
"Wait, i said that wrong...sec; It's a site for a group that will have a section for this event and the images will be used there; and yes to your question joe"
so it seems like you’re using past images to promote the event?
Yep!
"yep, can’t do that without the permission of the owners of the image"
Even from instagram? Ok i will make sure to ask just in case
"Instagram can't permit you to use people's images, their license is non-transferrable"
"doesnt matter where they are from, it matters where they are going and what they are being used for"
"<@Meg> `context['parent] = reverse('aircraft_list')`
and `&lt;a href=""{{parent}}""&gt;` ?"
"i.e. users grant instagram a license, and may grant other licenses to other people themselves"
"Okey dokes, doubtful most will care but it is always good to do things right"
"<@Meg> I was doing something, wrong, it works! thanks!"
"1 person caring could be a big headache, and maybe not a cheap one either"
TRUE
"but if you keep doing them you could put up notices asking for photos to be shared, etc so you can gather them for that use; or have someone go to events and take photos"
"Our plan is to have someone take photos at the next event (hopefully someone not too expensive), we had a person who took most of the photos for last year but their camera wasn't the best"
"Anyone here know graph theory very well, or much about Directed Acyclic Graphs?"
<@Beula> what you need to know about DAGs; graph theory is like the only part of theory i enjoyed in grad school
"My interest was piqued by working on some data pipeline stuff - so I am not entirely sure where to look to learn more ¯\_(ツ)_/¯; I thought about writing a new runner in Go, but don't know enough about it; So far, the luigi API is good, but I like the features of airflow"
"hmm, trying to think of things other than my algos book; bayesian reasoning is all DAGs"
"Maybe what I'm about to question is nearly impossible :disappointed:; I have this Python code:
```
from bs4 import BeautifulSoup as soup
import requests

class Article(object):
    def __init__(self, url = '<https://es.wikipedia.org/wiki/Especial:Aleatoria>'):
        self.url = requests.get(url)
        self.html = self.url.content
        self.url.close()
        self.soup = soup(self.html, ""html.parser"")
        self.title = self.soup.h1.text
```; I'm trying to collect _X_ article from Wikipedia; But this: `<https://es.wikipedia.org/wiki/Especial:Aleatoria>` is a random article generator"
this is “the” algos book which covers a good amount of graph theory <https://mitpress.mit.edu/books/introduction-algorithms>
so I want to find where this url did redirect... Is there a way? How?
What article are you actually trying to get specifically; oh yeah - you can just use requests  like this:
"Anyone, lol... Suposse it redirects to the ""Slack"" article... I want the url"
"minimum spanning trees, single source shortest path are used"
"<@Lana> Look at the status code and LOCATION header, the status will be a 302 or a 301, and the LOCATION will give you the address:

```
$ curl -i <https://es.wikipedia.org/wiki/Especial:Aleatoria>
HTTP/2 302
date: Tue, 26 Sep 2017 23:17:58 GMT
content-type: text/html; charset=utf-8
location: <https://es.wikipedia.org/wiki/Inukami!>
```"
Where is that? Within the response?
the header
"Yes, it's with the response. the location is a header, status is the status (first line of a response); :thinking_face: thanks <@Patty> - Not sure I will follow through with this on the project since I am fairly opposed to NiH usually"
I cannot find it... :disappointed:
The algos book! He comes.; NiH; ?
"""Not Invented Here"" <@Mallie>"
"<@Lana> ```import requests
r =requests.get('<https://es.wikipedia.org/wiki/Especial:Aleatoria>')
print(r.url)```"
<@Lana> - what are you using?
"I'm an idiot, hahahah thanks; <@Martha> :taco:; <@Beula>"
thanks no problem :slightly_smiling_face:
<@Beula> :taco:
Not an idiot! Just too close to the problem :smile:
"My problem was I didn't use `self.url.url` (messy stuff, need to rename the variables)"
<@Martha> :taco: :taco: nice work knowing the framework used and the way to handle it!
thanks :slightly_smiling_face:
can you specify to pip that you only want to install a package if you're running python2.7?
"<@Winnie> checkout PEP508, basically append `; python_version &lt; ""2.7""` (or similar); <https://www.python.org/dev/peps/pep-0508/>; Here's a good SO answer on it: <https://stackoverflow.com/a/35614580/1584762>"
"thanks!
What did you google?"
"`pip conditional requirement`; I remember seeing the pep at one point, but couldn't recall which one"
"Is it possible to specify that you want to ensure a package is re-installed?
Or maybe I shouldn't be doing that?
I and many others had an issue where lxml needed to be re-installed to work correctly"
"Not AFAIK in the `requirements.txt`, but someone could do `pip install --force-reinstall -r requirements.txt` I think. Check `pip install --help`"
"thanks!; In yesterday's #SyPY, Tim showed how str.startswith can take a tuple of strings; is there anything similar for checking if a string contains different strings?; i.e.
` ""a"" in ""ab"" or ""b"" in ""ab""`"
"I have a list like so
```
[(292, 'JP1kE9RyXoFJwnkNqZezUPBbaG8MEXTd8rLQn'),
 (293, '5ZL7o6GX8qCGyeNMpLb3S1mlg89N4ZsZrPDGb')]
```
and an array of dicts, like so:
```
[
    {""transaction_id"": ""JP1kE9RyXoFJwnkNqZezUPBbaG8MEXTd8rLQn"",
     ""amount"": ""5""},
    {""transaction_id"": ""5ZL7o6GX8qCGyeNMpLb3S1mlg89N4ZsZrPDGb"",
     ""amount"": ""5""},
]
```
I need to join them so the dict looks like this
```
[
    {""id"": 292,
     ""transaction_id"": ""JP1kE9RyXoFJwnkNqZezUPBbaG8MEXTd8rLQn"",
     ""amount"": ""5""},
    {""id"": 293,
     ""transaction_id"": ""5ZL7o6GX8qCGyeNMpLb3S1mlg89N4ZsZrPDGb"",
     ""amount"": ""5""},
]
```
I know I can just iterate over them with for loops but it feel messy. I was looking at `zip` but i dont think it will do what I need. I could get one of each of these or I could get hundreds at least. Thoughts?; these are records being inserted. Or do you think to get the results, it would just be easier to re-query the db based on the id's I get back. Im doing this as once I get the ids from the inserted records, I want to push them all so a queue so I can have pub/sub clients get the updates easily"
couldn't figure out how to have the `returning` work ?; Personnally I would just re-querry the db
`any([x in 'ab' for x in 'ab'])` - I don't think there is a string method way since you're supposed to use `in` to check for substrings
"Which is better?
```
if text and (""hello"" in text.lower() or ""hi"" in text.lower()):
    print(text)
```
or
```
if text:
    new_text = text.lower()
    if (""hello"" in new_text or ""hi"" in new_text.lower()):
        print(text)
```"
hmm there isn't really one better than the other
"can't you say b is more efficient?; or does python cache the result?; huh I think it does cache the result
in which case I would go with a"
"```
r = re.compile(""((hello)+|(hi)+)"", re.I)
if r.search(text):
    print(text)
```"
"speed diff in theses cases would be very slow, it doesn't really matter"
"`0.13232997500017518`
`0.13498673000049166`; for 1 million loop; `1.2024858120003046` with `re`"
"hoist the re.compile out of the loop; still faster using the `in`, but it's more comparable. 727ns/loop vs 282ns/loop"
:thumbsup:
"Hey guys, i have made a MultiValueField but i just cant seem to render it onto the form. If you look <https://codeshare.io/2KoL6P> at line 52 you can see i have attached it to the form field but im still just getting a basic text field. Can anyone help me understand why, and what i have done wrong to make this happen :slightly_smiling_face: thanks"
is that <#C0LMFRMB5|django> ? :slightly_smiling_face:
"yeah, i posted in there nearly an hour ago. So i thought i would give it ago in here :stuck_out_tongue:"
:thumbsup:
"doesn't python cache the compile anyway; when you exit the python repl, do all objects go through their del methods?"
"&gt; It is not guaranteed that __del__() methods are called for objects that still exist when the interpreter exits.
As per: <https://docs.python.org/3/reference/datamodel.html>"
"how do I ensure my program exits ""correctly"""
your OS will do a cleanup anyways
let me rephrase
@yea I got `returning` to work just playing with different things and I thought of that and was trying to find if there was a good way to do that. Mostly it was a question about joining tuples and ducks 
"I have a requests object which holds a connection 
I'd like to safely log out on exit"
Dicts . Stupid phone
"<@Winnie> well, you can use a `with` statement to do a cleanup in case of an exception or what not
```
with request.Session() as s:
   # do stuff
```; but if your program is killed by a signal or something like that, you are out of luck"
that won't help me in the repl though right
"well.. no.. if you really need a cleanup right before an exit and you're using REPL, I suggest `atexit`"
"so, got a celery question for the gurus here.  

Lets say you have a task that takes in an argument, and uses those args to do some processing and generate parameters for a large number of short-lived tasks to execute.

How can you have a task execute _after_ the last of those short lived tasks has executed?"
"```
import atexit
atexit.register(lambda: session.close()) # or something
session = requests.Session()
...
# 1. Ctrl+D
# 2. session is safely closed
```"
"for example, Task A recieves its parameters, and as a result, it adds 1000 more instances of Task B to a specified queue.  

How do I get Task C to execute if and only if all of Task B created from the specific Task A have finished executing?"
"I don't know much about Celery, but can Task A wait for its children, and Task C wait for Task A? Or it's not how it's typically done?"
"you can come up with a number of different combinations using groups, chains, and signatures.; <http://docs.celeryproject.org/en/latest/userguide/canvas.html>"
"yeah, I'm looking at that now"
"neat, thanks ^_^"
"and I get the concept, but am having difficulty translating it into something usable"
yea it can take a bit
Is there a polling mechanism in celery? 
chains/chords should get you there <@Meg>; <@Winnifred> celery is pub/sub
Ah okay 
"In order to speed up queries, is it common practice to mark a model instance with `True` or `False` if it passes an error check?"
"<@Meg> if you want to see some of the ones i’m using you can refer to this: <https://github.com/openstax/biglearn-sparfa-server/blob/master/sparfa_server/tasks/calcs.py>

these are the calculations done by biglearn. they are on a particular schedule and all they do is check an endpoint for calculations. if there are calculations it may run the calcs and save the results and continue recursively or they will calculate and post their results."
what does pub/sub mean
the environment biglearn has to work in is not very reliable so that is why it does checks for calcs. if there are no calcs it short circuits and tries again later.
"so my use case here is indexing many web pages on a S3 bucket.  The initial task gets called with the db ID of the S3 folder to be indexed.  Inside `run`, it gets a list of all `htm(l)` files with the db ID prefix.

I've defined another task that takes in a single S3 key URL and extracts the title and non HTML text using beautifulsoup, and insert into Solr.

What I want to do afterwards is to run a task to check Solr for how many documents for that particular DB ID were indexed.  The number of pages indexed are saved to a db field,   If 98% of all pages were indexed, then it's recorded as a success.; <http://www.pythondoc.com/celery-3.1.11/userguide/canvas.html#group-results> seems to fit my needs"
<https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern>
"Hey what video series do you recommend for someone brand new to programming? Their goal is to learn to build websites from scratch and I know there are quite a few good choices for those but the ones i think are the best require some knowledge of programming and I want to give them a good course.; Also, if there is a book like (automate everything or learn python the hard way) that you believe would be better, please let me know"
Is it possible to indicate that function may be throwing specific exception using type annotations?
Books for intermediate Python ; Can anyone suggest me books for intermediate/advanced Python
"I haven’t read it, but I believe a standard recommendation is “Fluent Python”"
<http://www.effectivepython.com/>; Another good one
Thnx
"can someone explain why this is quadratic code?
```
s = names[0]
for name in names[1:]:
    s += ', ' + name
```"
"Hello, suppose i have a class A which has a function which makes use of its class variables(eg. self.x etc..). can i call it from a class method from another class B? Because during the function declaration in class B, the first parameter is self. and during call from class A, self is needed. but when called from class B, self indicates class B. How should this be solved?"
<@Oneida> i think that you refer this <https://repl.it/LinZ/0>
"<@Oneida> are you talking about something like this: ```
class A:
    def something(self, n):
        return n * 2


class B:
    def something_else(self, n):
        return A().something(n) * 2


print(B().something_else(5))
```; prints 20 btw; didnt see the answer above… just thought it was a link to something random"
"<@Winnie> Depends what you mean by “quadratic”, but I assume you mean O(n squared) where you expected O(n)

It goes slowly because of all the string-copying going on: strings are immutable, so the expression `', ' + name` effectively means 
“take a copy of `, `, then copy all of `name` after it”

And then `s += ', ' + name` means:
“take a copy of `s`, then copy the chars in `', '` after it, then copy `name` after that”

As `s` gets longer, it is being copied much more often than needed.
You’d be better off to use `join`, e.g.
```
s = ', '.join(names)
```"
"Yes, but it still takes a reasonably ""significant"" amount of time to compile, even when cached. 577ns just to emit the compiled re pattern from cache (752x faster than cold cache)
```%timeit r = re.compile(""((hello)+|(hi)+)"", re.I)
The slowest run took 752.60 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 577 ns per loop```; which ends up roughly doubling the running time"
"Hi. I need do get a list of imported files from my DB. But there is a specific column(file_name) I need do get only the file name, not the entire path(C:\\files\\*file_name*), so I am using split for that. See:; There is a best way to do that? I think to make the split on the query, but I dont know how.; //Now
```
	{
      ""acquirer_id"": 675,
      ""establishment_id"": 1,
      ""file_line_error"": 1143,
      ""file_name"": ""C:\\files\\04_20170731_DIARIO_1"",
      ""group_id"": 1,
      ""id"": 3,
      ""import_date"": ""2017-09-14"",
      ""md5_file"": ""478632b58020a332fd36e194acf126gh4ad231""
    }
```

//Need
```
	{
      ""acquirer_id"": 675,
      ""establishment_id"": 1,
      ""file_line_error"": 1143,
      ""file_name"": ""04_20170731_DIARIO_1"",
      ""group_id"": 1,
      ""id"": 3,
      ""import_date"": ""2017-09-14"",
      ""md5_file"": ""478632b58020a332fd36e194acf126gh4ad231""
    }
```; Thx in advantage"
os.path.split?
os.path.basename()
"oh interesting. 
Yeah I saw this in raymondh's video but I was curious what made it bad.
Thanks!"
"How do I get the `pk` of `tailnumber.aircraft_type` if `aircraft_type` is a `fk` to `TailNumber` ?
I need it to complete my breadcrumbs and use the same method elsewhere in my app

```class TailNumberDetail(LoginRequiredMixin, DetailView):
    model = TailNumber
    template_name = 'tailnumbers/tailnumber_detail.html'

    def get_context_data(self, **kwargs):

        flights = Flight.objects.all().filter(registration = self.object)
        get_map_data(flights)
        context = super(TailNumberDetail, self).get_context_data(**kwargs)
        context['title'] = ""D-&gt; | "" + str(self.object)
        context['page_title'] = str(self.object)
        context['parent_link'] = reverse('aircraft_list')
        context['parent_name'] = 'Aircraft'
        # context['child_name'] = self.object.aircraft_type
        # context['child_link'] = reverse('aircraft_detail' <http://Aircraft.pk|Aircraft.pk>)
        context['flights'] = flights
        return context```"
"thx; thx ""os.path.basename()"" works"
"we have a <#C0LN2AD7T|flask> channel, people might be best able to help you there :slightly_smiling_face:"
"I have an issue, I’m trying to use ipaddress module, and my script need to work on both Python 2 and Python 3, problem is that on Python 3 it’s expecting a str but on python 2 it’s expecting an unicode…; How can I make a single code work with both ? As the parameter is coming from a variable so I can’t use u”10.0.0.0""; and unicode() doesn’t exists on Python 3 so I can’t use this either"
I think you can use `six.u` from <https://pythonhosted.org/six/>; <https://pythonhosted.org/six/#six.u>
"Oh I’m gonna check that, I never used it before :slightly_smiling_face:; Thanks"
"Sure thing, any time I think ""supporting 2/3"" six is pretty much the go-to"
It works :slightly_smiling_face:; Thanks !
:tada:
Now passing all the tests : <https://github.com/jazzband/django-axes/pull/250> :stuck_out_tongue:
"Hi guys, any can help recommend books, and video courses I can take to get more basic python understanding?"
<https://github.com/pyslackers/learning-resources/blob/master/topics/essentials.md>
"I've made a PR <https://github.com/carpedm20/fbchat/blob/master/requirements.txt>  which has updated the pip requirements to have a conditional requirement on enum34 but the change doesn't seem to make a difference, and running
`python3.6 -m pip install fbchat`
still installs enum34
have I missed something?"
You guys/gals use virtualenv or virtualenvwrapper? Which do you prefer?
"I only use virtualenv - I found virtualenvwrapper to be unnecessary when I looked at it. But, that was a a bit ago and I never went back and looked at virtualenvwrapper again."
I use virtualenv but sometimes read people recommending virtualenvwrapper when I read a blog post or something. virtualenv seems to fit my current needs but just wondering if I am missing out or something with virtualenvwrapper
Wrapper for me; Don't need to provide the path to activate ; But that's about it
does it detect the correct env by the directory you are in?; or do you use `workon` <@Meg>
"For me, once I understood how `virtualenv` worked, I didn't want it abstracted away, so if that is the main incentive that's obvious where the difference in preference lies."
Just `workon env_name` for me 
I’ve moved to pipenv mostly 
"<@Beula> That one seems beefy, lots of features. Gotta check that out out a bit. One thing I do like about virtualenv is I usually throw my environments in project root and it helps me quickly see if the env is there or not and such. I can see myself accidentally creating a virtualenv when one already exists with the central place for all envs with virtualenvwrapper."
"This one will detect and re-create them for you if you already have one, it’s quite good "
can you have multiple pipfile files? Like dev/prd?
"`pipenv install --dev pytest` :smile:; If you are familiar with NPM, it's kind of like that"
"Heya guys, it's me again! (/w\); I'm creating a management system for a library with sqlite3 and python (It's a small library, that's why); Question is:; When I execute this: 
```
self.c.execute(""""""CREATE TABLE IF NOT EXISTS Libro(ID                TEXT    PRIMARY KEY,
                                                      Nombre            TEXT    NOT NULL,
                                                      ID_Autor          INTEGER NOT NULL,
                                                      ID_Editorial      INTEGER,
                                                      Year              INTEGER,
                                                      ID_Categoria      INTEGER NOT NULL,
                                                      Paginas           INTEGER NOT NULL,
                                                      Disponibilidad    INTEGER NOT NULL,
                                                      Ubicacion         INTEGER NOT NULL,
                                                      FOREIGN KEY(ID_Autor)     REFERENCES Autor(ID)),
                                                      FOREIGN KEY(ID_Editorial) REFERENCES Editorial(ID),
                                                      FOREIGN KEY(ID_Categoria) REFERENCES Categoria(ID)"""""")
```
I get: `sqlite3.OperationalError: near "","": syntax error`"
"`FOREIGN KEY(ID_Autor)     REFERENCES Autor(ID)),`

Looks to be an extra trailing paren"
"I tried almost everything, and the comma is not the problem because the error is in last line (`FOREIGN KEY(ID_Categoria) REFERENCES Categoria(ID)`)... SQLite3 says:
```
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
  File ""/Users/alfonsoima/Documents/Universidad/Python/BibliotePy/Data.py"", line 33, in createTables
    FOREIGN KEY(ID_Categoria) REFERENCES Categoria(ID)"""""")
```; Oh sh*t; <@Beula> :taco: :taco:"
:pacman:
"You deserve double taco, holy Lord, what I was thinking?; :joy:"
They start to bleed together sometimes :slightly_smiling_face:
"<#C07EFMZ1N|help> *I'm looking for advice:* I've written a python3 script that when run, it texts me if I need an umbrella that day (utilizing twillo and the weather underground API). Is there a tool I can use to schedule this python3 script to be run every morning? Cron works, but only when I have a computer awake and set to run that script.... I'm new to this, and it's one of my first scripts so what are my other options? Any way I can set up this job in the Cloud for free?"
Aws as a free tier for a year that you can use 
And even after the free year the lambda cost would be cheap
Another option is throw it on a cheap computer like a raspberry pi that can always run for you :slightly_smiling_face:
"The lambda cost would actually probably be free after 12 mo, the free tier for lambda is always"
"Is there scheduling on lambda, or does that rely on another service?"
"Good point - I think it is technically a cloudwatch trigger, but it's not in front of me; I don't think that scheduling costs..."
Yeah it’s just a ttrigger; You can set a periodic trigger to fire lambdas
I removed my link because I think you can do it in the gui easier
"yup; and yep <@Mallie> CloudWatch trigger it is, with the expression set to 5 mins in this case"
What’s a good way to measure coverage via integration tests ? Anyone got ideas on how to deal with a legacy Django app?
"I'm not entirely sure you can <@Simonne> - are you meaning ""integration tests"" via selenium, or something else?"
"<@Patty> <@Mallie> <@Beula> Thanks! So, I have an AWS account already.. Sounds like ""CloudWatch Events"" is what I need to research?"
"Yeah, or lambda scheduled job should do it <@Georgia>"
Nice! Thanks <@Beula> I also have a Raspberry Pi sitting around somewhere.. might give that a go too
"<@Georgia> you shouldn't have to get too deep into cloudwatch to do the schedule, you should be able to add the trigger within lambda, that's just the source/type.; Just look at your *Triggers*"
<@Shanae> <#C0LMFRMB5|django> will be able to help :); <@Georgia> the pi is a great idea too. Either way we’ll be able to help :)
<@Beula> for selenium that is
"I’m not entirely sure you can, it would be pretty hard to analyze any of the Ui interactions and which python code path it took. Instead you could just test views with various form data inputs (or whatever is appropriate) to make sure the view handles your input as expected. That depends on assuming that the framework does what it claims (which is fairly reasonable, IMO) and that a dev wired the pieces to the Ui properly (a little harder)"
"Last question of today (I hope); Is this being ""as simple"" as Python demands?
```

def addAlumno(self, matricula, nombre, telefono, recargo = 0, observaciones = ""Ninguna""):
        query = ""INSERT INTO Alumno VALUES({}, '{}', '{}', {}, '{}')"".format(matricula, nombre, telefono, recargo, observaciones)
        self.c.execute(query)
        self.conn.commit()
```; I think I can reduce a line, what do you think?"
<#C07EFMZ1N|help> wow.. as a newbie to AWS attempting to work with lambda/cloudwatch to execute my python3 code was much harder than expected
"Aws isn’t the easiest to use a lot of the time, but the service and guarantees are quite good"
Sounds like a nice way to break your system's packages. Don't run pip as root.
It's a lot to be sure
"Are you sure a release has been published on PyPI with that change? (Also, strictly speaking that python_version restriction is wrong, should be &lt; '3.4')"
"Status active, so it may not be shipped yet (I think that would be accepted). So I may have mislead. You may need to do it in a setup.py and conditionally append the requirement on install "
"<@Cynthia> I thought about that, but since the module doesn't say it support s python3.3, I left it.; <@Beula> I don't know how PyPi works.
I looked in the tar and found requires.txt doesn't have the condition.
Is that an admin specific thing that needs to be changed?"
<@Lana> you should never ever use string formatting to generate SQL statements. Use <https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.execute> with parameters
"Trying to figure out how to connect to a remote server via SSH and then upload the contents of a folder. 
I’m able to connect using pxssh, but it doesn’t seem like that library has the capability to send files. What’s the best way to handle this sort of thing without me having to go typing into terminal every time and upload by hand?"
filezilla?; use some ftp client
`paramiko`
"sftp client, or scp"
you could also do it with fabric which is pretty easy
"in case of sftp you don't need ftp server installed.
filezilla can manage sftp connection."
<@Meg> I know filezilla the stand alone app - are you saying there’s a filezilla library for python?
"<@Zaida> no, filezilla is just an alternative suggestion instead of a program.; The problem is you are using SSH; you should be using SFTP (the protocol filezilla uses); Paramiko is the most popular ssh/sftp lib that I know of; <http://docs.paramiko.org/en/latest/api/sftp.html>; an example usage: <https://stackoverflow.com/a/3635163>"
<@Zaida> is the real issue that you want to deploy your app to a server? Or are these just extraneous files to copy to a server?
<@Zaida> Do you need Python for this ? It’s quite easy to automate through just bash scripting (just call scp or rsync with the local and remote folder)
"I might not need python for it. This is the series of tasks I have
- from a spare laptop, scrape several websites (Can’t figure out how to make this headless as the sites are really complex and need Selenium as far as I can tell)
- Upload that data to my remote server where my app is.
- Trigger a Django management command that then processes that data and stores it to my database"
rsync over ssh might be  a nice easy way to do it
Hi; Can any1 advise me whats the diff b/w Web Scraping and Web Crawling?
"I’m trying to make that all into one script that just loops on a spare laptop. I realize this is a super terrible setup, but it’s just gotta work haha. It’s a small project, not a full development setup or something."
tq
"Short answer: Web crawling just indexes the information using bots, where as Web scraping aka web data extraction is an automated software technique of extracting information from web. Elaborated answer: Web crawling aka Indexing, is used to index the information on the page using bots also known as crawlers.; The latter. Just little csv files that I scrape and need to be uploaded. If I could I’d scrape from my server but try as I might, I can’t get that to work, so this seems like the best holdover until then."
"typically the former downloads the pages and content to a storage container, where the latter handles parsing and analysis in-memory on the spot"
<@Zaida> What “data” is sent ? It looks like it’s more something that could be done with celery + rabbitmq (As the laptop(s) would be the worker(s)
"<@Zaida> The simple answer is to only rely on one machine, if I were you I would just set up a cron job to run on the server. You could use AWS lambda to do it even. If you want to just load from where you are at, I would go with <@Junita> 's option of rsync over ssh (<https://www.digitalocean.com/community/tutorials/how-to-copy-files-with-rsync-over-ssh>); The benefit of rsync is that it only syncs incremental files - so you get a redundancy locally"
"Oh, yeah, you'll need to change setup.py, I'm pretty sure. There's a couple of different suggested ways of doing that in various docs."
"Thanks for the help, man. When you say “Run a chron job on the server” i assume you mean to do the web scraping?
Unfortunately I’ve smashed my head against it but I just can’t get my webscraping to work with my remote server. It’s been a huge sticking point for me, making me spend ~10 minutes a day just to do the web scraping on my machine with Selenium. 
Part of the issue is the site I’m scraping. No API, and to quote a programmer friend who checked it out:
&gt; I don’t see an xml request being made when the export button is clicked so I’m thinking they’re storing the data in cookies via JavaScript and then the export page is reading the cookies on the server side. Or it’s some kind of cool React shit that I don’t know about.

So my selenium script has to click through the buttons one at a time and download a CSV from the site. 
I tried to get it up and going on my ubuntu server, but I couldn’t get firefox up and running well."
"Oh, my guess is the issue you are seeing is related to not having a ""virtual framebuffer"" (e.g. the browser needs libs to paint out the screen to work)"
"Interesting… Honestly it’s been over a year since I’ve tried it, so I don’t even recall the errors I was getting.  I might get some time to give it another shot. I think it was something to do with the rendering of images or some kind of color issue, so what you’re saying might be that.; about 30 small CSV files. The results of webscraping that (as of now) can only be done from a local machine and not on my server, unfortunately."
Chrome now has a headless one specifically built to work well for automated testing (chrome headless) - may be worth taking a look at
"this is an on going discussion in another group… but anyone care to help / chime in on what is happening? also have a stranger case that no one else has been able to reproduce… ```
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
&gt;&gt;&gt; help(urllib)

&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'parse']
&gt;&gt;&gt; help(""modules"")
.... note* removed because this part is way too long ....

&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'error', 'parse', 'request', 'response']
```"
"stranger case: ```
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
&gt;&gt;&gt; urllib.parse
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: module 'urllib' has no attribute 'parse'
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'error', 'parse', 'request', 'response']```"
python version?
"3.5.1; the stranger case… as i said i can’t reproduce, we only have the original person that asked being able to create; i’ve been able to mimic what is going on in the stranger case by importing six and calling six.moves.urllib; in the first one, im just assuming help() loads everything… the stranger case doesn’t make sense, its like its loading on AttributeError"
"Are you using &lt;Tab&gt; completion at all?
I could not reproduce, when doing things simply, e.g.
```
$ python
Python 3.7.0a1+ (heads/master-dirty:0e950dd, Sep 26 2017, 07:35:27)
[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
&gt;&gt;&gt; import six
&gt;&gt;&gt; six.moves.urllib
&lt;module 'six.moves.urllib' (&lt;six._SixMetaPathImporter object at 0x10fd00390&gt;)&gt;
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
```
But then trying a tab-completion seems to re-create
```
&gt;&gt;&gt; six.moves.url&lt;Tab&gt;
six.moves.urllib ..._error        ..._parse        ..._robotparser
&gt;&gt;&gt; six.moves.urllib
&lt;module 'six.moves.urllib' (&lt;six._SixMetaPathImporter object at 0x10fd00390&gt;)&gt;
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'error', 'parse', 'request', 'response', 'robotparser']
```"
^ thats even crazier
but for that i’ll have to ask
with no tab completion I'm able to recreate the second case; on v3.4
"I think the tab completion and `help()` would have something in common: they would both require a “full” import of the module.
(As would <@Antionette>’s example of accessing `urllib.parse`)
Although that would suggest that the module in being “lazily” imported at first, which is not something I have heard of before"
"asked, and the reply was that it didn’t seem to matter; im on mac, no tab completion; so i can’t test"
"I’m on mac too, have tab completion"
weird… i hit tab and it just jumps over; <@Antionette> any ideas on what is going on there?
Might be different readline libs. I seem to remember getting fussy about that a few months back
"yea, just read something about that; <@Earline> john’s example is really what were trying to figure out"
"Appreciate that, just thought it interesting that it can be reproduced another way"
"it matches the behavior described in <https://docs.python.org/3/reference/import.html#submodules> - notably that ""For example, if package spam has a submodule foo, after importing spam.foo, spam will have an attribute foo which is bound to the submodule."" - implying that if the submodule is not imported there will be no attribute"
"oh no, im definitely interested in different ways to do it… but the core question is what is going on with the loading on attribute error; yes, but why is it there after the error?"
"not sure, it has to be that somehow trying to access the attribute causes the submodule to load"
"yea; just weird that it only happens on some machines / for some people; its gotta be some sort of config somewhere, just trying to learn where that is / what it is exactly; what version / os are you on?"
"3.4, ubuntu"
wonder if its a difference between readline and libedit?; but thats just for the cli though right?; shouldnt make a difference
not just for cli; meaning it happens whether in cli or from file
i know i also cant reproduce on centos; and the other person that could was also on ubuntu; but the ubuntu i tested on couldn’t reproduce
So it's only our guy and John Ferro that get it and they are on different versions?
yea; both on ubuntu though
I'm on ubuntu 14.04
"Cannot reproduce in `3.4.3 on CentOS 6.4`, `3.7.a on OSX 10.12`, `3.5.0 on OSX 10.12`, `3.6.2 on OSX 10.11`"
"k, he was on 16.04"
but he was python 3.5.1?
yea
"Mine is identical to his - it's probably the same repo, and I don't get it; Ubuntu 16.04 python3 package"
unless he installed via download from the site?
I know it's that one because for 3.6 I had to get it myself; Ah maybe but the date was even the same - but I guess I dunno what they do/don't do with building it for apt
"he seems pretty new to python also, so i doubt he did anything crazy"
"I told him to SO it, but if he doesn't want to I can"
"yea, figured id try here first"
"Totally fair, just figure get some more eyes on it since no one seems to have anything"
"<@Antionette> since you can reproduce it, can you try one more time, but after the error don’t call dir(urllib) just call urllib.parse again?"
"yeah tried that, it gets the attribute"
ok; cool / still weird; and do you remember if you installed via package manager or from a download?
package manager
"question… does the same work with request, instead of parse"
behaves the same as parse
ok; thanks
do you get True for this?; I'm assuming yes
umm…; wait; lol; typo; `False`
hmmm
but that should be the same
but then if you call `urllib.parse` it doesn't give the attribute error; but then it becomes true right?
as parse wont load for you until after the AttributeError
right
"the original question on this… parse, request, etc… were actually loading on the AttributeError for urllib.foo; its like the interpreter throws the error then loads everything just to make sure"
"yeah I'm seeing the same behaviour; and just to double check, for you/the correct behviour is that you can access `urllib.parse` from the beginning?"
"no; ```
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
&gt;&gt;&gt; urllib.foo
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: module 'urllib' has no attribute 'foo'
&gt;&gt;&gt; dir(urllib)
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__']
&gt;&gt;&gt; ```"
ok so you have to explicitly import it
thats what most of us are seeing; dir(urllib) doesn’t change after the error
so it seems to be on any error; wait
wth… import after error too? thats new; <@Mallie> ^
"Does this happen for other modules, e.g. `logging` has a similar package structure to `urllib`, so what happens for
```
&gt;&gt;&gt; import logging
&gt;&gt;&gt; dir(logging)
&gt;&gt;&gt; logging.config
&gt;&gt;&gt; dir(logging)
```?"
hah - so it's the exception that triggers the import?
"no, he didn’t import urllib until after the error; <@Antionette> do that once more but call dir on urllib right after the error; lets see if it loads with the modules"
without importing?
"no, import urllib after error then call dir; see if parse is loaded before another error"
not sure if this is what you were looking for
yea
"well that makes sense, otherwise it would have given the attribute error in the above code"
<@Orpha> I'm here now
the question is why is any error importing it
yea; pretty much; there are a lot of why?‘s; haha; and i can’t reproduce that either
"I have it written, just proofing it"
with the newest updates?; lol
ya
awesome
<@Antionette> I hadn't gotten that far (I brought it up in another slack).  I'm also new to Python programming.  Is Exception the super to all errors
"<@Antionette> curious are you able to do?
```
import urllib.parse
urllib.parse
```"
<https://stackoverflow.com/questions/46496520/unexpected-module-loading-using-urllib-in-python-3-5-x>; :pray:
<@Kiersten> yup
"<@Kiersten> ```Python 3.5.2 (default, Aug 18 2017, 17:48:00) 
[GCC 5.4.0 20160609] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; urllib.parse
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: module 'urllib' has no attribute 'parse'
&gt;&gt;&gt; urllib.parse
&lt;module 'urllib.parse' from '/usr/lib/python3.5/urllib/parse.py'&gt;```"
"only two known people that can reproduce this ^ are (<@Antionette> and <@Seema>); <@Antionette> ```
&gt;&gt;&gt; import sys                       
&gt;&gt;&gt; print(sys.excepthook)
&lt;built-in function excepthook&gt;
&gt;&gt;&gt; print(sys.excepthook is sys.__excepthook__)
True
&gt;&gt;&gt; 
```; what do you get for that?"
"```Python 3.5.2 (default, Aug 18 2017, 17:48:00) 
[GCC 5.4.0 20160609] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import sys; print(sys.excepthook)
&lt;function apport_excepthook at 0x7f65c6acf510&gt;
&gt;&gt;&gt; print(sys.excepthook is sys.__excepthook__)
False
```"
<@Mallie> SO might have just killed all our fun; lol
I know
That dude is basically the emperor of Python on SO
"<@Antionette> So basically, it's a namespace package and somewhere along the line something else imports the actual urllib.parse and then it works?"
It appears to be this: <https://packages.ubuntu.com/xenial/python-problem-report>
Yeah its look like this system exception hook is importing all modules
So some sort of error reporting module? still digging into it
so apt-uninstall it and it should go away?
<@Seema> Can you `dpkg -l | grep python-problem-report` in your shell?
huh
empty...
"My bad, you problem need to apt it; Do the `apt list`; Like john"
"```darin@puter:~$ apt list python-problem-report
Listing... Done
python-problem-report/xenial-updates,xenial-updates,xenial-security,xenial-security 2.20.1-0ubuntu2.10 all
N: There is 1 additional version. Please use the '-a' switch to see it```"
"~btw, that’s a super specific problem for that dude on SO to sound so upset that you asked the question lol~ &lt; probably just reading it wrong"
now he's saying its this package; <https://wiki.ubuntu.com/Apport>; he doesn't sound really upset
"So but I do have this installed, that's the weird thing; ```(py3) joshua@tandem[~] dpkg -l | grep apport
ii  apport                               2.20.1-0ubuntu2.10                           all          automatically generate crash reports for debugging
ii  apport-symptoms                      0.20                                         all          symptom scripts for apport
ii  python3-apport                       2.20.1-0ubuntu2.10                           all          Python 3 library for Apport crash report handling```; So what actually installs the hook?"
<@Mallie> what about the other… what john did
"Or maybe that's the lib but I don't have the hook, let me see - yeah was just thinking that; k I installed it; ```(py3) joshua@tandem[~] dpkg -l | grep python-problem
ii  python-problem-report                2.20.1-0ubuntu2.10                           all          Python library to handle problem reports
```"
I don't have python-problem-report installed
I installed it and it doesn't happen
"```darin@puter:~$ dpkg -l | grep apport
ii  apport                                     2.20.1-0ubuntu2.10                           all          automatically generate crash reports for debugging
ii  apport-gtk                                 2.20.1-0ubuntu2.10                           all          GTK+ frontend for the apport crash report system
ii  apport-symptoms                            0.20                                         all          symptom scripts for apport
ii  python3-apport                             2.20.1-0ubuntu2.10                           all          Python 3 library for Apport crash report handling
```"
"```john: python-problem-report/trusty-updates,trusty-security 2.14.1-0ubuntu3.25 all
dw: python-problem-report/xenial-updates,xenial-updates,xenial-security,xenial-security 2.20.1-0ubuntu2.10 all```"
Ohh I probably installed it to system; I am in a venv
they even have slightly different ones
"<@Mallie> do you have an /etc/default/apport; ?; <@Orpha> that's not listing installed version, just available"
ah; my bad
<@Antionette> yeah I do
<@Mallie> `enabled=1`?; if yes then its definitely getting stopped by venv
yup
"Correct me if I'm wrong, but if urllib is a namespace package then there are never guarantees that urllib modules are imported, thus you would need to always `import urllib.parse` in your code."
"^ thats what we all believe to be true; on some systems, it seems that you can throw an error and it will import everything; actually, wonder if it is everything"
"Right, cause it triggers some package which then imports the modules"
Ah so I set `enabled=0` and then reloaded the apport service and sure enough it does what is expected; ha nice
"<@Seema> or <@Antionette> can you run ```
dir()
throw and error
then
dir() again```; <@Mallie> awesome, so answer found?"
Yeah
"```Python 3.5.2 (default, Aug 18 2017, 17:48:00) 
[GCC 5.4.0 20160609] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; dir()
['__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']
&gt;&gt;&gt; throw an error because you didn't catch the ball
  File ""&lt;stdin&gt;"", line 1
    throw an error because you didn't catch the ball
           ^
SyntaxError: invalid syntax
&gt;&gt;&gt; dir()
['__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']
```"
"ok, so only with import of something (read urllib); but yea, so that package is just loading it when error happens"
"Yeah I took a peek at that. Definitely on my list of stuff to try. 
Harassing the companies to release my data the right way has been one way I’ve tried it, too."
Oh haha we could've just used `-v` to watch imports
john showed that it can be any error even before import which I find bizarre because it is preloading a solution to the import statement
"that was a fun 2 hours, thanks for the question <@Seema> :taco:"
You learn something everyday
"lol; yea, thats still weird, you should test that with that package too"
the confusion is somewhat related to this I think <http://ncoghlan-devs-python-notes.readthedocs.io/en/latest/python_concepts/import_traps.html#the-submodules-are-added-to-the-package-namespace-trap>; because the submodules are loaded to the global namespace; without the module itself getting loaded until import is called
"anytime, learned something too.  Now I need to know how does it preload the answer to urllib import.; <@Antionette> Thank you.  Off to pickup kid but will consume when I return.  That's the magic I wanted."
ah ok
:taco: <@Seema>; :taco: <@Antionette>; :taco: <@Orpha>
thanks!
That was fun
I think Martjin Pieters deserves the most tacos lol
"If he were to grace us he could have all my tacos for a week lol; Great answer too, no surprise; Tells you the why and how to deal with the general idea in the future"
One day we will all be like Martjin Pieters... one day
he'll be Jon Skeet if Jon Skeet ever ascends into the machine as some magical AI/human consciousness :angel:
"Wow, look at those reputation points."
<@Vena> `wget -r --no-parent <http://example.com/configs/>`; you have to run wget with those flags
Gave rise to some legendary SO Chuck Norris-style facts: <https://meta.stackexchange.com/questions/9134/jon-skeet-facts/9182#9182>; &gt; Anonymous methods and anonymous types are really all called Jon Skeet. They just don't like to boast. :joy:
hahahaha... these are great
It's even wilder if you see how reputation calculations have changed and are capped
SkeetOverflow lol
"```
Name                  uncapped    capped
Jon Skeet              367651      118596 
Marc Gravell           170012      96095 
JaredPar               104431      67345 ```"
And that's not even up-to-date lol; Point being - that dude kills it and no one will ever catch him
Definitely not. He earns more reputation in a week than I have total.  lol
"And he holds a full-time job. It's like some of us are like ""I need a coffee break"" and his breaks are to answer questions."
"Wow, Jon Skeet makes the _really_ good prof I had in grad school look like a noob: <https://stackoverflow.com/users/41661/norman-ramsey>"
"thank you, it's running"
<@Patty> I was checking out Jon Skeet's profile today and he's quickly approaching 1 million rep. He should hit it in less than 4 months.
"How do I read a directory into python? Can I pickle the directory somehow, then read the .pickle? 

f = open(""/file_name.pickle"", ""rb"")"
"<@Vena> how would you ""read a directory""? You can only read files"
@malinoff I just downloaded the gutenberg db. Can it be maintained in its current file format as a RDF (?) and read into python?
<@Vena> <https://github.com/RDFLib/rdflib>
"say you were generating a list of 50000 objects from batches of 2000
is it faster to do an operations on each object on every batch,
or once you have the 50000 objects?"
"Hi there, I have a quick question about this article here: <https://www.theregister.co.uk/2017/09/15/pretend_python_packages_prey_on_poor_typing/>

I used the terminal command and it returns cryptography (1.8.1). How do I go about removing this package manually?; Any help would be much appreciated. Thanks!"
"I don't think you need to worry because the fake package is called ""crypt"" but the regex matched the beginning of the ""cryptography"" package; Although someone else should probably confirm"
"Ah ok, that would make sense because I don’t recall installing a ‘crypt’ package myself. Thanks a lot for your reply <@Winnie> :slightly_smiling_face:. If anyone else has had an experience with this, do let me know. Thanks in advance."
"with sqlalchemy core, is there an insert or update method? right now im doing `Mymodel.insert(...)` but i want to update a field if it already exists."
"not native, apparently; but this might get you part of the way"
yea thats what im finding. i found this <https://stackoverflow.com/questions/6611563/sqlalchemy-on-duplicate-key-update>; oh even better as mine is for bulk inserts; Nice. so that will let me do `model.upsert(...)` rather than `model.insert(...)` right? I am using sqlalchemy core with async. so i don't have the full ORM
"not sure, tbh; that gist is about four years old, but the comments seem to indicate its still valid"
"looks like I use it like the SO post I linked above
```
connection.execute(transactions.insert(compile_upsert = 'ON DUPLICATE KEY UPDATE foo=foo'), my_values)
```; ill have to try"
is this with postgres?
yea
"hey, what are you doing?; can you help me to merge a list?; ´´´´
#Input: [ [1, 2, 3], [1, 3, 4], [1, 7, 8], [1, 7, 9], [2, 1, 2], [2, 2, 5], [2, 5, 6], [3, 6, 7] ]
#Output = [ [1, [2, 3, 4] ], [1, [7, 8, 9] ], [2, [1, 2, 5, 6] ],[3, [6, 7] ]]
´´´´"
What I understood here is if the succeeding list contains atleast 2 elements of the preceding list and 1 element should be common among all the lists to be merged  then the 2 or more lists needs to be merged having the 1st common element outside the list.; Also do u want to get solution for this list or the generalized function for any list of lists!?
How do you get the output from the input?
Hi guys.i want to use pybluez module but my system is mac.so how to install pybluez on Mac?
"is it possible to group assert statements? I want to write a test to ensure that my function returns only one of three strings: ‘M’, ‘R’, or ‘-’."
"<@Chi> `assert result in ['M', 'R', '-']`"
that’s in the assertEqual(s) class? I can’t find that syntax (using python3)
"Hello, I'd like to ask, do you have any good resources on how to deploy and maintain Python app? also with some notes on how to do updates/rollbacks, etc? Thanks for the responses"
"<@Collette> wait, so your suggestion is for the program file, not the test file?"
"If you're using `unittest`, that should be `assertIn`; My example was about `pytest`"
<@Collette> got it to work. thank you!
what's the correct way of updating setuptools?
`pip install -U setuptools`? :stuck_out_tongue:
Doesn't that require sudo which is bad?
"<@Winnie> well depends on where your packages are installed, it isn't bad if you're using it correctly; System packages are going to require root, virtualenv depends on those permissions"
and setuptools is a system package?
"Well there may be a distro package for it, not sure, but by system package I meant global python packages (e.g. `/usr/local/lib/python2.7/dist-packages`)"
I have one there and one in 3.6 of .local
"Those are for those different Python versions, that is where pip packages are installed when you install globally (default without being in a venv or using `-t` on pip install). Those directories are owned by root (see with `ls -l`)"
"If I'm doing a ""large"" recursion, is there a time when I would NOT want to use a generator?  Trying to search the web for ""when should I not use a generator"" was NOT helpful. :confused:; thank you <@Hung> for that ""custom response"""
"<@Seema> Without an example there isn't really an answer to that. What is a ""large"" recursion? If a situation fits the use of a generator I know of no particular reason you might want to avoid it. You could check on your system with `import sys; sys.getrecursionlimit()` and if you plan to recurse more than that, it's too much :smile:"
"<@Mallie> Hey Joshua, that's pretty much my question / answer right there. ""I know of no particular reason you might want to avoid it"".  Thanks; Everytime I see magic or whizbang, I want to know how the trick works and if there are any exceptions or gotchas.  Some of these one line yield statements are pretty slick and I get ""suspicious"", lol."
"Hah, that's fair. But generators do have a pretty straightforward behavior once you get used to them, so if you haven't read this yet, <https://wiki.python.org/moin/Generators>, do. Conceptually, the shorthand is the same as writing that sort of example class they have, it's just the interpreter is doing the state tracking and iterator behavior definition for you."
anyone using pony orm? looks really nice
"Currently working with `asyncio` after not touching it for a bit. I'm trying to clean up my code that I have for an application I'm building and make it a bit more object oriented and nicer looking, however, with the async task that's set to run I'm wondering what might be the best way to set it up. Should I instantiate the class that the background task is in then when everything is setup, run the task? Or have it outside of the class object?; This is a snippet"
"<@Myong> idk, does it need to be in the class?; If not, i feel its a bit better outside. "
I actually fixed that all up; I'm now stuck with another small issue; Basically I'm using the `Discord` python library and they use decorators for making groups and accessing commands that you can use. The issue I'm running into is that they use a keyword in the `@&lt;decorator&gt;` that is not initialized; so it gives an error for it and I know why but I'm just attempting to figure it out
More detail?
"One sec I'll put some small example together; Actually, I fixed it. I just decided to go with one small class and keep the main object inline and out of a class so that the decorators which use that variable later do not throw errors."
:+1: 
"So in that snippet something like that would throw errors because bot wasn't initialized, I was just trying to figure out how to make it work; But all I did was this; So yeah"
Cool; Glad you figured out all out
"I've played with it for a while, but I guess I'm too used to Django ORM. But the idea is nice"
hey guys where do i go for git help?; I essentially have commits `a-b-c-d-e-f-g` in `branch1`. I want to move `d-e-f-g` into `branch2`; been trying rebase but i can't seem to get it to work; `a-b-c` get attached as well
You can use cherry-pick for that ; I don't have the exact syntax in mind but it should help you find what you want on Google 
<https://stackoverflow.com/questions/1670970/how-to-cherry-pick-multiple-commits>
"Has anyone encountered  ""227 Entering Passive Mode""  when using ftplib module.
any ftp function like `dir`, `nlst`, which contains the method like: `retrlines`, `transfercmd`, `ntransfercmd`. they all will be dead hang in there.... I try many way but didn't work out...
my code example: <https://repl.it/Lv0h/1>"
<@Kelli> no point providing a repl if we can't access the ftp box :slightly_smiling_face:; It is most lkely an ftp issue not a code issue; passive mode being a mode of ftp; <http://slacksite.com/other/ftp.html>
no one should have to use FTP in 2017; in 2005+ really...
"I mean that to; I recently had to setup an FTP box, it hurt"
"well.. it's job, I have to use it."
"surely there's a better way to stitch lists together by pre-pending than this?
```
l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]
# this works but is inefficient
nl = []
for i in l:
    nl = i + nl
#faster but has to iterate over every item in i
from collections import deque
dl = deque()
for i in l:
    dl.extendleft(reversed(i))
```"
`list.extend(other_list)`
that doesn't do what I want it to do
what exactly are you trying to do ?; flattening inner lists in reverse ?
"l is `[[9, 10, 11], [6, 7, 8], [3, 4, 5], [0, 1, 2]]`
I want `[11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]`"
"```
&gt;&gt;&gt; l = [[9, 10, 11], [6, 7, 8], [3, 4, 5], [0, 1, 2]]
&gt;&gt;&gt; [i for subl in l for i in reversed(subl)]
[11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```"
"```
def chain(iterables):
    for it in iterables[::-1]:
        for element in it[::-1]:
            yield element
```"
"that's a O(N^2) solution, which is about as best as you'll get"
"the deque method will work fast
what I'm asking is, doesn't python have any way of ""stitching"" lists together, to avoid iterating over every inner list?"
"Nope, and even if it did, it woluld still take the same amount of time; Also +1 to `[::-1]`, it’s faster than `reversed()`"
howso?; wait really?
"<@Winnie>, what you're missing is how lists work in memory"
"Because how else can you flatted internal lists without iterating them?; Yep; ```
$ p -m timeit ""ol = [1, 2, 3]; nl = list(reversed(ol))""
100000 loops, best of 3: 2.34 usec per loop

$ p -m timeit ""ol = [1, 2, 3]; nl = list(ol); nl.reverse();""
1000000 loops, best of 3: 0.686 usec per loop

$ p -m timeit ""ol = [1, 2, 3]; nl = ol[::-1];""
1000000 loops, best of 3: 0.569 usec per loop

$ p -m timeit ""ol = [1, 2, 3]; nl = [i for i in reversed(ol)];""
1000000 loops, best of 3: 1.48 usec per loop```"
"`[::-1]` is just traversing in 1-step increments in reverse, whereas `reversed()` actually reverses the list"
"<@Carri> you're mixing `reversed()` with `.reverse()` method; ```
python3.6 -m timeit -s 'l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]' '[i for subl in l for i in reversed(subl)]'
1000 loops, best of 3: 302 usec per loop
➜  amqproto git:(master) ✗
➜  amqproto git:(master) ✗ python3.6 -m timeit -s 'l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]; from collections import deque' '
quote&gt; dl = deque()
for i in l:
   dl.extendleft(reversed(i))
quote&gt; '
10000 loops, best of 3: 135 usec per loop
```"
"`[[9, 10, 11], [6, 7, 8], [3, 4, 5], [0, 1, 2]]`
okay imagine if all the inner lists were linked lists
then all I would have to do is connect 8 to 9, 5 to 6, and so forth"
"`reversed()` does reverse a list, just yields a new object. `.reverse()` reverses in-place"
"~150 usecs simply don't worth to complicate the solution, imo; <@Carri> ```
&gt;&gt;&gt; reversed([1,2,3])
&lt;list_reverseiterator object at 0x108f45780&gt;
```"
just swap `reversed(list)` with `list[::-1]`
"yep, ```
$ python3.6 -m timeit -s 'l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]' '[i for subl in l for i in subl[::-11]]'
10000 loops, best of 3: 62.7 usec per loop
```"
"in new Python it returns an iterator, lots of legacy Python out there <@Collette>"
"```
$ python2
Python 2.7.13 (default, Jul 28 2017, 10:11:31)
[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.38)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; reversed([1,2,3])
&lt;listreverseiterator object at 0x10795fa10&gt;
```; ¯\_(ツ)_/¯"
since 2.4 ;( I know some still on 2.2 :joy:
"Oh, <@Patty> I made a mistake: `[::-11]`
This is the corrected version: ```
$ python3.6 -m timeit -s 'l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]' '[i for subl in l for i in subl[::-1]]'
1000 loops, best of 3: 365 usec per loop
```; Even worse than `reversed`"
"`[[9, 10, 11], [6, 7, 8], [3, 4, 5], [0, 1, 2]]`
If all the sub lists were linked lists, then you wouldn't need to iterate over every sub list.
because all you'd have to do is connect 8 to 9, 5 to 6, and so forth.; <@Patty>"
<@Collette> hmm maybe that changed 2 to 3
"<@Winnie> how so? `10 -&gt; 11`, but you need `11 -&gt; 10` from your example output."
@evan but they aren’t so it’s a moot point 
"<@Patty> I know, but what I'm asking is, is there someway to make them so"
<@Winnie> not without changing how lists fundamentally work
"<@Joie> 2.4 hasn't been updated in almost 10 years, 2.2 in almost 15. It's not worth writing bckwards compatible code for these versions. Especially as you can normally simply upgrade to 2.7 without many (if any) code changes."
<@Winnie> mind answering my question?
<@Patty> but a deque is a double ended linked list right?; <@Collette>
"Some are still on windows xp and RHEL 5. Does that mean we should always imply windows xp and RHEL 5 when talking about programming and such?; RHEL 4, even."
"No, but there are consideration to make. If you're writing a library for other users, then you should consider the version boundaries you wish to support. If it's your own internal, then it's a non-issue"
python3.5+; easy
"[a:[9, 10, 11]:b, c:[6, 7, 8]:d, e:[3, 4, 5]:f, g:[0, 1, 2]:h]
b is the end of the list, a then points to c, d then points to e...
you never need to access the inner elements, just the head and tail of each list; <@Collette>"
"Yep as <@Collette> says <@Carri> most people nowadays will only support 3+, 3.5+ especially with async features. A person writing a library should only have to consider what they personally need to support. It should the businesses/other peoples duties to fulfill the requirements of the software they ant to use, instead of forcing their requirements onto the provider; especially in open source where it is free; *when I say nowadays, I mean when starting a new library nowadays - not historical projects nowadays (although that looks to be starting to happen as well)"
<@Winnie> yes deque is linked lists under the hood in c land
<@Patty> so I guess the real moot point is that it's n time anyway since you'd have to convert
"<@Winnie> to be honest, if you care about such things you almost certainly picked wrong language"
<@Meg> lists are just c arrays?
"I don’t think there is any reason not to try to squeeze time out of python, or to do exercises to show best practices in terms of timing"
yeah
But I'm the only who actually tries to measure these times
"I did, too"
so have I :stuck_out_tongue:
"uh, slack threads"
"&gt;  if you care about such things you almost certainly picked wrong language
I don't agree with this meme."
<@Patty> do you really think your examples are correct? That lists of three elements are good inputs to measure performances of various algorithms?
"<@Patty>, <@Collette> got a q about using redis as a backend for celery.  I have a ton of short lived tasks executing as part of a chord with a callback afterwards.  Due to the way a chord works, each task needs to return a result, which is saved in the task key in redis.

Over the weekend, got this error message in redis: 

`Can't save in background: fork: Cannot allocate memory`, 

with corresponding errors in the celery workers:

```ResponseError: Command # 1 (SET celery-task-meta-26aa6a83-2238-4f49-b3ec-555be58bfd91 {""status"": ""SUCCESS"", ""traceback"": null, ""result"": ""True"", ""children"": []}) of pipeline caused error: MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error.```

I'm running this on a AWS T2 small instance with 2GB RAM, and there's about 2.5M keys in the redis db.  I could use a swap file, but is the best solution a larger instance with more ram?"
<@Collette> it was a quick answer while I was on the train
"<@Collette> 
```
evan@mint ~ $ python3.6 -m timeit -s 'from collections import deque; l = [list(range(x, x+100)) for x in range(100**2,-1,-100)]; nl = deque()' 'for i in l: nl.extendleft(reversed(i))'
10000 loops, best of 3: 61.4 usec per loop
```"
"<@Meg> my suggestion is always to use a real message broker, like rabbitmq"
I'm using rabbit as a broker; and redis as the backend
ah; sry
"but apparently I'm overwhelming redis on the small instance I'm using; and there are still a large number of tasks waiting in the queue, since the workers aren't pickiung up; probably because of the redis issue"
"&gt; MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk
Disk IO is flying through the roof?"
"Yep.  Not surprising, since I have about 25 celery workers indexing web pages in solr; and since they're running as a chord, the results need to be saved"
"<@Winnie> your measurement is also incorrect. You should move `nl = deque()` to the body of the script from setup section; 25 workers? wow, that's huge"
"each task runs for about a half second to retrieve a web page, extract text with beautifuloup and insert into solr"
<@Collette> why?
and I have about 10M plus pages to index; got about 15% of the way over the weekend before this cropped up
"<@Winnie> because you're re-using a single instance of deque, it's shared between timeit invocations. But the point of `setup` is only to prepare data and things that should not affect the script itself (like imports); <@Meg> on a single box?"
<@Meg> are you on AWS? Their IOPS isn't good :confused:
"nope, three C4.Large instances; redis is running on a GP2 volume type, with 450/3000 IOPS"
<@Collette> oh you're saying that I'm actually extending onto the previous queues made?
I'd simply disable RDB snapshots in that case; <@Winnie> correct
oh I wasn't aware. thanks; thanks all. I gotta get back to watching my lecture :stuck_out_tongue:
"i have a date like this 2017-12-01 10:24:17.807000+00:00
and im trying to compare with time right now but get an error about +00:00; date = 2017-12-01 10:24:17.807000+00:00
                dt = datetime.datetime.strptime(date, ""%Y-%m-%d %H:%M:%S.%f"")
                if dt &gt; datetime.datetime.now(): ....; i got  this error : ValueError at /
unconverted data remains: +00:00"
"Your format string does not include anything that specifies what should be done with the timezone part of the string you're trying to parse; If you know it will always be utc you can probably just add `+00:00 to the end of the format string, otherwise you will need to take care of it before calling striptime; There's also the `%z` formatting option but off the top of my head I don't know if that applies to to both `+0000` and `+00:00` or only `+0000`"
"Hi, I'm using `celery` and have one specific periodic tasks that is running very often. I want to keep all the logging as it is, but only suppress logs for only this one specific task. How can I achieve that?"
<https://stackoverflow.com/questions/23101018/selectively-log-requests-using-logging-module>
<@Meg> :taco:
"I'm assuming most people here use something like SQL Alchemy opposed to writing raw SQL, is that correct?"
"It varies. There is SQLAlchemy, someone just brought up Pony ORM but there was talk of python-mysql (name?) the other day. Others use Django. I would say ORM is probably more preferred, but that is just based on frequency of chatters."
"and use cases too; sure, an ORM doesn't cover every possibility, because SQL is pretty complex at times; and you should be familiar with the ORM library's downsides and use that to determine whether to use raw SQL or the library"
"I've found that SQL alchemy ends up adding quite a lot of overhead; That's personal hearsay though; I prefer to use the native MySQL DB python library, even though it makes life harder sometimes; But I'm open to change"
"how maintainable is that, though?; within  a team and whatnot"
"I've found creating helper functions has been helpful with that; But you are right that it has the potential to cause security concerns with poor data sanitzation; I don't have the real data behind SQLAlchemy slow-downs, but if you profile, you'll see that each time you do a select for example, it has to take a general data structure in and output a string. Because it's so generic though, there seem to be a lot of extra calls; Sounds like a good weekend project :slightly_smiling_face:"
"Interesting ok, thanks for the input guys. One more question, not super Flask relevant but:

Do you guys have a good resource / reference on best practices when writing a RESTful backend? 

To clarify, I'm wondering what most people do when 

* a required parameter was not sent
  - My decision so far has been to set the status code to `422`, but I don't know what the response JSON object should be... maybe `{}`?
* the required parameter that was sent was not found in the DB
  - My decision so far has been to set the status code to `404`, as the ID was not found, BUT again I don't know what the response JSON object should be..."
"For RESTful back-end, love both Flask and Eve; Eve I've found forces you to be more precise with what you want; There's a whole schema declaration you're doing and it comes with a MongoDB back-end basically; Flask I've found has more flexibility"
"Oh, I guess I'm talking not specifically about libraries/frameworks, but literally what to do when those events occur"
This presentation was from FOREVER ago; <https://www.slideshare.net/MikePearce/api-anti-patterns-4920731>; But you might find some nuggets in there
"Ok, thank you very much; This is the type of stuff I was looking for"
Is there a way to format links into text in slack? If there is it is lost on me.
<https://www.programmableweb.com/news/api-anti-patterns-how-to-avoid-common-rest-mistakes/2010/08/13>; That sums up his presentation much better - his slides were kind of all over the place
<@Mallie> no.; <@Rosamaria> this is a pretty good guide; <http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api>
Ooo - I like yours better
any resources on best practices to filter with optional query parameters without making a mess of code?
can be general or django-specific
"I'm working on refactoring an api backend that is pretty messy; downside, there's six possible query parameters I have to account for, and only one is required"
<@Meg> What's it look like (if that is ok)?
"and that's _after_ I cleaned it up two years ago.  Before, it was far worse; at this point, I think its highly overcomplicated; and might be a case of lipstick on a pig to move forward without re-evaluating"
"Well `request.GET` permits lookup by key - so why repack them just to check for the one necessary, then just unpack them again anyway? You could just `request.GET.get()` or `[string] in request.GET` and remove most of that top code I'd think. I would check for the required field and leave immediately without any other processing personally. Also, if you want to use **kwargs, you could provide a mapping between kwarg and value then just provide them if they exist, if you are interested in making it more terse, since you are just ANDing things in your filter and exclude cases e.g. 

```
d={'catalog__institution__unitid': 1, 'catalog__institution__name__icontains': 2, 'catalog__institution__status': None}
**dict((key, value) for key,value in d.items() if value)
```

Can't these be grouped into a `filter` too: `Q(catalog__status = 'Verified') &amp; Q(name = 'Catalog Home')`. I'd only add the verbosity of Q for OR"
"You might like `filter_params.get(field[5], None)` rather than your ternaries"
"This section is the most mysterious to me ```    # More custom query for filters
    custom_query &amp;= Q(catalog__institution__state = state)
    custom_query &amp;= Q(Q(flags__gte = 5) &amp; Q(media_type = 'PDF')) | Q(media_type = 'Web') | Q(media_type = 'Multi-Part PDF')
    custom_query &amp;= Q(catalog__status = 'Verified') &amp; Q(name = 'Catalog Home') &amp; Q(catalog__cataloglink__name = 'Catalog Home')```; It looks like some bitwise logic"
"In the Django ORM when working with querysets, the bitwise operators are overridden so you can do query building: <https://docs.djangoproject.com/en/1.11/topics/db/queries/#complex-lookups-with-q-objects>"
"basically, I need to explicityly filter based on those fields"
Ahhh; Thanks
I'm saying AND is encompassed fully in `filter` - if you need to OR you are stuck with `Q`
"and if you want to do a NOT query without using `exclude`, then you need to use a Q object; appreciate the thoughts :slightly_smiling_face:"
Jupyter is browser-based right? Did you clear your cache when changing versions (new static files with same name?); Disclaimer: I've never used Jupyter
"Yes, browser based. I didn't try with cache. Will do; Thanks a lot"
<@Meg> i had a similar problem in the past. i used parsimonius to build a parse tree. we called it quest. queries over rest
"<https://github.com/erikrose/parsimonious>; this one?; <@Mallie> :taco:
<@Marcelina> :taco:"
yea
nice!
the code is in a private repo so unfortunately cannot share.
understood
"<@Mallie> Din't help, but thanks anyway!"
Had to try! :thumbsup:
"I work for a company that uses a lot of the python scientific packages. We use docker containers for running these packages currently. There are two issues I'm trying to figure out how to solve. First, what's the common methodology for storing/accessing large data locally? The large data is stored in the cloud - we are examining how that is stored right now, but it could be any back-end.
`from data_loader import some_data_set`. would be the ideal line. My thought was to do a staged caching mechanism, e.g. if the data exists locally, use it. If it doesn't, pull it. Has anyone ever stumbled across a design pattern similar to this?

Second, since everything runs inside a docker container, would it really be so wrong to, on program start, if we are not running inside our docker image, start it and redirect everything to run inside it?; 3rd, does anyone have any lessons learned from running their own PyPI server privately?; Finally, does anyone think I ask too many questions?"
"Hi Guys Do you Know  ""Aİ"" about python library source?"
<@Lawerence> Could you rephrase/expand a little; ?
Do you know Artificial intelligence library for python ?
Ahhh - there are many; If you're looking for a jumping off point; <http://www.fast.ai/>
ahh Thx bro :smile:
:thumbsup:
"<@Marcelina> interesting questions :slightly_smiling_face:; about the only issue I could see with you doing a staging mechanism is to ensure there’s enough storage locally before starting the download; second, I could see that being a good use pattern; third, sorry, can’t say"
"That was my thought - and that was why I was wondering about running outside docker because inside docker, you got no idea how much is remaining"
"with docker, you can symlink to external resources, correct?"
"You can mount resources externally; But as a container, it's not really aware of the system space remaining"
ah ok
I think there's some workarounds I can do there
"so, seems like you’d have to ensure creation of the container"
Admittedly
and then mount it; somewhat complex there
hrms; ok
I’d probaby go to the <#C22DMH61M|devops> channel for that
fair enough
since there are some docker people there and thats usually where this kind of topic is discussed :slightly_smiling_face:
I gotcha; But the data access pattern; I just can't think of another method
does this data change often
Yes
hmm
Well; Depends on the set; But assume yes
"otherwise, I’d suggest an in-company dockerhub or something"
We use quay; And I thought about packing the data into images
where you can create and deploy containers for others to retrieve and run
"Yea - but the issue you'll run into there is that on OSX, there is a default 64GB cap on docker volumes - but another question for the <#C22DMH61M|devops>"
"<@Lawerence> openCV, sci-kit, openai, tensorflow (with tensorboard), theano (via Keras) are good starting points."
<@Collette> could you explain this comprehension?
<@Winnie> what exactly confuses you?
"Okay so I'm trying to grab artwork from soundcloud and I have two options of images to grab. I can either grab a 500x500 `.jpeg` or the banner image; Example-
Banner: <https://va.sndcdn.com/bg/soundcloud:tracks:257659076/soundcloud-tracks-257659076.jpg>
Album Cover: <https://i1.sndcdn.com/artworks-000156896947-3ch8k2-t500x500.jpg>"
"We run a PyPI server in Nexus <https://www.sonatype.com/nexus-repository-sonatype>
The OSS variant which you can self-host includes Python support.; I have it set up to have 3 pypi repositories.
`pypi-upstream` which is a proxy to `<https://pypi.python.org>`
`pypi-internal` which is our hosted one
and `pypi-all` which is a pypi group with which both of the previous repositories are members, with `internal` being the first in the list; This allows us to easily upload wheels with `twine` to our internal repo, and if anyone does a `pip install` it will get proxied through our nexus repo, as the `pip.conf` file users have in their home directories specifies that to be the default global destination; ```
[global]
index = <http://nexus>.${HOSTNAME}/repository/pypi-all/pypi
index-url = <http://nexus>.${HOSTNAME}/repository/pypi-all/simple
trusted-host = nexus.${HOSTNAME}
format=columns

[distutils]
index-servers =
   nexus
```; Not sure what lessons there are to learn, except that it just works with nexus; Running warehouse yourself might incur more effort, but unlikely as it has docker &amp; docker-compose support in the repo <https://github.com/pypa/warehouse>"
so <#C0JB9ATQV|data_science> channel isn’t so active apparently - trying to post this question here as well. Thanks!
And if you use the `hint` method to force the usage of your index ?
"Any idea how can i solve this: ValueError at /accounts/facebook/login/callback/
need more than 1 value to unpack"
"<@Georgetta> 
```
&gt;&gt;&gt; lst = [1]
&gt;&gt;&gt; x, y, z = lst
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ValueError: need more than 1 value to unpack
```; you have a list with only one element, but unpack it expecting it to have 2 or 3, or more; this can't work and results in an exception"
"yes i understand this, but how can i check this, because i get this error when im trying to connect wiht faceboouk account; sometimes works, and sometimes i get this"
"it doesn't originate in your module?; if it doesn't work sometimes, it means sometimes a list has fewer elements than you expect... there is probably a reason for this. What happens on this line? Where do you get this list from? You can probably trace where this error happens and figure out why"
"i think maybe i get because i put this on settings: SOCIALACCOUNT_ADAPTER = '/welcome_fbuser'; that the Trace; Traceback:

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\django\core\handlers\exception.py"" in inner
  41.             response = get_response(request)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\django\core\handlers\base.py"" in _get_response
  187.                 response = self.process_exception_by_middleware(e, request)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\django\core\handlers\base.py"" in _get_response
  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\providers\oauth2\views.py"" in view
  73.                 return self.dispatch(request, *args, **kwargs)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\providers\oauth2\views.py"" in dispatch
  134.                                                 response=access_token)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\providers\facebook\views.py"" in complete_login
  72.         return fb_complete_login(request, app, access_token)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\providers\facebook\views.py"" in fb_complete_login
  54.     login = provider.sociallogin_from_response(request, extra_data)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\providers\base.py"" in sociallogin_from_response
  85.         adapter = get_adapter(request)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\socialaccount\adapter.py"" in get_adapter
  195.     return import_attribute(app_settings.ADAPTER)(request)

File ""C:\Users\dorel\Desktop\djangoprojects\lib\site-packages\allauth\utils.py"" in import_attribute
  149.     pkg, attr = path.rsplit('.', 1)

Exception Type: ValueError at /accounts/facebook/login/callback/
Exception Value: need more than 1 value to unpack"
"I think it makes more sense once you indent it
```
[ i 
    for subl in l 
        for i in reversed(subl)
]
```
but either way, l should be reversed, not subl"
<@Carri> hmmm hadn’t considered that. I’m relatively new to Mongo - can you assist with syntax and where would be the right place to put it?
"<@Collette> <@Carri> <@Meg> 
I thought you might find this intresting
```
$ list='l = [list(range(x, x+100)) for x in range(100**2,-1,-100)];'
$ python3.6 -m timeit -n 10000 -s $list 'el = [i for j in l[::-1] for i in j]'
    10000 loops, best of 3: 226 usec per loop
$ python3.6 -m timeit -n 10000 -s $list 'el = [i for j in reversed(l) for i in j]'
    10000 loops, best of 3: 222 usec per loop
$ python3.6 -m timeit -n 10000 -s $list -s 'from collections import deque' 'dl = deque()' 'for i in l: dl.extendleft(reversed(i))' 'dl = list(dl)'
    10000 loops, best of 3: 146 usec per loop
$ python3.6 -m timeit -n 10000 -s $list 'el = []' 'for i in l: el.extend(reversed(i))' 'el.reverse()'
    10000 loops, best of 3: 92.1 usec per loop
$ python3.6 -m timeit -n 10000 -s $list 'el = []' 'for i in reversed(l): el.extend(i)'
    10000 loops, best of 3: 45.5 usec per loop
```"
"trying to get the indices of the 'm' values in this nested for list called board. board = ```
[ [r, r, r, r, m],
              [r, r, r, r, r],
              [r, r, m, r, r],
              [r, r, r, r, r],
              [m, r, r, r, r] ]```; this is my code for a nested list and it works: ```testlist2 = [['m', 'r', 'm'], ['r', 'r', 'm']]
    for i in testlist2:
        for j in i:
            print(j)```; how do i get the index values of the three m's in testlist2?"
"`enumerate`; `for index, value in enumerate(list):`; that'll give you the index value for each list item"
"Hi, good afternoon, I have a problem with a function an APIView and a function that I made inside this class. So I have this error in my function and I want to return a response about why the error happened, but it seems like I cannot return a response and it go directly to the default Success response. 
So I have like this. 
Code
Calling function
Error that I want to return from function &lt;--- Problem here because I can't return Response
Response of success.

I hope you can help me"
APIView? Django?
Yes
Nice :slightly_smiling_face:
ask question in <#C0LMFRMB5|django>  <@Priscila>
<@Michael> Understood
I just leveled up in Python and my brain hurts
How did you level up? Did you eat a taco?
"I'm a n00b and I was blindly reading this code
```def load_file(filename):
    with open(filename, 'r', encoding='utf-8') as fin:
        # with open(filename, 'r') as fin:
        reader = csv.DictReader(fin)
        purchases = []
        for row in reader:
            p = Purchase.create_from_dict(row)
            purchases.append(p)

        return purchases```; Now I actually can say out loud what it does.  Of course, now I have a bunch of questions, lol; So I guess my next question is...list comprehension is preferable to dict because knowledge of key-value:pair is needed in dict and it isn't in list...?"
i wouldn’t say it is preferable. it depend on what you are doing. if you need a list of items a list comp is the way to go to create one.
"okay, thanks.  (I think I need to read a lot more code); can the value in a key-value be a Class?"
"yes; but the key cannot be a list, dict or set, or any mutable structure; so, you can use a tuple as a dict key"
"the sounds messier, in general, than lists.  At least in this case.  Overall, I'm trying to grok why choices are made."
"basically, use a list or tuple where you'd prefer accessing an item by an index; use a dict if you would prefer accessing an item with a specific key; the first, you'd pretty much have to iterate over the structure and do comparisons before doing something; but with a dict, you can just do `item = dict_struct.get('key_name', None)` and get either the value for the key, or a `NoneType`"
like getting a bunch of values from a particular column in a flat data set?
that's one way
"I need help with this. Am using Postgres for DB….
I have an IntegerField in my models.py defined such as `number = models.IntegerField(default=0)`:

When I put in a number like 77370477795 in the form field, it throws error `Ensure this value is less than or equal to 2147483647`."
<https://www.postgresql.org/docs/9.1/static/datatype-numeric.html>; that is the maximum size for postgres's integer datatype; if you're expecting numbers larger than that you will need to go to something like big int; which can store numbers up to `9223372036854775807`
I remember fixing this in Ruby and setting `limit: 8` which fixes as you described <@Antionette> Is there a way I could in Django? I meant how do I refactor this `number = models.IntegerField(default=0)` to handle that?
can't; you'll have to change the field type and run a migration
that would also require a migration in rails afaik
Ofcourse
<https://docs.djangoproject.com/en/1.11/ref/models/fields/#bigintegerfield>
ha right <@Meg> will change that data type to `BigIntegerField`. That should fix it. Thanks.; Okay. Working now. Thanks <@Meg> <@Antionette>
How can I run two asynchronous tasks at the same time? I have a twitter streamer using `Tweepy` and a discord bot running.; I basically want the Twitter streamer to run and the discord bot to wait for a data to come in
"Hi guys, 

I have a very simple function below which relies on psutil. When I try to call it I see unexpected results.. 0.0% - However I am running the linux binary `stress` on 1 cpu for 60 seconds which consumes 100% cpu usage 

```def get_cpu_usage(pid):
    """"""
    Obtains CPU utilisation of a given PID as a %
    """"""
    try:
        p = psutil.Process(pid)
    except psutil.NoSuchProcess:
        return None
    return p.cpu_percent(interval=0.1)```

is it possible psutil is not measuring usage across all cpu cores?"
percpu=True in that cpu_percent call; Give that a shot; <https://pythonhosted.org/psutil/#psutil.cpu_percent>
<@Cathern> ^^
"Anyone around want to do a quick code review for this shell script I wrote that is pretty much a pre-commit git hook. It looks for changes in 2 specific directories, and appends todays timestamp. Let me know if there is some safe checks I should add or if I did anything wrong. But this script is currently working. <https://gist.github.com/bmaca/50c91aafa7c058d749e9b4105aa7e7f6> CC: <@Bruno> <@Orpha> 
from our talk earlier"
"```DIR=""/Users/uname/my_git_project_dir/""``` should be ```DIR=""$HOME/my_git_project_dir/""```"
Making the change now.
"but, you might want a better way to get the project root. if you clone into another directory this wont work"
"actually I wonder if I need he project paths in the first place hmm; gona try the git hook without the paths; ha nice. <@Bruno> I dont need the paths at all; git knows, what to do if its in the projects .git/hooks dir; I just removed those all out.They are not needed at all actually; going to double quote this `$f` to try to prevent gobbling."
sweet
I guess its that simple. Idk if i should add any error handling etc. but ...; ¯\_(ツ)_/¯
"possibly a try/catch if the sed exits with an error. but other than that, yea. should be pretty simple.; ive still never really had the need for commit hooks."
"this is for our dev team, because we make a lot of changes in thsoe directories or we new stuff, and we need to display the last modified date to the front end, so i figured we might as well automate it, instead of hardcoding it everytime we make changes to the file; so this is my use case for now.; but other than that another use case would be to run tests before commiting but hey lol"
"Okay so I'm getting closer and closer to figuring out my issues here. I have a twitter API streamer running asynchronously alongside a discord bot, also running with async. Now, when I receive information from twitter, the stream is set to call a function. Now the function it calls is not set as async or anything like that. So my question is, when I call a synchronous function within an async function, is that no long asynchronous?"
"<@Myong> correct, you're only getting async behaviour when you yield"
"<@Marcie> Okay, now it seems that tweepy uses `Threading.py` for async. I am wondering if I can just throw the whole TweepyStreamer object into an `asyncio` loop to get async behavior and as for the two functions I have just mark those with `async def` and use await for return values?; This issue is basically I have a bot for Discord that has it's own loop so when it runs it's blocking; I need to get the stream to run while the the discord bot is also running; Now the bot event loop is already making use of `asyncio`. Do you think that simply by putting the streamer as a whole into an event loop will fix the problem?; Seems like if I want to run a blocking task I have to use run in executor"
"i dont know how the interaction with Threading.py works with asyncio so i couldn't answer that, might be a good candidate for <#C07G5276F|async>"
"Okay thanks; Welp, didn't even realize they had webhooks so I think this shouldn't be too bad"
"Hi all, do you know alternatives to geopy to get lat and lon from a city name? (<https://geopy.readthedocs.io/en/1.11.0/>); I'm using geopy and it's perfect for me, but I have to run my application in Windows 2012 server and this send me an error about certificates :disappointed:"
"hey, 

*anybody uses boto3 library in python for talking to aws resources ??*"
<@Florene> quite a few people do yes; what’s your issue
"when i fire multi-threaded calls using boto3
i'm getting boto3 error

```[/usr/lib/python2.7/dist-packages/boto3/resources/factory.py:285]```"
you’re going to have to show the entire stack trace
"and in `google-api-python-client ` library
and when multiple calls using single connection is done, it's failing with SSL errors intermittently; <@Meg> 
following is the stack for google- issue

```
  File ""/usr/lib/python2.7/dist-packages/oauth2client/util.py"", line 137, in positional_wrapper
    return wrapped(*args, **kwargs)
  File ""/usr/lib/python2.7/dist-packages/googleapiclient/http.py"", line 722, in execute
    body=self.body, headers=self.headers)
  File ""/usr/lib/python2.7/dist-packages/oauth2client/client.py"", line 622, in new_request
    redirections, connection_type)
  File ""/usr/lib/python2.7/dist-packages/httplib2/__init__.py"", line 1607, in request
    (response, content) = self._request(conn, authority, uri, request_uri, method, body, headers, redirections, cachekey)
  File ""/usr/lib/python2.7/dist-packages/httplib2/__init__.py"", line 1349, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
  File ""/usr/lib/python2.7/dist-packages/httplib2/__init__.py"", line 1332, in _conn_request
    content = response.read()
  File ""/usr/lib/python2.7/httplib.py"", line 593, in read
    s = self.fp.read()
  File ""/usr/lib/python2.7/httplib.py"", line 1414, in read
    return s + self._file.read()
  File ""/usr/lib/python2.7/socket.py"", line 355, in read
    data = self._sock.recv(rbufsize)
  File ""/usr/lib/python2.7/ssl.py"", line 756, in recv
    return self.read(buflen)
  File ""/usr/lib/python2.7/ssl.py"", line 643, in read
    v = self._sslobj.read(len)
SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1754)
```"
so you’re using a connection pool with boto3 to fire off multiple calls?; boto3 is already using a connection pool
"<@Meg>: this is how my code creates conn:

```
        self.ec2 = boto3.resource(""ec2"", region_name=region,
                                  aws_access_key_id=accesskey,
                                  aws_secret_access_key=secretkey)
        sts = boto3.client(""sts"", aws_access_key_id=accesskey,
                           aws_secret_access_key=secretkey)

```; <@Meg>: i have added few msgs in _/usr/lib/python2.7/dist-packages/boto3/resources/factory.py_
and the issue is coming from 
```
    def _create_autoload_property(factory_self, name, snake_cased,
...
...
            *return self.meta.data.get(name)*
...
```

and the exception coming because self.meta.data is None &amp; error string is : `'NoneType' object has no attribute 'get'`"
Sounds like a good case for a bug report on the boto3 github issue tracker 
"<@Meg>: are we sure ?
Where should i file it ?

But its causing failures in my code :disappointed:"
"Boto3 github ; If nothing else, you might get some pointers "
"<@Meg> Okay, Thanks..!; <@Meg> Do you have any idea about Google-Cloud problem i'm facing ?
It seems that it's causing because of the library being not-thread-safe

Correct me if i'm wrong."
"nope, sorry; don’t use google cloud at all, its all digital ocean or aws for me"
"oh Ok :smile:; but sad to know that the problem of boto3 is causing problems at my side &amp; i am not able to bypass or workaround that..
kinda stops my work.."
<@Florene> Are you sharing a single boto3 resource across threads? The docs say not to do that: <http://boto3.readthedocs.io/en/latest/guide/resources.html#multithreading-multiprocessing>
"<@Mallie>: actually i have a single python module &amp; the module init will have a connection aws-resources using boto3 &amp; the same connection variable is used by all the operations
and the problem is occurring when i trigger multiple snapshots, wherein the single client-connection would be used to perform multiple operations.."
"<@Florene> Yeah I mean I had to read an issue or two and google for a few min (they should be clearer about this) but I think it definitely isn't thread safe, so if you are using the same connection, it's not going to work out for you; Comment in github that Resource should be made thread safe (opinion) is from 2016 and is still open"
"ohh
you're telling this for google api library ?"
no; boto3
"oh
this is how i create connection in my code:

```
        self.ec2 = boto3.resource(""ec2"", region_name=region,
                                  aws_access_key_id=accesskey,
                                  aws_secret_access_key=secretkey)
        sts = boto3.client(""sts"", aws_access_key_id=accesskey,
                           aws_secret_access_key=secretkey)
```"
this is nothing to do with google api; its all how you’re using boto3
and i use self.ec2 at all places wherever and whenever needed; <@Mallie> Could you check whether what you've mentioned as not to be used is same as how i'm using/doing it
all you’re showing there is how your instanciating the connection; not how you’re using it
"Like <@Meg> said we aren't looking at that code, we are responding to
&gt; when i fire multi-threaded calls using boto3
&gt; i'm getting boto3 error; And
&gt; i have a single python module &amp; the module init will have a connection aws-resources using boto3 &amp; the same connection variable is used by all the operations; It is _not_ thread safe, you need to initialize your resource in each thread if you want to do multi-threaded stuff"
:point_up:
"oh okay...
yeah
thats what the link says; and i think the problem is same for google-problem as well; it seems because of multi-threading only :disappointed:; i use same connection for multiple operatoins..; <@Mallie>: could you please provide the issue id for thread-safe issue mention?"
Yeah sure: <https://github.com/boto/boto3/issues/268>
They also mention in their docs for multithreading to create a new resource instance for each thread or process: <https://boto3.readthedocs.io/en/latest/guide/resources.html#multithreading-multiprocessing> e: beaten by <@Mallie> a bit ago :slightly_smiling_face:
"thank you so much <@Mallie> <@Patty> 
let me know if you think the same for google-library, thanks a ton _in advance_ .."
"uh, what?  this applies to the code, not deployment environment"
"<@Meg>: didn't get you, sorry"
"google-library?; &gt;let me know if you think the same for google-library, thanks a ton _in advance_ .."
"i meant - i faces few problems on using `google-api-python-client` library &amp; i think, the problems that i'm facing is because of the library not being thread-safe
so wanted your thoughts/confirmation on that one...; the problem i mentioned above, with stack
let me know if you are not able to find that"
<@Florene> <https://developers.google.com/api-client-library/python/guide/thread_safety>
"yeah
<@Patty> even now - i just found the same
(y); Need to check what extra handling would be needed to make it thread-safe for my usage.."
It won’t be thread-safe given the library it’s built on. Every request will need to have a new httplib2 object
"&gt; Need to check what extra handling would be needed to make it thread-safe for my usage..
Don't, that is the wrong path here.; Those are not easy problems, you should adjust your program to use the library within the restriction of not being thread safe."
"oh
should i not try to handle the issue ?
i mean - say - i have multiple requests coming in &amp; then i should serve as much requests as possible
and to achieve what i was thinking was to create session/connection whenever the request comes up &amp; processing would happen differently for each requests and each of them will have their own session/connection, right ?"
"basically, if you are using modules that aren’t thread safe, then do not multithread or process them"
"ok.
but that also means - the request serving would be serial &amp; nothing can happen in parallel, right ?"
"What <@Patty> is saying is don't use the _modules_ incorrectly. You are free to create multithreaded code, but don't use non-threadsafe components across threads.; Just create a new boto3 resource for each thread if that is what you want to do"
"okay..
got it...; Tnx"
Anyone know who knows how can I limit these circles?
I just want the third one that kind of separates the black dots and green dots (Matplotlib)
"I'm using `Atom` and trying to do a ""Find in Project"". Some searches do return results and some (which are in my project for sure) do not return results. I've disabled `Exclude VCS Ignored Paths`. I'm on Windows 7 and the newest `Atom`. Has anyone ever run across this?; Actually it's whatever :slightly_smiling_face:. I just found out about `grepWin` - it's super useful and free."
<@Dominick> any chance these files are in .gitignore or something like that?
<@Junita> nope - plus I think that's what disabling `Exclude VCS Ignored Paths` does...causes it to look in every folder even if its in `.gitignore`
<@Arlene> hope you found an answer. Sorry I was at a show last night. 
<@Orpha> all good. It looks good. ; Tha KS for the help with sed
"I have some learning questions if someone has some time.
```some_list_comprehension = [
    temp_variable.field_of_interest
    for temp_variable in a_callable
    if temp_variable.my_question_here is some condition
]```
First, conceptually are there any problems with the template?"
"no, that's correct for a list comp"
"thanks, my question is about if temp_variable.my_question_here...; does Python know whether it's looking for a key or a field or a whatever after the period by inferring from the expression/a_callable  ?; I would imagine generally one would iterate over something searching for say a field in a class or in a value for a given key AND that Python looks at the ""in"" statement to determine how/what it is looking for.  Am I imagining correctly?"
"For the most part, Python doesn’t do dot accessors like JavaScript; So, for a dictionary, you would need to do `dict['key']`"
"To add on to what <@Patty> said, in `temp_variable.my_question_here` `my_question_here` is an attribute, and if it does not exist you will get `AttributeError`, see doc for `getattr()` and `setattr()` to handle getting/setting attributes by name; It's not a key/value pair"
"I'm thinking that I keep seeing list to list comprehension and that it's more about what I've been seeing than what Python can do.; Continuing on the attribute part, is that why I can have a list of Class instances and iterate through the attributes of the Classes in the list?"
"Yeah because each `temp_variable` has a `my_question_here`; If it didn't, you'd get the exception"
I don't think I'm crystal clear on what is an attribute vs field.  Time to dig into the docs.; Thanks for the help <@Frieda> <@Patty> <@Mallie>
<@Seema> I could be wrong but I don't think Python ever explicitly refers to those as fields. Are you referring to fields in the Django sense of things? They define and heavily leverage that term.
"In a class, there are a set of class ""things"", dunders, methods, class lists,etc.  I honestly don't have the confidence to say what the exact name is - in the terminology sense - of each of those things."
"yeah, there's really no such Python thing as a ""field"", AFAIK"
What's the proper name for self.__thing__ ?
classes only have two member types. attributes and methods; attributes are variables that are scoped to a class/instance; methods are functions that are scoped to a class/instance
are there any weird edge cases like a Class havinga  Class or is attributes and methods only?
a class having a class... I can't think of any way to do that that wouldn't make it an attribute
"attribute and method it is, thanks"
"you can't really have a nested class, like you could have a nested function; classes have inheritance, of course, but that's not the same"
"<@Frieda> 
```
class MyModel(db.Model):
    ...
    class Meta:
        database = some_db_connection
        
```; It's a somewhat common way to store meta attributes in some ORMs"
"sure but that's handled through some behind-the-scenes abc magic that actually nests it into an attribute; `MyModel._meta` usually; it's not a plain-ol-Python-object, AFAIK"
works in REPL :confused:
"hmm. very well; OK, while _possible_, it's _uncommon_. how about that? :smile:"
"Maybe old-style classes from py2 couldn't do it?; &gt; while _possible_, it's _uncommon_.
Yeah, but I wish it was more common."
"re: py2, maybe? re: wishing it was more common, I'm not sure how I feel about that. I kinda like things to be flatter"
"Flat is indeed better than nested.. But it just looks so cute and simple!; I mean, you know what it does right away, without even having worked with nested classes before."
"eh, you might be surprised on that ""you know what it does right away"" thing; i had a lot of students that didn't understand the class meta pattern"
<@Mallie> :taco: <@Frieda> :taco:  (My first tacos)
can someone tell me whats the difference between json.dump and json.dumps
dump = Serialize obj as a JSON formatted stream to fp (a .write()-supporting file-like object); dumps = Serialize obj to a JSON formatted str
"Anyone seen an issue where pycoverage is not counting a particular branch but that branch is definitely running?; The last `elif` in this branch definitely runs and the test fails if I put an exception in it but pycoverage is saying it's missing :confused:
```            if service['health_protocol'].startswith('HTTP'):
                url = '{health_protocol}://$SERVICE_IP:$SERVICE_PORT{health_endpoint}'.format(**service)
                script = 'curl --silent --fail {url}'.format(url=url)
            elif service['health_protocol'] == 'TCP':
                script = 'nc -vz $SERVICE_IP $SERVICE_PORT | grep succeeded'
            elif service['health_protocol'] == 'SCRIPT':
                script = service['health_endpoint']```"
"Hey guys, what technical approach would you recommend to the following situations:
My web app has notifications. When a certain global thing is created (e.g new feature added), I want every user to receive a notification.
I’m thinking of passing this message (that a new thing was created) to my `notifications` service, which would use the `Process` class to create a new process and run the function which would iterate through all the users there. Is this alright?"
"<@Patty> :

In my code, i create connection to google-cloud-compute by creating object like below:
```
compute = discovery.build(""compute"", ""v1"", credentials=credentials)
```

if i create `discovery.build` for each object ( as in for each request ), that would involve concurrent processing of Cloud Resources, using different resources AND 
with this - would it not fail ? in case if there are lot of requests ?
should there be a limit on how many `discovery.build` my code should fork ?
or there is no limit ?

same question can also be put up as :Should i use counting semaphore or something of that sort ?
To avoid creating n number of `discovery.build` objects. ?"
<@Tatum> I’d just use an async task queue to do that for you
Ah but I’d run it in a server which already uses some; I figured there’s no sense to add more when I could just spawn another process; Since the work is independant
that’s what an async task queue is for
"ah f, it’d do it (spawn the process) itself  huh"
"celery has the concept of workers; which are independent processes that pick up jobs from a message queue, execute and then wait for another job to arrive"
yeah
please don’t make your own unless you _really_ know what you’re doing.  I had to clean up a big mess from a previous dev who tried doing exactly what you’re doing
You’re completely right; I have celery set up as well; This is just another task
yup :slightly_smiling_face:
Talk about over-engineering
"now, you’d just have to have your client-side do a poll on an interval to check for notifications"
"Thanks for clearing this up, I had a hunch it wasn’t the right approach"
":slightly_smiling_face:; somehow, the guy got his version running moderately well, but it didn’t handle issues very well and would consistently crash.  One of the first things I did was bring in Celery into the project and migrate everything over"
Yeah that’s the thing right? Handling errors and reporting back/retrying adequately
"_much_ more reliable, and you’ve already passed the third hurdle; exactly; that’s the difference between a toy project and something that’s production-ready: how it handles things you don’t expect; so, one area I’m unclear on; are you using polling on the client to check for updates?"
the client as in who?; the one spawning the task?
"no. you have a web app, so I assume its consuming an API; both browser and mobile capable"
oh that’s a whole other separate thing
how are you looking for updates in that?; because you can have the notifications in the server
there’s a specific notifications server which accepts websockets
:thumbsup:
"it is connected to the main app through RabbitMQ; and is listening for notifications, once it receives one it checks if the recipient is connected and if he is - he receives a notif"
good idea; and you’ve thought it through
so what the celery task would do is create the `Notification` object and maybe send a message through rabbitmq
are you using rabbit as the backend for celery?
yeah
ouch…
"they’re two separate instances though, methinks; why, whats wrong with that"
I really wouldn’t reccommend it; not advised in the docs
wow really
redis is more stable
"I’ll need to revisit them, then; This started out as a hackathon project and my initial idea was to just get celery working"
"I used rabbit as both the broker and backend in the first iteration; what ended up happening, it was storing the results in memory, as well as the jobs"
and they got lost? :smile:
"and eventually everything clogged up so the workers weren’t picking up new jobs; yep, and server crashed, everything was lost"
"wow, how is that scenario not handled; it’s not that hard to predict it clogging up and eating all the memory, wonder why Celery hasn’t done anything about it; AFAIA RabbitMQ has something like durable queues which store the data ?"
"<https://denibertovic.com/posts/celery-best-practices/>; maybe they have, with 4.x; I’mm using 3.1.x"
mhm; Thanks for the information :slightly_smiling_face:
"so, I moved to redis for result storage; since that’s basically what its built for: fast, concurrent key-value storage"
"wait, result storage?; As in the results of a task?"
"no, return of task; eg, task state, return values, etc"
"wow, look what I use; <https://github.com/celery/django-celery-results>; and I used to query the model haha"
"gotcha.  I use redis for that, mainly because there are alot of short-term tasks to execute; if I were to use that, the writes to db would be significant; I do have tasks that write to the database; but they do a query and update inside the task, and that’s for the more infrequent, longer-running tasks"
mine are long-running ish; might be minutes too
gotcha
I’m developing a Hackerrank-esque site; where you enter code and it gets graded; <http://www.github.com/two-man-army/deadline|www.github.com/two-man-army/deadline>
"some of mine are running 12 hours, others are five seconds; not much in between :slightly_smiling_face:"
brb in some time
where to post questions?
<@Lemuel> this channel
"I want to take a screenshot of whole screen in python which is doable(feasible) to me. But if i want to take screenshot of a desired clipped area like the picture shown below means first of all, user should select(clip) a region using mouse pointer and then take screenshot of that area. So i want to say that how to clip a portion of an image in a clipboard?


NOTE: I have found some packages like ""clipboard"" and ""pyperclip"" but i couldn't understand how to clip an image? Help me

I got a code but it shows to clip only text. What modifications should be made in it to clip a desired area of an image.
    

    import clipboard
    clipboard.copy(""abc"") 
    text = clipboard.paste() 
    print(text); answer please"
"<@Lemuel> its a very inactive time of day, its generally best to post a question and if someone who can help is around they'll give an answer. some googling around shows some solutions here if youd like to take a look <https://stackoverflow.com/questions/3895732/selecting-area-of-the-screen-with-python>"
"i have read too many documentation about this, but unable to solve my problem."
"without knowing what you've done, there won't be much help here.; you really should give some code samples of what you've done, and what it's not doing; don't forget, we don't know what you've tried and your situation :slightly_smiling_face:"
"i think, i have explained too much in my question. please read."
wow :smile:
"you've explained very little in your question.; just ""I'm trying to do this, and failed""  but nothing on _what_ you've tried"
what is not clear in my question?; check the sample code
"<@Lemuel> you're going to have to stick to reading more documentation, there's quite a lot of work to capture a region of screen including finding the OS specific solution that isn't really a simple question to answer"
ohh...assume os is your currently working os.
"something like the solutions linked in the stackoverflow are appropriate, things like PIL <http://pillow.readthedocs.io/en/latest/reference/ImageGrab.html>"
"dear, i have implemented screenshot of whole screen.; yeah, here they have given a function grabclipboard() but the problem is, how to get the portion of an image in clipboard after which i will apply the grabclipboard() function. Right"
"ahh, easiest way for that is with gtk's functions gtk.Clipboard.set_image <https://developer.gnome.org/pygtk/stable/class-gtkclipboard.html#method-gtkclipboard--set-image>"
thanks but can you please give me a example.; now you got the actual problem.
that's your job :slightly_smiling_face:
"ohh...come on dear. I have problem that's why i am asking.; i don't want to copy paste things. i want to learn and understand the things.; help me, if possible."
<@Lemuel> that's not how this community works
"we'll give you general guidance with broad problems, like you've described; its your job to incorporate feedback and your own searches to get _something_; and then you can come back with specific issues; like ""I've tried X, but its not working and I'm getting Y.  This is my code, and I suspect its this area that's the issue"""
"<@Vada> i am waiting for your reply, you are typing from half an hour."
Mate if you want help from this community I suggest you stop talking.
"dear, i have explained the question, did nothing else."
and are being very pushy
"1) Don't call me dear - I am not your wife.
2) The above comment `you are typing from half an hour` is insulting when people are trying to help you"
"it's obvious that you are not my wife. so what should i call you. by saying dear, i am giving you respect.; why will i insult you?; please understand."
"I do, it's a cultural thing and I accept that; but I also need to explain to you that these are innapropriate things to say, especially on an English speaking forum"
so tell me the correct word?
"In my opinion there is no correct replacement, you simply do not need to use any pronouns. simply ""i have explained the question, did nothing else"" is enough; The closest correlate in english would be Sir/Ma'm, but neither are appropriate in this context"
"ok...means you do not want respect.; but sir, answer my question with the help of suitable sample example."
"My answer is not what you are looking for; And it is not that I do not want respect, it is that English naturally uses a respectful tone (e.g. You is the respectful form of the 2nd person); We dropped the less respectful stuff centuries ago; <@Lemuel> There is a link at the top of this channel: <https://stackoverflow.com/help/how-to-ask>

I suggest you read it.

I understand you would like us to help you solve this problem, and we would love to help you. As a result each of us has a duty.

Your duty is to do as much research and work as is possible into the problem area - to really try to understand it and attempt more solutions than simply `clipboard.copy(""abc"")`.

You need to gain a real understanding for the problem you are facing and come up with a plan or two to tackle it - and then attempt those plans. Once you have done that, if you still have issues, you should come to us. Explain what you've tried and, as <@Meg> explained, tell us what roadblock you've hit and why you think you've hit it.

Our duty then is to try and point you in the direction of resources which can help you with the problem - or to explain bugs you've introduced that we can see (because you should share your code so we can see).

If you do not have a coherent or complete plan, or lack the understanding required - we point you in the direction of resources to help you. This is what we have done so far.

What we will not do is solve your issues for you. Firstly because you will not learn as a programmer, your own progression will suffer, and we would not have really helped you in the long term. Secondly, because you are not paying us and we do not have time to solve everyones issues - this is not a crowdsourced development platform.; You have asked for help from us, which is fine. We have offered suggestions to help you help yourself.; Show us you have taken that on board and have tried instead of dismissing it; If you feel you have spent too much time on the problem, take a break and come back another time when you feel ready to try again."
"Saw this function in a library I use. Curious as to what exactly happens here.

```def redispatch(obj, device_type, session_prep=True):
    """"""Dynamically change Netmiko object's class to proper class.
    Generally used with terminal_server device_type when you need to redispatch after interacting
    with terminal server.
    """"""
    new_class = ssh_dispatcher(device_type)
    obj.device_type = device_type
    obj.__class__ = new_class
    if session_prep:
        obj.session_preparation()```

obj is having it's __class__ changed to a new class. What happens when this line is executed? Is it something along the lines of `obj = NewClass()` and in the __init__ will run? Would the init be skipped since this doesn't seem to be instantiating a new instance of an object?; `ssh_dispatcher` returns reference to a class in the above code, not an instance of the class."
"<@Meghan> It simply changes what `__class__` is, I am quite certain the `__init__` would not be run, since, as you correctly pointed out, this happens when an instance is created.; My guess is that `obj.session_preparation()` sets whatever instance properties are needed that differentiates this class from the original class and the idea is to reduce overhead (so rather than instantiating a new object with all of the data that is needed from this object)."
I guess I had not imagined that being a thing. May have to give it a try some time.
seems like it would be a delicate task to make sure `obj.session_preparation()` does everything right. Presumably the old and new classes are expected to be _quite_ similar
"Yeah, everything is inherited from one class.; It looks like the session_preparation method does stuff like disabling paging and entering into enable mode.; If the class had instance variables that were different i guess they would include them in that method."
"Good evening guys, has anyone ever had the weird problem that execution stops while instantiating an object but throws no errors?; It's killing me:"
I would guess something in that object is blocking indefinitely or has an infinite loop.
As far as I can see it doesn't
depends? what is in your `__init__()`?
main: instantiate object x: x__init__(xmlobject) parses xmlobject and assigns self.variables based on it's contents ... execution continues until doing self.year = xmlsubobject.text; I'm very confused; Are allowed to paste code here or should I fire a pastebin?
<@Kym> use snippets to format your code
The __init__ is quite long
theyr'e under the +
<@Kym> <https://get.slack.help/hc/en-us/articles/204145658-Create-a-snippet>
The __init__ is in the beginning
Can you tell us where it is blocking?
"Execution stops at line 51, 54 or 56; If I delete 51, it block at 54; and so on"
Also you can set the language in a snippet to format it/colourise etc.; How big is the xml?
"KK, should be better now.; 25000 elements"
in mb
I had no problem before; 329mb; I just wanted to tidy it up a bit
Hmmm I'm assuming you have a few GB of ram
16GB
"yeah; Either way do me a favour, run it but with a system monitor open and watch the RAM usage"
"But, how can it be? It happen also with my test.xml"
329 isn't big but it isn't small
And that one is only a couple of kb.; The test file is.; -rw-rw-r--  1 ghost ghost  69K Oct  3 14:09 test.xml
Have you verified the xml is valid?
"Yup; A; As I mentioned, it used to work; When I only used Jupyter; Now I took the XML; parsing logic out of the function itself and magically ... broken; Haha :slightly_smiling_face:; It also used to work with the 400mb and the 1.5gb files I have"
How have you verified where it stops?
"Logging; The funny thing is:; 1. execution apparently never leaves instantiation of article=PubmedArticle(elem); 2. magically, the execution continues after the end of the loop; That means,; line 251 STILL gets executed!!"
What exception is being raised?
NONE!
Which line is that one <@Kym>
"incidentally, in that last line of the `__init__`, do you mean `self.authorslist` instead of `self.authors`?"
"<@Vada>, which one do you mean?; <@Sirena>, I'll check sec."
The one you are talking about ion 1; article=PubMedArticle
"<@Sirena>, you're right. That point still isn't reached.; I've fixed it, though.; line 188; The print('HELLO') I put in the snippet is never reached."
"yah, didn't really think it was the issue, but figured I'd mention it while I was looking at it"
Wait ...
Can you give us the snippet htat calls `medxml_to_sqlite`?
<@Kym> the finally will always execute error or not
Yup!
That you don't receive one is odd; as in receive an error
I'll remove the try/except andsee if it shows me something; I'm not passing it though
Yeah that would be best - not good to except Exception
"<@Meghan> medxml_to_sqlite('../data/test.xml','../data/test.sqlite')"
"Yeah, I'm thinking there is an exception, but the calling function is silently handling it when it is raised."
Yeah make sure you set your logging to DEBUG for everything if it isn't already
"The whole function that calls medxml_to_sqlite, if you can."
"also on line 201, keywordslist is undefined; <@Kym> what are you using as your IDE?; Jupyter?"
"Or, throw in a log.exception at line 247"
Jupyter yup
If the Exception were hitting there though it'd be raised - you are saying Jupyter is suppressing it?
Never tried jupyter
But it also behaves in the same way on pycharm; Have both
"Is Jupyter calling that function itself, or is another function calling it?"
But in pycharm the code analysis looks like this:
"(I've not used Jupyter, so I'm clueless on how it works.)"
"orange = warning, red = error"
Jum ...
and a lot of the warnings are potential errors
"Yeah, that red is stuff that will break your code."
Mine doesn't show anything.
so might be worth double checking your code
Let me see if I can configure it to show the analysis.
No idea if jupyter does; but I recommend pycharm :wink:; and they support jupyter notebooks; <https://www.jetbrains.com/help/pycharm/using-ipython-jupyter-notebook-with-pycharm.html>
Does Jupyter include an editor? I didn't realize that.
"I've got to go, but I really think the calling function is ignoring the raised exception, either with suppress or a blanket try/except."
"Yup, is not very good but I like it to scratch stuff and then I try to refactor it in Pycharm; I think this is it:"
Does it have a hook for like pyflakes or anything? Any kind of syntax checking?
Even if it's not it it's still an issue
"So I'll test two things:; exception being swallowed somehow; perhaps those lines trigger the exception; that's why when I remove set year, day, month execution continues until next assignment"
"IIRC you don't re-set `datetime` atttributes, you use replace: <https://docs.python.org/2/library/datetime.html#datetime.date.replace>; So it seems like it is catching your Exceptions and logging them; ```
In [14]: from datetime import datetime as dt

In [15]: today = dt.today()

In [16]: today
Out[16]: datetime.datetime(2017, 10, 5, 8, 57, 30, 530237)

In [17]: today.year = 2018
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-17-92aaf2ec95dc&gt; in &lt;module&gt;()
----&gt; 1 today.year = 2018

AttributeError: attribute 'year' of 'datetime.date' objects is not writable

In [19]: today.replace(year=2018)
Out[19]: datetime.datetime(2018, 10, 5, 8, 57, 30, 530237)
```"
<@Marcie> Did you ever figure it out?
I'm on it! :slightly_smiling_face:; I can't bring the damn thing to generate <@Mallie>'s exception.; But I think that's it problem with setting the date+exception getting lost somehow
"<@Kym> What is the output of `import sys; sys.excepthook`?; In the interpreter where this is happening of course, so however you make that happen in a Jupyter notebook."
"OK:
1. the exception <@Mallie> pointed out was indeed one of the problems. The fact that I tried to set pubdate.year and month triggered the exception ""AttributeError: attribute 'month' of 'datetime.date' objects is not writable"" 
2. Now, the interesting part is why the exception was being ""swallowed."" It was because I put the return clause in the finally block!

    finally:
        curs.connection.commit()
        curs.connection.close()
        return len(root.getchildren())

vs.

    finally:
        curs.connection.commit()
        curs.connection.close()
    return len(root.getchildren()); Does it make sense that the exception is hidden just because I put the return clause in the finally block? ... I broke Python? heh"
"&gt;If finally is present, it specifies a ‘cleanup’ handler. The try clause is executed, including any except and else clauses. If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The finally clause is executed. If there is a saved exception, it is re-raised at the end of the finally clause. If the finally clause raises another exception or executes a return or break statement, the saved exception is discarded; Nice one!; <https://docs.python.org/2/reference/compound_stmts.html#the-try-statement>"
"HOLY CRAP!; That makes no sense ... I'll read it, give me a sec"
interesting find
Now the interesting part ... print(sys.version): 3.5.3
seems like return inside of finally should be discouraged pretty broadly
"Yes, but the docu doesn't say anything.; I'm using python2; <https://docs.python.org/3/tutorial/errors.html>; the only mention of return is the following:; ""A finally clause is always executed before leaving the try statement, whether an exception has occurred or not. When an exception has occurred in the try clause and has not been handled by an except clause (or it has occurred in an except or else clause), it is re-raised after the finally clause has been executed. The finally clause is also executed “on the way out” when any other clause of the try statement is left via a break, continue or return statement. A more complicated example:"""
"I linked to the reference docs, that's where the quote comes from"
For python2; But I'm using python 3; IN the 3docs it says nothing about discarding exceptions; :open_mouth:
"Oh, you said
&gt; I'm using python2; Yeah not sure, can't check atm"
"Oh, I did. My bad."
But maybe it's not as clear lol
I mean it's pretty logical it's going to discard one if a second exception is raised in the finally; I don't really see how they could have done different
"the 3 docs have it in there also; about a page down
<https://docs.python.org/3/reference/compound_stmts.html#finally>; ```If finally is present, it specifies a ‘cleanup’ handler. The try clause is executed, including any except and else clauses. If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The finally clause is executed. If there is a saved exception it is re-raised at the end of the finally clause. If the finally clause raises another exception, the saved exception is set as the context of the new exception. If the finally clause executes a return or break statement, the saved exception is discarded:```"
Good find <@Shavonda>; Bu; But I still believe it should be mentioned in /tutorial/errors
I agree with you
"So, the novel has concluded :3

try:
...
except Exception as e:
raise(e)
finally:
curs.connection.commit()
curs.connection.close()
return len(root.getchildren())

So:

1. A finally clause is always executed **before** leaving the try statement,
- so execution looks like so: try&gt;finally&gt;except
2. whether an exception has occurred or not
- in this case an exception occurred in the try block
3. When an exception has occurred in the try clause and has not been handled by an except clause
- in this case the exception wasn't handled by the except clause because there was a finally
4. it is re-raised after the finally clause has been executed
- but the finally clause returns, so we leave context and never come back to execute the except block; Jum ... what's the preferred way to suggest changes to the docu?; Pull request?"
"Well tutorial is kinda more ""things you should do or most people do do"", the reference should be complete; But, a fun gotcha I'll give you that"
"""fun"" ... speak for yourself :stuck_out_tongue:"
"Stumpers are the best errors!; You grew, even if you don't know it yet :evergreen_tree:"
"That's true; Thanks for helping everyone, I wasn't expecting this bug to be so ... ""insightful?"" :slightly_smiling_face:"
"it's still try &gt; except &gt; finally; but if you have
```except Exception as e:
  raise (e)
finally:
  return 'something'```; the `raise (e)` doesn't do anything, because the finally runs after it, discarding the exception"
"<@Kym> Yeah, nice interview question! lol"
"or at least, that's the way it looks to me; really the more I think about this, the more I think it should be a warning to put return inside finally, but maybe there's a corner case where it's appropriate"
"I agree, <@Sirena>"
Regarding your second statement
"Regarding the second one I'd still say it's try&gt;except&gt;finally; It says, finally is always executed after try; Otherwise it wouldn't work; I mean, the purpose of finally is to be executed before execution is terminated; and this happens after the raise; no?"
"```
&gt;&gt;&gt; try:
...  print('one')
...  1/0
... except:
...  print('two')
... else:
...  print('...')
... finally:
...  print('three')
... 
one
two
three
```"
"Hm ...; What if we do a raise instead of print('two'); ?; Does print('three') happen before th; the raise or after? I think it makes a difference, let me try.; line 7 is never executed; even without the return; which makes sense ... because that's what raise is for; Hm ... the sequence is indeed:
try &gt; except &gt; finally
The only problem was that although raise triggered an exception and the exception was saved, return led to it being discarded."
"I'm looking to level up.  I was debating between [Git, debugging/IDE, concept deep dive in Python like decorators/metaclasses, something else].  I'm out of n00bie and into rookie territory.  Any suggestions?"
When you say git <@Seema> do you mean you don't have experience with version control or you want to dig into git guts?
inexperienced with version control
"Do that - pick some sort of task you want to accomplish and use git to do it and track changes, etc. and so on; In terms of ""things"" developers do, after you understand basic logic, that is the most necessary and pragmatic thing"
"yeah, and it might be a false choice, you'll probably learn a bit of everything as you go along"
"In terms of ""doing"" code, it is absolutely essential to not just having a rat's nest history"
"OK, thanks.  I've been using PyCharm.  Would you suggest using version control through there or go full command line crazy for the learning part?"
"Dunno PyCharm so get another opinion. I do it on the command line personally (and gitlab, github, etc.); But I am mostly comfortable on the command line"
"try both I would say. command line git isn't what I would call user friendly, but it does give you the most power and flexibility"
"What matters is concepts, for the most part, so it depends how/where you want to work IMO; If PyCharm abstracts a lot of what git works is _meant_ to do, I'd be kinda meh about that...; But I really doubt that, it's probably just a nice wrapper; I changed that - I mean to imply _why_ VC and not _how_ VC; Though the how is cool; Also if you ever care to contribute to OSS <@Seema> it's obviously essential, plus, as you read diffs and patches and make sense of commits, etc. you'll get better at interpreting/reading code, which is something I know you are working on"
"I use PyCharm, but for a variety of team-related reasons I use the command line for git interactions"
"Alrighty, after all the laundry I've been avoiding and the grocey shopping, I'll dig into git and pycharm and CLIgit and check it out from there."
":thumbsup: git 4 lyfe; And remember, if you're friends don't use git, tell them they are wrong everyday :trollface:"
"Umm...okay, ""Joshua says you are wrong"".  :wink:"
"Nah, the Internet or Hacker News says that lol"
"ya dang kids, some of us had to do VC before git"
I've already concluded that I PyCharm + git is not the way I'm going.
now get off my lawn
"<@Seema> would you say it's more PyCharm you're not going to use, or more git?"
The act of learning the concepts of git and the workflow and then adding a layer of PyCharm learning how to do the things seems to muddy the waters from the first 5 minutes of video watching and post reading.  I don't know in the future but for the learning CLI only now.
<@Patty> <https://github.com/git/git/commit/e83c5163316f89bfbde7d9ab23ca2e25604af290#comments>
"committed by Linus Torvalds Apr7, 2005"
best README ever; Also <@Seema> the workflow and concepts of git are going to be the same whether they are CLI or in PyCharm
"<@Patty> I get that but the layer of abstraction is a button or interface I would be ""learning"" and I can come back to the later (or not).  The tutorials all have that click here, click there on how to use git in PyCharm."
"It’s just clicks vs. commands. A lot of the naming overlaps as well. In my experience most people get frustrated and move to CLI, which is used more, and has a lot more resources online"
"so...you're suggesting that learning git through PyCharm will not be ""noisy""?"
some things are harder to do than with CLI. personally what i’ve seen from my students was ditching something in a program for CLI so that they are interacting with git a bit more “closely” and it lends to better understanding/learning. It also makes things difficult if you are on a machine without PyCharm; I’ve found that CLI + a GUI tool like SourceTree (if you are a visual person and like to see state of a repo that way) works best
"yeah, a GUI tool of some kind is important"
depends on the learner and the goals. some people go into SourceTree and then lean on it for a longgg time
I think git ships with a tool called `gitk` which will provide a minimal GUI; at least in most common packages for git
different packages
"I don't use a GUI for git day-to-day, and the only ones I ever have were github/gitlab, but everyone is different"
"<@Seema>, I wrote a Git tutorial for me and my friends a while ago. I found most of the documentation online to shallow or to deep. Perhaps it resonates with you:
<https://sentheon.com/blog/easy-git-guide-and-reference-for-the-busy.html>"
"<@Kym> :taco:; off to lunch, laundry, learn, thanks for resource"
"So I'm falling victim to copying code from SO without understanding how it works. I have this ranking function:

```
def get_ranks(item, dictionary, reverse):
    dictionary_sorted = sorted(dictionary.items(), key=lambda item: item[1], reverse=reverse)
    rank, count, previous, result = 0, 0, None, {}
    for key, num in dictionary_sorted:
        count += 1
        if num != previous:
            rank += count
            previous = num
            count = 0
        result[key] = rank
    return result[item]
```

I have 1,013 key, value pairs in my dictionary. 698 of them have a value of 100 so they should all be ranked #1, then the next non-100 value should be ranked 699. Instead, they're all ranked 698th. Any idea how to get the starting rank at #1 when they're all the same?"
"I'm confused, are you re-sorting the dictionary every time you ask for one of its entries?; if you pick 3 entries from your dictionary, what output are you expecting, and what are you getting?"
"Ya - I am re-sorting the dict every time I ask for a rank, which is dumb so i should definitely re-do that.

For example, I have 3 keys, all with scores of 100: `{'key1': 100, 'key2': 100, 'key3': 100, 'key4': 50}`. It's currently returning ranks like 'key1'=3, 'key2'=3, 'key3'=3, 'key4'=4, but I want it as 'key1'=1, 'key2'=1, 'key3'=1, 'key4'=4"
"when I run that, I get 1,1,1,4"
<@Sirena> I'm very glad you said that cause I read through the code like 3 times and thought it looked like it was working as wanted; because the rank only updates after a change in value
"It's strange - it actually works for most of my dicts, but on a couple it gives the behavior I described."
for the ones where it doesn't work are the values classes instead of a simple data type?
Nope...it's a django aggregation (`Avg`).; Of a `FloatField`
can you print an exact example of one of the dicts that doesn't work?
"When I dumped that same dict to a json and ran the `get_rank` function outside of Django it returned all the 100's as ranking 113...; Ya it's just really long, but I'll post the dict in a snippet.; All those values of 999999 are just there to be ranked last automatically."
"this is tricky, nothing stands out to me as why that would be. python version?"
3.5.2; Did you get those same weird results?
"maybe, but it looks like there are values less than 100 (`""13801"": 96.0`) so I'm not sure what the expected behavior is"
"well...say there are fifty scores of 100. I want it to rank all those 50 as rank #1, then rank the next highest score of 99.0 (or whatever) as rank #51. Right now it's ranking all those fifty scores of 100 as rank #50, then the next highest score is ranked #51."
I'm assuming if 100 is the first number though right?; do you know what 100 should be in your example
ohhhhhh wait I think I know what's happening; its ranking 999999 higher than 100 (obviously). Later on I change those 999999 to 'N/A' values in the table.; that's definitely the issue - thanks for getting me to the solution haha :slightly_smiling_face:
lol pn; np; ah you were not reversing; I thought you were going in ascending ordering; because of the 99999s lol; so that makes sense; glad you got it
haha ya - that took an embarrassingly long time to realize my mistake
"I am wondering, does Wheel specification provide any security for binaries? how can we be certain that the compiled extension hosted on Pypi is really compiled from that src that author states? (besides compiling by ourserves and checking diff)?"
I'm almost certain it doesn't
"for sqlalchemy, isthere a proper standard on returning db results as json?; looks like marshmallow is the best case."
the pycoverage issue? nope :confused:
<@Collette> or anyone know how to get celery to connect to rabbit using ssl?
<@Signe> <http://docs.celeryproject.org/en/latest/userguide/configuration.html#std:setting-broker_use_ssl>?
"Oh, have to use pyamqp? Interesting...; Thanks"
"Perhaps, never done it myself, seems that way..."
"Hello, everyone.; I have some problem with hooking of git.; I think, this is the problem with sys.argv[1:4]; There is no value in sys.argv[1:4]; When i catch the exception, it goes to apport_python_hook.py .; finally:
        # resume original processing to get the default behaviour,
        # but do not trigger an AttributeError on interpreter shutdown.
        if sys:
            sys.__excepthook__(exc_type, exc_obj, exc_tb); Finally, goes to here and dead, does not work..."
Does anyone have any good recommendations for a redis tutorial?
"For some reason, flask is 200'ing a file that should be 404'ing. I've restarted the app but its still occuring."
"u sure, that file is not there"
maybe trailing `/` in path can cause issues as well
"Oddly enough, yeah. 

Im the HTML I've got a  `&lt;script src=""/static/js/bundle.js""&gt;&lt;/script&gt;` tag going. I've deliberately rm'd it to have a slightly clean environment (its webpack generated).; *in"
there u go :slightly_smiling_face:
"Thing is, I'm not running webpack at the moment.; I fail to see what's wrong with the path. =/"
possible it's in your browser cache or something ?
"Woahhhh I just notice something weird, Is there a difference between 127.0.0.1 and localhost?; <@Ciera> I was thinking that could be the case.

localhost:5000 seems to be serving cached files. The flask server only logs a couple requests but chrome sees many, whereas if I point my browser to 127.0.0.1:5000 then the flask logs show that all files are being uploaded and I am now able to see my missing bundle.js (as expected)."
:thumbsup:
I still fail to see why `localhost:5000 != 127.0.0.1:5000`
it's the same but chrome cache might handle it like two different address; so a cache for localhost and a different one for 127.0.0.1
devtools cache should be disabled =/; ... and thats false!; apparently i was caching :facepalm:; Always love a good kick to the soul. Builds character.
;D it happens to everyone
"Onto the next question. I'm getting this non-deterministic problem where sometimes I get a file uploaded more than once. I'm thinking that could be a gunicorn thing, but I'm not certain.; Actually, I revoke this question until I noodle around a bit. I'll come back to it later if it persists."
"<@Kayce> in addition, localhost allows you to have some security exceptions, like when using the browser geolocation api and iframes… at least with chrome.  Not sure if they still apply to `127.0.0.1` or in other browsers.  That’ll let you do some dev work with those two, without requiring SSL in the former and dealing with lots of special cases with the latter"
"setting up mailchimp, using python api <https://github.com/charlesthk/python-mailchimp> and I have on mailchimp an existing list of emails I want to add to. Anyone ever tried this before?"
"i have a csv file with ~2million rows (1.5gb) and need to process its contents - e. g. read out column 6 entry of each row and store it in a `dict` or `set` - anybody has ideas for an efficient solution? 

(i am running on latest mac, 16gb, python 2.7)"
I believe the stdlib csvreader use a generator so you can use that and process it line by line; <https://stackoverflow.com/questions/17444679/reading-a-huge-csv-file>
"<@Aimee> any chance you can import to a database and use python to retrieve the data from there?; that would allow you to use the db for faster queries, analysis and such, without having to re-read and import the data upon each program execution"
"<@Ciera> thanks for your message. i actually read the exact same article not too long ago. it looks like using a generator is the only smart idea. but i am not sure when talking about 2m rows; <@Meg> thanks for you message. unfortunately, i cant. i am receiving this as an export myself. now i have to deal with it that way :slightly_smiling_face:"
db is definitively a better idea. If you use correctly generator is the number of rows shouldn't matter; but it can be slow
"Oof, OK. Then I'd try out <@Ciera>'s suggestion"
well you can still insert it in a db the first time and afterwards use the db
<@Ciera> i have to admit i do not have that much experience working with generators - especially at that scale.; <@Ciera> <@Meg> i normally tend to use google drive and read files through the google api but this file is too large for google drive
"basically, a generator will only pop off one row at a time, which is called `yield`ing; that way it doesn’t have to hold the whole CSV in memory"
if you follow the SO post it should be :thumbsup:
"<@Patty> thank you. yes, i totally understand the concept of generator functions. just havent written and worked with many of them myself"
if all you want is the unique values in column 6 then `cut | sort | uniq` would generally be the quickest way
"sounds like a good learning experience for you.  but don’t forget, instanciating that many objects will have an impact on your memory.  In addition, any kind of analysis done will be dependent on how python runs on your system; are you using pandas?"
"<@Meg> yes, i am using pandas. but not in that context yet."
"ok, because that would save time; it has a pretty bulletproof csv import functionality; so if you’re doing searching, analysis, etc, I’d look into that rather than rolling your own code"
So I'm on a sortof low-urgency search for a dev-friendly widget kit in python that is available for linux. My preference is for a.) minimal installation headaches and dependencies and b.) availability on RHEL6/CentOS6. Anyone have a suggestion or care to weigh in on the pros and cons? I'm currently using PyQt4 (which I think is a dependency headache) on one project and pygtk on another
"I doubt it's preinstalled, but Kivy has a small footprint at least. Seems to be considerably smaller than the tk packages necessary for tkinter."
"<@Kym> Wonderful Git Guide, thank you"
can you pass a class into a subclass and have it keep all previous properties?
"sure, define class properties in `__init__`; unless the subclass overwrites them, you’ll have the superclass properties the same"
like; I have a function that generates a superclass; is it possible to pass that superclass into the subclass instead or repeating the function and adding more elements?
"uhh, generates a superclass?; I think you’re mixing up OOP basics.; in your init of the subclass, have it take in properties you want set.; superclass should have fields already set via its own init"
"```
class A(object):
    ...
class B(A):
    ...
def make_A(data) -&gt; A:
    ....
def make_B(data):
    B(make_A(data), data[-1])
```"
"in B, define an `__init__`; that will call `super(A, self).__init__()` with the required properties"
I'm a bit confused; what does passing A into super do?; because the code I'm working on passes B into super (in the B class)
"```class A(object):
    def __init__(self, a, b, c):
         self.a = a
         self.b = b
         self.c = c

class B(A):
    def __init__(self, a, b, c, d):
        super().__init(a, b, c)
        self.d = d
```; that’s for python3"
"```
class B(A):
    def __init__(self, a, b, c, d):
        super(B, self).__init(a, b, c)
        self.d = d
```
that's the code I'm working with"
"ok, so B is a subclass of A; and you’re already instanciating properties that B inherits from A; in addition, if you have a method defined in A that’s not replicated in B, its still accessible from B; eg, 

```class A(object):
    def some_func(self, t):  # do something

inst = B(...args)
inst.some_func('some_value')```

is perfectly valid; so, unless I’m missing something here, you already have everything you need"
"right; I understand the OOP; but I'm trying to figure out the correct syntax; ```
class A(object):
    ...
class B(A):
    ...
def make_A(data) -&gt; A:
    return A(data[0], int(data[1]))
def make_B(data):
    # is this possible?
    B(make_A(data), data[-1])
```"
what is make_A?
just do `B(data)`
"if you just want an A object, `make_A(data)` should instead just be `A(data)`"
make_A parses a json and takes out the appropriate fields to put in the args
"if you want a B object that inherits A, just do B(data) and in your B.__init__(), include whatever funky manipulations you want to the vars inherited from A; yah, so you probably want
```class B(A):
  def __init__(self, json):
    parse_my_json_and_do_things(self, json)```; there is a design pattern called a 'factory pattern' where functions return instances of objects, but I don't get the sense that is what you want in this case (I could be wrong)"
"It's what I want, I think.
But I also think its what I can't have :stuck_out_tongue:; because this repo's factories are outside the classes"
do you normally construct your objects from something other than json?
"so I guess what I was asking is, can you pass the initliasations of a class to a subclass and have it inherit them
maybe something like
```
B(**make_a(data).variables, data[-1])
```"
"factories are something loosely along the lines of
```class A:
  def __init__(self, initdata):

class B:
  def __init__(self, initdata):

def factory(type, data):
  if(type == 'A'):
    return A(data)
  elif(type == 'B'):
    return B(data)```"
"I think this repo does both; <https://github.com/carpedm20/fbchat/blob/master/fbchat/graphql.py#L106> if you're intrested; I'm adding a ""graphql_to_room"" function, where it's a copy of the above but instead with extra fields
and idk, it just felt wrong"
"it looks more like it's accepting a GraphQL object and returning a Group object, but the GraphQL object is mostly just a blob of query data, so it could contain all sorts of things; so this is very similar to a factory, but it uses a bunch of functions rather than a class to determine which object to return; if you have a graphql blob of 'room' data, then adding a graphql_to_room function would make sense, just mimic what's in most of these other functions"
"yeah; but instead of reapating code, could I get the graphql group function to do some of the work for me?"
"it would depend on what's in your room data; down at the bottom of your file it defines a bunch of graphql types; there isn't one for a room, but if you add it, then you can query a room; if it is meaningfully related to a group, then you might get the group function to do some work for you"
"well, a room is just a group with some extra things, so it inherits from it"
"but assuming a room is not a group with additions, and a group is not a room with additions, it's probably most sensible to write a separate independent function; ah; then yah"
"The problem is, I don't know *how* to get it to do some work for me :stuck_out_tongue:"
what does your `class Room:` look like?
not to be confused with `classroom`
"and then what does your graphql room query look like?; I think it's likely that you'll not be able to reuse graphql_to_group because it's returning a Group object from a group query, and you're going to have to write a new query for a room object"
<https://github.com/ekohilas/fbchat/blob/rooms/fbchat/graphql.py#L121>
"and I don't know the ins and outs of how that all works, but it seems like the graphql queries don't exactly have inheritance"
my idea is that I call the data on the graphql_room and then just unpack it's data into Room()?
"yeah, I see why you might want to have some code reuse, and I suppose it's a little bit of a style question, but I think it will end up less readable"
"at times, it can be a tough balancing act between competing priorities"
"DRY, style, readability, etc"
"you might get by with something like
```def graphql_to_room_or_group(rog):
    if rog.get('image') is None:
        rog['image'] = {}
    c_info = get_customization_info(rog)
    if(rog.get('thread_admins')):
      return Room(many args)
    else:  # not a room
      return Group(many args)```; but it's still going to be a lot of similar code duplicated; alternately, you could modify your Room.__init() to include a Group argument"
isn't there a way to get the fields from a group and just put them into a room as **kwargs
"```class Room(Group):
  def __init__(normal args, group=None):
    if group is not None:
      init_using_group_object()
    else:  # us normal args to construct superclass values
      init_using_normal_args()
    self.admits = admins
    # . . . etc with the other room-specific args```"
wait what if I did
"```
def graphql_to_room(room):
    return Room(
        room['thread_key']['thread_fbid'],
		**vars(graphql_to_group(room)),
        admins = set([node.get('id') for node in room.get('thread_admins')]),
        approval_mode = bool(room.get('approval_mode')),
        approval_requests = set([node.get('id') for node in room['thread_queue_metatdata'].get('approval_requests')),
        join_link = room['joinable_mode'].get('link'),
        privacy_mode = bool(room.get('privacy_mode')),
    )
```"
"that would probably work too, I think; as long as you don't reuse any argument names in both classes or anything surprising like that"
"Sublime Text 3, has anyone used it / does anyone currently use it?   Anything that caught your attention good or bad?"
"<@Seema> we have <#C5CAD2J67|editors> where people chat about them, mostly it comes down to personal preference"
"Oh, interesting, it didn't show up in my channel list, I'll check it out."
I like to imagine that channel is just one continuous vim vs emacs flame war
"its vim heavy, which is why im not in it :slightly_smiling_face:"
better find some fireproof underwear first before heading in there :slightly_smiling_face:
hahaha
"besides, psh.  vim, emacs, etc; `ed` is where its at; :smile:"
"if you can actually use ed to get work done, I'll pay to watch; I've had to use it for minor edits once or twice, and it was painful"
"nah, just kidding.  FWIW, I use vim by default when on the server; but just mainly text entry, cut and paste; the higher functionality is just :whoosh: over my head"
"Hey everybody! I have a question on mocking... I have a function where I want to mock a DBSession.flush() method inside it to a time.sleep(30), to test a race condition there. Do you think that is possible?"
"if you're testing a race condition, might want to `time.sleep(random.randint(low, high))`; unless you're pretty sure 30 is the magic number"
"I haven't tried it, but mock the flush method with a side_effect pointing to a function where you call time.sleep?; <https://docs.python.org/3/library/unittest.mock-examples.html#side-effect-functions-and-iterables>"
Thank you guys; :slightly_smiling_face:
Getting this error when attempting to create a sqlalchemy db table; `sqlalchemy.exc.ArgumentError: Mapper Mapper|AuthorizedClients|authorized_clients could not assemble any primary key columns for mapped table 'authorized_clients'` (edited)
"Question...
```
def main():
    lowest_num_in_list(a_list)


a_list = [1000, -5, -4, -2, 1, 10, 20, 999]

def lowest_num_in_list(a_list):
    sort_list_a = a_list.sort()
    print(""This is in the method"")
    print(sort_list_a)
    print(a_list)
    return

print(""This is outside the method"")
print(a_list)

main()```; How is that sort_list_a exists as None and yet still a_list gets sorted?  Tangentally, do all variables in a method get ""consumed""?; I understand that the assignment in line 9 is actually unnecessary.  Now that I've tripped over this, I'm trying to figure out what this is.; (I also realize it's Friday night at 6:25 PST   :wink:    ); I'll askin in learning_python"
Anyone have experience with numpy; <https://stackoverflow.com/questions/46615814/removing-element-from-ndarray-of-ndarrys>
"<@Seema> 
A couple of things here
The .sort method is in place, and returns none
Python functions work by reference, so when you pass a list Into a function, anything you do to the list will become a side effect
You could use the min function instead
Or, you could call `list(sorted(l))` and work on that instead (which is a not-in-place sort "
having trouble deleting and element from a ndarray
hi does anyone here have any experience setting up letsencrypt + nginx + gunicorn?; need help with it and i'm willing to hire; (specifically the nginx configuration fileS)
<@Jarred> should probably ask in a more related channel
what channel would that be; i need help lol
<#C22DMH61M|devops> or <#C07EYDP25|webdev> maybe?
"<@Winnie> thanks, after learning the hard way, I finally stumbled on <https://stackoverflow.com/questions/2612802/how-to-clone-or-copy-a-list>  AFTER the fact.  Enjoy the weekend."
"Say I have an image url. I want to essentially show an image as the background of a webpage and change that image based on certain conditions in real-time. Is this possible without downloading the image or would I have to download it then change it; I guess it's a sort of stream, but I don't always know the image url ahead of time and it will most of the time be provided after a page has loaded; Cause I basically load a page, await data to arrive and update the template based on the response to a webhooks I have setup"
<@Myong> you might have more luck asking in <#C07EYDP25|webdev>
<@Terrilyn> dm me if you need help with that still
"I don't understand why I'm getting this error
```
  File ""/home/user/Documents/fbchat/fbchat/client.py"", line 817, in fetchThreadList
    join_link = k['joinable_mode']['link']
  File ""/home/user/Documents/fbchat/fbchat/models.py"", line 130, in __init__
    super(Room, self).__init__(ThreadType.ROOM, uid, **kwargs)
TypeError: __init__() got multiple values for argument 'participants'
```
called: <https://github.com/ekohilas/fbchat/blob/rooms/fbchat/client.py#L808>
init of class: <https://github.com/ekohilas/fbchat/blob/rooms/fbchat/models.py#L128>"
"To answer your original question, use `sorted(a_list)` instead of `a_list.sort()`.  The first returns a new list and the latter mutates the original (hence returns None).; If you are setting the background image with css then just add `background: url(image-url)` to the inline style of the element representing the background; its because in the below `ThreadType.ROOM` is passed as the `uid` to the Group superclass, and then uid is passed as the participants value.  You then also pass the participants in the kwargs dict.  
```
super(Room, self).__init__(ThreadType.ROOM, uid, **kwargs)
```"
how do I fix it?
"change the parameter order; or have `ThreadType` be in kwargs and pull that in `Group`; basically, what <@Janiece> is saying is you’re passing in different parameters in the super call than the init expects"
"Does anyone have a simple python function that accepts a github project name as input argument and return return a list of dictionaries  e.g. x = [{""Commits"": 10000}, {""Stars"": 500}]?"
it should be easy using one of the github api wrappers for Python; e.g. there is PyGithub package; it has method for retrieving all repo related infos <http://pygithub.readthedocs.io/en/latest/github.html#github.MainClass.Github.get_repo>; I'd start this way
thanks <@Mirian>!; how do I add PyGitHub package in my project? is it just the same way as importing Flask?
"yes, but you have to install it first (like Flask), so `pip install PyGithub` should work"
Is it not easier to just create my own function? Why do I need to use a library like this?
"ok, you have two solutions:
- use official github API
- scrape html to retrieve the information you need; I think the first one is easier; so you could just make direct http request or just use python wrapper that I mentioned"
"i like the wrapper I think but it seems like its asking for github username and password ```from github import Github

g = Github(""user"", ""password"")```"
so definitely you don't need to install anything if you're comfortable with making direct http requests etc.
Is that necessary? I dont want to commit my  github username and password in public repo
"you could use API token I guess (but it should stay secret too); the solution to that is reading from file or environment variables; you could have some json (or other extension) that it's not committed to the repository; so if anyone wants to use your app, he should provide the config with his own credentials"
"Okay I think I got you, I can passing environment vars. does this library let me download data from other repositories and not just my own repository?"
"I would be surprised if it wouldn't, but of course those repositories must be public"
"thanks I tried to install the package but it threw and error ```Collecting PyGithub
  Using cached PyGithub-1.35.tar.gz
Collecting pyjwt (from PyGithub)
  Using cached PyJWT-1.5.3-py2.py3-none-any.whl
Installing collected packages: pyjwt, PyGithub
Exception:
Traceback (most recent call last):
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/basecommand.py"", line 215, in main
    status = self.run(options, args)
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/commands/install.py"", line 342, in run
    prefix=options.prefix_path,
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_set.py"", line 784, in install
    **kwargs
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py"", line 851, in install
    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py"", line 1064, in move_wheel_files
    isolated=self.isolated,
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py"", line 345, in move_wheel_files
    clobber(source, lib_dir, True)
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py"", line 316, in clobber
    ensure_dir(destdir)
  File ""/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/utils/__init__.py"", line 83, in ensure_dir
    os.makedirs(path)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py"", line 157, in makedirs
    mkdir(name, mode)
OSError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/jwt```"
can anyone please help me setting up dynamic graph plot ?
are you installing it in the virtualenv or globally?
"i just cd in to my bin folder; i am not sure what is a virtualenv, is that easy to use?; okay looks like it works without pip install; i just added it in using pycharm"
"virtualenv is the tool isolate you project dependencies, let's say that you have two projects and they both are using different version of Flask - there might be some conflicts and incompatibilities between versions and you would have to reinstall Flask every time you switch the project; thanks to the virtualenv, you can avoid such conflicts in the dependencies :slightly_smiling_face:"
<@Meg> <@Janiece> is there a way to fix this without touching any of the other classes?
"or am I not understanding you correctly?; I've done this, which works, but I don't know if it's the best way
```
super(Room, self).__init__(uid, **kwargs)
self.type = ThreadType.ROOM
```"
"Trying to store some values inside .txt file with np.savetxt, i kinda need values to be stored side by side like x, y inside txt document. The output i’m getting is line by line..

here is the source code:

```
value_1 = 3.26
value_2 = 243
value_sum = (value_1, value_2)
np.savetxt('dataset.txt', np.array(value_sum), fmt='%.2f')
```; dataset.txt output is:
```
3.26
243
```; i need it to be:

```
3.26, 243
```"
you might be able to change what the newline seperator is by passing in an argument <https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.savetxt.html>
"the is no option to remove newline, only to employ it"
you could just employ a blank newline :wink:
<@Janiece> Thanks.  I ended up using copy and then sort but I'll use sorted() now.  :slightly_smiling_face:
"hi, does anybody knows if there an option in *logging* to show DEBUG level messages only if an ERROR level message happened? something like the `FingersCrossedHandler` in *logbook*"
<https://stackoverflow.com/questions/7809698/can-you-make-multiple-if-conditions-in-python>
"In short, use `and` to chain together conditions that need to match "
"trying to find the syntax for getting ""measurments"" and ""fields"" from a database using pyspark ."
"Working with my API using postman and sending a POST to my flask server. For some reason when the request arrives it is empty even though I have made sure I am sending data. Anyone know what this issue may be?; Fixed it. Was sending form data, not raw json; In the above code, running the following leads to the error: `AttributeError: 'Playlist' object has no attribute 'entries'`; It seems all values within the object are just non existent when initialized; Even after changing the parameters; Holy cow that's annoying"
how are you sending the data?
I got it
form fields or via json?
I put 3x ___ in `def __init__`; im going crazy
"oof, ok; that’ll do it; ha"
That has to be the worst possible error I've come across with no actual way to tell where the error is visually; YES I GOT IT WORKING WOO
"hmm, no issues in the ide?; should be dead simple for syntax checking"
Yeah it didn't give me anything; this is what is looked like; I guess you can sort of tell; cause the color for `__init__` when it's correct is pink when correct and then it's black when it's not. But I wasn't really focused on that.
ah ok
Does anyone know how to make webpack to spit out a bootstrap.css file?
"I have a tuple response from pymysql cursor

how do i append all the results as a dict ?


 ```     for row in results:
            date = row[1]
            value = row[3]

        return Response([{""date"": date,
                        ""value"": value}], status=200)```



this currently returns one object



 ```[
    {
        ""date"": ""2017-09-27"",
        ""value"": 92541
    }
]```



I want to create a json like :
```[
    {
        ""date"": ""2017-09-04"",
        ""value"": ""33905.85""
    },
    {
        ""date"": ""2017-09-05"",
        ""value"": ""35537.10""
    },
    {
        ""date"": ""2017-09-06"",
        ""value"": ""35041.31""
    }
]```



I know this is a very hacky and a dirty solution but I just want to get things working right now."
"<@Desire> you're overriding these values with every run of the loop, it should be something like this:
```
response_list = []
for row in results:
    response_list.append({
        ""date"": row[1],
       ""value"": row[3]
})
return Response(response_list)```"
Thank you so much.
"you can perhaps tweak it, but this should get you going"
"<@Mirian> That helped a lot, kinda stupid of me."
no problem :slightly_smiling_face:
<@Mirian> :taco:
"I have a CSS print media question and not sure where to ask about it, so thought I'd try here...; I have 3 tables (1 for A grade, B grade, C grade) which contain player name &amp; score. Each table ideally will print on one page in large text. I've got most of this working - but what I'd like is for the table to overflow to the right with additional columns rather than go to a new page; That hopefully makes my request a bit clearer..."
"hi! i want some help in nlp for ranking some document on basis of given feature sets, so is there some algorithm or procedure by which i can achieve my goal <#C07EFMZ1N|help>"
"Hey guys, is this a good way of implementing the singleton pattern?"
"but what're you trying to do?, maybe you don't need a singleton after all"
`2017-10-09T06:34:43+00:00` which date format it is and how to turn to a MySQL dateformat?
"Hi all, just wanna ask if its possible to make the logout in django.contrib.auth.views method as POST?"
<https://github.com/django/django/blob/master/django/contrib/auth/views.py#L126>; Yep; <@Easter> ^^
<@Vada> thanks bro
np
"How can I make t2 and t3  go in background?
```                    t2 = Thread(target=first_function))
                    t3 = Thread(target=second_function)
                    t2.start()
                    t3.start()
                    counter = CHECK_INTERVAL  # Reset counter```; basically, function is truck, until it done it's job; I need to find a way, to run multiple functions in background, without waiting  until functions returns result; how is it possible?; It seems, that threading waits for function to return, then second process is runned"
"no, your program doesn't wait for threads (you must use `thread.join()` for this); but if your program doesn't have anything else to do, i.e. you launch threads and then it's the end of the program, it won't close until threads are finished; will block until `t` is finished, because a program is only allowed to exit when all non-daemon threads are finished too
```
def main():
    t = Thread(target=...)
    print('waiting for t')
```; Will not block and will happily exit even when `t` is doing something
```
def main():
    t = Thread(target=..., daemon=True)
    print('waiting for t')
```"
"Script crashing, and I'm getting this :
```t2 = Thread(target=function(), daemon=True)
TypeError: __init__() got an unexpected keyword argument 'daemon'```; strange, there is daemon argument in function call"
"`t2 = Thread(target=function, daemon=True)`; I believe you should pass function and not the result of function"
"Yes, I'm passing function"
so you shouldn't put `()` after it.
"Separated function, and  function arguments like this
 `t2 = Thread(target=function, ags=(arg1, arg2),  daemon=True)`; ok, got it working thanks guys"
"im using this <https://pypkg.com/pypi/facebookads/f/facebookads/api.py>
where FacebookResponse is the class 
and im just trying to get the Etag, in this way test = FacebookResponse(acccess_token).etag(); but i get 'None'"
"<@Georgetta> have you read `etag`'s docstring? The corresponding header may be missing, in that case `None` is returned"
no its doesnt missing because when i tried with curl its work
"<@Georgetta>,  have you tried making a call that returns a `FacebookResponse` obj?"
"yes, and it returns the obj"
<@Georgetta> can you show us your code? We can't help you without it
"Can I assume you’re grabbing ad stats? Are you making asynchronous or synchronous calls?; <@Georgetta>, above is how I get headers"
"<@Winnifred> im using synchronous calls, thanks!"
"Okay, cool — you should be able to store response from call and access headers via `.headers`."
"Whats the best way to turn a list into a dict, when the string of the list is [{'Key': 'somekey', 'Value': 'somevalue'}, {'Key': 'somekey', 'Value': 'somevalue'}]; casting as a dict, just gives you a dict of {'key': 'Value'}"
you'd have to cast that to multiple dicts; or make the value a list of values
Essentially looping through the list and making your own dictionary object?
I'd probably just use `collections.defaultdict`
"Im not familiar with that module, how would that work in this case?"
"this sounds jerky, but go read the docs. there's a whole section of examples that has, from what I can tell, _exactly_ what you're looking for; like you could copy-and-paste to get 95% of the way there; <https://docs.python.org/3/library/collections.html?highlight=defaultdict#defaultdict-examples>"
"Thanks <@Frieda> that did it. Is there a better syntax way to write this tho  keys  = dict(d)['Key']
    value = dict(d)['Value']
    returnDict = dict()
    for i in range(0, len(keys)):
        returnDict[keys[i]] = value[i]"
you just want to turn your list of dicts into a single dict?
"Whoa, hey <@Frieda>, I'm taking your TTH Python track. I love it!"
<@Nerissa> :confetti_ball: glad you're enjoying it!
"Yes basically I have a list that I want a dict. So It has that `'Key': 'somekey', 'Value': 'somevalue'`. I want to turn it into `'somekey': 'somevalue'`. So what I did is this, but I feel its inefficient ```def convertListToDict(tempList):
    # Convert the dict to default dictionary
    d = defaultdict(list)
    for subList in tempList:
        for k, v in subList.items():
            d[k].append(v)
 
    # Convert default dictionary to dictionary 
    keys  = dict(d)['Key']
    value = dict(d)['Value']
    returnDict = dict()
    for i in range(0, len(keys)):
        returnDict[keys[i]] = value[i]
    
    return returnDict```"
"`d = defaultdict(list); d.update(inner_dict for inner_dict in tempList)`?; and a defaultdict and a dict are exactly the same as far as python in concerned. there's no reason to covert it at the end; and if you _have_ to convert it (suspicious), `return dict(d)` should be enough; hmm, ok, maybe it has to do the append; ```
d = defaultdict(list)
for subdict in tempList:
    for k, v in subdict.items():
        d[k].append(v)
```"
Can any one make a suggestion on how to programmatically test all the import statements in a package?
test them how?
"like look for import errors for example; My challenge is as follows; I have a package that relies on many very different 3rd party modules, in essence - we are building API wrappers, then implementing actions e.g. do something with the API wrapper; some are py2, some are py3; some of these packages don’t work in 2 and 3; so our module, which has all these classes which are wrappers around APIs; get’s picky depending on py2 or 3; so we inadvertently break our import statements; always at the worst time; so - I guess I’m asking how to catch this earlier with testing; I’m fully aware there is probably a better solution to my py2-py3 challenges, and we’ve talk about having a separate package/repo for py2 and py3 code, but I’d prefer not it if possible, but since we aren’t just a small module, we are a framework of integrations, it creates these import challenges that I’m admittedly not an expert on; <@Frieda> did help or make my question more ambigious"
hmm. you couldn't just figure out which one break on which version and nest their imports under a check against `sys.version_info`?
"<@Frieda> when I dict convert it what happened was I got a dict with the structure of `{""Keys"":[], ""Value"":[]}`"
I’ll add that my module of class wrappers has an __init__.py that has try | except blocks
non-cross-platform-compatible imports co-existing in a single code base is *_HARD_*
That was bad english.... I had to convert it to a dict from a defaultdict because thats the dictionary I got back ^
"<@Johnette> hmm, ok. i'm not sure i follow but if you got it working, great"
<@Frieda> yea - that might be a good suggestion
"<@Mohammed> you could set up tox to test your codebase w/ both py2 and py3, record the failures and start moving them into try/except or if blocks"
"Yeah it works... just not beautiful, but oh well"
"<@Johnette> I don't get, say, this line `keys  = dict(d)['Key']`; why convert `d` to a dict to get a key value? you could just do `keys = d['Key']`; `defaultdict`s are still dicts"
"<@Frieda> you're right, corrected; ```def convertListToDict(tempList):
    # Convert the dict to default dictionary
    d = defaultdict(list)
    for x in tempList:
        for k, v in x.items():
            d[k].append(v)
 
    # Convert default dictionary to dictionary 
    keys  = d['Key']
    value = d['Value']
    returnDict = dict()
    for i in range(0, len(keys)):
        returnDict[keys[i]] = value[i]
    
    return returnDict```"
"`for i, key in enumerate(keys):`; i might even go further; `return {key: value[i] for i, key in enumerate(keys)}`; just eliminate `returnDict` altogether (also, what's up w/ the camelCase for variable names?)"
camel case is how the company does it
ugh; ok
Thanks tho
"This is a lot cleaner ```def convertListToDict(tempList):
    # Convert the dict to default dictionary
    d = defaultdict(list)
    for x in tempList:
        for k, v in x.items():
            d[k].append(v)
 
    # Convert default dictionary to dictionary 
    keys  = d['Key']
    value = d['Value']
    return {key: value[i] for i, key in enumerate(keys)}```"
Ignore comments
those are old
Were you saying this to me? 
yeah
Roger. I’ll circle back on this. 
that nested loop is just gnarly; wish i had a way past that
<@Johnette> `{d['Key']: d['Value'] for d in yourlist}`
Instead of the enumerate?
"Instead of everything; ```
&gt;&gt;&gt; l = [{'Key': 'foo', 'Value': 'bar'}, {'Key': 'bar', 'Value': 'baz'}]
&gt;&gt;&gt; {d['Key']: d['Value'] for d in l}
{'foo': 'bar', 'bar': 'baz'}
```"
Oh thank you
morning! in my class we were instructed to install python3 from terminal in order to run matplotlib and now I’m getting errors when I try to read files (UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe2 in position 121: ordinal not in range(128))” I’m assuming it has something to do with utf-8. has anyone else had this issue?
<@Chi> how did you open the file?
"open(file_name, ‘r’)"
"` with open(file_name, 'r', encoding='utf-8') as f:`; If you know that the encoding is UTF-8, of course."
thanks! I’ll try that. is there any other reason why i’d be getting this error? is it a utf-8 error?
"<@Chi>, according to <https://docs.python.org/3/library/functions.html#open>"
"&gt;encoding is the name of the encoding used to decode or encode the file. This should only be used in text mode. The default encoding is platform dependent (whatever locale.getpreferredencoding() returns), but any text encoding supported by Python can be used. See the codecs module for the list of supported encodings."
but it seems to be the file you’re opening doesn’t support UTF enccoding
"It's encoding error. Looks like you are using windows, this only system that uses another encoding by default. So answer above will help. Also, you can explicitly use utf8 by calling
```
import sys  

reload(sys)  
sys.setdefaultencoding('utf8')
```"
Can you install different python versions side by side?
_sorta_
Looks like you can have 2* and 3* but not two different 3* versions. Does that sound correct?
you can totally with conda
You can have every single version of python if you so wish
`conda create -n myenv python=3.4` (see <https://conda.io/docs/user-guide/tasks/manage-environments.html>)
"pyenv works great for multiple versions; or, yeah, conda"
sounds good. thanks :wink:
"Good evening! I’m currently working on tkinter UI which takes input from another program running opencv and a lot of video analysis, the output also shown by opencv and matplotlib as a graph. The problem is when i activate my video analysis program, the matplotlib program takes a break and stays inactivate until video analysis program stops. 
I’ve been reading that normal way to solve these kinds of problems is with threading. I don’t know much about advanced python topics yet so i ask does anybody care to show/tell me how structure to a program like that would look like.
Btw, the way i test my code now is by running two different consoles. Where in first console opencv process video and stores data to a txt file while matplotlib running in another console reading that txt file and plotting graphs simultaneously.
Thanks"
see also virtualenv for multiple python versions side-by-side
"Threading isn't all that advanced. Though, I would think tkinter would take care of the GUI being on its own thread for you. I could be wrong."
"<@Meghan> threading from simple examples doesn’t looks bad at all, my problem is to emplement it to my code “The right way” .; the gui code source : <https://repl.it/MZgh/0>"
"Is that what you are editing in, or just pasted there to share?"
just sharing
You'll probably need someone who has done more in TK than I have. The first time I wanted to do something non-trivial in TK I determined I would rather try other libraries. :wink:
:slightly_smiling_face:
"You'll probably want to user `super()` rather than the way you are running the init on parent classes though.; Probably won't break anything here, but it's easier, more clear, and you don't have to worry about breaking multiple inheritance or calling the wrong things.; It's when you click the videon on/off buttons it is blocking?"
"Ok, tkinter part was originally made to handle multiple windows switching to by buttons. might be the reason for that; yeah when i click video on button plotting stops"
"I would think you would want to have this line ```video_on_button = tk.Button(self, text=""Start video processing"",
                            command=lambda: main.img_proccessor(True))``` call a function that starts the video processing in its own thread.; This may be relevant: <https://stackoverflow.com/questions/16745507/tkinter-how-to-use-threads-to-preventing-main-event-loop-from-freezing>"
"Ok, i’ll try that :slightly_smiling_face:"
"is it possible to have a celery instance only listen for certain tasks?; and likewise, is it possible to have a celery instance ignore certain tasks; i want to have one worker that handles only one type of task which is going to be very frequent, and I want all other workers to ignore that type of task"
"<@Jodie> you could have a queue for each task type, then only have the worker subscribe to the queue(s) it should "
I do the exact same thing; define queues based on the task type to be executed
"I could use some help with web forms. I used the Mechanize library for web scraping/forms in python2 but now I'm involved in a project using Python 3 (Mechanize is no longer supported in py3). Does someone have a small snippet of code (from any library) they can share that finds a form from a site, inputs a string into the form, and submits the form? Thanks!"
have you looked at any of the suggestions at <https://stackoverflow.com/questions/31774756/installing-mechanize-for-python-3-4>
"<@Meg> thanks but the responses from that SO site are all just suggesting other modules. I've tried a few with no luck. Looking for some basic code to submit a location name (i.e. San Diego, CA) into the search field on the <http://areavibes.com> site and get the HTML back."
<@Margeret> It looks like that site is using JavaScript to override the form submission. Would mechanize really have worked for that in the first place?; Selenium should work for what you are trying to do.
<@Glynda> ok - good to know. I'll give Selenium a shot. Thank you! :taco:
Hi there guys! Hey i have a question. Why would i used docker while building a python app web-app? I've read some blogs and they advice to do so due the dependencies. However i haven't been able to find non-hacky way to do it. So should i should i add docker since the bigining of my project or not? Thanks in advance!
"At first with docker  you will have same environment for all set up. This is main point because ever if you develop on ubuntu, have staging on ubuntu and production on ubuntu, they are differ and it's to hard for support.

p.s. you can read more in ""The Optimal Django Environment
Setup"" from Two Scoops of Django book."
I see! You are right. Thanks a lot. Is there a good tutorial or book in docker you may recommend aditional to that one?; Thanks a lot!
"try to read chapter from book that i mention in previous message. This is good for start. Of course will be better if you buy book for authors support (this is great book, one of the best about Django) or you can search it here <http://gen.lib.rus.ec|gen.lib.rus.ec>"
"<@Leif> not sure finding a ""hacky way to do it"" is the best way to go about it :wink:"
"<@Young> Wow thanks a lot! And well hey im sorry i i ask a lot but which framework would you recomend me to get started with? Django or Flask? I'm just learning and i've been looking into flask but i'm really not sure; <@Vada> Oh yeah you are right. Sorry, i totally got that wrong there. I meant that every way i found to go about it was hacky and i'm really not sure about them. Haha. Thanks!"
"Flask is a micro framework and you must know a lot things before can build good architecture with it. Django is more complex and have a lot of good practice inside, it definitely better for starting. And looks like today both of them is must have for python developer. But if you know python and know django, working with flask will be easy."
That makes more sense :stuck_out_tongue: what had you found?
"Ohhh okey okey. Thanks a lot! then it makes sense to get started with Django. Thanks a lot.; Actually was googling about using docker and virtualenv. But big disclaimer here is that, i know just enough about python and very little about setting up web apps, and i know nothing about Docker. And i really did not know were to start. I might need to study docker more and also the framework i'm going to use. For now i was googling if i should used virtualenv inside of my docker img in a python project. But again that might be too advance or idk yet. What do you recommend me to study first <@Vada>?"
"In local development I would generally just use a virtualenv; when you are ready for prod get a Docker setup and make sure it works before pushing it to prod; virtuallenv and docker is unecessary; Docker in itself is - to an extent - it's own virtual environment, so adding virtualenv inside of docker just complicates things"
"Thanks! well yeah i just read some blogs they were actually arguing due they thought it was a ""good practice"" and i was like... Hee nope.; So i rather ask"
Yeah people who argue good practice without understanding why it is good practice need to be a bit of research
"Yeah i'll make sure to always research first and ask. Thanks man. Peace out. it's 4 am over here :anguished: haha Have a good one.; And well before i leave. I'll leave this resource i found about learning docker in a more interactive way. It might be helpful for someone. 

<http://training.play-with-docker.com/dev-landing/>"
how would you rate level of this course? beginner? intermediate?
Hi guys has anyone used invoice2data; i am facing issues with creating template in that library
Hi guys anyone with good tutorials for using GraphQL with Python; And with ReThinkDB
"<@Dennise> are you using django, flask, bottle, pyramid, etc for web backend?"
Am using flask; <@Meg> yea am using flask
<https://hackernoon.com/playing-with-graphql-python-flask-84ead622461c>; were you able to find anything similar when looking on google?
I'd say biginner. ( Due is the one i am taking i know nothing but the basic concept of what it is )
"I have worked with pre-commit hooks to trigger events based on a `git commit -m 'any_message'`
Is there a way to trigger events based on staged files? so after the user does a `git add .`
Anyone know?"
<@Arlene> there isn't; Why?
I want to already make changes in the staged area; before the commit messages; <@Collette>
Why?; What kind of changes?
"Hullo Whirled! 
So I'm returning to Python after about a 15 year absence... :slightly_smiling_face: So I'm effectively starting over... 
I'm trying to figure out how ""max"" calculates the way it does.
I have a list:
car = ['chevy' , 'Ford', 'Lotus' , 'Aston Martin']
When I ask:
&gt;&gt;&gt; max (car)
'chevy'
That was unexpected to me... Why not 'Aston Martin'? Or does max only work on integer values and is barfing on my query?"
`max` on a string return the last alphabetical letter; so I guess in this case it does it on all of them and them max the letter
Same for list then?
and `y` is the last one
"So... if I had a ""Zebra"" car (?!) that would probably win?"
"```
&gt;&gt;&gt; max(('abcy', 'abcz'))
'abcz'
```"
"im guessing it treats the string as an array of characters and it takes the ""highest"" character?"
anyways I don't really see the point of doing that :smile:
Hopefully not the most ignorant neophyte question...  Thanks!
ah no problem. It's always fun to lookup that kind of trivia
"Just was reviewing some list operator and gave it a whirl, and was not expecting that result.; Take away lesson: Use max on list with caution!; Or experiment a bit to get a more solid understanding"
max on a list take the max of the list; it depends what the list is made of; it's especially weird when you start to mix type
"Thanks guys, I appreciate it!"
"<@Sarina>: If you're expecting Aston Martin as the longest, you can do that: `max(car, key=len)`"
<@Delicia> Thanks! I appreciate the tip!
*anyone knows simple script in python which parses PDF invoices and stores them in tabular format in a CSV?*
"<@Malorie> <https://www.binpress.com/tutorial/manipulating-pdfs-with-python/167>
<https://docs.python.org/3/library/csv.html>"
"thanks <@Collette>, but I have managed to convert PDF to Text but the whole process of ocnverting invoice to data has been challenging. Anything on that front would be great :+1:"
<@Malorie> every invoice will be different as many places don't format them the same. So it's going to have to be a unique solution to your invoices
"Hi, I've been having real problems with importing my own packages in an aws lambda function, it would be great if i could get some pointers :slightly_smiling_face: 
My lambda handler is in a file called property_endpoint.py and the handler function is called api_get_properties,  I have this set up in the lambda console.

At the top of property_endpoint.py i import some extra things, like this
```import logging
from typing import Optional
from custom_exceptions.custom_exceptions import *
from property_package.mproperty import MProperty
from property_package.property_manager import PropertyManager```

But when i try to test the function it fails with the error `Unable to import module 'property_endpoint': cannot import name 'MProperty'`
mproperty.py is in a folder called property_package and i have an __init__.py in there. 
The top of that file look like this 
```import json
from property_package.property_manager import PropertyManager


class MProperty:```

It doesn't complain about the other one - custom_exceptions which i seem to be importing in the same way :confused:

Can anyone spot anything wrong here?"
<@Vada> there is a library called invoice2data; but i am unable to correctly use it
<@Malorie> you will have to provide more detail than thhat :slightly_smiling_face:
"sure; so i used PDFMiner as the library depends on pdf2text which wasnt working for some reason; post using PDFMiner, i have been able to extract pdf info in text format; then i modified the library a little bit to accept text data; all that is fine; the library expects me to write a yaml template for a particular companys invoice; all invoice are matched based on keywords in yaml file; and information is extracted using regex in yaml file; i am attaching an example; but the parsing doesnt happen and it gives an error; above is yaml file created by me; similar to one expected by them; still parsing error shows up"
"I am trying to write a lambda function, to update an ordered dict if len is not 0.; Its giving me a syntax error.; `eq_x = lambda g: g.update({'pnl':'NA'}) if (len(g) != 0) `"
how do you use `eq_x`?; you also can't use if in a lambda; actually that is wrong you can do this; `a = lambda g: g.update({'pnl':'NA'}) if (len(g) != 0) else None`
Thanks <@Vada>
"If you're assigning a lambda to a variable right away, you'd better write a regular function"
"<@Desire> while this does solve the issue, I agree with <@Collette>, lambdas are not for everyday constant use. You should define a function if possible - not a lambda."
"<@Desire> a lambda is an anonymous function; what you’e doing here is essentially making a named function with a lambda, which is bypassing what it is intended for"
Got it !
"guys, need help. I need speech detect in audio file, not speech recognition, only speech detect. Input audio file, output True or False."
cool; scan for typical voice frequences
"Does anyone know if there’s somewhere a handy sets of asserts, like the one on the TestCase but without using the `TestCase`? I’m using BDD approach this time with behave library and I’m used to using asserts like `assertRaises`  but I couldn’t find anything similar to it in behave library. Kindly asking for help :slightly_smiling_face:; I did probably answer my question myself :slightly_smiling_face:; <http://jenisys.github.io/behave.example/intro.html#select-an-assertion-matcher-library>; For the sake of our children"
"<@Malorie> is the pdf invoice data contained in tables?; if so, Tabula does a pretty good job <https://github.com/tabulapdf/tabula> and it has python bindings <https://github.com/chezou/tabula-py>"
"<@Maisha> <@Ciera> <@Jodie> 
max works by comparing each element
so if you fed max a list of strings then you're asking it to compare each string
in python3, strings are compared lexiographically, which is why you get Aston, since 'A' is the highest ascii value"
the other way around you get Z
other way?
Z &gt; A
yes
"<@Cuc> I appreciate you are excited about your trending project, but you've posted it already today in <#C07EFN21K|random>, we try to avoid cross posting here and more to the point, this is not relevant to <#C07EFMZ1N|help>; Otherwise congrats"
or use <#C3GFPUBGF|shameless_plug>
"<@Vada> oh sorry, I’ll delete it from random."
<@Liane> you have credentials in that screenshot
better to use variables ?
I wouldn’t post them in a public forum like this
also probably _best_ to use `env` vars
"other than that, can you tell if the global connector is correct ?"
"I was trying to execute the python code in the cent os using ansible
self.do_handshake()  File \""/usr/lib64/python2.7/ssl.py\"", line 833, in do_handshake    self._sslobj.do_handshake()ssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:579)"", ""msg"": ""MODULE FAILURE""; How to fix this issue?"
"Hi there guys so... I'm coding a library system (for my school project) and I've found this problem: I code this:
```
from tkinter import *
from tkinter import ttk

class GUIManager(object):
    def __init__(self):
        self.mainMenu()

    def mainMenu(self):
        root = Tk()

        # FRAMES
        header = Frame(root)

        # WIDGETS
        l1 = Label(header, text = 'BibliotePy - Coded By: @alfonsoima', bg = 'red', fg = 'blue')

        # INCLUDE
        l1.pack(fill = X)
        header.pack()
        root.mainloop()

    def quitEverything(self):
        sys.exit(0)
```
and, when I run it, Tkinter prints this: (image uploading...); My question is about the `fill = X` It seems to not work properly... Any ideas?"
"Not super familiar with tkinter so this might be off, but fill=X makes the widget as wide as its parent, which in this case is the header, but you are not also filling the header to be as wide as its parent (root).  If you wanted to label to take up the full space of the main frame you might also have to set fill=X for the header packing as well"
"<@Antionette> Ok, you did it :taco: :taco:; Double taco cuz you saved my whole program, lol :stuck_out_tongue: (What a mistake, dummy-me, btw)...."
:+1: glad it worked
"hey somewhat of a newbie to python wanted to know if someone could point me in the right direction with the requests module ? I keep getting the same error ```/usr/bin/python /Users/c5263978/apiprojects/test.py
Traceback (most recent call last):
  File ""/Users/c5263978/apiprojects/test.py"", line 4, in &lt;module&gt;
    test = requests.get(""<http://wwww.hipstercode.com>"")
  File ""/Library/Python/2.7/site-packages/requests/api.py"", line 72, in get
    return request('get', url, params=params, **kwargs)
  File ""/Library/Python/2.7/site-packages/requests/api.py"", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File ""/Library/Python/2.7/site-packages/requests/sessions.py"", line 508, in request
    resp = self.send(prep, **send_kwargs)
  File ""/Library/Python/2.7/site-packages/requests/sessions.py"", line 618, in send
    r = adapter.send(request, **kwargs)
  File ""/Library/Python/2.7/site-packages/requests/adapters.py"", line 508, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='<http://wwww.hipstercode.com|wwww.hipstercode.com>', port=80): Max retries exceeded with url: / (Caused by NewConnectionError('&lt;urllib3.connection.HTTPConnection object at 0x10138a290&gt;: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known',))

Process finished with exit code 1```"
<http://wwww.hipstercode.com|wwww.hipstercode.com> isn't a site
<http://www.hipstercode.com|www.hipstercode.com> may be however
wrong snippet; thanks <@Mallie>
np :+1:
"```raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host . Max retries exceeded with url: /rest/login (Caused by SSLError(SSLError(1, u'[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590)'),))```; Is there a SSL parameter that I'm missing when running requests.get"
<https://stackoverflow.com/questions/38065240/python-request-ssl-certificate-verify-failed-certificate-verify-failed-ssl>
What URL are you requesting from? It's probably just a bad cert - do you want the bad cert to be accepted?; Oh yeah just use that SO answer that <@Meg> shared
"I came across a similar issue before; since the urls were all due to bad certs, I just put `verify = False`"
security :cry:
ahh ok sounds good Thanks guys I'll try the @ddb2 fix with the verify= false flag; :sweat_smile:
<@Meg> you’re breaking my heart!
What have you tried so far and where are you having trouble?
Questions to consider: What data type is the user’s input in `input()`? What can you do with that data type and how can you produce the desired outcomes from that data type?
"When I input the values.. example 3241515, it lists one by one and not in two.. I want it in twos i.e '32', '41'.. thanks; It's a list.. but I want the outcome grouped in twos"
<@Carolina> it looks like the input is supposed to be comma separated numbers?
It does that perfectly.. but I want to group the numbers in twos
<@Carolina> does the problem say anything explicit about grouping in two or do you need to separate the string on the commas no matter how many digits each number is?  If you have the input as a string here is the documentation for all of the builtin string functions - <https://docs.python.org/3/library/stdtypes.html#string-methods>; You should be able to use one of those functions to modify the string and convert it into a list
Alright.. thanks
"Hi Guys, can I ask for help or code sample in this channel? Cheers!"
"<@Ivy> yup, this is the place for generic or simpler questions, otherwise in a channel for more specific topics"
"Hi all! Any ideas on a quick requirement? The thing is: Maybe a cron job running Python script for a 12 years monthly event reminder TO a pre defined user e-mails and using a pre defined mail template...
Thanks for any help and ideas... any other details I’ll be glad to explain."
"ooh yes actually there was a nice example from one of our members <@Jesusa>; <https://kootenpv.github.io/2016-04-24-yagmail>; his library yagmail is actually very simple and nice, i haven't touched it since my last job but its pretty nice <https://github.com/kootenpv/yagmail>"
can someone help me on how to connect to redshift using python and what's the driver that needs to be installed
Cool <@Marcie> !!! Tks!
<@Willena> tabula not working on invoice PDFs
"<@Marcie> thanks for the kind words ^^ and wow, i didn't know there are forks :smile:"
"Stupid question: Maybe a PEP8 thing. I want to define a default value for an argument to a method, but the value is a multi-line string. What’s the convention here? Shoe horn it into the method definition (like my other arguments with defaults), or set it to None and check for None and apply the default in the method body?"
"<@Willodean> I'd do ```
MESSAGE = ""a very
much multiline
string
""""""

def foo(message=MESSAGE):
    print(message)
```"
I'd do the latter 
It makes more sense to keep he message in the function body
"Thanks <@Collette>, <@Winnie>. <@Winnie> I think you’re right, I’ll stick it in the function body."
"maybe define a constant, and give it as a default string?"
sorry for spamming but still looking for a library that is good enough and simple enough to convert PDF invoices into tabular csv data. Please let me know if any suggestions
"uh, <@Malorie> there were already a couple suggestions if you scroll up; <https://pythondev.slack.com/archives/C07EFMZ1N/p1507816709000514>"
<@Meg> already tried those
"part of the problem with converting pdfs is you have to rely on heuristics; since in that file, each and every word there is simply composed of single characters with font, letter and possition information; PDFs don’t have the concept of structure that you can easily parse; unlike word/openoffice documents; so, to be honest, it is highly unlikely that you’ll find a solution to work for all your documents; in fact, I’d be surprised if there’s a better than 90% success rate, particularly giving the sheer variability of ways that PDF authoring software outputs the files"
ive seen it accomplished with ocr  <https://pypi.python.org/pypi/pytesseract>
<@Meg> do you think there is any other way an invoice(a real physical paper invoice) be converted to a csv with all the data extracted
only ever had a play once at reading pdf’s but it worked for me
"there are applications that can help you read pdfs. mayan-edms is an electronic document management system and does ocr on any documents that it imports. you can then use its api to extract data.; <https://www.mayan-edms.com/>; btw, it’s a django app.; the web api uses DRF and swagger."
"so, <@Malorie> there are some options available.  but ‘simple’ is definitely not part of them"
dont need it super simple; but not so complex that i would rather write my own package; <@Johana>  so i need to figure out how to run electronic document management
"ok so then you would need to deploy mayan-edms. you could use docker, a vps, an old laptop, or install it locally.; you give it a folder to watch and then you drop files in and it will suck them up and create a bunch of metadata you can read about the file.; i keep no paper documents at home. i use mayan-edms to manage all my documents."
<@Johana> stuff like that look interesting but it seems so hard to maintain
i run the server on an old laptop and haven’t looked at it since lol.
hmm I should look into that (and buy a scanner :stuck_out_tongue: ); you use it only on a local network ?
"it’s been like 2 years. the funny thing is when i first set it up i was building onto my home and when the contractors and i finished signing all the documents, I told them to hold on one minute. I dropped them in the scanner and mayan-edms automatically brought them up. I have a PC in the living room and brought up the docs for them to see. In other words, i was saying there is no way i’m losing the contract.; yea; you can search for any text and it will find the right doc."
I'll look into it; just need to find a scanner that can upload to the cloud next; ouh they provide a docker image shouldn't be too hard to put in a VM then
"I'm trying to setup API integrations tests using Runscope. Unfortunately, I need file upload for this. I've found info that ```The request editor does not support uploading files. However, some customers have been able to make file uploads work by pasting in a raw multipart-formatted body or unicode string input body into the request and making sure to include the applicable 'Content-type' header value with the correct boundaries. ``` (<https://www.runscope.com/support/kb/multipart-file-uploads>) I'm having trouble to construct this `raw multipart-formatted body`.; does anybody have an idea how it should look?"
"<@Mirian> I would make a valid post to that api; with the browser dev tools open; see what data goes out, and how its formatted; that would give you clues how to do it in your integration tests"
"that's what I'm trying to do, but the file i receive is somehow broken :stuck_out_tongue:"
¯\_(ツ)_/¯
"Had never heard of mayan-edms, that does look nice. Might just set that up. <@Johana> is it difficult to set up? Looks like just a docker image."
i installed it locally on an old laptop and it wasn’t difficult but I have deployed django apps before.; if you check the ecosystem you will see an ansible playbook i made.; with docker it should be a breeze.
Is there an Android app where I can take a pic while I'm out on my phone and have it automatically put into the system?
i have no idea.; its for documents so you could move the document from your phone to a folder that mayan is watching.; i don’t think you want to use it for photo management.
"Not for photo management, but using phone as alternative to scanner while out. Say if I drop off a package at UPS and I want the receipt in the system."
but if you took a photo of a document then i would do that; yea i know what you meant. i was just saying that you probably don’t want it watching for every photo.
"Oh, yeah, not that. I was thinking an app that would take the photo and upload. Not scan all of my photos."
i already use bittorrent sync so i would probably use that.; you could create a folder that bitttorrent sync is keeping up to date that mayan is watching.
"Yeah, that would work."
you can provide mayan multiple locations for it to watch.; in the background it is all celery tasks.; with a nice web frontend.; <@Meghan> i’m sure there has to be an app b/c it has a really nice web api.
"Hi, I also have this error or similar 

` Caused by SSLError(SSLError(""bad handshake: SysCallError(-1, 'Unexpected EOF')"",),)) `"
how could someone not make one when it provides all the tools? i guess it could still be without.
Sounds like it would beat the scansnap software. :wink: Thanks for the suggestions.
"yea, and it’s python!"
"<@Luetta> I think you'll need to provide a little more background, under what circumstances did you come across that error?"
has anyone ever seen this with python requests ```Cannot find a Content-Type supported by your client. python```; trying to set  payload with ```Content-Type application/json```
<@Burma> show us your code
"```#!/usr/bin/env python

import requests
import json

url= 'https://x/rest/login'

payload = {""username"": ""admin"",
           ""password"": ""x"" ,
           ""Content-Type"":""application/json"",
}

headers = { }
r = <http://requests.post|requests.post>(url, data=json.dumps(payload), verify=False )
print(r.content)```"
"you don’t need to use json.dumps; just `data = payload`; <http://docs.python-requests.org/en/master/user/quickstart/#more-complicated-post-requests>; from that page

```&gt;&gt;&gt; payload = {'key1': 'value1', 'key2': 'value2'}

&gt;&gt;&gt; r = <http://requests.post|requests.post>(""<http://httpbin.org/post>"", data=payload)
&gt;&gt;&gt; print(r.text)```"
basically I'm making a post requests to a api and expecting it to return a token request string; in json; Thanks I'll Give it a kick; Nice it worked :+1:
"Also, why are you defining headers as an empty dict? You aren't using it either, or at least not in this snippet"
The Question is should I be using payload or headers ?; we have to define the header fields using postman
<@Malorie> Did you ever get the pdf situation figured out?  Our local Python meetup last night had a speaker talk about it.  (Looking for link)
"That depends on what the server is expecting.; Headers would likely include things like api-keys, I believe. Where as the form content I think would typically be in payload.; Then you'll want to add headers=headers to your <http://requests.post|requests.post> call.; csv.DictReader seems to not support what I was hoping for. May have to extend it some day. Was thinking it would be nice to read a csv, determine if it is headered, if so use those, if not use specified. I could see where it could be error prone though."
Thanks I'll give that a try as well for the post call
<@Meghan> you could determine yourself if the first raw are headers or not; and then use the reader you want for each
"Hello,
```
    ....
    try:
        db.session.commit()
    except:
        db.session.rollback()
```
In test, to get 100% coverage how to make `db.session.commit()` generate an exception, is it possible with `mock` library ? I'm a little bit lost :confused:"
"wouldn't something like
```
try:
    ...
except:
    db.session.rollback()
else:
    db.session.commit()
```; make more sense ?"
"<@Ciera> Yeah, that is what I was thinking."
"hum not really, or I miss something <http://docs.sqlalchemy.org/en/latest/orm/session_transaction.html>"
ah yeah didn't know it was sqlalchemy :slightly_smiling_face: my bad; and yeah it's possible with mock; you need to use `side_effect` I believe
Thanks I will take look :smile:
"Hi guys, bit stuck here. Trying to append user input integers into an empty list, and for the program to tell me if the numbers 1,2,3 are in that list. Here’s my code:

```def main():
    print(""This program will ask the user to enter a list of integers and will check if the numbers 1, 2, and 3 are contained within that list."")

    n = eval(input(""How many numbers will the list have?""))

    control = [1, 2, 3]

    A = []

    for i in range (n):

        A.append(input(""Please enter a number: ""))

    if control in A:

        print(""Yes"")

    else:

        print(""No"")

main()```

The program is running, but I think it’s not appending to A, as checking if control is in A for input (1, 2, 3, 4, 5) outputs `no`"
"so you have a list, and you want to see if a value from that list exists in another list?; `in` only works when you have `value’ on the left and an iterable data structure like a list, set, dict, etc on the right"
"I want to see if all values in a list (control) are in another list (the one made of the integers the user inputs); But if I’m not wrong, those inputs should be a list themselves as I am asking for them to be appended; However, I think I’m doing it wrong"
"`input` will give you strings, so `A` will be a list of strings; while `control` is a list of ints"
You’re correct; What an idiotic mistake on my behalf; Thank you
not idiotic at all
"furthermore, what you’re trying to do requires use of `all`; as in do all these values in `control` exist in `A`?"
i'd personally use sets; wouldn't require any iteration
"true, or list comprehension"
Am I able to order numbers in a set?
"listcomp would be back to using a `for` loop though; no, you can't order numbers in a set but i'm only talking about the comparison; you'd leave `A` and `control` alone except for the `if`"
"I see, thanks a lot :slightly_smiling_face:; How do I send tacos again?"
"if `A` and `control` never grow very large, iteration methods would be fine, btw.; sets are just cleaner"
"Yeah, you’re right; <@Frieda> :taco:; <@Meg> :taco:"
"With multiprocessing,are globals non-existent in the spawned processes? I have a global logger but I get a NameError from a function the process calls."
"Hey all-- Went to a Meetup last night, and this is a problem they gave us to solve via pair/ mob program programming. <https://github.com/RappidDevelopment/NumberConverterKata/tree/master/javascript> This is a python solution I came up with. It works, but I'd appreciate some feedback so I could find things to improve and make it more ""Pythonic"". Thanks! <https://repl.it/MbHk/28>"
Is anyone here that use facebookads sdk api-python?
Hello eveyrone; everyone; I want to build a web application and i want to ask if python is the best language to use in such kind of websites
It's widely used for this.
"flask is usually the choice for just a server, and I've seen django used pretty heavily as a framework for developing a full site"
"Looking for some help on what looks best.; Basically for the background of my site, I add an image and details above it. I originally had it in this format.
<https://i.gyazo.com/2a8d392cb178c79a4033ab6aac455239.png>; But now wondering if something like this might be a bit cleaner looking and keeps it looking less pixelated; <https://i.gyazo.com/44896037814792500f2574dbdb1f182a.png>"
<@Kenny> I'm a n00b to python so take this with a grain of salt.  Could the three functions be reduced to something with an iterator/enumerate/zip/lambda?
"anyone familiar with any libraries that can convert volume based properties. say i have a string ""1 cup"" and I divide by 2, it becomes 1/2 cup. think food recipes."
Not sure ; Have you looked at pint?; <https://github.com/hgrecco/pint>
i didnt see that one yet. i saw one called `measurement` but doesnt seem to work
"<@Kenny> some suggestions:
When iterating through the keys of a dictionary, you can write
`for key in dict:`
instead of
`for key in dict.keys():`
If you are using both the key and the value in the loop you may want to consider
`for key, value in dict.items():`

`string[0] == '1'`
feels more natural than
`int(string[0]) == 1`

If you replace the first element of teens with 'ten', you can get simplify parse_two somewhat.

When you are using a list as a constant (like ones, teens, and tens), consider using a tuple instead.

I'd probably move the stringified_int line into the split function and create a new helper function for the building of the string itself. The reason I want to do this is to try to maintain a single level of abstraction in each of our functions.

I think it might be nicer if instead of creating a dictionary with 'hundred', 'thousand', and 'million' as keys, we put them in a list or tuple like you did for ones, teens, and tens.

Here's how it might look: <https://repl.it/McUI>.
Overall, I like your approach and it looks good already! Some of my suggestions might be kind of opinionated."
found it?
"09:44, 09:45, 09:46, 09:47 -- one is less than two minutes apart from the next; what would happen?"
"Heya guys, struggling with Tkinter again... I have this:
```
class GUIManager(object):
    def __init__(self):
        self.mainMenu()

    def mainMenu(self):
        root = Tk()

        l1 = Label(root, text = ""BibliotePy - Fall 2017"")
        b1 = Button(root, text = ""Agregar Alumno"", command = insertAlumno)

        l1.grid(row = 0)
        b1.grid(row = 1)
        root.mainloop()

    def insertAlumno(self):
        root = Tk()
        l1 = Label(root, text = ""Matrícula:"")
        l2 = Label(root, text = ""Nombre:"")
        l3 = Label(root, text = ""Telefono:"")
        e1 = Entry(root)
        e2 = Entry(root)
        e3 = Entry(root)

        # Grid Placing
        l1.grid(row = 0, sticky = E)
        l2.grid(row = 1, sticky = E)
        l3.grid(row = 2, sticky = E)
        e1.grid(row = 0, column = 1)
        e2.grid(row = 1, column = 1)
        e3.grid(row = 2, column = 1)

        root.mainloop()
```
And it give me this: `NameError: name 'insertAlumno' is not defined`"
try moving `mainMenu` below `insertAlumno`
"Question is, is there a way to call functions outside the root in Tkinter. Or even better, am I doing a good GUI?; <@Meg> Will try now"
so that method is defined before mainMenu
"Nope, still `NameError`"
how are you calling that method?
"Within `mainMenu`, I have this line: `b1 = Button(root, text = ""Agregar Alumno"", command = insertAlumno)`.; `insertAlumno` is outside the `mainMenu` function, but within the same class `GUIManager`"
"gotcha; so, then order doesn’t matter; oh; try `self.insertAlumno` for the `command`; because you’re defining it in the class"
You did it!; <@Meg> :taco:
"Best practices question, is there some sort of good practice/convention for referencing which co-routines call on a generator?  It seems that the programmer would have to know that the generator yields 1 iteration each call but that the generator could be anywhere..."
Hello; I am looking for a senior python developer for a startup. Please if anyone intrested pm me
"Can anyone tell me why this media query won't work in my css. I've made sure to set `width=device-width` in the `meta` as well as min-scaling set at 1.; Nevermind, fixed it. Turns out the hardcoded style will not change so I removed that on the element and added another media query with min-width"
"Hi guys , wanted to ask if any of you have ever called and used Python Scripts in R . rpy2 doesn't work on R 3.4 . Also please let me know if this is the wrong place for this question/ if there is a better place for it ?"
"hello, this google api stt is some neat stuff but i am having trouble wrapping the example in some threading to keep it going. While a minute of speech to text is neat i would like to get hours of audio on a mic streamed to a text file or database. It seems like links are okay so ill paste the original here as it is from git... 

<https://github.com/GoogleCloudPlatform/python-docs-samples/blob/master/speech/cloud-client/transcribe_streaming_mic.py>

To this i added a line and get some long term transcription to happen but eventually things bomb out or crash. 
def main():
  threading.Timer(35.0, main).start()

I believe i need to setup some services to run the mic to a stream and pass that to another thread that is keeping the google api connection open while another takes the response from google and writes to a text file/db.... So far getting everything together is beyond me and i am hopeful some folks have time/experience to help me piece something together.  (thanks)"
"<@Shakita> google’s API library is not thread safe, so you cannot use threads for your solution"
"oh... didn't even think to check on that; and it prolly says in some red line on the top of everything i have been reading **not thread safe**; thinking... 

so i would like to keep the pyadio stream buffering and pass it to google api which will drop out every 30 to 60 seconds. I suppose i could have a loop that handles a graceful restart of the api connection... now instead of trying to do that inside a thread i just need to figure out that graceful restart while pulling in the mic buffer"
"Hi guys. I am going to launch Github project on my local pc. But I have a trouble now.  
When I execute ""python manage.py runserver"" 
It shows like this.
Traceback (most recent call last):
  File ""manage.py"", line 22, in &lt;module&gt;
    execute_from_command_line(sys.argv)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/core/management/__init__.py"", line 367, in execute_from_command_line
    utility.execute()
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/core/management/__init__.py"", line 359, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/core/management/base.py"", line 306, in run_from_argv
    connections.close_all()
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/db/utils.py"", line 229, in close_all
    for alias in self:
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/db/utils.py"", line 223, in __iter__
    return iter(self.databases)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/utils/functional.py"", line 35, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/db/utils.py"", line 156, in databases
    self._databases = settings.DATABASES
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/conf/__init__.py"", line 53, in __getattr__
    self._setup(name)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/conf/__init__.py"", line 41, in _setup
    self._wrapped = Settings(settings_module)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/django/conf/__init__.py"", line 97, in __init__
    mod = importlib.import_module(self.SETTINGS_MODULE)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/Volumes/Work/Django/modern-fertility/fertility/settings.py"", line 23, in &lt;module&gt;
    SECRET_KEY = env('SECRET_KEY')
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/environ/environ.py"", line 127, in __call__
    return self.get_value(var, cast=cast, default=default, parse_default=parse_default)
  File ""/Volumes/Work/Django/modern-fertility/venv/lib/python2.7/site-packages/environ/environ.py"", line 269, in get_value
    raise ImproperlyConfigured(error_msg)
django.core.exceptions.ImproperlyConfigured: Set the SECRET_KEY environment variable; Does anyone can help me?"
"<https://docs.djangoproject.com/en/1.11/ref/settings/#secret-key> is missing from your settings; or not available in your environment varialbes; so, you’ll have to export it to an env var. what OS are you using?"
I am using MacOS 12.6; <@Meg> I think there is a problem in settings.py.   loading env file part.
what happens when you `echo $SECRET_KEY`
it shows nothing.
"that’s your problem; the settings is looking for that environment variable; since it doesn’t exist, it throws that error; its up to you to export the env var to your environment"
"I can't understand, it used environ module on settings.py and used variables from .env file.

In the ""Settings.py"" file, it contains 

import os
import environ
root = environ.Path(__file__) - 1 # three folder back (/a/b/c/ - 3 = /)
env = environ.Env(DEBUG=(bool, False),) # set default values and casting
environ.Env.read_env() # reading .env file; please refer above screenshot"
gotcha; I came across this same issue with using django-environ; and ended up throwing that project out in favor of using a json env file locally and reading it from settings
so how can I solve this?
no clue.  I just went with an adaptation of this ¯\_(ツ)_/¯; <https://github.com/twoscoops/two-scoops-of-django-1.8/blob/master/code/chapter_05_example_19.py>; got rid of django-environ completely
<@Patty> i think (based on logging outputting the thread info) that the example from google for python and the api is using threading.
"does anyone have experience wanting to run 2 event loops ~_~; well, I don't really want but yea...; python-xlib has its own event loop; but I want to run a bunch of other stuff in an asyncio loop; it uses locks; <https://github.com/python-xlib/python-xlib/blob/eb3f4b70671afa09cdd38b43d7cb5e38d92f63a7/Xlib/protocol/display.py#L157>; with the blocking nature I think it makes sense that I need a thread"
<@Shakita> <https://developers.google.com/api-client-library/python/guide/thread_safety>
i don't think i am using google-api-python-client which i believe that to be about; but maybe everything i am using eventually goes back to that as it is python and the google api...
"<@Jesusa> I’ve seen two asycio event loops run in separate threads. If you’re not sharing data between them it’s even easier, but otherwise you may have to implement your own mutexes. I haven’t done it myself and only tried multiple event loops in node"
i think i am getting the looping to happen in an acceptable manner... had to add a check on time at the start of streaming to gcloud and then close if i was gt 45 seconds later.
So then I’m assuming you’re using the google cloud client?; It’s still not thread safe. They are working on moving the back end libraries to be thread safe 
"yes google cloud client, alright thanks"
"<@Patty> I've now packaged one of the loops in a thread, asyncio running in main; on some event in the thread loop, it will send a task to the asyncio loop; does that sound safe?; `t = Thread(target=x_event, args=[lambda x: loop.create_task(async_test(x))])`; I will make the auto brightness fully event driven :slightly_smiling_face:; instead of requiring people to bind keys to my script, I am monitoring the brightness; and if a user changed it, then it becomes a training sample; x11 event loop, generic loop, inotify event loop; ridiculous :smile:; though inotify runs nicely with the other generic things; though i'm not sure what the hit will be on performance given that there is threading"
Anyone know how to set a python environment on an offline server with no pip install. I can only transfer files and exeutables through a cloud storage . Is it a matter of using the tar.gz files for each package or can it be done using anaconda?
pip can install local packages if you supply the path; I'm not sure it's possible to package a whole environment easily
<@Ronald> are you on linux?
Windows; <@Collette> on Windows
"Then yeah, download wheels for windows on another machine, copy them into your offline machine and do `pip install wheels/*`"
<@Collette> will try this out; thank you :slightly_smiling_face:; <@Ciera> Thanks as well
"I am trying to demonize celery but I am not able to.; My logs show:
```supervisor: couldn't exec /root/.local/share/virtualenvs/api-n2K3qAV1/bin/celery: EACCES
supervisor: child process was not spawned```; i did follow this: <https://realpython.com/blog/python/asynchronous-tasks-with-django-and-celery/>"
looks like a permission issue; is this on staging or local dev?
its on staging.
"ok, because that `/root/` path to the virtualenv is really weird; are you executing the daemon with `sudo`?"
"```
; ==================================
;  celery worker supervisor
; ==================================

; the name of your supervisord program
[program:minancecelery]

; Set full path to celery program if using virtualenv
command=/root/.local/share/virtualenvs/api-n2K3qAV1/bin/celery worker -A Minance --loglevel=debug

; The directory to your Django project
directory=/home/minance/api/Minance/

; If supervisord is run as the root user, switch users to this UNIX user account
; before doing any processing.
user=minance
group=www-data

; Supervisor will start as many instances of this program as named by numprocs
numprocs=1

; Put process stdout output in this file
stdout_logfile=/var/log/celery/minance_worker.log

; Put process stderr output in this file
stderr_logfile=/var/log/celery/minance_worker.log

; If true, this program will start automatically when supervisord is started
autostart=true

; May be one of false, unexpected, or true. If false, the process will never
; be autorestarted. If unexpected, the process will be restart when the program
; exits with an exit code that is not one of the exit codes associated with this
; process’ configuration (see exitcodes). If true, the process will be
; unconditionally restarted when it exits, without regard to its exit code.
autorestart=true

; The total number of seconds which the program needs to stay running after
; a startup to consider the start successful.
startsecs=10

; Need to wait for currently executing tasks to finish at shutdown.
; Increase this if you have very long running tasks.
stopwaitsecs = 600

; When resorting to send SIGKILL to the program to terminate it
; send SIGKILL to its whole process group instead,
; taking care of its children as well.
killasgroup=true

; if your broker is supervised, set its priority higher
; so it starts first
priority=998```"
"ok, the whole issue is you have the virtualenv in the `/root` folder; _bad_; so, it’s really locked down with permissions; normally what I do is use the default user folder, install the virtualenv there in `/home/user_name/.virtualenv/project/....`; and point to that instead"
I got you.
"so, the clue for that was `EACCESS`; because that’s a kernel issue; and says you have some permission issues; then the path to the virtualenvs was the next big clue"
Looking for a suggestion for a good geocoding lib in python. Need to be able to convert addresses into IPs. Thinking about Google Maps APIs but wondering if worth using a standard python solution first. Geopy looked good until I realised it is now unmaintained. Anyone used anything else?
Does anyone have any idea how I could accomplish logging of specific calls and stderr to the same filehandler where stdout are specific log-calls whereas stderr are generic script crashes? I can't get the errors to print to the file correctly...
Why not use the `logging` module ?
"I am, it's driving me nuts that I can't configure it correctly"
can you share your config ? :slightly_smiling_face:
"To be honest, what I'm force to now is actually sending all logs to stdout as a downstream program captures the stdout, but I can't get the stderr to be picked up as well...; ```
        root_log = logging.getLogger('')
        root_log.setLevel(<http://logging.INFO|logging.INFO>)
        formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')

        fh = logging.FileHandler('stdout.log')
        fh.setLevel(<http://logging.INFO|logging.INFO>)
        fh.setFormatter(formatter)
        root_log.addHandler(fh)

        sh = logging.StreamHandler(sys.stdout)
        sh.setLevel(<http://logging.INFO|logging.INFO>)
        sh.setFormatter(formatter)
        root_log.addHandler(sh)
```; tbh, the filehandler could be ignored"
I thought you wanted to log to a file ?
"As mentioned, a downstream program captures the stdout and writes to file, I was a bit unclear"
or do you need it to be read by a downstream program ?
It's not by choice I should point out
I'm sorry but just to be clear. Would logging everything directly to a file be ok ?
It would not in this case
ok; I'm not sure you can redirect exception output to something else than stderr. You could either read from stdout and stderr in your downstream program or do a big `try` `Except` and `LOG.exception`
I did look at redirecting stderr to stdout but it looked and felt wrong. The downstream program is unfortunately not something I can modify so i'm sort of stuck with this venture
I would do a big try except then; or maybe someone else as a better idea
"so I'm confused, you don't want to redirect, but you want your stdout and stderr to go to a file?"
"Currently, all logging is sent to stdout. In the event of a script crash, i need to error to also go to stdout. I'm guessing I need to redirect here, but what I found so far looked really hacky, but I suppose that's the way to do it.; Although, it might not be possible at all without some giant try/except as already mentioned?"
do you only want error to go to stdout when a script crash occurs?
"if it's only when your script crash you could do 
```
try:
  main()
Except:
  ...
```; it doesn't feel that hackish to me"
I agree with <@Ciera>
"I suppose you're right. It just looks like a lot of repeating try/except due to it being a `click` initiated script with increasing numbers of subcommands, where the context class created initiates the logging. Might just be due to my stupid setup but i'll give it a go. Thanks!"
I'm not entirely familiar with click but maybe you can set it up before calling your subcommands ?; or passing the subcommand as an arg to the try/except func
"Ye, should be doable but then I'd have to break the logging out of the context class; I'll play around with it a bit and see where I end up. Thanks a lot for the input"
"I've started doing this on scripts to make sure any unhandled exception is in the logs. That way I don't have to rely on users for anything other than emailing me the log. (Haven't automated log uploads yet.)

```
try:
  main()
except Exception:
  log.exception()
```"
Why not use opbeat?
Never heard of it. What is it?
<@Meghan> I'm attempting this now but it seems a bit weird with click and its subcommands
"I've not used click, but I would assume you run a function that dispatches to other functions, right?"
Pretty much yes
Then wrap that call with the try/except.
"I'm trying to at the top level, but as I said, click seems to be acting weird. Won't return the exception from the subcommand; Where the error should be, I instead get an empty message"
You don't get the exception at all then?
"It enters the except clause, but my `except Exception as e` gives an empty e"
What does log.exception() get?
"Wait, I might be the one who effed up..."
"Ah crap, I've gotta run... Wife's gonna murder me if i'm late. Thanks for the input though! I've got some ideas for tomorrow"
"<@Meghan>: it's a service that basically does what you are describing, I use it for projects all the time to get better error reporting"
I'll take a look. Thanks!
Best practices question: It seems that the programmer would have to know that  generator co-routine yields 1 (or other integer) iteration each call but that the generator could be anywhere... is there some sort of good practice/convention for referencing co-routines call on a generator?
"<@Seema> You can wrap the generator function in another function, which creates the coroutine, calls next() on it, then returns it, so you don't have to manually call next() after instantiation. The internal generator could be defined anywhere and instantiated inside the wrapper. Is that what you mean?"
"<@Rosamond> Here's an example of a call to a coroutine where the code is right next to the coroutine.  I'm assuming the coroutine could be in any module/namespace.  Is that true?
```def fibonacci_co():
    current = 0
    next = 1

    while True:
        current, next = next, next + current
        yield current

for n in fibonacci_co():
    if n &gt; 1000:
        break

    print(n, end=', ')```; if fibonacci_co or any co-routine can be somewhere else, how would programmer/user know that it would have to be iterated."
"I would still call that a generator function since it's only yielding results, a coroutine can take arguments for each iteration and usually has an opening `yield` in the definition.; That's moreso what I mean. Then _coroutine could be defined anywhere. If in another namespace, just import it"
"I'm under the impression that coroutines are just a special type of generator, is that right?"
"Yeah, maybe more meaningful to say a generator is half of a coroutine :slightly_smiling_face:"
"and the coroutine has a next and a generator object and ""advances"" each yield.  My question is that if this was imported and the function was consumed, how do they know it's a co-routine other than print(""Created coroutine."") and print(f""_coroutine({data})"")"
"<@Seema>, hope that the dev provides doc strings"
<@Winnifred> I think you get the gist of my question :wink:
"That, and if you dir(coroutine()) it should have a send member."
"wow, ouch, umm... okay, thanks for tip; will it have a next() or is that only in the generator object?"
Yeah. The agony and ecstacy of dynamic typing ha
Time to poke and prod and learn
Looks like there's an 'isgeneratorfunction()' in the inspect module; to take out the guesswork :slightly_smiling_face:
Lol
"As far as next().. to my knowledge send() replaces it, however there may be cases where you send a single item and yield multiple outputs; So next may be used there?"
"(brain fuzzy, need coffee, skills)"
:coffee:
"So, I have `awscli` installed with my local environment.  Is there a way to use it in celery to upload a folder of files to S3, rather than a 40 line method like here? <https://gist.github.com/feelinc/d1f541af4f31d09a2ec3>"
"I mean, I could do something like `subproccess.Popen('aws s3 sync $folder <s3://bucket_name/folder> --acl public-read')`"
@channel something like a job board over here?
<#C080T8XT2|job_board>
"hello; anyone knows whats the problem?
```mrate = []
for n in shares_names:
  s.execute(""SELECT * FROM shares WHERE address = ? AND name = ? ORDER BY timestamp DESC LIMIT 1"", (x,n[0]))
  names_last = s.fetchall()
  print(names_last)
  mrate.append(names_last)```
output shows ``` [('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508049513.02', '0', '1103', 'Macca', '4', 'Macca1')]
('vv',)
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508216432.74', '0', '741', 'vv', '3', 'vv2')]
('Macca1',)
[('06c30fe7b3d71c2954e761f130a59e908b546e66324b6fbdf3db2d47', '1', '1508212402.65', '0', '636', 'Macca1', '4', 'Macca12')] ```

but the mrate variable only shows the last output, i want all ouput to be inside mrate var"
"<@Minh> there's only one `print` in your snippet, but the output obviously has two of them"
"What's `('vv',)` and `('Macca1',)`?"
"new output: ``` [('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1507963458.83', '0', '613', 'gow', '1', 'gow1')]
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508049513.02', '0', '1103', 'Macca', '4', 'Macca1')]
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508217069.51', '0', '869', 'vv', '3', 'vv2')]
[('06c30fe7b3d71c2954e761f130a59e908b546e66324b6fbdf3db2d47', '1', '1508212402.65', '0', '636', 'Macca1', '4', 'Macca12')]
```"
What's in `mrate` after the for loop?
"if inside my for like this: ``` print('printing')
print(names_last) ```
the output like this ```
printing
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1507963458.83', '0', '613', 'gow', '1', 'gow1')]
printing
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508049513.02', '0', '1103', 'Macca', '4', 'Macca1')]
printing
[('09313fe3bcd990a2d7618874a0ce0a91f38756be901002ad7696ac98', '1', '1508219638.35', '0', '629', 'vv', '3', 'vv2')]
printing
[('06c30fe7b3d71c2954e761f130a59e908b546e66324b6fbdf3db2d47', '1', '1508212402.65', '0', '636', 'Macca1', '4', 'Macca12')]
```; before forloop ```hash_addr = [] ``` after forloop ``` hash_addr.append(mrate) ``` then i jsonify it ``` 'hash': hash_addr
 ```"
"<@Minh> if you `print(mrate)` after the for loop, what's in it?"
"``` [[('06c30fe7b3d71c2954e761f130a59e908b546e66324b6fbdf3db2d47', '1', '1508212402.65', '0', '636', 'Macca1', '4', 'Macca12')]] ``` its the last ouput; want to see my full code?"
"Yes, please"
wait a minute
you could try checking to make sure your indentation is consistent; mixing spaces/tabs could cause that
<https://github.com/vv181/gopool/blob/master/api.py>
"<@Minh> <https://github.com/vv181/gopool/blob/master/api.py#L87> is within the for loop. On each iteration you recreate `mrate`, thus after the last iteration it contains only the last result"
"it's fixed, thank you very much"
"By the way, <@Minh>, this `monitoring` function is so huge already. You should split it into smaller functions; A good function body size is about 15-20 lines at max"
"ok, thanks for suggestion, i'll split it later"
Is running `wget` using `subprocess` ill-adviced for any particular reason? `urllib` just seems like a hassle and `requests` don't work with ftp; I keep finding old answers that do not work anymore for `urllib` and I can't make decent sense of the documentation...
I don't know but maybe there is a FTP module? 
I think `urllib` uses `ftplib` internally
Otherwise subprocess is not ill adviced in my opinion for simple stuff where complete program already exist 
"Well, turns out I could access my files through https instead. Problem solved, thanks for the input"
"Hello guys
So I have an X matrix of dimension (762, 64) and y matrix of dimension (762,)
When I try to use np.scatter(X, y) I get an error that X and y must be of the same size
Any ideas?"
They aren’t the same size?
Apparently not; Im not sure what can I do in this case; Im trying to build a binary classifier with 64 features; So my data consists of 64 columns and 762 rows; I'm not sure why do X and y have to be of the same size
"No I was saying that they aren’t the same size, hence the error "
Oh I'm aware of that I just don't know how to tackle that problem or why should they be of the same size
"What is the second dimension of y?; If there isn’t, then it’s a 1d vector and a 2d array, and they can’t be plotted together "
"Its kind of like
```
[ 8.  9.  8.  8.  9.  8.  9.  9.  9.  9.  9.  9.  8.  8.  9.  8.  8.  9.
  8.  9.  8.  9.  9.  9.  9.  8. 9.  9.  9.]
```; So I guess I have to turn that into  [[8][9].. etc] ?"
You need to have coordinate pairs. You can't simply plot the value x=5 without a corresponding y-value.
The simple way to say how to fix it is make it both the same type and size
"Sure, but if every row(consisting of 64 features) has 1 y then it can never be of the same size no?; So the only thing I can get is 762, 64 for X and 762,1 for y; Heres how Im making the data; ```def preprocessing(file_name):
    # Generate numpy array from csv file
    csv = np.genfromtxt (file_name, delimiter="","")
    
    # Initialize matrices
    X = []
    y = []
    
    # Filter data
    for i in range(len(csv)):
        if csv[i][64] == 8 or csv[i][64] == 9:
            X.append(csv[i][:64])
            y.append([csv[i][64]])
            
    return np.array(X), np.array(y)```"
"Yes, you’re not constructing them with the same size. ; Think about it this way: how would you even plot that?"
I agree I can't plot that; So I guess I have to add columns? columns of zeroes?
I don’t know what value to give them as I don’t know what the data is or what you’re trying to accomplish 
"Im just trying to make a binary classifier (8 or 9 instead of 1 -1) using linear regression; I just have numbers as data; randomly generated; I have 65 columns, the first 64 are the features and the last one is the output (8 or 9)"
Why scatterplot?
"I was just splitting my training sets incorrectly, everything worked fine with i used splitting with sklearn <@Patty> <@Scot>; Thank you!"
hey is it possible to pass a variable within a dictionary ?
"not sure what you mean, but you can pass a dictionary"
for example taking raw input and passing in to the value of a dictionary
"```adict = {}
myresult = myfunc(adict)```
is valid"
"```user = raw_input('please enter username: ')
     passw = raw_input('please enter password: ')

payload = {""username"": 'user',
           ""password"": 'pass',
           ""Content-Type"":""application/json"",
}```"
if you put `'` you create the string `user` but if you don't put them you reference the variable user
"yah, you want the vars, not the strings, so remove the quotes around the varnames"
Thanks for that I'll give it a try
"Hey folks. I'm a relative noob, but I've been doing some self learning for a while and I'm looking to break into a technical role.

I'm talking with a person about a position that requires ""strong Python and SQL skills"". I'm most experienced with Python, but on the main project I worked on that would have required SQL (a flask web app) , I ended up using SQLAlchemy instead of writing SQL statements. I have a basic understanding of SQL though, and could figure out more complex queries with some extra time.; Say they see my resume, decide to call me, and ask about my SQL skills. Would it be reasonable for me to say something like, ""Well, I have a basic foundation in SQL, but perhaps to handle some more complex queries I'd set up and use SQLAlchemy""? Or would I get laughed off the phone?"
"I wouldn't mention ORM until they ask; actually don't tell them anything and only answer questions they ask you, that's a safe bet"
did you use sqlalchemy orm or the core?
orm
start learning the core. it will not be that hard of a jump knowing the ORM. the ORM is built on the core which at its heart is a Domain Specific Language (DSL) for SQL that is written in python. The syntax is really similar to what SQL statements look like. When you feel comfortable writing SQL core queries then you can answer confidently that maybe you don’t have a lot of experience writing raw sql b/c you like to use tools that take care of parameter binding and reduce risks of sql injection. You can also say with confidence you understand what makes up SQL and don’t think it would be difficult to learn since you know sqlalchemy core and orm.
and to add a nice resource to practice …; <http://sqlzoo.net/>
SQLAlchemy is a very useful abstraction layer on top of the database. I’m sort of the opposite. I came into SQLAlchemy from the database world so I had already nearly written applications in raw SQL. That’s one of the reasons I found Python. I needed more power!; you can also dump the sqlalchemy queries and study them.; i gotz all sorts of sqlalchemy tricks in here: <https://github.com/openstax/biglearn-sparfa-server/blob/master/sparfa_server/db.py>; I’ve done plenty of interviews where i may not have been an expert on many parts of the job but if i was able to display with confidence my capability to adapt and learn then that made all the difference.
"Awesome! Thanks <@Johana> for those ideas and <@Winnifred> for that resource.; Yeah, that's what I'm banking on here. I have a foundation to work from at least, but depending on how long it takes from resume submission to phone interview, I just wanted to have _something_ to say"
"yea, the safe answer is typically, “i like to use tools that take care of parameter binding and reduce risks of sql injection, like sqlalchemy which i’ve done …. yada yada .”"
dbapi? :stuck_out_tongue:
sqlalchemy is a cool toolkit as it doesn’t hide too much of the database away. in other ecosystems a lot of devs don’t even know what the db schema looks like.; cough* .NET
h i b e r n a t e; I love SQLA for this. Once I saw that m2m tables are not abstracted away I fell for Alchemy hard..
"yea, when i was instantly talking to the database and being productive i was sold. i gotta admit though it changes your thinking. when you come strictly from the db world you think about data as sets. You don’t think about working at the individual row level and iterating. Then when you get into programming it flips your mindset.; the last thing you want is a cursor b/c it’s slow."
<@Kenny> You could also review some SQL interview questions and do some SQL problems on Hacker Rank or something. It's unlikely anything will get much deeper than what you could get out of playing around with that stuff for a bit
"That may not change your self-assessment of SQL skillz, nor should it, but chances are they will ask a handful of things that are easily covered by those sorts of resources"
I've yet to use SQL Alchemy. Is an ORM really that much better than just writing SQL?
"for about 80-90% of the stuff you do, yeah; but there are cases where raw sql is better; especially with optimized queries and such.  in addition, some ORMs can create lots of duplicate queries during the compilation process"
What is the advantage of it?
ease of use; makes quite a few things easier when executing queries
Interesting. May have to give it a try some time. Since we've switched to DreamFactory I'm usually just calling a stored procedure through a rest api.
then you gotta write that query…
Yes. Most of them are easy though.
"I mean, I wouldn’t want to write this query out by hand"
"Most of our data isn't all that relational. Lots of small projects with hundreds of thousands of records, but relatively flat.; Haha, nah, no interest in writing that."
"with that, its basically fifteen lines in Django ORM,"
how many records is that ?
me or <@Meghan>?
"Sorry, you, should have specified :slightly_smiling_face:"
"hmm, small database but with plenty of tables; so, for this particular query, it aggregates over about 8k rows"
"ah, gotcha"
so I basically made a model manager in django; created a metrics method to aggregate; and I pass in extra fields in a dict with the evaluation to occur
i’d like to write that just to reminisce on my T-SQL and PL/SQL days
masochist :smile:
Should the ORM create the schema or is it better to adapt to an existing one?
you can do both; django will let you create models from an existing schema; or you can create it from your model definition
"<@Meg>, do you cache a lot of your queries?"
yes; and profile; `django-silk` really comes in handy; but caching is a little tricky because you basically have to try to strike a happy medium between cache lifetime and new data
"ah, nice, I need to figure out efficient caching"
what are you using?
"no current projects right now, but I was running into problems with ORMs and large queries out of a redshift  instance; but I think this is because I hadn’t transformed the data enough to get the data to a point where it requires a simple query"
We've been using django-cachlot for a while and haven't had any real problems with it: <https://github.com/BertrandBordage/django-cachalot>; Perhaps that doesn't sound like a resounding endorsement lol but what I mean is it does what it says and we haven't had any painful gotchas
hahaha; how can you ask for more?
would definitely give it a :thumbsup:
Hi all - simple question. How can I print out the contents of a generator object?
"```&lt;flask_restplus.reqparse.RequestParser object at 0x1132b3ed0&gt;```; Iterating through does not work, nor does coercing to a string."
"sure, you just have to consume it first"
`next(obj)` ?
In what manner <@Frieda>
generally convert to a list or some similar thing; list(generator)
"if it really is a generator object, you should be able to consume it to a list or a string or whatever (list is probably safest) and then print that"
Assuming of course it doesn't generate infinitely. I think list(generator) would be bad if that were the case. :wink:
"Yeah I tried to consume to list, and that did not work. Perhaps not truly a generator object?"
look it up in the source and see what's actually being returned? ¯\_(ツ)_/¯
```TypeError: 'RequestParser' object is not iterable```
"yeah, I fired that off a bit prematurely, sorry"
"generators are permitted to never halt; or, finish, whatever you want to call it; you could print out the next() item from a generator, or do it a few times; SO suggests one possible alternative:
```g1 = gen()
[g1.next() for i in range(10)]```"
<@Amie> what made you think its a generator to begin with?
^^; <https://github.com/noirbizarre/flask-restplus/blob/master/flask_restplus/reqparse.py#L291>; it doesn’t look like a generator to me
May want to take a look at the usage here: <http://flask-restplus.readthedocs.io/en/stable/parsing.html#>
Turns out it is not
I am having trouble accessing the contents of RequestParser essentially
Can you share your code?
"Sure; ```  @api.expect(post_parser)
  def post(self):
    response = ApiResponse()
    try:
      args = self.post_parser.parse_args()
      args.jira_ids = [] if args.jira_ids is None else args.jira_ids
      args.slack_channels = [] if args.slack_channels is None else args.slack_channels
      pod = Pod.new_entity(**args)
      response.result = pod.to_dict()
    except Exception, e:
      print e
      response.handle_exception(e)
    return response.to_json()
```; For context:

```@api.route('/')
class PodListAPI(Resource):
  post_parser = reqparse.RequestParser()
  post_parser.add_argument('name', type=str, required=True)
  post_parser.add_argument('description', type=str, required=True)
  post_parser.add_argument('jira_ids', type=str, action='append')
  post_parser.add_argument('slack_channels', type=str, action='append')```; The exception is being caught at the line where the value of ‘args’ is assigned; My main objective is to identify the contents of post_parser; You are absolutely right"
"yeah i was re-reading there, but it doesnt look like that reference will ahve anything"
"Also, why are you defining the class under the root route of the API?"
"I’m not, just the paste order :slightly_smiling_face:; Here is updated:

```@api.route('/')
class PodListAPI(Resource):
  post_parser = reqparse.RequestParser()
  post_parser.add_argument('name', type=str, required=True)
  post_parser.add_argument('description', type=str, required=True)
  post_parser.add_argument('jira_ids', type=str, action='append')
  post_parser.add_argument('slack_channels', type=str, action='append')

  def get(self):
    """"""List all Pods.""""""
    response = ApiResponse()
    response.result = Pod.get_all_entity_as_dicts()
    print response.result ######### REMOVE
    return response.to_json()

  @api.expect(post_parser)
  def post(self):
    response = ApiResponse()
    try:
      args = post_parser.parse_args()
      print args
      args.jira_ids = [] if args.jira_ids is None else args.jira_ids
      args.slack_channels = [] if args.slack_channels is None else args.slack_channels
      pod = Pod.new_entity(**args)
      response.result = pod.to_dict()
    except Exception, e:
      response.handle_exception(e)
    return response.to_json()```; Actually, self.post_parser would exist."
What does the `__init__` of `PostListAPI` look like?; or is it just inheriting from `Resource`?
Inheriting
post_parser is an assigned variable based on the output of a method
"<@Amie>, I think you need to pass args into your `post(self)` call.; Actually, you’re trying to do that through the decorator.; Did you see the example <@Patty> posted? Move your parser to the module level (outside of your `PodListAPI` resource and then within the `post` call reference your args via `args['name']`, `args['description']`, etc.; <http://flask-restplus.readthedocs.io/en/stable/parsing.html#file-upload>"
"Let’s look; <@Winnifred> I have multiple routes in the same file, each with their own args; I could split it out, but is it necessary?"
Is there no way to run Pytest on windows?
did you install it with pip?
"Yes, tried pip and easy_install <@Meg>"
Probably not
has anyone ever had to deal with converting unicode to string literals ?
<https://nedbatchelder.com/text/unipain.html>
there's a ```u'01sdggsgd7986966960880'``` In-front of my value
might want to look at that
cool
"This is my file structure
```
├── packages
│   └── psycopg2
│       ├── psycopg2/
│       └── psycopg2-2.7.3.1.dist-info/
└── team_configs
    └── team.py
```

and in my team.py, I have `import psycopg2` which doesn't work since the import path is wrong. But I don't know how to read from parents folder from team.py. I want to do something like `import ../packages/psycopg2`. Any suggestions?"
is there a reason you're manually installing/finding packages?
<@Frieda> serverless.yml packages it this way.. I figured python would be easier to correct it
ok
I really love python except for import thingy; never ever understand why it'ss so difficult
it's not?; python's packaging works. `serverless.yml` is the one doing it weird
"wait, so my problem is easily solvable?"
"i mean, sure, maybe? you could add each directory in `packages` to the `PYTHONPATH`?"
ok that will be difficult. These files are going to run on AWS ec2
there's a whole `os` module that can find the directories without you knowing exactly where they are. or even what exists.
the packages directory for serverless is only supposed to be for deployment
oo!
you're supposed to still use a virtualenv for local development; and a requirements.txt to keep them aligned
or maybe `pipenv`
ok I am not going to explain why ... exactly this happened. But the gist is that pip installed libraries don't compile well under amazon linux. So I had to docker in and do some bs to download compilable libraries. but... anyway the end result is the folder structure above. I don't want to move them under team_configs folder since than I will have to make copy of psycopg2 for every other python files too. This is just tip of the iceburg.; today has been long :disappointed:
did you try something like this? <https://serverless.com/blog/serverless-python-packaging/>
I saw it and tried to avoid plugin if there was easy way out. I guess i will have to use it.
it feels like you're making this harder on yourself than you need to
for not using plugin?
"just this whole combination of things; but, sorta, yeah. i mean, if a problem is solved..."
dude I know; I think I'm just a bit slow; thanks for helping out
haha i wouldn't say you're slow at all; purity only goes so far
yeah
"anyway, good luck with it. i'd love to hear how it turns out. i've been meaning to try out serverless stuff but haven't had a reason yet"
Thanks. I've decided to just flatten out my directory structure since each lambda functions are modular anyway. That way all lambdas can share utils/ and packages/ etc.; serverless is great dude; my stack is redshift - api gateway - lambda - s3 _static_ web host
nice. what are you doing on it?
i am on an internship and my team needs an internal tool; some dashboard graph stuff
It’s similar  that  Sentry ?
"Hello, is there a better data structure than this one in order to store synonyms of keywords:"
"```
main_tokens = {
        'weather': 'meteo',
        'meteo': 'meteo',
        'sunny': 'meteo',
        'raining': 'meteo',
        'email': 'email',
        'mail': 'email'
    }
```"
<@Kathern> the choice of a data structure depends on how you're going to use it; Use triple backticks: `````````; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages>
thank you <@Collette>. I want to use it for speech recognition : to find which command to run based on what the user wants
"Sounds like you need a power of stemming, lexical analysis and such. A simple dictionary of synonyms won't work.
I'd suggest to take a look at existing implementations, like NLTK (<https://pythonprogramming.net/stemming-nltk-tutorial/>) or even maybe elasticsearch/solr"
"in short, this is a non-trivial task"
"ok, thank you"
"good to remember though that stemming will probably not help for determining synonyms since a synonym often doesn't look anything like the other word or phrase; you would still need a synonym dictionary of terms; for example, check out section 12.6.3. Synonym Dictionary in the Postgres docs <https://www.postgresql.org/docs/9.6/static/textsearch-dictionaries.html#TEXTSEARCH-SYNONYM-DICTIONARY>"
"if you’re using boto3 in a long running celery task, is it a good idea to initialize a connection on task start and have it available through the whole lifetime of the task, or initialize it on demand when required?"
anyone know of any good resources for learning algorithms in python?
there is some in our repo
"for the bot?; well, going for an in person interview for a place in SF and I know algorithms will be a topic. so I need to brush up and try and learn some I am not familiar with.; some times being self taught has its drawbacks. lol"
the learning ressource one; <https://github.com/pyslackers/learning-resources/blob/master/topics/algorithms.md>
ooh nice. thanks; <@Ciera> :taco:; i found this too <https://github.com/TheAlgorithms/Python>
add it to the doc <@Bruno>
"What place? Just curious, I work in sf :)"
yea ill submit a PR; done
dropbox
"Sorry have a quick php question, anyone know why `$_FILES` would be empty when uploading a file? I am submitting the file via postman so the issue isn't malformed HTML and I have confirmed that the issue isn't coming from the settings  mentioned in the link below (temp dir is set, file upload size isn't too small, etc). Also, this issue just started happening within the past week (we recently moved servers, which may have had some affect, but a similar upload worked yesterday in another spot so I'm not sure). Any help would be greatly appreciated:

<https://stackoverflow.com/questions/3586919/why-would-files-be-empty-when-uploading-files-to-php>"
Cool! Good luck :) 
"thanks!; <@Vita> for one this isnt php chat. 2, all of my suggestions are pretty much in the first answer in that SO post. did you confirm all of those and make sure those things were enabled or fixed?"
"<@Bruno> yea i did, and sorry I know it wasnt php but i thought someone here might have knowledge on it, I can delete it if need be"
its fine.
"the first time i went into the #pocoo channel on irc i saw armin ronacher helping a guy. The guy was trying to run python scripts like php where the url is like `<http://mywebsite.com/file.py>` and trying to work with flask. I couldn’t believe how amazingly patient armin was. Armin kept repeating over and over for them to do the tutorial and they didn’t seem to want to try to understand. i eventually ended up with a headache b/c the guy was being so difficult and didn’t want to try any suggestions. I was impressed with how patient he was and it left an impression on me since i was just getting into Flask and saw the author himself helping someone who was being difficult and never losing their cool.; and after that day i saw armin like one other time, lol."
"0_o really cool of the author to do that, suprising the guy wouldnt listen to the AUTHOR of the framework"
"yea, it was … difficult. i wanted to go nuts and yell, “PYTHON IS NOT PHP!!!!”"
Lol considering watching your patience with all of us in the <#C0LN2AD7T|flask> channel that makes me kinda cringe at the thought of hwo bad it was
"haha, like i said. he left an impression on me and now i try to take the patient approach."
Nice!
i guess i was really amazed that he would even take the time to help.
It does say a lot about the guy willing to help a total beginner on it
"he’s a pretty interesting guy. i tried to ask him a lot of questions about his decisions in flask whenever i did get a chance to see him. He always gave these very simple yet cryptic replies. One time I asked kinda a silly question b/c i was a newb but impressed with the flexibility of Flask. I asked him what I could read, learn, or do to write applications that were extensible and flexible. He wrote back, “Don’t write software that isn’t flexible.” At the time I was confused and like “oh … ok”… but now I know what he meant and in the end it was a pretty good answer."
Lol nice :joy:
"I feel like that should be followed with a ""But don't write software that is too flexible"""
lol; which can be a shortcoming for flask sometimes; he later wrote me back saying he sometimes has trouble articulating his thoughts (i was very surprised by that b/c his writing is good) and that I should ensure that my stuff has a lot of “hooks”.; i spent a lot of time looking up what hooks were lol.
"""Don't write software that isn't flexible"" is itself a pretty flexible answer."
I like the hooks line though
i may have used the word extensible and not flexible but whatevs; it was a number of years ago.
I don't often think of my code in terms of events but it's probably worth putting myself in that mindset more
they're interchangeable when you're not being terribly specific about your meaning
"Oh boy this is funky, I need to coerce csv values to match the type in the database (to abstract away some ETL stuff), is there a better way than:

```
    def same_data(self, csv_row: Dict[str, str],
                  db_record: namedtuple) -&gt; bool:
        for csv_name, col_name in self.csv_to_col.items():
            col_val = db_record._asdict()[col_name]
            csv_val = type(col_val)(csv_row[csv_name])  # coerce
            if col_val != csv_val:
                return False
        return True
```

where `col_name` is the database column name, `csv_name` is the csv column name, `db_record` is a named tuple from psycopg2, and `csv_row` is a dict from a csv.DictReader row"
TIL: `type( )( )` pattern
"I am not sure I recommend it yet, it's really the only reliable way I could think of doing the coercion to do the comparisons"
"had a need to coerce values from an Excel import, into Django models, and I used a mapping of the columns to the type, not as concise as your example but explicit"
"I thought about that as an option too - but I like the idea of the database being the ""source of truth"" for this project since it's just a data pipeline (I want it to be low maintenance). But that is a good option too"
do table columns and csv headers have same name or are they similar?
"Not always, but I just expanded it to default to the same if no `csv_to_col` is set on the class; Because that is serving as a mapping of csv row to the db row"
"yeah, I actually like this. I just noticed you’re using a namedtuple."
Yep! Psycopg2 has a NamedTupleCursor; also a dictcursor
it made a lot more sense in my case b/c with Django as the intermediary the model class can still be the source of truth - I later created a module that uses the ModelForm so it can validate and coerce as necessary as well
"Yeah, that totally makes sense!"
"yeah, the mapping aspect is covered here and I think that’s the important part —  ~I wonder what the internals of the coercion are~"
"If it's a complex class it probably wont work, but it's all database primitives (Decimal, float, int, string) pretty much"
"I don't see anything wrong with using `type` like you have here - you need to read that line a bit carefully to see what's going on, but it strikes me as a reasonable strategy"
"And they all have constructors like `int('1')` or `str('foobar')`; Thanks for the feedback on it, I will add a little comment to make sure it's clear when I come back in two weeks and :facepalm: about some bad assumption I made :joy:"
"So I was reading <https://stackoverflow.com/questions/715417/converting-from-a-string-to-boolean-in-python> and I was wondering, what IS the standard? I wrote my own str_to_bool function and just reuse that, but it feels like there should be an easy built-in that I'm missing"
"<@Marcelina> I'm not sure that I get the question, so to clarify, you're trying to evaluate string `""False""` to `False` and `""True""` to `True` or what?"
"Correct; `bool(""False"") = True`"
"write your own map, and a function to parse it correctly"
Which is what I did - I'm asking what's convention
"Depends on what you're doing, IMO. In cases where you are accepting user input directly from a shell or something, then I would do the approach `input_value.lower() in ['yes', 'y', 'true', '1', ...]`; Otherwise I'd just make sure the thing gives you the right `type`; I don't believe there is a different convention than that"
Parsing a payload from a JSON object with users who go back and forth between using a bool correctly in a JSON payload vs sending it as a string; But cool; Sounds good; I just wasn't sure if there was a built-in I was missing
"If you are defining the contract for the API, only accept bools; Or give a 400; No reason they can't do the work on the front end since a bool is valid in the JSON spec"
"hello, people!
i am starting to use `pytest` for a project and trying to get my head around the best and correct design patterns of using fixtures.
specifically, i have a couple of questions:
1. if i want to have a fixture that can serve both a single test at function scope and a bunch of tests in a class/module scope (determined by command line option at runtime) - shall i create 2 fixtures that provide basically the same dependency (a Class instance, that prepares and exposes a resource I'm testing) but each decorated with different scope? what is the best way to tackle this?
2. is it common practice to use the request.config as a place to store shared data that can be accessed by different fixtures? what is the better way?

thanks for any help in advance! :slightly_smiling_face:
p.s.
are you familiar with any open source projects that leverage pytest extensively - for more than just unit tests, with complex fixtures that uses other fixtures, etc... so one could learn from?"
"<@Arlean> 1. Why? Do you have an example?
2. I'd use a shared session-scoped fixture instead"
"I am using the open() function to append a file however, this function creates a new file if it does not exist. How do I disable this part. I only want to append existing files and not create new ones if they aren't available. Any help would be much appreciated"
check if a file exists first; then open it
use `os.path.isfile()`; for checking existence
"or `os.path.exists()`  

they basically do the same thing here"
When would i use `exist` over `isfile` ?; Works for directories as well I see
"correct; so, its a bit of duplicate functionality; `isfile` would work for a path to a file, `isdir` is for a path to a directory; `exists` covers both, with some potential issues of permissions"
"I'd rather go with ```
try:
    with open(filename, 'r+') as f:
        f.seek(0, 2)  # Seek to the end of the file
        # proceed with reading/writing
except FileNotFoundError:
    pass
```; `os.path.exists` and `os.path.isfile` are both error-prone to race conditions"
"Seems a bit of an overkill for most of my purposes, but good to know..."
"```
import os
if os.path.exists(filename):
    with open(filename, 'a+') as f:
        # proceed with reading/writing
```
is only 2 lines shorter. The correct version doesn't seem to be a huge overkill to me :slightly_smiling_face:"
Enlighten a dummy: Any penalty to speed using `seek`? My files are in the 10-100Gb sizes from time to time
"You need to be at the end of the file if you want to append, so it's doing nothing that wouldn't already be done"
"<@Scot> CPython calls `lseek` with `whence=SEEK_END`
<https://github.com/python/cpython/blob/master/Modules/_io/fileio.c#L908>"
I suspect I may have misunderstood the intent of the `seek` way of doing it from the get-go. Understood it as a general better replacement to using `os.path.isfile`
"No, `seek` is a way to move the current file pointer over the file as you wish"
thank you all for your help; my code is up and running :slightly_smiling_face:
"<@Collette> - thanks for suggestions. have some followup questions though:
1. example? I want a fixture that sets up some Server and then test it - either by providing a fresh Server instance to every test (function scope) or by reusing the same Server for a bunch of tests (class scope) - the Server setting up fixture is the same - the usage is different. 
my idea was to have:
```
@pytest.fixture(scope='function')
def server_for_single_test():
   return Server()

@pytest.fixture(scope='class')
def server_for_tests_in_class():
    return Server()
```
but this feels rather redundant, no?

2. regarding the pytest shared session fixture suggestion...
wouldn't this mean i'd need to have every fixture define it in it's args?
```
def fixture_a(request, shared_state, ...):
    pass
```
no way to avoid this? feels like autouse wouldn't fit here as i need access to the shared_state instance somehow"
"<@Arlean> 
1. Yeah, I got what you meant. But _why_ do you need this? What problem you're trying to solve with that?
2. Yes. Just like you'll need `request` fixture requested in every single test"
"<@Collette> 
it is not really a problem, more a constraint.
* the Server I'm testing takes a while to bring up and configure, so I would like to minimize this time during tests and have multiple tests run against same Server
* on the other hand, some tests are more destructive than others and might affect other tests if they run against the same Server - so I would like to have them run separately
* in addition, would like to have the option to decide on which way to run from command line flag and not for example forcing all tests be in classes even if they are classes of single test

hope this makes sense; oh, and for 2. there is a workaround:
```
import pytest
...
def some_test_or_fixture(request):  
    assert pytest.config == request.config
```
so i do not *have* to pass request just for some shared data"
"Alright. I'd put these two kinds of tests into separate folders, with different fixtures, and run them like `pytest tests/shared` and `pytest tests/destructive`; To me a cli switch is not enough when doing destructive things. I think you have to be explicit about what you're doing, and it's better to minimize the possibility of running a wrong suite; Anyway, I'd go with two different fixtures"
"ok, I'm glad I was in the same basic direction with defining different fixtures for this
thanks :slightly_smiling_face: :+1:"
"I currently have a colour enum that has a predefined set of standard colours
however rarely a custom colour is given that isn't defined in the enum
is it possible for the enum to have an else clause?; So that it can also hold the custom given colour?"
Is there any function in Sklearn that plots the learning curve of a model in terms of Ein-sample and Evalidation? ; The default one uses score or accuracy i think
"I have list of dictionaries like this 

```
[
{'DBSnapshotIdentifier': 'rds-beta-api-manual-2017-10-15-215632',
'SnapshotCreateTime': datetime.datetime(2017, 10, 15, 21, 56, 52, 558000, tzinfo=tzutc()),
'Status': 'available'},
{'DBSnapshotIdentifier': 'rds-beta-api-manual-2017-10-16-074817',
'SnapshotCreateTime': datetime.datetime(2017, 10, 16, 7, 48, 48, 646000, tzinfo=tzutc()),
'Status': 'available'},
{'DBSnapshotIdentifier': 'rds-beta-api-manual-2017-10-16-190649',
'SnapshotCreateTime': datetime.datetime(2017, 10, 16, 19, 7, 14, 164000, tzinfo=tzutc()),
'Status': 'available'},
{'DBSnapshotIdentifier': 'rds-beta-api-manual-2017-10-17-070650',
'SnapshotCreateTime': datetime.datetime(2017, 10, 17, 7, 7, 20, 880000, tzinfo=tzutc()),
'Status': 'available'}
]
```

How can I make sure that I have this list always sorted based on `SnapshotCreateTime`(ignoring the fact that this list is already sorted)?"
you can use a heapq; as long as you treat it like a stack
"```from operator import itemgetter
sorted_list = sorted(list_of_dicts, key = itemgetter('SnapshotCreateTime))
```"
<@Meg> but he always wants it sorted
"<@Winnie> my bad, would want this list to be sorted after all the insertions (dicts) have happened"
"ok, so my method would work"
"<@Gabrielle> with a heap, it will auto sort as you insert"
"<@Winnie>’s would work if you needed some sort of rolling, always-available stack"
"<@Meg> let me try it out. 
<@Winnie> will look it up. Thanks :slightly_smiling_face:"
<@Meg> woyld you know what to do with my problem :stuck_out_tongue:
this q on SO might help; <https://stackoverflow.com/questions/29795488/how-to-test-if-an-enum-member-with-a-certain-name-exists>
<@Winnie> Can you give more details about what you're trying to do/what the ideal use case would look like for you?
"the current project I'm working on uses an Enum to store a set of default colours; however this was a bad design decision because colours can also be customised; and so now I've run into that issue where a Colour Enum was tried to be created but couldn't because it wasn't pre-defined; is ther esome way to define a custom element in an enum to hold any colour?; ```
&gt;&gt;&gt; from enum import Enum
&gt;&gt;&gt; class Color(Enum):
...     RED = 1
...     GREEN = 2
...     BLUE = 3
&gt;&gt;&gt; Color(RED)
Color.RED
&gt;&gt;&gt; Color(BLACK)
Color.CUSTOM"
where CUSTOM can be dynamically changed? or just that any non-existant key maps to a pre-existing CUSTOM?; if the first I don't think that's possible with Enum
"wait let me edit that; ```
&gt;&gt;&gt; from enum import Enum
&gt;&gt;&gt; class Color(Enum):
... RED = 1
... GREEN = 2
... BLUE = 3
&gt;&gt;&gt; Color(RED)
Color.RED
&gt;&gt;&gt; Color(1)
Color.RED
&gt;&gt;&gt; Color(1).value
1
&gt;&gt;&gt; Color(4)
Color.CUSTOM
&gt;&gt;&gt; Color(4).value
4
```; <@Antionette>"
How many customs do you want to be able to have?
for every possible colour
So the code using this then goes something like `if Color.RED: color_value = '#ff0000'`
?
"more correclty the code is
```
class ThreadColor(Enum):
    """"""Used to specify a thread colors""""""
    MESSENGER_BLUE = ''
    VIKING = '#44bec7'
    GOLDEN_POPPY = '#ffc300'
    RADICAL_RED = '#fa3c4c'
```
And tries to make a color given a user string
```
return ThreadColor( '#44bec7')
```; but now I need it to be able to work for any hex string"
Sounds like maybe instead of an enum you'd be better with a dictionary
"Yes, absolutely should be a dictionary, but that depends on how much code needs rewritten."
"not much, but it just wouldn't be backwards compatible"
"From the linked SO post, why not `try/except` if you have to use Enum?"
"<@Scot> 
well I can do
```
try:
    return ThreadColor(string)
except ValueError:
    return ...?
```"
"<https://stackoverflow.com/questions/28126314/adding-members-to-python-enums>; There are two reasonable options there. Either an advanced enum written by the author of the enum library, or redefine the enum. I was working on a third option before I hit a bit of a snag."
"Where I am so far:
```
class Color(Enum):
    RED = 1
    GREEN = 2
    BLUE = 3

    def add_custom(self, name, value):
        pass

pprint(Color.__dict__)
Color.__dict__['_member_map_']['PURPLE'] = 5
Color.__dict__['_member_names_'].append('PURPLE')
Color.__dict__['_value2member_map_'][5] = Color.PURPLE
pprint(Color.__dict__)

mappingproxy({'BLUE': &lt;Color.BLUE: 3&gt;,
              'GREEN': &lt;Color.GREEN: 2&gt;,
              'RED': &lt;Color.RED: 1&gt;,
              '__doc__': 'An enumeration.',
              '__module__': '__main__',
              '__new__': &lt;function Enum.__new__ at 0x02372A08&gt;,
              '_generate_next_value_': &lt;function Enum._generate_next_value_ at 0x02372A50&gt;,
              '_member_map_': OrderedDict([('RED', &lt;Color.RED: 1&gt;),
                                           ('GREEN', &lt;Color.GREEN: 2&gt;),
                                           ('BLUE', &lt;Color.BLUE: 3&gt;),
                                           ('PURPLE', 5)]),
              '_member_names_': ['RED', 'GREEN', 'BLUE', 'PURPLE'],
              '_member_type_': &lt;class 'object'&gt;,
              '_value2member_map_': {1: &lt;Color.RED: 1&gt;,
                                     2: &lt;Color.GREEN: 2&gt;,
                                     3: &lt;Color.BLUE: 3&gt;,
                                     5: 5},
              'add_custom': &lt;function Color.add_custom at 0x0238D738&gt;})
```"
Someone's told me that Sum Types are what should be used for this but They're not really a thing in python
"<@Winnie> I'd vote for refactoring; You can't preserve backwards compatibility forever using these kinds of hacks; And since you don't have much code to change yet, it's better to break everything now than later"
"<@Collette> yeah I'd agree
I just wanted to see if there was anything possible to oncsider first"
"Even if that is technically possible, I don't see how that would fit the mental model of enums"
So why would a dictionary make more sense?
Did you look at the SO post I shared? It can be done with the aenum library.; Because you can add to a dictionary as you go and can address it by key.
"but I don't really need to address it by key
It's just a unified structure to store a colour
which could just be a string instead.; <@Meghan> I did look at the link, What wouldn't make sense is what the name should be when you add a new one in"
"Should a custom given, non-existent color code result in it being stored under a unique ID for further use alongside other new custom colors?"
<@Winnie> it sounds like you need a mapping between color names and some sort of values. A dictionary can be used to implement such mapping very easy
"I came to Python from C/C++ so I tend to shy away from assigning real meaning to the value of an enum. Whether or not that is idiomatic in python I'm not sure, but I feel like it's a behavior that's unlikely to backfire on me. Dictionaries are meant to map from one piece of info to another which sounds more appropriate for your situation. Enums work best when they are compared with each other but not really used as substitute numbers or substitute strings. That's not to say it's the only way to use them, but it seems the most resilient way"
"Yeah, once the value matters it should be a dict."
"well the thing is that there's only ever one reference to a colour name in the code
I think an enum was used just because they thought an enum would suit the job"
"and it did at the time, but now you want to extend it and it doesn't fit as well as it used to"
actually
"and you can still make it work if you really want, but it will involve a lot of branching depending on whether your enum is custom or not"
an enum kinda fits because the user should only be able to provide the given values in the enum
why not reverse the key:value to value:key and run a dict lookup?
<@Winnie> don't you think that contradicts to what you've said earlier?
disclaimer: it's 2am here
"I'm confused, if the user only gets to use the provided values, why do you need custom at all?"
"okay I think it might be easier to give the longer story
so I'm working on the fbchat module, which interfaces with messenger
messenger would allow you to configure colours given a set ammount
but there was a point where you could just make a get request for any colour
so now I have a facebook chat with a black chat bubble
now fbchat attempts to read in the colour to its pre-defined enum
but now, messenger has made it such that you can no longer make a get request with any colour; so the module needs to be able to accept any colour from a chat
but we need to tell users that only these colours in this enum can be actually sent; so what I'm thinking is to re-factor such that on return of a colour, a string is given instead of a ThreadColor object, but on sending, a user must give a ThreadColor object"
"so it gets the color options from messenger, and offers just those to the user?"
yes
Are the colors documented?
yes
would it work to build a dict from the messenger data and then just catch a KeyError if the user gives something not in the dict?
<https://fbchat.readthedocs.io/en/master/api.html#fbchat.models.ThreadColor>
You really like enums
This isn't my project; I'm just contributing :stuck_out_tongue:
This project really likes enums :slightly_smiling_face:
yeah...; <@Sirena> I think it makes more sense to give the user a datastructure that they have to use as opposed to let them send whatever they want but just fail them when they do it wrong
Might be able to build off of something like this:; if you can somehow find way to get val be a color instead of just the int
<@Antionette> you'd just pass the string instead
well I meant an instance of `Color`; right now the newly added values are different from the values created when the Enum is instantiated
howso
ie in the example that gets printed Color(2) is Color.RED but Color(3) is Custom3 rather than Color.Custom3; it points to just the name rather than a `Color` with the correct name
right; it's probably better to use extend_enum in that case
extend_enum?
"Ah, the class method was what I was getting wrong earlier. Thanks for that."
<@Antionette> <https://stackoverflow.com/a/35899963>
"ah sure, that looks like its a much more fleshed out version"
<@Sirena> were you typing something?
Here's how the enum class adds the initial members so you might be able to wrap that into the add method I posted above if the library doesn't work out for some reason; <https://github.com/python/cpython/blob/3.4/Lib/enum.py#L139>
"<@Antionette> intresting, thanks :slightly_smiling_face:"
"```
from enum import Enum

class ExtendableEnum(Enum):
    @classmethod
    def add(cls, name, val=None):
        # keys_len = len(cls.__members__) + 1
        if not val:
            val = len(cls.__members__) + 1
        new_key = name
        cls.__dict__['_member_map_'][new_key] = val
        cls.__dict__['_member_names_'].append(new_key)
        cls.__dict__['_value2member_map_'][val] = new_key

class NewColors(ExtendableEnum):
    RED = 1
    GREEN = 2

# add a color, show that it works
print(NewColors(2))
NewColors.add('CYAN', 3)
print(NewColors(3))
print(NewColors.CYAN)

# add a duplicate color, this can be problematic
NewColors.add('TURQUOISE')
print(NewColors.TURQUOISE, NewColors(4))

NewColors.add('TURQUOISE')
print(NewColors.TURQUOISE)
print(NewColors(4), NewColors(5))
```

```
4 TURQUOISE
5
TURQUOISE TURQUOISE
```

<@Antionette> It works, but if you add a duplicate it gets confusing."
"I was, but I've deleted it a couple times since I'm having trouble phrasing what I'm thinking"
"You were using Custom#, which avoids the duplicates though.; Would need to check if the name already exists first. But, otherwise I think that should do what Evan is requesting."
Yeah I wasn't sure if a name was actually being supplied or just the color code
"Essentially, I would say that an enum that is mutable isn't terribly enum-like. I get that you would prefer backward compatibility, but when you extend an enum, you sortof break the agreement you have with the code that an enum is always one set of options"
"```
class ExtendableEnum(Enum):
    @classmethod
    def add(cls, name, val=None):
        if name not in cls.__members__:
            if not val:
                val = len(cls.__members__) + 1
            new_key = name
            cls.__dict__['_member_map_'][new_key] = val
            cls.__dict__['_member_names_'].append(new_key)
            cls.__dict__['_value2member_map_'][val] = new_key
```

This should work, other than value can't be changed once an item is created. Which I think is what you would want."
<@Sirena> I agree
And it does look like some of the other models are based on other datatypes so if the refactoring isn't too bad I don't think the maintainers should mind
My biggest peeve with this module is camelcase; but yeah this module needs a complete style do-over
"yeah, some habits never die. Just gotta hold your nose if you can't talk the maintainer into changing it though"
"Anyways, thank you all for the massive help in this issue :slightly_smiling_face:
<@Sirena> <@Antionette> <@Meghan> <@Collette> <@Scot> <@Meg>"
hopefully it works out well for you <@Winnie>
"Hi Django community! I'm just picking up Django and have a related question.
I'd like to user Postgresql as the db source and I'm a little confused. 
Is this the right approach:
1. Install Postgrsql server (MacOS)
2. pip install `psycopg2`
3. run migration"
"Hey <@Gerardo> 
You might have more luck in <#C0LMFRMB5|django>"
oops I thought I was in django. Thanks <@Winnie>
"hello, is possible to explicitly import `*.pyi` files with containing definitions without having actual `*py` file nearby? As an example, TypeScript use such technique to define interfaces that are used only on compilation time, but not available at runtime."
Does anyone have any good resources for pytest for a newbie trying to wrap my head around it
"pytest docs? they have a ""Getting started"" section"
Thanks <@Suellen> I'll give it a try; seems like a steep learning curve for a newbie
"I mean, most of the stuff that you would normally use is on the first 10-20 pages"
Yea seems little intimidating I'll give it a try basically I would want to run series of queries against an API . which would return the status bunch of nodes; which would send the data to a database; to display within a web browser; is pytest overkill for such a task ?
pytest will work great for that
"<@Kellye> what would you do with the .pyi files after you imported them? In most senses compilation time _is_ runtime, and .pyi is mostly just used for static analysis AFAIK"
"from PEP484:
&gt;&gt;&gt;While stub files are syntactically valid Python modules, they use the .pyi extension to make it possible to maintain stub files in the same directory as the corresponding real module. This also reinforces the notion that no runtime behavior should be expected of stub files."
"<@Sirena> 
that's true, that's why I need them, I want to use custom types from *.pyi files as contracts to function calls. For example defining custom model like
``` class MyModel:
   myProperty:int
```
then I could use it as parameter type in function. I assume mypy can detect that anonymous object follow contract of that virtual type from *.pyi file. like:
`def func(value:MyModel) ...`
then calling it like
`func({""myProperty"":1});`"
"I'm not an expert on this, but my understanding is that .pyi does not enforce a contract like that during run time; if you want to enforce it, you need
```def func(arg1):
  if not isinstance(arg1, classname):
    raise TypeError('received incorrect type in argument 1')```; or something like that; also, I'm not sure I follow your example, if you want the property of MyModel, just use it
```def func(value: int): . . .```
```func(MyModel.myProperty)```; and while it may not be easy or possible to redesign, typically if you find yourself doing typechecks in python, it's possible and recommended to design them out; none of this is hard and fast, just kind of a best practice when you aren't constrained by other factors"
"that's was just an example, basically you end up having 5-10+ props and nested objects. As I referred before, TypeScript makes it possible - you can define an 'interface' that will just specify data layout, but will be cut out after static type checks.; I'm just trying to figure out whether it's possible in python, there's not much information on pyi files; basically resources recommends you to have .pyi files in same structure as your source code"
"I'm not terribly familiar with TypeScript, maybe someone else can field your question on that, but most python interfaces rely on behaviors/methods rather than on types"
<@Sirena> thank you for your help! I'll prepare pseudo code so it's will be easier to explain
ok
"Hi there,
Im not a python developer but web/app developer.
Im currently trying to import some files from another directory.
Tried chdir and importing using sys but getting errors on the includes of the included file.; Can someone help me with that?"
"err, possibly? can you paste the relevant bits of code, and if possible the errors?; if it's more than a few lines, feel free to create a snippet"
Uhh ok..
(using the '+' button)
"i know, thanks; Anyway what is a good ide for python dev ?"
PyCharm is mind blowing
"somewhat up to personal choice but I've used pycharm, vscode, and vim. There are others as well"
"great ill give that a try, thanks!

first try:
```

dir_path = os.path.dirname(os.path.realpath(__file__)) + '/resources/lib'
os.chdir((dir_path))
import crunchy_json as crj
```
resulting in that the module can not be found

second try:
```

dir_path = os.path.dirname(os.path.realpath(__file__)) + '/resources/lib'
sys.path.insert(0, dir_path)
import crunchy_json as crj
```
resulting that import X from crunchy_json’s first couple of lines could not be found"
There's some discussion of editor choice in <#C5CAD2J67|editors>
I do not see that channel
"If you are in the slack client, click the highlight in the message, it should take you there"
"Haha okay, its been a long day, thanks :stuck_out_tongue:"
No worries!
"<@Sirena> did you have a look at the code i’ve just posted?; should be something simple, im overlooking."
"It's generally not a good idea to change your `sys.path`, unless it's something like a plug-in system?"
"Im trying to improve a kodi addon.
the addon it self has some files in the root and then the rest of the code resources/lib etc.
In the root i need to setup a monitor that uses parts of the code in resources/lib; should it be something like `from resources.lib import module_x` ?"
"try printing dir_path before the insert line, is it actually the path you are expecting?"
yeah something like that; I tried that but that it returns errors on the imports that live in crunchy_json
"Yeah, Mark, it is likely that `crunchy_json` does absolute imports; You may have to do the `pip install -e path/to/my/version` route; That installs it in ""editable"" mode (kind of like a symlink) and as you make changes in the lib it will reflect in the other environment you import it into; (note you will need to re-import it)"
"Okay thanks, ill look into that..; i’ve tried from resources.lib import crunchy_json and it looks like it does a little more but then it errors on a include that includes a sub part crunchy_json.
but it looks promising, thanks for the assist"
"is there a more elegant way for conditionally assigning a variable based on the parameter passed in the function other than a couple `if` statements? 
```def foo(bar):
    if bar is 'this':
        ....
    if bar is 'that':
        ....``` It almost seems like the spot for case statements but that doesn't seem to be a better solution imo. The reason I'm using strings is because I am actually checking strings as the condition."
"In a very shortened form: `x = {'this': 1, 'that': 2}[bar]`"
will this work for you?
haven't seen that done before. that's perfect!; <@Suellen> :taco:
Might be obvious but I think its worth pointing out that a key error will be thrown if bar is not something you are expecting
"Then `x = {'this': 1, 'that': 2}.get('bar', 'default')`"
well it was a shortened example :slightly_smiling_face:
that might actually be nice to wrap in a try/except because I am expecting specific strings and don't want it to continue on if I got something I'm not expecting; because... _I don't trust users!_
Is anyone familiar with the Decimal module rounding schemas? Why can't I find a normal rounding schema?
"<https://docs.python.org/3/library/decimal.html#rounding-modes>; I think it would be hard to call one ""normal"", they're all used in different circumstances"
"yeah, none of them are ""if the decimal ends in 0 to 4, round down, else round up"" scenarios; the default is more 0 to 4 round down, 6 to 9 round up, a tie rounds to an even number"
that would be ROUND_HALF_EVEN
Round to nearest with ties going to nearest even integer; nearest even integer? why??
What do you mean? Why use that methodology or why is it called that?
nvm I guess I just want ROUND_HALF_UP
"Ah yes, that matches what your original description was, I was naming what you called the ""default"""
I have been staring at this for too long; just simply glanced over what I needed 20 times
The descriptions are definitely a bit technical/wordy
thanks for being my rubber duck :slightly_smiling_face:
no problem! :rubberduck:
"round half even is generally considered more 'fair' than 5-9 round up, 0-4 round down; due to things like <https://en.wikipedia.org/wiki/Benford%27s_law>"
"```
def somefunc():
    try:
        subprocess.run()  # This will crash
    except subprocess.CalledProcessError:
        logging.error('Oh oh...')

try:
    somefunc()
except Exception as e:
    logging.exception(e)
```

Will both loggings be recorded with this structure? I ran something similar to the above and only got the outermost exception logged, and I can't see any obvious faults so far."
my guess is you’re not catching the right exception in the function
"<@Scot> according to <https://docs.python.org/3/library/subprocess.html#subprocess.run> you need to specify `check=True` if you want subprocess to raise `CalledProcessError`. You don't specify `check=True`, so the except clause within `somefunc` doesn't catch anything"
"Ah, that might be it, thanks"
"yep, good call; &gt;If check is true, and the process exits with a non-zero exit code, a CalledProcessError exception will be raised. Attributes of that exception hold the arguments, the exit code, and stdout and stderr if they were captured."
<@Graciela> go for it. It's <#C07EFMZ1N|help> after all :slightly_smiling_face:
"sorry, _je ne parle pas haskell_ :smile:"
hey everyone; made a python project if yall want to check it out; computer vs computer; rock paper scissors; <http://www.codeskulptor.org/#user43_Z8dkyfm1Jx_1.py>
"<@Analisa>, great course to start off learning python!; I would ask for more specific feedback though when requesting help."
I appreciate the `spock` option :spock-hand:
I like star wars too :wink:
"Could anyone give me some clues if there is an easy way to create and manipulate this object?
<https://github.com/kubernetes-incubator/client-python/blob/master/kubernetes/docs/V1beta1Ingress.md>; Instantiating the object seems easy: `body = client.V1beta1Ingress`"
what's the top notch website for python exercises ?
What kind of exercises ? <https://www.codewars.com/> in fun for challenges and you get to compare your solution with others'
Do strings in yamls have a length limit?
"hackerrank is good too; they have quite a lot of exercises ranging from very simple to quite complex; zero or more suggests that no, there is no limit; although you might have a case where a parser isn't fully conforming to the spec"
great question!
I like <https://pybit.es/>; I don't think so
"```import yaml

# Python will suck up all your memory unless you have more than 64GB for a sting
# My memory size is 16GB so 1024 KB * 1024 MB * 16 GB = max bytes I can use
MAX_PYTHON_SIZE = 1024 * 1024 * 16

my_d = {""MYKEY"": ""SOMEVAL""}

if __name__ == '__main__':
    while len(my_d[""MYKEY""]) &lt; MAX_PYTHON_SIZE:
        print ""Val length: {0}"".format(len(my_d[""MYKEY""]))
        with open('test.yml', 'w') as fp:
            yaml.dump(my_d, fp)

        with open('test.yml', 'r') as fp:
            my_d = yaml.load(fp)
        print ""Successful load""
        my_d[""MYKEY""] += my_d[""MYKEY""]```; I was able to get this up to my memory size; <@Adrianne> I think you would have a hard time hitting the memory limit"
"time range, if the job is aborted"
i have a string thats wrapped on multiple lines. 950 characters. i get tag:yaml.org.2002:str error; <@Marcelina> I have a 950 character string and the yaml passes linting but get a tag:yaml.org.2002:str error. so maybe a memory issue?
"this is the traceback: Traceback (most recent call last):
  File ""C:/Users/PerezE3/Documents/appworx-automation/testing.py"", line 57, in &lt;module&gt;
    main()
  File ""C:/Users/PerezE3/Documents/appworx-automation/testing.py"", line 14, in main
    find_time(begin_report, stop_report)
  File ""C:/Users/PerezE3/Documents/appworx-automation/testing.py"", line 26, in find_time
    if not start &lt;= to_list[2] &lt;= stop:
IndexError: list index out of range"
950 chars should not be enough; Can you give me the full traceback?; And also `pip freeze | grep -i yaml`; And does the string have line breaks?
it does
Can you PM me an abbreviated version of the yaml file? It's OK if it contains junk info.
"<@Kristi> sounds like to_list doesn't have 3 elements. If you wanted the second element, you want index 1 since the first element is index 0. Is that maybe your issue?; or possibly you have a line that doesn't match that format and ended up with a broken to_list object"
"<@Sirena> the list should have 6 element and the one I am looking for is the number 2 starting from 0 which is the time stamp; <@Sirena> maybe what you said about the line that doesn't match the format is the issue; <@Sirena> thanks for point that out, do you know how I can fix that?"
"yeah, try an 
```if len(to_list) &lt; 3:
  print 'not enough elements'```
or something like that; see if it prints a message to you; trouble shoot from there, probably just bad input"
"yes you are right, I put this  if len(to_list) &lt; 3:
                continue; and it works now, thanks a lot <@Sirena>"
is that the behavior you want? seems risky to just skip bad input unless you are pretty certain what is going on under the covers there
"<@Sirena> I did it because I know that the logs files that I need always have the same information, so if I find anything that do not match with that criteria I can skipped. The lines that contain less that 3 items were titles around the file."
<@Kristi> okey dokey. Glad it worked out then.
What Active Directory modules are out there? I'm trying to use PyAD and not having much luck. Wondering if there are other more robust implementations out there.
I've used <http://ldap3.readthedocs.io/> in the past
"‘count = 0

def square(x):
    global count
    count += 1
    return x**2

print square(square(square(square(3))))’; hey all; not sure how to put code in - can anyone explain why x = 3 on the first execution of square?; ahh found it; ```'count = 0

def square(x):
    global count
    count += 1
    return x**2

print square(square(square(square(3))))```"
"You're calling the `square` function with `square(3)`, this passes 3 into the function as the `x` argument of `def square(x)`"
"so literally, I start with x = 3; per the argument of square; or rather, the print statement executes based off of the assignment x = 3"
<@Analisa> this might be helpful -&gt; <https://goo.gl/7LMdUA> (play with forward and back buttons and see what happens there :slightly_smiling_face: )
oh thats a cool tool
"This is probably less helpful but perhaps still interesting, here is the main documentation for defining a function; <https://docs.python.org/3/tutorial/controlflow.html#defining-functions>; Notably this paragraph about function arguments"
"this is awesome; I’ll be sure to read the docs, I think I understand now; thanks for the help!"
"Is there some functionality in sqlalchemy that will take some given Class and convert it to the form it wants?
or is there some module to do that for me?"
<https://wtforms-alchemy.readthedocs.io/en/latest/introduction.html>
<@Collette> huh?
I'm not sure how should I respond to that
"I don't understand what the aim of your link is; maybe you misunderstood me, I'm not looking for forms
I have an existing Class, and I'd like to port it to how sqlalchemy wants it
is there something that will automate that for me?"
Okay?.. You want to generate a `sqlalchemy.orm` model based on some arbitrary class attributes?
those sound like the appropriate words
"<http://docs.sqlalchemy.org/en/latest/orm/extensions/automap.html> You could use something like this to just take it from the db, otherwise it might be simpler to just create the class"
"<@Winnie> everything is possible in python, but that would require a lot of hackery hacks. Why do you want to do that? What's your use-case?; Or that's a purely theoretical question?; You'll basically need to re-implement <https://github.com/zzzeek/sqlalchemy/blob/master/lib/sqlalchemy/ext/automap.py> to use a python class instead of a database"
"<@Vita> the db doesn't exist yet
<@Collette> my use case is that my project consists of a scraper that stores its data as objects, but I want to persist those using a db
All the classes already exist, but from what I understand, if I want them to be compatible with sqlalchemy, I'd have to essentially re-write them"
"Well, no. DB models can, but really shouldn't map directly to objects. How would you declare relationships without writing them manually, for instance?; When you write DB models, you model your database. That's something orthogonal to how you store data in memory."
well It could be smart and see that classes as fields are just links to another table; but I see what you mean; how are mbid's generated?
"So here’s MBID info: <https://musicbrainz.org/doc/MusicBrainz_Identifier>; I’m downloading the data from <http://Last.fm|Last.fm>, so I think it’s up to that community to attach an artist/album/track to its respective MBID, if that MBID exists"
<@Kenny> you could try generating the correct mbids 
Is there a way I can implement something like this using Jupiter or something? <https://github.com/toddnestor/mazerace/blob/master/README.md>
how do I tell python to import a package from my current directory instead of where it was installed?
"<@Winnie> `from . import foo`; Assuming your code is organized into a package, of course (if not, it should be)."
"I have an issue; ```
ls code
run.py
module_container
ls module_container
module
README.md
ls module_container/module
```; when I do
from . import module_container it says it can't import"
<http://bit.ly/pypackages>
No `__init__.py` in the folders? That's your problem ; You just have a regular directory structure and not python packages 
oh I'm starting to understand imports more now; thanks <@Meg> <@Collette>
"In SQLAlchemy, I have 3 classes
```
class Thread(Base):
class Group(Thread):
class Room(Group):
```
I want a table for `groups` and a table for `rooms` and I want them to inherit all their superclasses variables
But I'm getting this error
`sqlalchemy.exc.ArgumentError: Mapper Mapper|Room|rooms could not assemble any primary key columns for mapped table 'rooms'`
what am I missing?"
"gonna have to show how you define those tables; remember, we don’t know how you wrote the code; that said, I suspect you have multiple primary keys; <https://stackoverflow.com/questions/24872541/could-not-assemble-any-primary-key-columns-for-mapped-table>"
"<@Meg> this is what I have so far
<https://github.com/ekohilas/fbchat/blob/sqlalchemy/fbchat/models.py>
it wasn't working when each class didn't have a primary key, which I thought would be fine since sqlalch would have each class make its own primary key since it inherits from base?"
"looking in the actual code for `declarative_base`, it doesn’t seem like it actually sets primary key attribute by default; <https://github.com/zzzeek/sqlalchemy/blob/master/lib/sqlalchemy/ext/declarative/api.py#L268>"
well I set the primary key inside the base class; but it was complaining it wasn't set inside the subclass's subclass
Anyone having issues with upgrading to High Sierra on your imac?
Does anyone know of a good fix?
<@Sonya> for...?
Installing awscli. I run pip install awscli --upgrade --version  but when I run aws --version I get the reply that aws command not found.; No pip install awscli --upgrade --user
<@Sonya> using system python? OSX?
python 2.7 and OSX 10.12
It's good idea to avoid using system python; Install another python via `brew` or `pyenv`
"Okay, thanks <@Collette>"
<@Elsie> no  issues on Sierra for me
"I’m using argparse to parse the list of named arguments that get passed to a script. how can I accept both positional arguments and named arguments. for example, I want to run my script like this: 

```./space.py /var/www/project --recursive=true```"
<@Ines> which tutorial you're following?
"none actually. going blind using official documentation, stackoverflow answers, various youtube tutorials"
"<https://docs.python.org/3/library/argparse.html#example>
The very first example contains both positional and optional arguments"
thank you!
"Good morning Everyone, noob here. I am looking to insert a python variable into a M$SQL query.

Process would be something like:
Script prompts user for site number
Site number is defined as a variable
Script connects to M$SQL and uses the site number variable within the query
Script can then either create new python variables directly from SQL query results *or* return SQL query results to a list or tuple for reading/manipulation. 

I have looked into pymssql and pypyodbc and either I am too noob to catch onto something that's already in my face, or I don't see variables as a possible value to include in a SQL query. 

Any pointer or help are greatly appreciated! Thanks!"
Looks like pymssql exposes the commonly-used Python DB-API: <http://pymssql.org/en/stable/pymssql_examples.html#basic-features-strict-db-api-compliance>; It looks like pypyodbc is also DB-API compliant. I'd be surprised if there's any commonly-used Python database adapters that aren't.
sqlalchemy is often the go to; there is a full ORM but also the core that format your sql querries
Using pip install textract
what's the output of `pip --version`?
pip 10.0.0.dev0 from /Library/Python/2.7/site-packages/pip-10.0.0.dev0-py2.7.egg (python 2.7)
"so, lots of times when you install to system python, it won’t let you do it due to permissions; when you ran `pip install textextract`, did you get any permision errors?"
Yes. I added sudo then and it installed properly.
"Also, how did you manage to install a development version of `pip`?"
"hmm, I just ran this command - sudo easy_install pip"
:facepalm:
And I got that version of pip.
"Great news, your machine is now a mess."
"basically, pip already was installed on your system; and there are a number of system-critical programs that are pinned to that python version; so when you overwrote that, you’ve possibly messed up a few things; if you had just done `pip install -U pip`, that would have worked fine"
<@Collette> I was not aware of how important that command would be. <@Meg> How do I go about fixing it ?
yeah… protip: _never_ run pip as root (i.e. with sudo)
"Guys, read about Virtual Environments!!! It will save you many hours of your future llife!!!"
"or if you do, know what you’re doing."
<@Cynthia> Ok. I will definitely keep that in mind.
"the consequences of doing so tend to be irreversible; and also, don't run easy_install ever, especially to install pip; there exist ensurepip and get-pip.py for that scenario"
Oh ok. I will do that going forward.
"that said, there’s also the issue of how easy it is to do something like this"
"<@Chasity> don't worry, a lot of people learn this the hard way :stuck_out_tongue:"
"yeah, and it really shouldn’t be this easy to screw up this way :confused:"
"Ok, Can I remove pip ? Meaning the one I overrode ?"
the problem is that when installing something you are used to use `sudo` :confused:
"you have a machine backup, right?  :stuck_out_tongue:"
Yup.
yeah the best way would be to reinstall. Otherwise you might have trouble in the future that will be really hard to debug
yeah I’d restore from your last backup
and while restoring an article on virtualenv is needed :stuck_out_tongue:
"<@Ciera> I’ll probably restore to previous backup, <@Junita> Thank you."
"np.  and yeah, this sort of stuff happens to lots of people starting out"
<http://docs.python-guide.org/en/latest/starting/installation/>
"Thank you everyone, for helping me understand. <@Collette> <@Meg> <@Winnie> <@Junita> <@Ciera> <@Cynthia>"
pipenv is really nice :ok_hand:
I've read through the linked documentation and I cannot seem to decipher how to use the python defined variable within the query. Their examples just don't lay it out in a way that is making it click for me.
"I need to move a lot of files from a network drive to 2 separate external USB 2 drives in a Citrix environment (no idea on the hardware specs for USB Bus) I'm thinking that I can utilize multithreading or multiprocessing to speed this up... If using a pool of 2, what's the proper python way to assign a drive letter to each worker so they are writing to each drive at the same time?"
"is this on linux or windows?; because if you’re on linux, use rsync with parallel; <https://stackoverflow.com/questions/24058544/speed-up-rsync-with-simultaneous-concurrent-file-transfers>"
"Sadly, windows.; Citrix is locked down so I don't have access to powershell or cmd, just the shutil in python"
"they’re not making it easy on you, huh?; <http://www.aboutmyip.com/AboutMyXApp/DeltaCopy.jsp>; would you be able to install that?"
I don't know. I can definitely try.  I have to keep track of each file as they like to reboot citrix at any point
"ok, are they adding these requirements just out of fun to make your life difficult? :smile:"
Using SQLite as i have to cherrypick what files didn't complete the last time they attempted this with File Explorer
:facepalm:
"Well, they attempted this weeks ago... and only 30% of everything copied.; so I had to compare what was in Azure against what was on disk and make a new manifest to copy; you can see how much fun this is :slightly_smiling_face:"
"yeah, I can; well, you probably could do something with shutils and multi-processing; but in all in all, using something like deltacopy or something similar would be better for you; no development time required for you; and a production-ready application with years worth of work and bugfixes"
"Yeah, but it doesn't address the cherry picking of files though which stinks otherwise, this would be a great solution"
why do you need to cherry pick?; why not restart from zero
because those files are already in azure; everything is going to azure from an on-prem solution
"I’m still not sure; you want to copy everything from azure to local; last time this was tried, about 30% of the transfer succeeded"
"out of 100 files in nested folders, i may only need 20 as the other 80 already exist in azure."
"unless I'm misunderstanding your meaning gisdev, deltacopy will do cherry picking"
we have to ship these hard drives to microsoft to load; the drives were wiped when they were returned
sorry if I wasn’t able to help much; hope you can figure something out with your internal company policies
Let's simplify it... How would you assign a drive letter to a worker pool of 2 :slightly_smiling_face:; so that process 1 gets drive X and process 2 gets drive Y
"i've a dictionary that has index as key,

```
{1: 2617, 2: 5053, 3: 5474, 4: 5732, 5: 1800, 6: 5545, 7: 8742, 8: 2996, 9: 2619, 10: 9779, 11: 4373, 12: 4184, 13: 5092, 14: 5761, 15: 3261, 16: 6067, 17: 2847, 18: 9954, 19: 3555, 20: 2327, 21: 61, 22: 9201, 23: 6110, 24: 5689, 25: 685, 26: 6498, 27: 7594, 28: 1021, 29: 9893, 30: 3821, 31: 5686, 32: 7295, 33: 5934, 34: 7771, 35: 6147, 36: 5686, 37: 7654, 38: 7854, 39: 134, 40: 3911, 41: 2724, 42: 350, 43: 4975, 44: 2117, 45: 8334, 46: 5366}
```

and list of key 

```
[42, 22, 3, 17, 31, 5, 2, 24, 45, 36, 6, 16, 26, 18, 1, 20, 43, 39, 30, 9, 34]
```
the list needs to be sorted in descending order based on the value present in the dict
which i was able to do.
```
sorted(curr_co, key=lambda value: node_value_dict[value], reverse=True)
```
but in case of equal values, i need to sort it according to their indices in ascending order

currently i'm doing it by looping over the sorted list and then comparing value again side by side maintaining two pointers.
Can you please suggest some elegant way of doing this."
<@Marquita> I'm under the impression that sorted is stable and that you could first sort reversed on value then on key achieving both desired outcomes
<@Seema> You are correct about sorted being stable - <https://docs.python.org/3/howto/sorting.html#sort-stability-and-complex-sorts>; That documentation also goes on to use that fact to give an example of sorting based on multiple attributes
"I was there recently and I ended up trying all four variations and still was barely confident I understood how it was doing it.  I was doing list of tuples just like the example.  Eventually, though, success. :slightly_smiling_face:"
Yeah its definitely an interesting/unique way of looking at multiple sorting params
New to Python. Wanted to know if anyone knows of good beginner to advanced programs I can play around with. I found some but though to ask here. Any help/links are much appreciated.
"Arsenii, do you have a thing you would like to try or some sort of project or program you want to make?"
"<@Jamaal>, as <@Seema> is suggesting, project based learning is one of the better known approaches to learning a language. While working on a project, it is then useful to see how others approached similar problems and understand the differences in design"
I took some time off between jobs to learn the language from scratch. I am currently using Python the Hard Way tutorials and wanted to supplement with some coding exercises. Here is what I found to start: <https://knightlab.northwestern.edu/2014/06/05/five-mini-programming-projects-for-the-python-beginner/>
And those are all great for learning the semantics of the language
ideally I would like to start small so I can understand the basics and build out on that foundation.
Do you have specific goals in mind for what larger projects you are trying to take on?
:slightly_smiling_face: yes I would like to build a A.I.
"haha, I too would like to get into that. It's some pretty thick stuff though"
I know; but with open source and a great community I think it is possible
how much programming have you done?; Nothing is impossible if you put the work in
not much; :slightly_smiling_face:; yes
"I would suggest the No Starch Press books for getting started, they helped me a lot when I was getting going just 2 or 3 years ago; <https://www.nostarch.com/catalog/python> anything that looks interesting in here"
great thank you <@Lory>
kinda on the topic of building an AI and being a beginner: <https://www.youtube.com/watch?v=rIofV14c0tc>
you can find free pdf's of them online
I was just about to say I know of a good place for free pdfs
the above video is not only for data scientist. the presenter talks about hacking yourself into a community in general.; it is very interesting.
thank you <@Johana>
"circumventing the usual steps of getting a degree, etc."
"I'm not a big fan of that style (the five mini-programs one), it's very procedural.  Getting into the functions is where the joy is at imho.  Have you seen <https://py.checkio.org/> ?   The first exercise is poorly lableled elementary and it is unfortunately the requirement to get everything else unlocked, but it is a great place to learn more functional programming.  If you go ca-razy on it, they hope to leverage it into a career via <http://hired.com|hired.com>"
i think they need to adjust their meta tags.
part of the reason I want to understand more is we have a data science arm in my start up that I want to understand more.; and help out
"<@Jamaal> You'll still want to pick a project/goal, ML is pretty broad, it's a technique more than a goal, so you'll want to do something you are interested in."
`Checkio is a code game coders` doesn’t make sense
<@Mallie> <http://daily.jobs|daily.jobs>
"Also, The Coding Rainbow on youtube has a couple videos on developing an AI through JavaScript, the concepts can be easily ported to a python code base though. He's kind of a weird dude and doesn't always use the best practices. BUT he does a good job of explaining conceptually what's going on <https://www.youtube.com/watch?v=XJ7HLz9VYz0&amp;list=PLRqwX-V7Uu6aCibgK1PTWWu9by6XFdCfh>; The Coding Train*** I forgot he changed his name"
If any of those provide nice data to use that is a big plus; If you are just using it for learning sake
<@Mallie> we are in the process of getting data; so it's a good time to learn
"if data science is interesting, I suggest taking a csv file and trying to manipulate it, maybe pull down a favorite sport or some geeky data about something you like and see if you can do some 5 number summary on it, see if you can order it, see if you can create new data, etc"
so are we touting coding challenges as a way to learn programming faster or something?; i don’t think challenges have helped me learn a language as much as getting practice using concepts I already know and learning to use them in new ways.
yes to supplement <@Johana>
k; just making sure.
"Depends, is your goal getting a job or being successful in that job? :smile:"
"agreed, but there's a step before that where being able to even perform the basics is difficult"
both <@Mallie>
"Well challenges are basically interview practice, real projects are growth/experience, just keep that in mind"
by the way thank you guys for being so open about it
"yeah, I think there is a little difficulty getting started when you don't know what you don't know. helps to set some intermediate goals by having a project to work towards"
I will thanks <@Mallie>
whether they are 'coding challenges' or something else
"That was not to imply one is not important btw, that's just kinda the reality of being able to do thing off-the-cuff/on-demand and broader picture; You'll certainly get asked about and be expected to describe projects, but likely not re-design it on the fly (most of the time :wink: )"
:slightly_smiling_face: thanks
"arsenii, much of data science is munging data, being able to find, replace, filter, transform data is a great tool to have if that's your interest."
yes; it is; and understanding it as well
essentially ETL
yes <@Johana>; brb food
"Like this?; ```from operator import itemgetter
curr = {1: 2617, 2: 5053, 3: 5474, 4: 5732, 5: 1800, 6: 5545, 7: 8742, 8: 2996, 9: 2619, 10: 9779, 11: 4373, 12: 4184, 13: 5092, 14: 5761, 15: 3261, 16: 6067, 17: 2847, 18: 9954, 19: 3555, 20: 2327, 21: 61, 22: 9201, 23: 6110, 24: 5689, 25: 685, 26: 6498, 27: 7594, 28: 1021, 29: 9893, 30: 3821, 31: 5686, 32: 7295, 33: 5934, 34: 7771, 35: 6147, 36: 5686, 37: 7654, 38: 7854, 39: 134, 40: 3911, 41: 2724, 42: 350, 43: 4975, 44: 2117, 45: 8334, 46: 5366}

curr_co = list(curr.items())
curr_co.sort(key=itemgetter(0)) # you said descending
curr_co.sort(key=itemgetter(1), reverse=True)
print(curr_co)```

```[(18, 9954), (29, 9893), (10, 9779), (22, 9201), (7, 8742), (45, 8334), (38, 7854), (34, 7771), (37, 7654), (27, 7594), (32, 7295), (26, 6498), (35, 6147), (23, 6110), (16, 6067), (33, 5934), (14, 5761), (4, 5732), (24, 5689), (31, 5686), (36, 5686), (6, 5545), (3, 5474), (46, 5366), (13, 5092), (2, 5053), (43, 4975), (11, 4373), (12, 4184), (40, 3911), (30, 3821), (19, 3555), (15, 3261), (8, 2996), (17, 2847), (41, 2724), (9, 2619), (1, 2617), (20, 2327), (44, 2117), (5, 1800), (28, 1021), (25, 685), (42, 350), (39, 134), (21, 61)]```"
Hello. Anybody here who has GoCD knowledge? I would like to get some help
"assuming you’re talking about CI, check out <#C22DMH61M|devops>; FYI, might help to be a little more verbose, since I hadn’t heard of that till I looked it up"
Thanks <@Meg>; I had intended to be “verbose” when explaining my problem :slightly_smiling_face:
:smile:
How do people feel about functional testing in addition to unit testing? Think it is overkill or not needed until certain points in a project?
It's not overkill
"there was a pycon panel about this with heavyweights and they will all in support, for slightly different reasons"
"it was more about linting and humans than about functional testing though, very nuanced"
"I prefer _writing_ unit tests b/c they're faster and easier to write, but just like a child prefers cookies to roasted broccoli (mmm delicious!) it doesn't mean it's sufficient"
can anyone suggest popular IoC (inversion of control) package to use? PyPI provides too much to choose from <https://pypi.python.org/pypi?%3Aaction=search&amp;term=dependency+injection&amp;submit=search>
"Is there any real reason to using an ORM (like sqlalchamy) besides not having to write queries yourself? I personally have my own module for storing/executing/returning queries and at times it runs faster than the ORM, obviously because a human is better at constructing complex queries than a computer is (for now). So besides the obvious, are there other reasons you guys find yourselves using one?"
"how maintainable is your own module :slightly_smiling_face:; scalable? works with schema changes without tinkering?; I mean, sure there are reasons to use raw sql over an ORM; but those should be limited to areas where the optimization is needed; not as a first reaction"
"<@Lory> I generally try to avoid ORMs since I think they are often the wrong approach to the general problem of database abstraction, so you're not alone, but I'm sure you'll get _plenty_ of arguments for why you should use one"
"<@Issac> how maintainable is that, though?"
"for just myself and a few friends that use it, it's fairly easy. Just deifne your boiler plate queries and then call them through a few defined methods that give me all results or one result or whatever and have them preformatted to how I like my data structured; schema changes require manual intervention lol"
"<@Meg> you mean not using an ORM?  I would tend to argue that the types of abstractions that ORMs introduce is increasing the complexity of the code and introduces more maintenance overhead than not using one, although like anything else in development you can do it badly and incur a lot of pain"
"sorry no, my small module"
"<@Meg> There's a middle ground between ORM and raw SQL (like <http://knexjs.org/> for node, not sure of a good example in python) that helps with maintainability while being a more simple abstraction"
"django ORM works similar, I think; as well as sqlalchemy, in which you can write raw sql and it’ll handle it for you"
"My biggest gripe is that it feels awkward to use one in the code, and that's just because of a lack of familiarity with using ORM's, So I figured what does it _really_ matter if I just use my own"
"and for your own projects, thats fine; if you’re working on non-super critical performance in a team, then I would definitely make you justify the case of not using an ORM if I were interviewing you"
"and it just that, I'm trying to get into free lance web application design so I'm slowly building my own modules for things I feel are bloated like ORM's, Login modules, etc..."
sqlalchemy was started because the author was tired of hibernate’s bloatedness :slightly_smiling_face:
"Like most things you just need to be aware of the trade-offs, the once that have been mentioned incl. Imagine working on a large team or needing lots of people to be able to access and modify things in the database (like will happen many many times with a fairly complex dynamic website) and trusting all developers to get the SQL correct. That's a maintainability nightmare."
bingo; that there is my primary argument against; especially if the actual performance difference is a few percents overall in load and query time
"And you may find that you only need to do one or two db calls, which is great, and you may find that as you maintain more and more projects all that ""custom"" SQL boilerplate wastes time."
"furthermore, as a freelance web dev, <@Lory>, you have to consider the ‘when’ case, when another developer takes over your project; how easy is it for the other person/team to get up and running with your setup?"
i think you should decide what is most important to you when working with the ORM or the core.; ORM is business objects and Core is more schema-centric.; if you want to be down in the weeds and know your db schema you should use core. if you want to deal with things like business objects use the ORM.
"I would agree with <@Meg> there, freelancing does come with the burden of not just doing the most technically right thing, but the most expected thing since a lot of what your client is paying for is something that can serve as a baseline for future devs to continue to modify and support the application"
it depends on the level of abstraction you want. I’ve used both quite extensively.; i try to avoid raw sql as much as possible.
"speaking for myself, at my current place, I had to figure out what the hell the previous dev was thinking when he put together the query structure for a very important part of the API.  He just had python joining strings to construct the query, and execute with raw sql, using cursors, etc.

When I moved it over to using django ORM, the actual query time went down about 50 milliseconds per query… without indexes"
much better to use a DSL like sqalchemy core.
"I think ORMs are problematic because they unnecessarily couple several parts of the system that should be decoupled (datatype definitions, constraint solving, persistence, and transport of network attached data).  My personal experience is that in projects of any size they often end up causing more harm than good, and architecturally I dislike the types of applications that tend to have them central to the application"
not all ORMs are created equal tho.; sqlalchemy’s orm is significantly better than others i’ve used.; for one it uses the unit of work pattern so you aren’t going to commit anything until it all works.
"<@Issac> no argument there with your points about complexity and coupling.  But is that really significant, though?; and personally, in my projects, I’ve had to drop to raw sql a handful of times when performance was required"
<http://aosabook.org/en/sqlalchemy.html>
"I really don’t like writing SQL, and only do it when the profiling shows there will be a distinct difference; and that’s after optimizing the db structure, adding indexes, and doing everything to reduce the number of queries executed"
"<@Meg> obviously I think it's significant, I don't expect everyone would agree with my personal weight of the tradeoffs though."
"oh, certainly. Like I said, there’s valid arguments for and against; though, am wondering"
"I tend to think that, performance aside, anything that decouples the system and facilitates me reasoning algebraically about my application with a minimum of leaky abstractions and corner cases is a huge win to me; but hey, I'm coming from haskell :laughing:"
"well, time for me to head out, got a meetup to get to; nice talking with you, <@Issac> :slightly_smiling_face:"
have a good meetup
"thanks!  its put on by ESRI, and I know a few of the map/geo people going to be there"
"Hey all, in Python 2.7, using `unittest.assertRaisesRegexp`, how come it’s giving me false regex matching failures for my own exception classes, but working fine with something like `ValueError`?; in the fail message it says:
&gt; AssertionError: “Failed to find the needed file(s) matching 00000000-000000-xxxxxxxx” does not match “Failed to find the needed file(s) matching 00000000-000000-xxxxxxxx”; When… those… are… identical… ?; It’s not some weird text encoding comparison that’s failing, is it?; Actually nevermind, it’s something else going wrong somewhere, if I change the code to raise a ValueError instead I still get the same matching fail"
"Can you post the code that is failing?; If you have that exact string as the regex to match, you might need to escape the parens"
"Hi guys, i’m writing a module to read/write/edit files on target fpt server, I know python has supported ftp lib. But i just curious if I look for the folder files (in the server) and try doing nasty stuff with the file like normal file, and the ftp server can detect change, update it back to the ftp user? I dont mind write the module in the same server with fpt, but are there any drawback if I go down this path?"
What book do you guys recommend for a new python programmer that doesn't have programming experience. 
Think Python 2e.; A friend of mine was also new to programming and he found it really helpful.
"I'd have to go with <https://automatetheboringstuff.com/> , partly because the book is free to read (the physical book still costs), partly because it's accessible and partly because it doesn't presume.  It lacks real apps and takes awhile to get going but it's free and if they put down the book for something better, no harm done."
The automate book still assumes you know basic programming concepts
"the book does?  I thought it was based off the site which has things like
```You run the interactive shell by launching IDLE, which you installed with Python in the introduction. On Windows, open the Start menu, select All Programs ▸ Python 3.3, and then select IDLE (Python GUI). On OS X, select Applications ▸ MacPython 3.3 ▸ IDLE. On Ubuntu, open a new Terminal window and enter idle3.

A window with the &gt;&gt;&gt; prompt should appear; that’s the interactive shell. Enter 2 + 2 at the prompt to have Python do some simple math.


&gt;&gt;&gt; 2 + 2
4
The IDLE window should now show some text like this:


Python 3.3.2 (v3.3.2:d047928ae3f6, May 16 2013, 00:06:53) [MSC v.1600 64 bit
(AMD64)] on win32
Type ""copyright"", ""credits"" or ""license()"" for more information.
&gt;&gt;&gt; 2 + 2
4```"
<@Bruno> it doesn't the first part is all about basic concept :slightly_smiling_face:
"`file(s)` is a regex that matches the string `files`, but not the string `file(s)`.; `assertRaisesRegexp` kinda sucks if you just want to match literal strings, sadly. To do that reliably, you need something like:
```
assertRaisesRegexp(exc, r'^{}$'.format(re.escape(expected_message)), …)
```; Sometimes, it's easier to use the context manager instead:
```
with self.assertRaises(SomeException) as cm:
    do_something()
e = cm.exception
&lt;do assertions on e&gt;
```"
"Hey all, Is there a way for me to be able to run a cleanup script when I use `deactivate` on my python envs? I set some environment variables in my `.env` that I would like to clear away when I'm done working on something."
"I’m trying to write an application that will search for indentation made with 4 spaces or with tabs, and replace them with 2 spaces. In have found 2 options for doing this:  
1. with fileinput, but this seems to have some limitations and I don’t know if it can do what I want it to do
2. with re regular expressions
which one would you recommend?"
"<@Ines> I don't think that regex will help you since the structure of languages is more based off of context sensitive grammars. Regular expressions (finite automata) aren't powerful enough to represent the evaluate same set of strings as CSG's. (I could be wrong though, it's been years since I've done anything with computer science theory)."
"<@Ines> Oh wait, what am I talking about. I totally missed your question (It's well past my bedtime). 

- get lines from your input file
- count how many spaces there are before the first character in the line"
"would you please re-read my question :slightly_smiling_face: I know what I have to do, I just don’t know the easiest(/best) way to do it in python :slightly_smiling_face:"
"- divide that count by four, then multiply that by two.
- take the substring that's all text, prepend ((space_count / 4) * 2)"
"I’d probably recommend simply using a regex, then you don’t have to count; replacing four spaces or a tab with two spaces will work, regardless of how many multiples of four or tabs (or even a mix) there is"
"<@Junita> thank you! I was thinking about fileinput as that will save me the trouble of opening the file, reading its content, fix the indentation, write back the content, close the file"
"also note it might just be easier to do this with a tool like sed, unless you want to do use this as a learning exercise"
"I think it will confuse the regex. Assume the dashes are spaces, and the underscores are the replacement. Such that `----` gets evaluated to `_`.

What happens with `--------` (eight spaces)? Does it get evaluated like `_----` then `__`? Or does something weird happen like `-_---` where the regex wont capture the other 4 spaces."
"but to be honest, I haven’t found how to search for patterns using line.replace… this is why I switched to re"
I say screw it and divide space count by two and the append the text.
learning exercise and also I want a script that can be used independently
"Forsure!; One sec, I'm whipping something up"
&gt; I think it will confuse the regex.; I think regexes are not easily confused %); They are a powerful tool with maths 'n stuff backing them up
"<@Kayce> it’s pretty easy, you make a match (such as `^(\s{4}|\t)`) and then feed it into `re.sub`, which can handle multiple replaces: <https://docs.python.org/3/library/re.html#re.sub>"
exactly this; I even started to test it out :slightly_smiling_face:
"there might need to be a tweak around the anchor to the beginning of the line, but yeah, that’s the general approach; Especially if this is meant to be a learning exercise, might as well learn.  :slightly_smiling_face:; If it’s not meant to be a learning exercise, I’d say using an external tool will be faster, more accurate"
Regex evaluated an input of 8 spaces to 6; =/ I'm no bueno with regex
probably worth practicing with them to get better than instead of avoiding them.  :stuck_out_tongue:
True! I don't come across them terribly often though! Any sharp regex knowledge quickly fades after a week.
"<@Ines> also, it goes without saying, backup these files first.  :stuck_out_tongue:"
"<@Junita> :)))))))) of course it goes without saying. although, replace would have made the backup automatically. also, I don’t necessary agree that an external tool would be faster, unless your talking faster from a processing point of view. this “app” I’m writing has the ability to search the project structure recursively and finds all files I want to modify by looking at their extensions (which are parametrised so I can specify whatever extension I want), and reformats all files according to my needs, which are also parametrised. you will have the chance to take a look at the end result on github after I finish it. and if you’re asking yourself where did the need came from, all our JavaScript files have been indented with 4 spaces, but we want to switch to the recommended standard of 2 spaces :slightly_smiling_face:"
most editors/ides have something to do that project wide; how would replace have done that automatically though?  Maybe I’m misunderstanding what you said you had done already?
"to be honest, I didn’t find how to do it in my IDE of choice, and neither using external plugins or other apps, either for my IDE or for a different editor. I’m pretty sure that there might be tools and probably even an implicit way of doing it in my IDE, it just wasn’t easy to find so I took this as a good opportunity to write a small python app :slightly_smiling_face: I think you understood what I’m trying to do, taking into consideration your commentaries. I can switch to a different standard in my IDE, it just won’t replace the existing format :slightly_smiling_face:; <@Junita> thanks again"
"np, and yeah doesn’t hurt to do it as a learning exercise!"
"Can someone explain to me what virtual envs are?
How/why are they used? And maybe how I can/should start using them?"
"<@Omar> virtualenvs are segregated python installations you use for each individual project you run.; This way each project gets it's own python installation (whichever version you want), it's own environmental variables and, most importantly, it's own third part packages.; It avoids mixing dependencies between projects so you don't have any clashes; also means that you have a defined set of dependencies for each project which can be easily translated into a requirements.txt file; the easiest way to use it (in my opinion) is by installing this libary: <http://virtualenvwrapper.readthedocs.io/en/latest/install.html#basic-installation>; (for mac and linux)"
"any idea why this `print(letter, end='')` is throwing up a syntax error? I have another line `print('_', end='')` that isnt.; this is the block ```for letter in secret_word:
            if letter in good_guesses:
                print(letter, end='')
            else:
                print('_', end='')```; im using a flake 8 linter within atom."
<@Amee> What is the syntax error that it's throwing?
invalid syntax
<@Amee> I bet the actual syntax error is somewhere above
<@Amee> posting the full traceback is often more useful than the code.
"```while True:
    start = input(""press enter / return to start, or enter 'q' to Quit."")
    if start.lower() == 'q':
        break

    # pick a random word
    secret_word = random.choice(words)
    bad_guesses = []
    good_guesses = []

    while len(bad_guesses) &lt; 7 and len(good_guesses) != len(list(secret_word)):
        # draw spaces draw guesed letters and strikes
        for letter in secret_word:
            if letter in good_guesses:
                print(letter, end='')
            else:
                print('_', end='')

        print('')
        print('Strikes: {}/7'.format(len(bad_guesses)))
        print('')
```"
<@Amee> can we get the full traceback?
i can post the full file its only 60 lines; im doing the treehouse basic course
"What is the error that's being thrown?  Not the source ,but the error itself."
"^^^ the traceback <@Amee> the full error. It should have a lot more detail than just ""invalid syntax"""
thats all its throwing up im afraid :disappointed:
hmmm does the code run?
it does
and what is your flake8 version?
"but it doesnt chuck out the strikes _ or a good guess; 3.4.1; 3.4.1 (mccabe: 0.6.1, pycodestyle: 2.3.1, pyflakes: 1.5.0) CPython 2.7.10 on Darwin; could be 1.5.0 im new lol"
&gt;  CPython 2.7.10; Of course `print()` is invalid syntax on python 2
oh damn missed that; god spot; <@Amee> you installed the wrong python version :slightly_smiling_face:
i havent had the issue before using `print()` only on this app
<@Amee> either you had `from __future__ import print_function` or you have been actually using `python3`
or you didn't use arguments
yep
(other than what needed to be printed)
so this is a good question… i have 2.7.1 installed; but also install the latest via homebrew
"`print(foo, bar)` on py2 is truly `print (foo, bar)`, i.e. not a function call"
how do i make everything point to the latest version; i followed this
you don’t want to do that; leave system python alone; use a virtualenv :slightly_smiling_face:
<http://docs.python-guide.org/en/latest/starting/install3/osx/#install3-osx>
"or use `python3` to open up the python 3 shell; ```jasonjohns:~/projects/work/degreedata/project/qualitycontrol/static/qualitycontrol$ python3
Python 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04)
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt;```"
i always use python3 in the shell
<@Meg> you still have to install python3 in osx
"Python 3.6.3 (default, Oct  4 2017, 06:09:38) 
[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.37)] on darwin
Type “help”, “copyright”, “credits” or “license” for more information.
&gt;&gt;&gt;"
<@Amee> in which case did you install flake8 onto the right python version?
yeah i done this via homebrew
Sounds like you installed it into the python2 folder
that!! i dont know lol
"so is a python2 flake8, not a python3"
i used easy_install to install pip
it probably defaulted to python2 pip; try pip3; see if that command works; and remove the old flake8 before you reinstall it via pip3
"ok ill give that a go :smile:; stange though as i have never ran into this issue before, but ill try and remove flake from 2.7.1; thanks guys; following these steps are the correct way to install the latest version of python though right?; then id just use python3 and pip3  ?; <http://docs.python-guide.org/en/latest/starting/install3/osx/#install3-osx>"
yep
"especially if you see `which pip` pointing to 2.7; but if you do `pip3`, it should point to your 3.x install"
"If you're confused which pip points to which python, it's better to call `python3.5 -m pip`; Then you'll get a correct version of pip for sure"
cool thanks.
Does anyone know of some good reading material on python's setup tools? I feel like most of the articles I've come across are just a waste of time
how so?  what’s lacking?
"I feel like all the tutorials/articles/etc have read as if the person they're trying to teach already knows the stuff and I haven't been able to fully pull out all the pieces that make it work. Like specifically how to structure your package with an __init__.py and why you can leave it empty and why you may or may not want to. How to do simple local pip installs of your project if you're not interested in publishing on pypi, like in the case of a webapp; I feel like they are all hyper focused on going from project to pypi and these are the steps to get there without ever really explaining anything. By ""they"" I just mean various articles I've found by googling from trusted sources to random people writing blog posts"
"Just now seeing these responses (sorry). 
<@Seema> Ok, was the panel from this year? I would love to check it out
<@Ronni> I agree unit tests are easier to write, and I actually want functional tests more for a documentation for the devs to know the workflow more than anything. I was really shocked when I left a project for a year to come back to it and instantly understand where I left off and what needs to be done because of functional tests with user story comments"
What pieces are you looking for <@Lory>?; It kinda sounds like structuring python projects.
Hey Guys  Any suggestion of a python library for mysql dB querying for beginner ?
I know this is a little bit of a lengthy video but it is by :dabeaz: and it enlightened me to python packages and imports (not pypi). <https://www.youtube.com/watch?v=0oTh1CXRaQ0>
Hey Guys  Any suggestion of a python library for mysql dB querying for beginner ?
I’m a bit partial to using sqlalchemy. it isn’t touted as the best library for beginners but learning it will definitely pay dividends.; it’s the defacto library for working with relational databases in python
hey <@Johana> Thanks for the suggestion what your thoughts on django ?
I like django. i believe you can use the orm if you like separately from the web application.
the function is to make queries to a monitoring DB
How familiar are you with SQL?
from 1 to 10 I would say 3; maybe 4
"Hello,

I’m having trouble getting a python Cycle Finder to work. Can anyone help me convert this cycle finder to work with the edge list data structure?
```
a = {
    'A': [('B', 3), ('D', 4)],
    'B': [('A', 3), ('E', 4), ('F', 6)],
    'C': [('E', 5)],
    'D': [('A', 4)],
    'E': [('B', 4), ('F', 5), ('C', 5)],
    'F': [('B', 6), ('E', 5)]
}


def cycle_exists(G):
    marked = {u: False for u in G}
    found_cycle = [False]
    for u in G:
        if not marked[u]:
            dfs_visit(G, u, found_cycle, u, marked)
        if found_cycle[0]:
            break
    return found_cycle[0]


    # --------


def dfs_visit(G, u, found_cycle, pred_node, marked):
    if found_cycle[0]:
        return
    marked[u] = True
    for v in G[u]:
        if marked[v] and v != pred_node:
            found_cycle[0] = True
            return
        if not marked[v]:
            dfs_visit(G, v, found_cycle, u, marked)


print cycle_exists(a)
```"
ok so if you were to write raw sql queries you would have to learn SQL.; so that would probably take the most time/effort.; if you were to try and use the sqlalchemy orm you could work with the database in a more object oriented manner.; which is a bit easier for beginners.; :point_up: this snippet will show you how you can reflect the database and start querying it.
ok sounds good not that I don't mind putting the time in and learning to write sql queries
"yea, i’m not saying you do. i’m thinking in perspective of time usage.; you would need to alter the connection string and it will work for mysql.; that’s the beauty of using something like sqlalchemy. it has abstracted the nuances of the different databases.; if you want to switch to postgres you can pretty much just change the connection string."
yea I know exactly what you mean by the time efficiency
"and all your queries will work. you can’t say that with raw sql.; that’s the power of sqlalchemy. you never have to worry about if you can talk to a database. it pretty much covers all the major relational databases out there.; I can add some explanation to the snippet.; essentially what is happening is in sqlalchemy you need an `engine`.; this engine is the connection to the DBAPI.; it generates sql queries for you.; The ORM is built on top of that.; You need the `session` which is bound to the `engine` in order to use the ORM.; you could use the engine alone. or you can use the session. if you decide to use the session you have to use SQLAlchemy’s Expression language which looks like SQL, `select([Users.c.name]).where(Users.c.name == 'mike')`; that’s the equivalent of
```
SELECT * FROM USERS WHERE name = 'mike'
```; The ORM provides a more declarative way to talk to the database.; You essentially create a class that represents the table in your database."
and just to get this right the session interacts with the ORM ?
"I’m doing that above by reflecting the db.; yes!; the session is like a recorder. You can add things to it (insert) you can take things away(delete) etc.; If you want to add a user you can do something like this:
```
user = User(name='mike)
session.add(user)
session.commit()
```"
So i guess session maybe the way to go then again I wouldnt mind learning the engine as well but it might be more of a learning curve
"so now you can work with the database as you would any other python object.; i would learn the core after the ORM.; SQLAlchemy is stand-alone so you can integrate it into anything.; a CLI app you got it, a web app you goit.; here is a flask app that uses sqlalchemy. <https://gist.github.com/m1yag1/d354ab69398ab84f72f9e0b8c712ffb6>"
nice thats pretty damn cool !
check out lines 171-87; that’s a class model of the table in the database.; it’s faster if you model your database this way. you may have to do that. or you can reflect the db like in my first example.; sqlacodegen is a library that can generate a models.py file for you by reflecting the database.; i’ve successfully ported applications using this very feature from microsoft sql server to postgresql.
if you don't mind me asking ```sqlacodegen is a library that can generate a models.py file for you by reflecting the database ?```
typically an ORM or database library needs to “know” how the database schema looks like.
why would I have to reflect my database ? in this this instance
it does this via reflection.
ohh !
it’s just an easy way to start working with the database.
:+1:
i use it a lot to do adhoc queries.; i do not recommend it for applications with a lot of db tables.; it can slow things down trying to “reverse engineer” the database schema if the database has tons of tables.
hmm makes sense
i wrote an app a couple years back that would reflect a database and provide a web api for CRUD on all the tables. it took like 10minutes to reflect the db.; lol; CRUD = create update and delete
lol must of been extremely heavy yea basically I'll be making direct queries with an nagios like monitoring tool; but I''l be pulling values directly from the DB; but this should help me more than enough to get started
that’s fine.; you can even create another engine for another db and and save to a different database lol.; if you needed to save locally for example.
Interesting Yea I'll certainly take that idea Thanks again man <@Johana> :+1:
"np, i came into python via sqlalchemy i was a DBA in a past life :wink:.; i got into web dev b/c i wanted to show data quickly to business users so then flask was a nice fit.; as a past database administrator i can tell you for a fact sqlalchemy is bad ass.; it is 10years old after all.; let me know how it goes <@Burma>"
"<@Johana> I am trying to create a workflow for my buddy and I to work on a couple different webapps. Basically it consists of our local computers, the server where svn is hosting all my projects and then the production server to host the live webserver. I was talking with a coworker about it and he had mentioned setuptools might be useful for installing the projects out on the live server rather than having a make file just call *svn up* out on the production server. Setuptools is something I've avoided for a long while so I may not be explaining myself very well"
"setuptools isn’t going to go put it on your server. you can use distutils to create a source distribution which is fine.; it will essentially create a tarball of your app you can copy to the server and extract.; you’ll use distutils for that.; Personally, i would use something like ansible or docker to deploy your app.; two things for that you will need a `<http://Manifest.in|Manifest.in>` file and `setup.py`; the idea is to create what is known as a “build artifact”."
Will do <@Johana>
a build artifact is like a windows .exe or a .deb file or a python wheel.; if you go the ansible route you can create a playbook with your buddy and only have your keys on the server so that only you two can deploy.; you can checkout pyslackers github for examples: <https://github.com/pyslackers/website/blob/master/ansible/playbook.yml>
"interesting, looks like I was a bit confused about what's what. I'll look deeper into distutils and how it all works. Once I understand that aspect I'll look back at how to deploy it from there"
"i’m a bit busy but i’ll be back with an example :wink:; this is the ansible task that I have that creates a source distro before it copies it to my server:
```
- name: Create source distribution
  sudo: false
  local_action: shell source {{ pylocal_venv }}/bin/activate &amp;&amp;  python setup.py clean sdist chdir=""{{ pylocal_source_dir }}"" executable=""/bin/bash""
  run_once: true
```; replace the jinja tags with the proper values; `source virtualenv_path/bin/activate &amp;&amp;  python setup.py clean sdist chdir=/application/dir`; you can then scp or sftp the source distro to the server.; if you want to do it manually.; in ansible extracting an archive is pretty easy:

```
- name: Copy and extract source onto server
  unarchive:
    src:  /local/dir/
    dest: /remote/dir
```"
"Let’s say I have a solution triple: {(t, 2t, 3t)}.
How can I find a fitting 3x3 linear system of equations? t is just a parameter"
"<@Vita> apparently you can have MANY you tube videos playing at 2x speed, beware it may make you bonkers though, LOL.  I found presentations but I couldn't find the panel discussion.  Here's Guido in 2015 ( <https://www.youtube.com/watch?v=2wDvzy6Hgxg> )and th emore I look the more I think the panel *may* have been 2016."
"Lol cool, thanks for sending me this!"
"hi guys, i was going through django channels in <https://realpython.com/blog/python/getting-started-with-django-channels/> . i followed the instructions, but i'm getting this error. ERROR - server - Error trying to receive messages: name 'txredisapi' is not defined. Thank you; can anyone help me with this"
how to print the present month in words. example 'October '
@mock you might wanna go in a bit more detail. In what context is this? Just a simple single line?
"```import calendar, datetime; calendar.month_name[datetime.date.today().month]```"
"Help - I cant seem to get PyDev to recognise proper completions of RxPy - Observable.subscribe() is the only Observable completion that seems to work, Observable.create is not there ?? I've pip installed, put the egg file in pythonpath and ""import rx"" works fine - help"
<@Wanita> FYI we have <#C7PFU2B2Q|rxpy> channel created not so long ago :slightly_smiling_face:
Hi all . I need slack nodejs group can i help me ? 
What's the code that spit that out?
do you want the full error stack
that would probably be helpful; and the code itself that you were running that initially threw an error if that's not the original trace back
"from the list here: <https://teamtreehouse.com/library/topic:python/q:python> which ones do you think i should go for next, i have done the python basics. and the practice ones"
<@Amee> I always think the best way to learn is to work on a project that interests you. In building it out you will learn several concepts and strengthen your knowledge on concepts you already know
"Anybody seem this issue with pyOpenSSL on Ubuntu 14.04?; `AttributeError: 'module' object has no attribute 'Cryptography_HAS_SSL_ST'`; It's come out of nowhere, and doesn't happen on other systems"
"&gt; 14.04
:open_mouth:; you should update openssl"
"That is what I ended up doing successfully after a few tries - turns out the overall issue was an incompatibility between `cryptography` and `pyOpenSSL`; But it was silent, and neither of the versions had changed (or at least, I hadn't planned on them changing)"
good ol' revision incompatibility
So now they are both up-to-date I guess? yay lol
Go check the Tracks area and do the Learn Python track
"So, I find myself recreating an existing Java application in Python.  One aspect is to generate an output XML file that must conform to a DTD file.  I've been using lxml.etree for generating the xml file.  

I have one problem.  The DTD requires certain types of nodes to occur before other types.    Before I start write sorting logic, is there anything that would consult a specified DTD and sort accordingly?; Assuming no, any best practice on sorting peer nodes by node-type?"
"<@Margrett>, I’m drawing a blank, sorry"
are you looking for something like with spring beans xml configuration?; something along the lines of importing <http://www.springframework.org/dtd/spring-beans.dtd> and going from there?
"<@Margrett> Sorting? I'm confused, why don't you just define your schema or add the nodes in the correct order?"
i don’t think so. you’ll have to generate the file and then validate it.; unless there is something new. I used to do HL7 messaging which had a similar workflow.
"Oh I re-read - to move from invalid to a valid schema, :disappointed:; Anything trying to be more clever than <@Johana> suggestion is probably just going to make things worse"
"it would be hard to catch all the edge cases.; you might be able to do something creative with a jinja2 template.; i did that once with some HL7 messages.; ```
{% for person in persons %}
  &lt;person&gt;
    &lt;name&gt;{{ person.name }}&lt;/name&gt;
  &lt;/person&gt;
{% endif %}
```; <@Margrett> :point_up: I don’t know how much your data is changing but your schema definition should help you build the template. Then all you need to do is pass in all the data and it automagically shows up in the right order…; then you don’t even have to fiddle with any xml at all just data. :wink:"
"Thanks for the responses.  Part of the tools purpose is to transform unstructured data from old systems into a nice tidy XML that our product understands.; I'm converting it form a pure GUI to a backend python module + GUI; So, I don't know what wacky things my end-users are going to do."
you might also look into what capabilities pycharm has with xml. it is quite powerful when it comes to xml.
"I think I've settled on adding a hidden `_sort_rank = integer` to each of my ~40 object types; Then, using bisect to do sorted inserts as objects are child objects are added; I wasn't planning on sorting that early, but I'm now realizing it could have a hidden payoff in the GUI phase"
looks like a fun challenge.; except for the xml part.; xml bleh.
"Lol, XML has been my constant love/hate relationship for ~10 years."
but i know how it is. HL7 was for health system integration and it was the most complex xml crap i have ever dealt with.
"My favorite part was the early days of 32 bit applications.  $1,000+ ""enterprise"" XML editors that were unable to open a 10 MB xml file.; Watched them start opening the file, then shoot to using 2GB of memory, then either freeze or crash.; No idea what they heck they were doing; More silly XML stuff.  A past employer purchased an XML based workflow processing engine / app server that we apparently spent so much on, we had to delay reporting earnings.; My team was told to use it, but I never had training on it, on a big project.  I continued to write my logic in XLST, because it was what I used for everything else."
is it an EDI app?; something like Rhapsody?
What I'm writing now?
the XML based workflow processing engine; those are typically called EDI apps; Electronic Data Interchange; i’ve worked with a few. just curious.
"Kind of.  We were using it to enhance our identity management solution.  So grab events from PeopleSoft, then propagate changes in a bunch of login systems and purchasing apps.; Then reverse that process when someone gets terminated"
yea and you have to move little widgets around.
"So, the XLST stuff was processing this giant XML doc in ~2 seconds; We ported everything into this big expensive engine, and it was &gt;1 hour"
i mainly used it to report results of infections diseases to the USDA.
"That looks way more sophisticated than we had.; I'm struggling to remember the name.   The whole thing was web based.; I did write code in Symantec Workflow, looks a little more similar.; SilverStream"
gotta love windows nt.; ah i see you build web apps in it and it will deploy them at a very expensive cost.
mirth may be able to do what you want as well. it’s opensource and geared to HL7 but HL7 is XML like anything else so i’m sure it can do a lot.
"the big benefit i see a system that is geared for sending XML messages is that they typically have logging, retrying, etc. built in. It makes it really nice to just set it up and forget about it. I remember sometimes my workflow might hang up but the help desk guy had a login where he could restart the process."
I would have killed for that back in ID mgmt days.
"Hey all, would anyone know how to, using requests, to add a time.sleep to the requests get call and read the page after a number of seconds?"
<@Elsie> afaik requests only includes functionality for a single request and is blocking so if you want to space out multiple requests you should be able to add the delay yourself in between
Ok and excuse my ignorance but would I be calling for the same url?
"Hmmm, that depends on what you're trying to do? Maybe take a step back and explain your overall goal?"
Essentially scrape a page that has ajax calls or is built with react on their frontend
"ohhh, then ignore my previous answer; requests will just return the content from a single request, it will not render any javascript"
So would their be any work around to this other than running a selenium script?; there*
"You can hit up <#C5PHT9EGK|webscraping>, they'll probably get into the nitty gritty more"
"I don't know any alternatives. When I was in that situation, I just used selenium"
"Yeah I'd agree with <@Mallie>, go to <#C5PHT9EGK|webscraping> if you can/want to talk about it in more detail. Overall the two approaches would be to use a browser engine/driver like selenium or be able to identify the ajax calls being made and then make those requests directly yourself"
ok thanks all
"How do you type hint a function as a variable received in a function?
`def myfunc(func: function):`; On 3.6.; mypy seems cool with it, or is ignoring it, but the interpreter doesn't like it:
```
def fun() -&gt; None:
    pass


def receiver(func: function):
    pass
```

```
mypy scratch.py

python scratch.py
Traceback (most recent call last):
  File ""scratch.py"", line 5, in &lt;module&gt;
    def receiver(func: function):
NameError: name 'function' is not defined
```"
"<@Meghan> Haven't tried it, but here's one solution: <https://stackoverflow.com/questions/46163672/python-3-nameerror-name-function-is-not-defined>"
"Callable, perhaps? PyCharm seems to be okay with it and mypy doesn't complain.; Oh, that's so much more work. But, that is what I found as well. Thanks."
is there anything in Python that will take a dictionary / array of whatever structure and convert it to JSON as is? Everything I have seen so far is about defining serializers etc?
Json.dumps()
doesnt do nested objects?; e.g. if I have django model that has several other relationships fetched as part of a query it only ever encodes the first level
I'm not sure about a Django model.
well just think of it as nested objects; there doesnt seem to be anything analogous to PHP's json_encode; Which will take a nested object and recursively convert it to JSON
I typically add a to_dict method to my sqlalchemy models.. I'm on a phone rn
yeah I saw that on some stuff I looked at - I guess id have to define one for each model; painful
"the django rest framework supports nested serializers, might be handy to look at their implementation if you're not using their framework"
no you could simply create a mixin.; yea drf has all sorts of options for depth.
everything I have seen with DRF requires me to declare the structure of the object; e.g. PersonObject -&gt; HeadObject -&gt; EyeObject etc; This seems overly verbose; I'm surprised there doesnt seem to be a one size fits all approach to this for a web framework like Django / DRF; I think the __dict method seems the cleanest and most re-usable
you could try flask. it’s pretty simple to get a web api going.
Ive inherited a Django project unfortunately; Just frustrating when you are used to doing things a different and faster way
i had this frustration working with django originally but then i had a few more developers join me on a django rest framework and that verbosity made things a lot nicer to work with
If it was a full on REST API it wouldnt be so bad but I literally just want to produce some JSON for some charts and i cant even do that; its a 2 minute job in PHP :disappointed:; If Django didnt produce such an easy admin id have considered rewriting it already
"_gasp_ @ ""inherited a Django project unfortunately"""
yea it’s hard to compete with PHP. :troll:
"ahhh,lol"
"I needed some advice on writing a program to check the full url of about 90k shortened urlsfrom twitter. 

Either the runtime is ridiculously long, or I am not catching all errors correctly
 Does anyone know of an easy way to do this efficiently?

I'm using urllib in python3"
"Hey everyone, i'm Alexander, i've worked very hard for the past two years to become, a rookie Fullstack python developer, and i fell that i'm there.
However i cant get accepted into Upwork.
Is there someone here who's on upwork that help me get in?

my Username is Alexander_ll
i've passed 4 tests: Python, unix, Networking concepts, and upwork rediness test.

I wrote a short overview.

i've added a few things to my port folio.
Added previous employments."
"<@Suzy> what do you mean can't get accepted?; Upwork is free for all, isn't it?"
"i mean they wont accept my profile, so i cant actually bid on work there.; i've applied 10 - 15 times by now, trying something different every time to make my profile more intuitive, and every time i get the same non helpfull reply from them."
what do they say is the issue with it?
"Yea it's really that hard, i've applied 10 - 15 times by now, trying something different every time to make my profile more appealing.
After the first 10 apply requests or so, i changed tactics to see if they actually read my profile and i don't think they do.

1 i've offered money for accepting my profile
2 i've used their quarterly in demand skills, and replaced all my own skills with their most in demand skills right now, and i get the same reply every time, its so frustrating; this mail 15 times

Thank you for submitting your application to join Upwork.
As we do with everyone who wishes to join Upwork, we carefully reviewed your profile to determine whether there is sufficient need for your skills and experience in the marketplace. Unfortunately, at this time there are already many freelancers with a similar skillset to yours and we cannot accept your application.
I know this news is likely disappointing to you. However, we want to make sure the freelancers we accept have the best chance at success on our platform. This requires us to not only closely review a freelancer’s talents and experience, but also balance those with the availability of projects. For example, at times our marketplace may have too many freelancers with similar skills competing for the number of projects that are available. To avoid the frustration that goes along with that, we must limit the number of new freelancers that can join our website. While you cannot submit proposals for jobs right now, the number of available jobs and freelancers vary throughout the year. We can offer a few suggestions for going forward:
If you have more relevant skills or experience to add now or in the future as you develop them, you can update and re-submit your application and we’ll take another look to see if there is a demand for your new skills.
If you haven’t already, you can learn more about building a complete profile by checking out the following articles:
Enhance Your Upwork Freelancer Profile for Greater Success &amp;  Sample Profiles
For more details about applying to join Upwork, please click here. Thanks for your interest in Upwork!
Regards,"
"I’m wondering if it has to do with your overall experience - this may not be what you want to hear, but I don’t think you are a ta place career-wise where you are ready to be an ideal freelancer"
Wowza
"i know my overall experince is not that appealing, but how else am i supposed to get some real on hands experince?

i've made 3 websites.
3 python programs: Netcat replica, Spirograph animator, snake game replica.

I get what you mean about me not being an ideal freelancer yet, and your absolutely right, my plan was to take small jobs and slowly build up a portfolio, and then when confident enough try bidding on making entire websites and such.

But in my profile i say i'm not an expert, i've my experince level to entry level, i can see they a lot of job where people ask for cheap rookie people who wants a challenge, so i don't understand why i can't get a shot :disappointed:

Try taking a look at it
<https://www.upwork.com/freelancers/~015cb9431703ef57f4?viewMode=1>"
"From my perspective a freelance developer should generally be a senior level person - in a situation like this you are often expected to come in and take on a project with minimal supervision, and that sort of thing takes experience, honestly less on the technical end and more on everything else.  That’s not a knock on you, just a guess at what their issue is.; As far as gaining experience, I’d maybe recommend working with an agency if possible a junior or mid level.; This might be a better conversation to have in <#C1DFN115F|freelance> though, it’s not general technical help"
"Okay thanks Jkelly, i appreciate your input."
"no problem, and I’m in <#C1DFN115F|freelance> as well if you want to continue to chat about it."
"I actually tried joining earlier, but stopped because i had to pay for it, in your opinion is it worth the money?"
"hmm, sorry no I meant our channel <#C1DFN115F|freelance>, if you click on it, it should take you there.  it’s free.  :slightly_smiling_face:"
"Okay thanks, i'm in"
love it <@Frieda> thanks for pointing that out at least now I have direction!
Hiii
"Hi mattes.
I need to change an ImmutableMultiDict to a simple dict.

Have this:
ImmutableMultiDict([('*conciliation_status*', 'NC'), ('*conciliation_status*', 'CA'), ('group_id', '1'), ('end_date', '2017-12-31'), ('start_date', '2017-01-01')])

and need this:
{'*conciliation_status*': ['NC', 'CA'], 'group_id': '1', 'end_date': '2017-12-31', 'start_date': '2017-01-01'}

I could resolve this case with something like this:
```
def normalize(data):
    normalized_data = {}

    for key, value in dict(data).items():
        if len(value) &gt; 1:
            normalized_data[key] = value
        else:
            normalized_data[key] = value[0]

    return normalized_data
```

But I wonder if there are others betters ways to do this.
Any idea?"
"`dict(your_dict)` should work, no?; oh no, it returns list types as values"
"<@Yan> your result example is inconsistent. Why `'*conciliation_status*'` is gathered into a list, but `'group_id'` is not?
I would expect to see `'group_id': ['1']` instead; If that's exactly what you want, then there's no sane generic solution."
<@Winnifred> Don't work in this case. Thx
"yeah, i figured — you’ll need something more custom"
"<@Collette> Yes, only conciliation_status should be a list. Thx."
"Hey all. I've just found three unclosed quotes in a row in some example in comment of the django source file. Should I report this and if yes, how?"
I am trying to connect to an Oracle DB (which I have successfully done) but I want to take advantage of LDAP for connection info. I have seen very little on the web for this. Anyone have an example of using ldap3 for connecting?
Anyone tried using Twitter Account activity API for any app hosted on Google cloud. Currently facing a challenge in which the webhook works with ngrok but fails on Google cloud strangely.
Haven't done anything of the sort but I once saw Python ldap library.. <https://www.python-ldap.org/docs.html> check the documentation
"Hello, i've a question, i need transcribe a barcode in image to a string, someone know how i can do it?"
<@Annis> theres things like <http://zbar.sourceforge.net/> that have python bindings like <https://pypi.python.org/pypi/pyzbar/>
"Is this on a GitHub project or such? If so, you can probably submit a PR?; (GitHub's ""Edit this file"" functionality makes it really quick and easy to submit a PR for small fixes like this right from your browser.)"
"Hello, how to parse an xml api response??; <https://stackoverflow.com/questions/46973407/xml-to-dictionary-in-using-xmldict>; This is my question"
xmltodict doesn't work or...?
Please do not pin question in this channel
sorry; have some problems
well post what you have and how current behaviour is different from what you expect; and we will try to help you
Good morning everyone!!! (its morning here in EST)
"I am quite novice and need a little direction.
Just point me in the direction and I am happy to figure it out from there. I learn better that way. 
I am trying to write a program to ping all hosts in a subnet and then display the results in a table.
What I have already. (both found somewhere on the internet and modified for my needs...)
1. A ""ping sweep"" that will output the IP and DNS name of any host that respondes.
2. A simple Plotly program that will read a CSV and output it in an HTML table.; .; I am struggling to figure out how best to get my data into the plotly table. I am trying to avoid writing to a csv and then reading it back into the plotly table. Unless that is the best way to achieve my goal, then I will happily do that.
Ideas? 
I am currently reading up on dictionaries and seeing if that may serve my purpose...
Thank you for any help!!!"
<@Virgen> you already have your data being parsed from the csv? You can use jinja templates to dynamically build the results into the table
"negative. the plotly bit is just pulling data from a random test csv.; the ping sweep bit runs an if/then loop which tests each IP and returns the IP and DNS name if anything responds.; <@Lory> I'll check into jinja as well, thx!"
"can you pop that into a code block, can't tell where the indentation is supposed to be; little plus sign next to the text input"
<https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
"<@Lory> I cannot, I get an upload error. I blame the webfilter and its admin... (i'm the webfilter admin...); <@Lory> I got the webfilter admin to fix his gear...; that's the general loop that outputs the data. So, rather than just printing the output to console, I want to store it in a way that can be read into and displayed in a table."
"well for starters, that initial for loop where you're running `ping` on the servers, you're only ever capturing the output of the last one that runs in `output`, unless `stdout=...` is supposed to be within the for loop which it looks like it should be but is just an indentation error; yea so I would build some kind of dictionary or nested list and then use a jinja template to iterate over that data structure and create a table entry for each. That would definitely be a fairly easy approach"
"I am generating a random int between 1 to 4 using `randint(0, 4)`, Is there a way to generate more 0's than the rest of numbers ?"
<@Desire> You mean give 0 a higher probability?
`random.choices()` has an ability to assign weights to choices
<@Lory> Interesting. I will check out jinja. thank you!
<@Desire> This might help: <https://stackoverflow.com/questions/26282222/generating-random-numbers-in-python-with-percentage-function-on-what-selected-va>
"There are other approaches than jinja, but basically you want some way to template in data into table rows and then send that to the web page. There are other options out there, jinja is just what I'm used to personally"
"Yes, you are right."
"Morning, I was wondering if anyone had tips or a blog post about debugging multiple inheritance.  I'm using PyCharm and it's certainly helping but I feel like I'm missing something.; Of course googling ""debugging multiple inheritance python"" returns inheritance tutorials :confused: "
have you checked the `.__mro__`  attr on your class?; mro = method resolution order and shows how your classes attrs are being built
I have not.  I was about to get into the class tree PyCharm debugging but went on a walk (now)
"and Python MRO is right to left, IIRC"
I'm using Dask and it's got all this lazy executes on top of pandas and I think I'm getting lost in the weeds instead of high level
"also, if there are `super` delegations, the last evaluated class goes to the base `type` class (i think) or metaclass; im being much too glib -- I would check out stuff around the method resolution order though :slightly_smiling_face:"
"Thanks, will do"
"Thanks, will look at that!"
<http://python-history.blogspot.com/2010/06/method-resolution-order.html>; Not so helpful for straight up debugging but it helped me understand python's MRO.
Why would a class' attribute that is supposed to be set as a string end up as a tuple instead when a string is passed to self.attributename? I have a class where under __init__ it is using parameter names to pass in values to the attributes of the class object but when I pass in a string it turns it into a tuple with one value in it.
can you post the code in a snippet?
"<@Dorris> are you sure the string isn't ending with a `,`; `a = 'hello world', ` would create a tuple for example"
"When debugging and I look at the value being passed in there is no `,`; Let me see if I can show you"
`crmwebapi` is what's returning a tuple?
"```
&gt;&gt;&gt; school = 10,
&gt;&gt;&gt; type(school)
&lt;class 'tuple'&gt;
```; `,` is a tuple ""operator"""
crmwebapi is just the URI for the api call later in code I didn't show
`CamelCase` :cry:
Still learning how to be pythonic :stuck_out_tongue:; Coming from PowerShell background. Hard to let go sometimes I guess
"I would just add a bunch of log statement or run ipdb and see what happen; haha no problem :smile: old habits die hard; actually yeah they are all tuple because you put a `,` a the end; it's only needed when creating a dict; ```
a = 1
b = 2
```"
Beat me to it <@Ciera>
should be like this
you're right! Extra commas
:slightly_smiling_face:
Musta gotten them mixed up in my head with a dict or list or something; That's better
yeah it's one of those thing that can easily bite you. it's one thing that could benefit from some improvments
Thank you
gotta be careful with commas
"So, if I were to write it pythonicly :stuck_out_tongue:"
parenthesis don't make a tuple
Would that be with _ instead of camelcase?
yup_thats_right
kk :slightly_smiling_face:; Thanks again
"Hi Guys; I m new to python ( infact programming) , was looking for documentation for python modules , explained with examples; official documentation is not good , can any one provide me any URL for this , appreciate help"
For modules - starting point <https://www.tutorialspoint.com/python/python_modules.htm>; For python training for beginners:; <https://developers.google.com/edu/python/>
"Alright buddy , let me check it. Thanks for reply"
"OK, going a little bonkers. I have a package whose actual name has an underscore `my_package`, but in the setup.py, for the name attribute, I accidentally put `name=""my package""` - I ran setup.py a few times with success, before realizing it was naming the package `my-package`. Now, I've fixed the name so it's `name=""my_package""`, but setuptools keeps putting `my-package` in the PKG-INFO file. I've looked everywhere for any trace of the name with a hyphen or a space, I've deleted the caches, run `setup.py clean`, changed the name to something else entirely, removed the parameter, traced through the setuptools code to see how it's set, and I can't get it to stop naming it `my-package` in PKG-INFO. Anyone have this issue before and have any suggestions?; wondering if a new virtualenv would help; but that seems silly too; this is running in a virtualenv based on python 3.5 on windows 10; tried in Python 2.7 (which had no knowledge of the package) with the same result. In the past, I've been able to have packages with underscores instead of hyphens; It may just be PyPI acting differently than I expect too - looks like the other packages I've made with underscores show as hyphens in PKG-INFO but as underscores on PyPI - this one doesn't"
"Hi!! Hope everybody is enjoying a lovely weekend.:four_leaf_clover: My name is Kathryn Gao, and I’m a UX designer. 
I need some help in this very personal project: I’m working on a platform that makes it easier for people to find solutions for their career concerns. Now I’m trying to understand how the experienced professionals give career advice. 
Would anybody with more than 5 years of experience allow me to make an audio call with for 30 minutes? Please DM me. Thank you very much in advance. Wish you have a great day/evening!:+1:"
Anyone into Python Algorithm Trading and Strategies? I need help regarding implementation of indicators for strategies.; pls DM
???; 1 + 9 = 10
"<@Suellen> yep, ill show you a screenshot :laughing:"
"no, that's not what I meant; I mean.. one plus nine is ten.. right?; why is this result surprising?"
oh right ._.; Well Thanks for answering. Yeah i was totally wrong there; better here than in stackoverflow :laughing:
"don't worry, we've all been there"
"Really? i feel really dumb; hahaha; It's like ""wut? i mean i did not i see it before?"""
have you coded in PHP previously? :slightly_smiling_face:
unfortunately yes ( i came from developing themes in WP )
I only asked because numbers there are sometimes strings and vice versa; So if you get used to it you can find yourself in such a headscratching situation :stuck_out_tongue:
Yeah... well thanks man! i was just trying to practice some python coding on <http://www.codefights.com|www.codefights.com> and yeah i got locked up there. Thanks. Now know why is always good to let other dev to see your code; :laughing:
"People, I have a structure like this: points_neiborhood = [ [""Pitimbu"",[-5.876271, -35.224500]], [""Planalto"",[-5.858102, -35.251586]],[""Ponta Negra"",[-5.877522, -35.176073]]] and in Jupyter Notebook if I do 
for rows in points_neiborhood:
        print(rows[0]+"", "", end='')
        print(list[0], end='')
        print("","", end='')
        print(list[1])
it just works... But when I go to transcript this to my .py and execute it shows me ""TypeError: 'type' object is not subscriptable"" . How can I iterate through my list? What I'm doing wrong?"
I think the best place to start is by dropping a snippet of your code.
This is what I have in my .py
Just the lines near and around what’s throwing the `TypeError`
"Traceback (most recent call last):
  File ""consumer.py"", line 76, in &lt;module&gt;
    main()
  File ""consumer.py"", line 69, in main
    consumer(90)
  File ""consumer.py"", line 27, in consumer
    uberRequestTimes(counter)
  File ""consumer.py"", line 39, in uberRequestTimes
    pontoA = list[0]
TypeError: 'type' object is not subscriptable"
HI all. I am looking for a package or script which helps us to find the max and min of a latitude and longitude.
Anybody aware of such scripts?
"<@Cleotilde> the pair latitude and longitude or only one of theses properties? If is just latitude or longitude with don´t you order your list based in longitude or latitude and take the first or the last? If both, you have to calculate the euclidian distance of all points..."
and take the greater one
<@Carolin> Thank you for answering. I have the pair of lat and long of a location. Wanted to find the max and min.
"max and min of what?; each of lat/long?; max/min of position from equator?; from prime meridian?; regardless, this is a pretty common homework question, when a student is asked to find the maximum and minimum value of a given data structure; its not hard to get a solution that executes in linear time of O(n); what have you tried?; <@Carolin> `list` is a reserved word in python; should be the variable name that you’ve assigned for your list; eg, `pontoA = row[0]`"
"<@Meg> thanks man, I have a structure like this: points_neighborhood = [[""Pitimbu"",[-5.876271, -35.224500]],[""Planalto"",[-5.858102, -35.251586]]]
in Jupyter Notebook if I do 
for rows in points_neiborhood:
       print(rows[0]+"", "", end='')
       print(list[0], end='')
       print("","", end='')
       print(list[1])
it just works... But when I go to transcript this to my .py and execute it shows me ""TypeError: 'type' object is not subscriptable"" list[0] gives me the latitude info... but when I do the same in my .py it not works...; How can I iterate through these values?; rows[0][0] does not work it returns me the first letter of the fist value; Like 'P' in [""Pitimbu"",[-5.876271, -35.224500]]"
yeah
and not -5.876271
because `row[0]` is a string; `row[0]` value is `‘Pitimbu’]
how I got <@Meg>
`row[1][0]` would return `-5.876...`
:slightly_smiling_face:
what you have to remember is you can access a character in a string by its index position
thanks dude! It worked... I guess that I was at 4am in this part KKKKKKKK omg so ashamed; thanks <@Meg>!
no need to be ashamed it’s part of the learning process :wink:; <@Meg> :taco:
:slightly_smiling_face:; HAHA finally it worked... omg I was at 4am trying to figure out what I was doing wrong using Uber API to simulate something like this <https://www.washingtonpost.com/news/wonk/wp/2016/03/10/uber-seems-to-offer-better-service-in-areas-with-more-white-people-that-raises-some-tough-questions/?utm_term=.b12202a9ed14> in my city
What is the equivalent unary operator of ! (not) in python? ~?
`not` :slightly_smiling_face:; as in `if not some_value:`
:slightly_smiling_face:; tnks
"`and`, `or` and `not` are the boolean ops"
ok
"took me a bit of getting used to, coming from java and JS"
haha same as me; or same as you; english is not my first language too KKK; ops... KKK = hahaha in Brazil; dont get me wrong
"ah, ok.  Here in the US, it means Ku Klux Klan, which is definitely not a haha :smile:"
but good to know!
<@Carolin> Do you pronounce it like 'kay kay kay'?
yeah I know but only noticed after write it
<@Mallie> not like  that 'cause the k here is little bit different is more like ka in  kakaroto ( <https://youtu.be/w8GGm9ZzgvU?t=23s> ) but in a laugh way. If you put in youtube 'risada brasileiro kkk' you should find some results
<@Carolin> That is an interesting fact. What does kkk stand for?
"<@Leif> is hahaha, a laugh or lol, not like in US that is Ku Klux Klan as <@Meg> talked earlier"
"so in english, its more of a `caw` sound, than `kay`?"
"hi guys, new to python , looking for a place to contribute ? any suggestions"
"Can anyone help me set up a python environment in VIM? I’ve got most of the way there ( I think ) but I’ve got a few issues and questions… (Disclaimer: I’m totally new to VIM) DM me; Nevermind, I’ve got there I think.  My only issue is that YCM doesn’t autocomplete here: `from typing import ...` I expect it to pop up and offer the import like `List, Callable etc...`. However if I do `import List \n List.[popup]` it autocompletes all of the classes inside the site package there.. So I’ve missed a configuration somewhere or it’s just not meant to work like that"
<@Meg> Japanese 'ka' in 'kakarot' is basically 'ca' in 'car'
how did u set up the linter and autocomplition in vim? i legit was trying to do it for a while i couldnt get it
Any C#/.NET users around?
I've used it but I'm no expert
"I may have found what I was looking for but basically I was just looking for any sort of standard opinion on how applications/projects should be laid out.; I think I was using the wrong terms and not finding much, but I know found some stuff that makes sense.; If you have a good resource to share that'd be cool, I was just lost for a few minutes of googling looking for something I thought would be pretty obvious."
pluralsight has lots of .net junk. I learned visual basic in the aol 2.5 days.
Most of what I did I read out of books a few years ago; This probably isn't the best place to look for help regarding .Net though
has anyone used pthon fire for cli tools? was looking at click but this looks pretty easy too <https://github.com/google/python-fire/blob/master/docs/guide.md>
"Click is much more explicit about what's going on... I don't like these examples. What I see from the guide, `fire` is full of implicit conversions to optional/required arguments, subcommands, etc."
Yeah I much prefer Click and it’s what I recommended in my Reliable Tools talk 
Kakarot is carrot; <http://dragonball.wikia.com/wiki/Origins_of_character_names>; vegeta is part of vegetable; Maybe the author is vegetarian :))
"Hey Guys, I’m looking for ideas on how to upskill my software dev team outside of reading news and blogs etc.  We’ve been together for a while and it all works, but, looking to freshen our process / skills with outside ideas.  Thanks in advance…Will."
Conferences?
"<@Evelin> a couple things come to mind

1. Hack day in office - each person picks something a little out of their area of expertise and tries to do something that has potential to benefit the company/ongoing projects.  
2. Host or attend a local meetup in one of the languages you work in
3. Consider Pluralsight/Udemy/Safari Online,  and other education sites as an employee perk
4. One or two conferences per year.  A different dev can go to each, and give a presentation/report when he/she comes back.  Previous position sent people to JavaOne, and they gave illuminating presentations after
5. Start being active in the dev group of the language/framework you typically work with.  eg, django developers on IRC, flask, etc"
+1; also we're trying to implement a process where everyone can suggest a topic that he wants to give a presentation or wants to hear about it from someone else; and those presentations would be once a month or so
"yes.  I suggested something similar a couple times at my office and it was done twice before the others developed a lack of interest; tough balance - does all the content come from a clique group, and the rest of the team kinda coasts along, or is it required that everyone do at least one a year?"
"we won't make it required to attend; but want to provide food, drinks etc. to encourage people to stay after working hours"
"yeah, this was like a scheduled block during the day, once a month; usually 90 minutes at 3p, and everyone could leave after"
and do you have some more conclusions why it failed?
"<@Evelin> too bad you’re out of the London area, or I could point you to some people at a company I know in Guildford; company culture, no driving force pushing standards and such."
"ok, and how big is the company?"
"entire team is pretty lazy in a number of ways, and very comfortable; 5 devs total, 15 people in all; so a pretty small one"
hello
"its a type of environment that I think fosters stagnation, in a number of ways"
"oh, we're a small one too, but some kind of software agency, so about 15 developers, 2 QA and CEO"
"fortunately, I’m isolated from about 95% of that"
but looking for ways to scale and stay competetive against bigger and more well-known companies
"part of the problem is the entire company started as a print publishing company, and moved to tech.  the owner was a subject matter expert originally, but is certainly not now nor ever when it comes to tech.  but she insists on having the kind of control over decisions as if she were.  Combined with the fact there is _no_ leadership at all, and its not suprising; its pretty well known that we need some sort of project manager involved, but no way will a hire ever happen for that"
hello?
"that's not good I guess, maybe one of you can go into  management"
is tkinter a good library to use when starting with gui's?
"Maybe eventually, but certainly not at this place "
I played a bit with it and it was ok. Your gui's won't be beautiful but it should be a good start
I'd say they've lost about 8M USD in about 9 years or so due lost sales and turnover as well as a huge mountain of technical debt that is making feature development move like molasses 
yes its; true !!; you can try QT
"Hell, git branching is black magic to some of them."
"thanks, so if its a good base/starting point, what would be a ""beautiful gui""? id like it to remain free though"
i guess PyQt
i thought pyqt was paid?
WxPython; open source
must have misread it
PyGTK
"<https://insights.dice.com/2017/08/07/7-top-python-gui-frameworks-for-2017-2/>
```Conclusion
This is a great set of frameworks that should cover most needs. All except PyQt are completely free.```"
GTK is for GNome environment
There is some restriction on QT if you sell your product I believe
"ah ok, so free for dev but paid for distribution? that sorta thing?"
"```The Qt open source licensing is ideal for use cases such as open source projects with open source distribution, student/academic purposes, hobby projects, internal research projects without external distribution, or other projects where all (L)GPL obligations can be met.```"
"ah ok, thanks"
```The commercial Qt license gives you the full rights to create and distribute software on your own terms without any open source license obligations.```
Do u mind if i ask about you ??
in what way?
tell me about you !
so maybe those presentations should bring topics like git workflow and its' benefits?
This is a weird conversation with all the quoting; There is no need to share every message as you respond. you can just respond - it's actually easier to follow that way
"Especially after Kevin Spacey's coming-out...; By the ways, there are <#C07EFN21K|random> and <#C07EHQYFN|introductions> which are more suitable for such personal discussions."
<@Collette> I am both surprised by the news and confused as to the relevance
"Or, even, personal messages."
"<@Emily> it is inappropriate to ask someone to talk about themselves in such a public forum. It's not exactly appropriate to ask in a private chat either, but it would be a better place than here. <@Toby> should also have no obligation to respond as well.

This is not a complaint, or necessarily a violation of any rules - more of a cultural custom you should be aware of in an English speaking forum."
Sorry sir !; i should have asked this question at <#C07EHQYFN|introductions>
Ah right now I see why you asked
yes <@Toby> feel free to introduce yourself to the group in <#C07EHQYFN|introductions>
got messed up with group! <@Vada> sir
no worries
okay
"Should I be using list comprehension to `assert` that all members of a list parameter in my function are of a required custom class, or is there a cleaner way of doing it?; I tend to do a lot of `assert isinstance(param1, CustomClass)`"
a list comprehension sounds like the best way to do it based on my experiences; unless there's a way to just do the entire list in one go which I am not aware of personally
"Yah, I didn't see some hidden functionality in isinstance, at least from the official docs"
But you won't be using the resulting list anyway... Why not just `for param in params: assert(....)`?
you could have your class self validate before being appended to the list or something too. depends on your code structure but the various approaches all do the same thing at the end of the day
"I probably should just use a normal for loop, that way I can complain about the specific non-conforming item.; In my current code, I'm just talking to myself, but this is very similar to a another one of my projects where I expect random  non-python proficient people to be using my classes; Figured I should try to be consistent in my approach :slightly_smiling_face:"
I personally wouldn't use a list comprehension if I didn't intend to use the resulting list for anything
"could also do a test in the list comprehension, and use `any` and `all` type checks"
```Should I be using list comprehension to `assert` that all members of a list parameter in my function are of a required custom class``` Should you really do that and not let it fails later on ?
"My general philosophy is to fail fast.  In this tool, if a user provides me with wacky input data, it could be devastating to the downstream systems that I'm re-configuring.; I do like the potential idea of using any/all, need to play with that.  Could make the code more readable"
yeah I use that sometimes and like it.  the inline assert seems nice too as well
"A simplified example:
```my_ints = [1,2,3]
assert all(isinstance(i, int) for i in my_ints), 'my_ints must all be integers'```; Seems to meet the test of being self-documenting; Thanks <@Junita>, <@Truman>, <@Scot>,<@Ciera> Thanks for the help with the assert list question :taco:"
om nom nom.  np
"Hurray, already prevented a shooting self in foot incident; `  assert all(isinstance(ts, TrapServer) for ts in trap_servers), 'trap_servers must all be TrapServers'`; `AssertionError: trap_servers must all be TrapServers`"
Trap music is infecting everything!; :smile:
"Hi all, wondering if anyone could help make my code less repetitive. I have a list of excel files and I want to read data from different parts of them and combine them into DataFrames based on content. I have functions (e.g. `read_range_a`) that specify the portion of the document to read. Any advice would be appreciated!"
Anyone got any experience using the pyrebase library for Firebase?
<https://github.com/ionelmc/pytest-benchmark>
"<@Meg> That's a really great list of things :taco: 

<@Evelin> We did a rotating presentation at work on a dev focused topic, that helped a bit to open up discussion towards newer ways of doing things. We also had a couple hours a week dedicating to do ""learning"" but it worked better when there was a discussion about what that was and what the goals were, honestly most devs didn't even use it :disappointed:
Meetups is not something you can force but it's definitely helped me to upskill a lot.

Looking back, the times that our team/tech did move up was when one person was assigned the responsibility to implement a new process and spent the time actually implementing it, then doing a presentation on it so that the others know what's going on and how to work with it now that it's there."
"Hi Guys , I have a json Que and I want to check for some value ordering , what is the fastest way to do that?
{ First Property : true , Second Property:false} I want to be sure that the First Property showed in this que before the Second Property"
Do you know what the order is prior to run time or is it dynamic?
sounds like you need to make a priority queue
"actually all I have is dictionary with some json objects in it ,I want to know how can I check if one of those objects come before another one or not"
Dictionaries are unordered by default
"yes you are right; that's why is not that easy to do that , my dictionary is specific dictionary which the order is important to me"
Lists are ordered so that's reliable but only helps if you know what you're looking for. I've never used priority ques so I'm not sure how they work personally
You could try using an ordereddict; <https://docs.python.org/3/library/collections.html#collections.OrderedDict>
let me check thnx; I don't thinks that's will work <@Antionette>
<@Elanor> are you looking to sort your dictionary by key or value?
ordered dicts only work with insertion order; sounds like you need to write a list comp to output your dict to a list based on the key value
"I thought 3.6 had order in order out for dicts, now I have to go check..."
"3.6 does have dicts that are ordered by default. However, they aren't promised to be in future versions."
"totally understand that, and he may not be able to 3.6 for a variety of reasons"
I;m using 2.7
"and when you say they are ordered, are they ordered by a key or a value or are you thinking that they're are indexed?"
"They are ordered in the way they were created, not based on any other logic."
<@Elanor> what is it about OrderedDict that think won't work?; and is the creation of the dictionary a one-time thing?
my dict's value is another dictionary
conceptually it doesn't change the problem of ordering if it is nested or not
"I think I solved this problem , because I have enabled the timpestamp; and then I dont need to have the dictionary ordered or not , since it will come with timestamp"
Yeah there's an easy method there
"Hi, I recently was asked to work on a django project and I’m having a little difficulty getting the app set up locally.  Python 3.6 and django 1.11.  I created the database and went to run the migration files, but I get an error saying “relation table_name does not exist”.  That table should be created by the first migration file based on what I can tell.  I’m not sure why it would be complaining about a table not existing when there are no tables at all (brand new db).  Should I be deleting the migration files and running makemigrations?  That doesn’t seem to make much sense, but not sure at this point. I’m a rails and phoenix developer, this is my first time with django.  Any help or suggestions would be awesome!"
You should probably run your own. Who knows what state the DB was in when those first migrations were generated; It sounds like you're missing some or the tables/database were created outside of Django
should I delete the migrations folder and run makemigrations?
Yes..; an make sure you have the database existing; makemigrations and migrate..
"the database exists, so I deleted the migrations folder and ran makemigrations, I got the same error as before.  ‘’'psycopg2.ProgrammingError: relation “proposals_proposal” does not exist
LINE 1: ...estions”, “proposals_proposal”.“final_price” FROM “proposals...‘’'"
Try running `manage.py migrate proposals`; I've had migrations that got in to a state where one app had to be run before all the others
"same error, it’s like it’s stuck!  I can’t get away from it."
Which migration file is throwing the error?
"Well, there isn’t any migration files now, I deleted the entire directory.  So in theory, it shouldn’t be throwing an error at all on a migration file.; but prior to deleting the directory, I ran the very first migration file 0001_initial.py and it produced the same error."
CAn you share the stack trace
You can add an `__init__` and then print the variables of your choice. <@Vena>
"so, when making a library that you plan on only supporting 3.6+, do you still use or worry about things like `six` or custom `compat.py` modules?"
<@Bruno> I don't. Why?
just curious. i havent either.
Morning  everyone! :}
good evening
<@Bruno> i would love some help if you don't mind me asking
@Furkanzmc thank you
i'm currently sudying on team treehouse right know and i'm stuck on a question
"<@Ricki> idk if i will be able to, but its an open forum. just ask and if someone knows and can help they probably will"
any advice anyone?
what is your problem
its saying i made a mistake
check where your quotes are; `.format()` is a function that operates on a string
"it says that i don't have to print() anything to pass the quiz, so how do i use the .format() in my variable?; i understand how to use it in print()"
"when in a terminal like that, you dont need to use print as whatever the result is, it will output to the console."
oh
"so, look at the format, on how you use string.format(), then compare to how you are using format. there is a syntax error in your code.; one of the last few lines; look at the last line and what is spit out. it means that the line before it is one whole string; did you find it <@Ricki>?"
checking it out now <@Bruno>; man.. i still don't get it <@Bruno> i sware i'm going to go bald :grimacing:
"lol its ok; so the syntax of format is `""some string {name}"".format(name)`; check your quoting"
"This is what i have 'code' subject=""Treehouse loves{}"".format(name)"
"thats the line with the error; in the image, its different"
yes
you moved the last double quote
i just updated it to what you typed
that should work. `subject` should now spit out the proper text; you had the last double quote at the end; do you see what the error was? is it working for you now?
"i see, my errors was, but this thing still won't let me pass.. :face_with_rolling_eyes:"
might need a space between `loves` and `{}` ?
"nothing <@Bruno>  but i'm going to sleep on it, thanks anyways! I really do appreciate it, i  will dm you later :fist::skin-tone-4:"
np; good luck
what is the latest stable version of 3.4?
locally pyenv tells me it is `3.4.6`; <@Winnifred>
"Ah, thanks <@Bruno>!; I need to learn that command. I r `pyenv` n00b."
Si; just check out the pyenv library; i dont use it to manage my virtual envs. i just use it to install python versions.; i use pipenv
"gotcha, what are your thoughts about installing virtualenv on each version and creating them that way?"
what do you mean?; create a venv for each version of python?
"well, installing a venv manager on each version"
i just create them as I need them; nah.; if you install pyenv you can use that to manage installation of whole python versions. then i just use pipenv to manage my environemnts. which uses `pew` under the hood. so i use that to create the actual env.
"ah, okay"
"so my workflow:
```
pipenv install 3.4.6
pew new --py ~/.pyenv/versions/3.4.6/bin/python my_env_name
# this will auto activate the environment
```
then if i want to activate that env later i just do ```pew workon my_env_name``` and `exit` to leave the environment; or, you can run a command from within that environment without activating it, just `cd` into the project with a `Pipfile` and you can run `pipenv run -- flask run` to run flask, for example; but i find it easier to just activate the env"
"Nice, I'll have to check out `pipenv`."
"Hey Everyone ! Quick (meta) questions for you guys. I wasn't sure what channel post them so here goes: I recently had my ""aha"" moment with regards to multithreading and I was wondering if it it's relevant to use such an approach in the context of web scraping (if you have a ton of sites to extract data from) or in the context of database interaction (say you have a csv and you want to insert each row as a row in a given DB) is there any benefit to that ? What's your experience ?; Also, if the main reason for multithreading is to speed things up then why do we use locks (don't they defeat the purpose if other threads have to wait for locks to be released before proceeding ?) Thanks in advance for your clarifications"
"<@Gwenda> because threads can share the same memory. If two or more threads try to modify a list, for example, you can't predict the exact order of modifications. Thus you need a lock to make sure such mutable shared memory can be modified by a single thread at a time.; If you don't share any memory, then you don't need any locks. But in that case you actually don't need threads - you need multiple processes"
ah very interesting point !; so if memory access is not an issue then multiprocessing is more suited ?
"It really depends on your actual use-case, but in general - yes.; The whole point of having multiple threads is to avoid expensive communication between isolated memories, by having a shared memory."
ah I see now ! Makes sense; thanks <@Collette>!
I am looking to plot time series data for multiple data values together any leads to do so in python?
"Morning, Just wondered if any has any experience with a good method to cleanly terminate all threads with Ctrl C on a script using multiprocess pool map?"
isn't ctrl c the same as the kkill signal?; If you have the thread ids you can just send a kill signal for each id; via bash
havent done a whole lot with Multiprocessing with python I have tried the normal try except with KeyboardInterrupt: but it just kills the current thread I assume; as it just continues
"You have to find the root id, otherwise it will keep spawning more processes no?"
Yeah it just continues I've tried a few stackoverflow posts but cant find a good answer for it
"using the following code, how can i convert ```M = [i.split() for i in L]
M = [[int(j) for j in i] for i in M]``` to js?: ```import time
 
start = time.time()
 
L = []
L.append(""08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08"")
L.append(""49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00"")
L.append(""81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65"")
L.append(""52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91"")
L.append(""22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80"")
L.append(""24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50"")
L.append(""32 98 81 28 64 23 67 10 26 38 40 67 59 54 70 66 18 38 64 70"")
L.append(""67 26 20 68 02 62 12 20 95 63 94 39 63 08 40 91 66 49 94 21"")
L.append(""24 55 58 05 66 73 99 26 97 17 78 78 96 83 14 88 34 89 63 72"")
L.append(""21 36 23 09 75 00 76 44 20 45 35 14 00 61 33 97 34 31 33 95"")
L.append(""78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92"")
L.append(""16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57"")
L.append(""86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58"")
L.append(""19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40"")
L.append(""04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66"")
L.append(""88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69"")
L.append(""04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36"")
L.append(""20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16"")
L.append(""20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54"")
L.append(""01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48"")
 
M = [i.split() for i in L]
M = [[int(j) for j in i] for i in M]
 
# there are 20 rows, each containing 20 integers
max_prod = 0
 
for i in range(20):
    for j in range(16):
        # right/left products
        prod = M[i][j]*M[i][j+1]*M[i][j+2]*M[i][j+3]
        if prod &gt; max_prod: max_prod = prod
        # up/down products
        prod = M[j][i]*M[j+1][i]*M[j+2][i]*M[j+3][i]
        if prod &gt; max_prod: max_prod = prod
 
# diagonal products
for i in range(16):
    for j in range(16):
        prod = M[i][j]*M[i+1][j+1]*M[i+2][j+2]*M[i+3][j+3]
        if prod &gt; max_prod: max_prod = prod
for i in range(3,20):
    for j in range(16):
        prod = M[i][j]*M[i-1][j+1]*M[i-2][j+2]*M[i-3][j+3]
        if prod &gt; max_prod: max_prod = prod
 
elapsed = (time.time() - start)
 
print ""%s found in %s seconds"" % (max_prod,elapsed)```; i currently have ```M = [i.split() for (i in values)];
M = [[Number(j) for (j in i)] for (i in M)];```"
<@Toby> convert to... js? You mean json?
"no, js, javascript"
You have a similar data structure and you want to re-implement the algorithm in javascript?
"yeah, ive got the rest of the code changed, i just cant figure out the 2 `M = ...` lines"
JS doesn't have the concept of list comprehensions as far as I know
"im just trying to follow this <http://code.jasonbhill.com/python/project-euler-problem-11/> but write it in js like i have the other problems; ill have to skip it, thanks anyway"
"js doesn’t have list comps, but does have `map` and others you can use here"
<@Toby> <https://repl.it/N5Na>
how come i get `=&gt; undefined` logged at the end?
I suppose that's what `console.log` returns
i get 4 logs from 3 console.logs tho?
What?
"```[ 1, 2, 3 ]
[ 4, 5, 6 ]
[ 7, 8, 9 ]
=&gt; undefined``` ^ 4 logs ```console.log(parsed[0])
console.log(parsed[1])
console.log(parsed[2])``` ^ 3 console.logs"
`=&gt;` is simply for showing you what have been returned from the script; It's not what `console.log` prints.
"ah ok, so just ignore it?"
Which tutorial you're using to learn javascript?
"im not, i already know javascript a fair bit; ive just never used that editor before"
"<@Lory> if you work with dates, it's probably good idea to convert strings to `datetime` objects, and manipulate them instead of strings"
very much :point_up:
I initially had taken that route but the data I am pulling dates out of comes form a few different sources as strings. I figured the date time approach would work in a more predictable environment rather than here where I am conditionally modifying specific pieces and at times reusing the same data for new results. It get's converted after this function returns when I am ready to do my db inserts; would you have a suggestion as to how to constructively build a date with arbitrary y/m/d information using the date time method? I am not too familiar with how to use it correctly so I may have had a bad implementation
<@Lory> sounds like a job for <http://dateutil.readthedocs.io/en/stable/parser.html>
<https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime>
"`strptime` is good when you have a fixed known format, `dateutil` is good when you just need to parse damn dates :slightly_smiling_face:"
"yep. with only a few different format I'm not sure which one is the best, but idk how many different format mike expect"
"I'll look deeper into that aspect. However, ignoring the dates and looking at the if/else structure I have set up, is there any other way to construct it such that I don't need 2 areas in which I check the status of `has_day` or is that inherently impossible because I need to first check the length of the date I have?; and all formats end up being `yymmdd` it's just a matter of what does it have currently, what is it expected to have and then any missing information is appended if needed, aka the day information which defaults to `01`"
on the top of my head I don't have any idea to check both condition
Fair enough. I have a tendency to look too much into optimization lol. I'm going to dive into those date formats and see how that goes
well you could do a function but if the check is only a line or two long it's not necessary
"Exactly what I was thinking, it would just take from the readability of the code"
depending on the conditions sometime having a 4 branch if/elif might be more readable but ¯\_(ツ)_/¯
lol thanks. I'll just let it be for now and maybe I'll have an epiphany one day
"Quick question... What does the line ""Global E"" (Line 6) do in the following code snippet?"
"as I recently found out, that allows you to create mutable global variables"
"It doesn't create them, it says the global is mutable from within this function."
Well in that one it is in a comment; so it doesn't do anything
Which is something you generally want to avoid doing in a production level piece of software. I personally cheat when writing test scripts to work out a specific function
correct. commented or not makes no difference when I run the snippet.
They are probably indicating they are using the global E.
<@Meghan> E has not been created beforehand so does get created there.
"And yes, there is rarely a reason for it."
actually you are right sorry; it gets declared later - this is just the person saying it is the global E
"<@Virgen> without `global foo`, `foo = something` creates a local variable `foo` instead of modifying the global one"
"That isn't really later, since the stuff outside of the function are executed before the function."
<@Meghan> corrected myself after :wink:
"I think I understand. So, if I were to expand on this initial snippet and wanted to use ""E"" later on, outside of the function, I would need to use the ""Global E"" to change the Global variable.; without the ""Global E"", the value of E would be unchanged outside of the function.; correct?"
"If you wanted to modify it in some way yes, otherwise if it is simply a reference variable like a file path or something that you do not plan on modifying, then you do not need `global`; you only need `global VARIABLE` when you plan on modifying that data structure, which as everyone says, shouldn't really be done"
"In that snippet, in that function. Is ""E"" getting modified? Or is it being used to assign the users input to ""string""?"
here is a good SO post on it.; <https://stackoverflow.com/a/4693385>
"in which case, ""string"" is what would hold that data that would get used later."
"And in the code given, E is not modified; it is assigning the users input to `string`"
it isn't it is simply being referenced and saved in the variable `string` which is local to that function and therefore mutable
"so even more of a reason that ""Global E"" is unnecessary."
mutability is a different thing....
?
yep
"got it. Thank you all!; and, <@Vada> I'll check out that SO post. thank you!; <@Lory> how did you format the snippets in your posts?"
"and <@Vada> is correct I didn't mean mutable, just that it is local and you can assign new data to that variable. mutability has to do with 'identity'  <https://stackoverflow.com/questions/8056130/immutable-vs-mutable-types>

and how do you mean <@Virgen>, your formatted code looks the same as mine as far as I can tell"
<@Virgen> <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>
"The problem I am finding with this is I don't know how to then modify the `day` if I need to later on in my code depending the `has_day` flag I was showing off earlier. Would I have to convert it back to a string, modify it and then reconvert back to date time?"
I believe you can do `date.day = 1`; but you'll need to test
<@Lory> I meant the small bits within your replies. `like this`. which I have now figured out is back ticks. thanks <@Meg>
"<@Virgen> ah, sorry didn't realize you meant those. Glad you figured it out though!"
":thumbsup: it helps alot; and also, it carries over from github issues too; and StackOverflow"
"<@Lory> anytime date/time/day anything like that shows up, I immediate ask if they've check out the arrow package, if either for implementation or for source code analysis
<http://arrow.readthedocs.io/en/latest/>"
Thanks <@Seema>! I'll look into that as soon as I can
"i get this output; :; ---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-165-ac8e0e59e314&gt; in &lt;module&gt;()
      6     return non_udacity_data
      7 
----&gt; 8 non_udacity_enrollments=udacity_removed(enrollments)
      9 print(len(non_udacity_enrollments))

&lt;ipython-input-165-ac8e0e59e314&gt; in udacity_removed(data)
      2     non_udacity_data=[]
      3     for data_point in data:
----&gt; 4         if data_point[‘account_key’] not in udacity_test_account:
      5             non_udacity_data.append(data_point)
      6     return non_udacity_data

TypeError: list indices must be integers or slices, not str; why??; :thinking_face:"
`data_point` must be a list
"why can I use :”; for enrollment in enrollments; if enrollment[‘is_udacity’]:; ""; enrollment here should be a list too?"
"uhm, enrollement is a dict, apparently"
"oh! so unless i define the “data” as a dictionary, i can only use data_point as a string?; and based on my code now, what do you think i should modify it"
"remember, you can access a list by index.  eg `some_list[3]`, but a dict has to be accessted by a key.  eg `some_dict['some_key']`"
yup yup
"so, you need to iterate over a dict; are you using python 2 or 3?"
3; do i add: data={}
"what you want is `for key, value in enrollments.items():`"
i dont understand; and also i want it to be a function; :thinking_face:
"how about you step back a bit, and tell us what you’re trying to accomplish; its obvious you’re trying to add and remove some enrollments, but any more than that is unknown; for example, what is `enrollements`?"
here it is <@Meg>; :laughing:; sorry for the typos in my description hehe
"so, enrollments is a list of dicts?; and for some reason, in `udacity_removed`, it gets moved to a regular list"
yes enrollments is a csv file
uhm
Couldn't it also be coming from daily_engagement since the function is also being called with that?
"OrderedDict([('account_key', '1304'), ('status', 'canceled'), ('join_date', datetime.datetime(2015, 1, 10, 0, 0)), ('cancel_date', datetime.datetime(2015, 3, 10, 0, 0)), ('days_to_cancel', 59), ('is_udacity', True), ('is_canceled', True)]); OrderedDict([(‘account_key’, ‘1304’), (‘status’, ‘canceled’), (‘join_date’, datetime.datetime(2015, 1, 10, 0, 0)), (‘cancel_date’, datetime.datetime(2015, 3, 10, 0, 0)), (‘days_to_cancel’, 59), (‘is_udacity’, True), (‘is_canceled’, True)]); like this"
"I don’t think so, <@Antionette>, because the original error comes from `non_udacity_enrollments=udacity_removed(enrollments)`"
<https://jefflirion.github.io/udacity/Intro_to_Data_Analysis/Lesson1/L1_Starter_Code.html>; it is in the “Tracking Down the Remaining Problems”
Well that will teach me not to scroll up and read the full traceback =P
:joy:
<@Kandis> Can you post the code you're using to read the csv and load engagements?
"something is off.. i went back to re-run the previous code, and it keeps telling me the same error:; TypeError: list indices must be integers or slices, not str; now i re-run all the codes again and again, it now worked…..; :fearful:; it happens to me a lot when using Jupyter?; i guess if i chanced any previous code, even though the previous code does not relate to what my other codes, i will have to re-run them all to make sure the after codes run smoothly?; relate to my other codes*"
Morning guys!
can anyone help with kivy? im new to it and ive googled around but cant seem to find an answer to what im trying to do
You can try ask your question in <#C07FJKDNH|kivy>
i was going to but looks like nobody uses it; the channel i mean
"This slack group uses the free tier, so it only shows the last 10,000 messages across the entire group"
"true, but the last activity was september 15th haha"
"There are currently ~520k messages in the history, so loads that can't be seen; true"
"ah ok, ill ask there"
"if no one responds, just share/cross-post your question into here"
"ok, thanks"
"hello community! :slightly_smiling_face: 
my ideas are currently blocked by the following problem:

*context:* i’m trying to build a simple (read-only) python api client for a storage product, but as I’m lazy I’m trying to do things dynamically… 
*problem*: the api server has endpoints like this:
```
GET: /monitor/host?nodeId=xxx[&amp;region=xxx]
GET: /monitor/nodelist?[region=xxx]
GET: /system/version
GET: /usage
```
my idea was to create classes for each endpoint (monitor, system, usage, etc), and get the “child-endpoint” (/monitor/*host* or /monitor/*nodelist*, etc) dynamically… but then, I would still need to get all URL the parameters (*nodeId*, *region*, etc)… the usage I have in mind is something like this:
```
client = WhateverStorageApi()
client.monitor.host(hostId='node01', region='eu-west-1') # this would generate: /monitor/host?nodeId=node01&amp;region=eu-west-1
```
my problem is: __getattr__ isn’t aware of any **kwargs, and __call__ only works for whenever I call a class.. is there any other well-known way of achieving this? so far I came up with:
```
class Monitor(object):

    base_url = 'monitor'
    
    def __getattr__(self, endpoint, **kwargs):
        
        base_call = '/{base_url}/{endpoint}'.format(
            base_url=Monitor.base_url,
            endpoint=endpoint
        )
    
        if 'nodeId' in kwargs.keys():
            base_call += '?nodeId={node_id}'.format(
                node_id=kwargs['nodeId']
            )
    
        if 'region' in kwargs.keys():
            base_call += '?region={region}'.format(
                region=kwargs['region']
            )
    
        # do something with base_call
``` 
(which I know… it simply doesn’t work)"
what's the best way to mock a method on a mock object?
I am trying to groupby two columns on a DataFrame and select a third column; not sum count or aggregate; any way I can only select a third column based on all available combinations of first two columns in a dataframe?
"Do you mean something like :
```
df.groupby(['A','B'])['C']
```"
yes lili i guess this should work?; sorry doesnt work but thanks
"the first thing that came to my mind was something like this ```from functools import partial
class Monitor(object):

    base_url = 'monitor'
    def __getattr__(self, endpoint, **kwargs):
        base_call = '/{base_url}/{endpoint}'.format(
            base_url=Monitor.base_url,
            endpoint=endpoint
        )
        return partial(set_params, endpoint=base_call)

def set_params(endpoint, **kwargs):
    if 'nodeId' in kwargs.keys():
        endpoint += '?nodeId={node_id}'.format(
            node_id=kwargs['nodeId']
        )
    if 'region' in kwargs.keys():
        endpoint += '?region={region}'.format(
            region=kwargs['region']
        )
    return endpoint

```; example usage ```In [9]: monitor = Monitor()

In [10]: monitor.host(nodeId='a')
Out[10]: '/monitor/host?nodeId=a'
```; did you have something similar in mind or did I completely misinterpret your question?"
"holy fuck! that is exactly what I needed!; :heart:; thank you; check this out:
```
class Monitor(object):
    base_url = 'monitor'
    def __getattr__(self, endpoint):
        def handler(**kwargs):
            return self._magic(endpoint, **kwargs)
        return handler
    def _magic(self, command, **kwargs):
        print command
        print kwargs


a = Monitor()

a.node(nodeId=""show_me_what_you_got"", region=""bikini-bottom"")
```
I’ve managed to do it like this as well"
I find Flexmock (<https://pypi.python.org/pypi/flexmock>) easy and friendly to use for mocks
Aloha . I am a mathematician i work as .NET developer and i am in intermediate level in Python + C# . I wanted to learn F# for scripting purposes for C# mainly projects and for Python . Is it worth it?
"I have a django/postgres question: in this current project, we have a ton of fields using the django-picklefield. but I need to find and replace some of the contents of these fields. Any idea how to depickle this data?"
<@Carley> better to ask in <#C0LMFRMB5|django>
<@Vada> cheers!
"hey, i have a question; I'm doing an app with flask; and i'm doing a test for the endpoints with pytest; this is my test; ```
from flask_api import status
import pytest

@pytest.mark.parametrize(""url,expected"", [
    ('/ping', status.HTTP_200_OK)
])
def test_ping(url, expected):
    response = client.get(url)

    assert response.status_code == expected

```; and this is my config for test; ```
import pytest

from app import create_app


@pytest.fixture
def app():

    return create_app()

```; but when I run my test; fail 'cause says that client is not defined; I don't have idea; why"
you don't use the `app` fixture anywhere
Which might be part of the problem?
"Yes, i don't use"
"so I think you need something like `def test_ping(url, expected, app):` or at least that's how I've done most of mine"
yes i try; but says that flask object has not attribute get
You're using the pytest-flask plugin for pytest I'm guessing?
pytest
"No clue if this is helpful, but <https://stackoverflow.com/questions/34913348/flask-object-has-no-attribute-post-error-for-login-unit-test>; ¯\_(ツ)_/¯"
thanks man; i'm install pytest-flask; and this install client fixture
"I use the TestApp from WebOB.; example of my fixtures: <https://github.com/openstax/research-p3-experiment-4/blob/master/tests/conftest.py>; ```
@pytest.yield_fixture(scope='session')
def app(app_config):
    """"""An application for the tests.""""""
    _app = create_app()
    _app.config.update(app_config)

    ctx = _app.test_request_context()
    ctx.push()

    populate_data(_app.security.datastore)
    create_subjects(_db)
    create_assignments(_db)

    yield _app

    ctx.pop()


@pytest.fixture(scope='function')
def test_client(app):
    """"""
    Configure a WebTest client for nice convenience methods.""""""
    return TestApp(app)
```; TestApp will provide all the nice `.get` `.post` methods; ```
def test_dashboard_login_successful_after_redirect(test_client):
    response = test_client.get('/')
    assert response.status_code == 302
    response = response.follow()
    form = response.form
    form['email'] = '<mailto:mike@mike.com|mike@mike.com>'
    form['password'] = 'password'
    response = form.submit()
    assert response.status_code == 302
    response = response.follow()
    assert 'My super dashboard' in response
```"
"Is there a way to compare two sets and see which items are different and unique to which set as well as which are common? aka unique to A, unique to B or common to both"
"```
&gt;&gt;&gt; first = set('abc')
&gt;&gt;&gt; second = set('cde')
&gt;&gt;&gt; first - second, second - first, first &amp; second
({'a', 'b'}, {'d', 'e'}, {'c'})
```"
awesome thanks
"yup, that works as well. If I recall correctly, this one uses closures, but I'm not sure about differences between performance/usages of partial vs closures"
"Hey folks. Take a look at this project: <https://github.com/datamade/census/blob/master/census/core.py>. I’m thinking about ways to make it more intuitive based on what it’s trying to model. For example, `acs5` and `acs5dp` are two different methods of `Census()`. But the class associated with `acs5` (`ACS5Client()`) is really where the meat of the method is, and the `ACS5DpClient()` class is just two variables that replace variables of `ACS5Client()`. Further, what I’m thinking would make more sense based on how the API is organized (see: <https://www.census.gov/data/developers/data-sets/acs-5year.html>) is if there were `acs5.detail`, `acs5.dataprofile`, `acs5.subject`, and `acs5.comparison` attached to `Census.acs5`. How would I go about reorganizing this code to make that happen? I’m thinking it has something to do with adding those methods to the `ACS5Client()` class, but… *TL;DR:* I don’t grok how these classes fit together, or really classes in general."
"Having a hard time getting the hang of unittest.mock to mock an object ensuring the mock has the same API as the object.; example object that's slow to create and gets passed around an application:
```class Foo:
    def __init__(self, one, two, three):
        delay = 8
        time.sleep(delay)
        self.one = one
        self.two = two
        self.three = three
        self.logic = True```; Trying to test a function that takes that object as an argument
```def list_foo(foo):
    return [foo.one, foo.two, foo.three]```; this passes:
```class FooTests(unittest.TestCase):

    def test_list_foo(self):
        expected_list = [1, 2, 3]
        mock_foo = mock.create_autospec(spec=Foo, instance=True,
                                        one=1, two=2, three=3,)
        foo_list = list_foo(mock_foo)
        self.assertEqual(expected_list, foo_list```; but so does this:
```    def test_list_foo(self):
        expected_list = [1, 2, 3]
        mock_foo = mock.create_autospec(spec=Foo, instance=True,
                                        one=1, two=2, three=3, four=4)
        foo_list = list_foo(mock_foo)
        self.assertEqual(expected_list, foo_list)```; and the 'four=4' parameter isn't part of the Foo object.; I would like to see an AttributeError raised there; but adding spec_set causes an AttributeError for 'one=1', which I don't understand; think I found my answer here
<https://docs.python.org/3/library/unittest.mock.html#autospeccing>"
Anyone in here build sites or deal with them in the real estate marketing. I have questions about lead generation stuff
"Anyone?
<https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000667964-Docker-compose-remote-debbuger-fails-to-gracefully-terminate-containers>"
new to python .... could you please tell me what a mock is in python?
can someone please help with kivy? im struggling with the rules
There’s a <#C07FJKDNH|kivy> channel in this team. I bet you could get a hand from someone there.; <@Kenny> It looks like the “Dp” could be done away with completely by just initializing the ACS{n}Client classes with the variables that the Dp classes supply.; Honestly there are a few things about that library that could be improved.
nobody seems to be active in that channel tho
"<@Kenny> 
The first would probably to be break those classes out into more than one file called `core.py`. With a name like core it makes me think that they were going to add more files/break up the core file but then just didn’t.
The second would be all of the cryptic class names. I guess if you know the field/datasets they make sense, but they don’t to me. The names themselves would be fine, but they don’t have a single doc string in the whole file.
My other nitpick is the gratuitous use of whitespace. That’s just a style preference I have, but they have dozens of blank lines all over the place and I find it distracting and think it makes it harder to read."
"<@Toby> then unfortunately, you might have to look elsewhere for kivy help."
"<@Toby> I just noticed that I was the second person to recommend you look in the kivy channel, and that you already did."
i asked a question in that channel yesterday and nobody has messaged in it since
"yeah, its definitely a low-activity channel"
yeah... and google doesnt help much
"which suggests there are not many people in this community with knowledge and familarity; so, even if you keep asking here, I doubt you’re going to get any kind of meaningful response"
true..
have you checked out the google group/mailing list for that project?
ive looked in a couple of groups when googling it but nothing besides that
<https://groups.google.com/forum/#!forum/kivy-users>
"I don’t think I can help with kivy. I can suggest an alternative though. There’s a guy working on a group of projects called beeware. Of particular interest to you might be VOC <https://pybee.org/project/projects/bridges/voc/>. Essentially, his goal is to write a python bytecode transpiler to convert python into native bytecode for other platforms, like java, allowing you to write apps, etc… in python."
ill just have to struggle i guess
<@Toby> we all struggle in our field of work lol
"true, very true"
"<@Harlan> haha agreed, but since I'm not deeply involved with this project, I was looking to just tackle some of the low hanging fruit rather than reorganize the whole thing. The class names do kind of make sense based on what its modeling, but yeah more comments would be nice."
"Guys, thanks so much for your advice on this, it’s really helpful, I’ll let you know how I get on!"
"Can anyone answer some possibly beginner level questions - To do with SQL, Python, Flask(Or Django)? Might take up a chunk of text here, can direct message if anyone is willing"
If it's about flask / django it might be better to ask in <#C0LN2AD7T|flask> or in <#C0LMFRMB5|django> or more globally in <#C07EYDP25|webdev> :slightly_smiling_face:
"True, it's super entry level...Let me post the question and then if you think i should still head over there I will; What I’m making is a Key Performance Indicator dashboard, ideally in a web app.

I have a bunch of small scripts to preform the actions that I need, but would ideally like to have a user be able to click a button on the webpage, and that script is run on whatever computer is hosting the site. Flask or Django – I’m assuming I’ll be able to do this with Flask or Django?

I’m also using sqlite3 as the database – There may be many people looking at this page, but only ever 2 people editing. Will be small edits, but the likelihood of to people committing items to the database at the same time are very slim. Should this be alright, or should I be switching to something like postgr..Mysql, etc"
Django and Flask views are python at the end of the day so you can execute whatever tasks you need.
"Perfect, any preference (and reason) that you would go with one over the other in this situation?"
"my standard answer:

```
flask is really nice especially if you like sqlalchemy. it's one of the reasons i still build many things in flask. i think flask has some things that make it really easy to get started at the beginning but can also mislead you as well. flask is a microframework so it has to be built up in pieces (called extensions) and has a lot of flexibility. this flexibility can start to become an issue when your application grows and you get errors about circular imports. a good tip to start out with when building flask web applications is to be aware that there are two very important patterns when structuring your app: 
a) application factory
b) blueprints
a good project structure at the beginning doesn't hurt!

Django is an entire framework and has opinions of its own. Django has opinions on what template language and database orm you should use. Django will provide you with all the tools. It is possible to change template languages from Django to Jinja2. The biggest plus about Django is it's the most sought after developer position in the python web world. Django gives you everything you need in one place. That's the nice thing about Django is it has made a lot of decisions for you. This enforced structure allows you to be focused and very proficient. The Django Rest Framework is legendary in the Python world and makes it fun to build Rest apis and you also get a professional looking browsable api with it. When you work with Django you know it's a professional framework. That's why they say it's for, ""perfectionists with deadlines.""

It can never hurt to learn Django or any python web framework. There are a lot of the patterns that remain the same like MVC and these sorts of things.

One of the first times i entered the #pocoo channel on irc i saw a conversation between armin ronacher, the creator of flask, and someone else. armin said something that i can't forget. He said, ""flask will not make or break your project."" Both Django and Flask have excellent documentation and will appeal to different people. Why not try both?

Django and Flask are two web frameworks that help you solve problems in different ways. If you are new to python i recommend flask bc i think it gets you a lot for your milage at the beginning and once you get the hang of building applications moving on to Django or Pyramid is not an issue. The concepts you learn building a wsgi web application transfer to other wsgi applications. (edited)
```"
"Excellent answer, thank you"
it’s probably one of more light handed flask vs django responses you’ll get.
"I have zero experience with either, so it's great. I'll start with flask, no harm eventually learning both"
i’m mainly a flask dev but that wouldn’t stop me for applying for a django job. there may be some large gaps in my knowledge how things are done but the underlying concepts are the same :wink:.
Awesome...appreciate your responses
Anyone have a link to a PyCharm-flavored `pep8` config file?
? pycharm has pep8 built in; what are you needing?
i think its for use outside of pycharm. that’s what it sounds like.
"i'm not 100% certain, but i think pycharm is just using `flake8` behind the scenes; maybe w/o the complexity algo"
it uses pep8.py <https://pypi.python.org/pypi/pep8>
TIL
me too lol
"PyCharm violates at least one default (line length), but maybe not others. If that is the only derivation that's easy then.; I'm brand new to PyCharm."
"eh, line length isn't the most important"
Do you know what max is in PyCharm?
nope. i don't even know if there is one
Ah I see it indicated but I'm so new I'm figuring out how to read it.
i just always turn on a right ruler in every editor
the one they set for you automatically is 79 chars
"So mine came out-of-the-box at 120, found it.; I didn't change any Code Style settings."
79 is a good default. gives you a single character to wrap up with; embrace the `()`s for continuations and breaks
"I like that too, it's a project I don't manage but people use PyCharm, that's why I was trying to work it all out."
pycharm is a solid platform
"I've always verified with normal `flake`/`pep8`, so I didn't know why they were saying it was PEP8.; It looks like that is the only variation.; `pycodestyle --max-line-length=120` does the trick though"
"I always strive for 80, but if it’s cleaner to break the rule I’ll do it. If you’ve exceeded 110, 99.9% of the time it’s cleaner to break up the line."
"```In [35]: ser.write(b'at+cusd=1, ""*99#"", 15')
Out[35]: 23

In [36]: ser.read_all()
Out[36]: 'ERROR'
```

guys, eep me... I am using pyserial and manage to get some commands working like `ser.write(b'at+cimi')` which returns 'IMSI' of the carrier. but when it comes to the ussd code... it throws... Error..
pyserial + ATCommand; the code is just returns the phone number of the device..."
Is anyone familiar with Django translations ?
"&gt; Django translations
Good band name"
"yeah, what are you trying to do or having a hard time with?"
<https://stackoverflow.com/questions/47081717/python-serial-port-ussd-command-throw-error>
"I have a .po file with the translations I want to make, and believe I have my settings configured correctly, but the trans tagged headers in my html aren't being translated when changing the Content-Language http response header to 'es' for spanish."
"okay, there are a number of steps you might need to take here; first, you need to have a _compiled *.mo* file_ to actually use the translations; <https://docs.djangoproject.com/en/1.11/topics/i18n/translation/#compiling-message-files>; then you need to change how you're setting the language; <https://docs.djangoproject.com/en/1.11/topics/i18n/translation/#how-django-discovers-language-preference>; if you're using the request, it looks like you need to change the request header name - I've always used the 'standard' way of having the user make a selection from, say, a form, which sets a session variable for their language choice"
"Ah I see, I tried to use the django-admin command, compilemessages, and got this issue ""Can't find msgfmt. Make sure you have GNU gettext tools 0.15 or newer installed.
"".  I checked with Brew, and I do have the most up to date version.; of gettext; nvm, just had to run 'brew link --force gettext'; Is there a way to just run compilemessages on one locale directory ? When I run it from the root of my app it goes through all my third party directories that have locale files and recreates .mo files for those as well. The problem is that this causes a ""plural forms expression could be dangerous"" value error because it is re-setting the plural-forms variable in some .po files"
"I don't think there is, but if you really need to compile only a specific file I don't see any reason why you couldn't do it with other tools; Django's tooling here is mostly porcelain around the gettext toolset"
"I am jumping ahead a little on my intro to dictionaries but how can i add up the values of a sub dict? here is my dictionary; ```chest_piece = {
	""gear_set"": ""Nomad"",
	""Armour"": 1751,
	""gear_stats"": {
		""firearms"": 205,
		""stamina"": 1234,
		""electronics"": 205
	},
	""major_attributes"": {
		""slot_1"": ""5 Health on Kill"",
		""slot_2"": ""9.0 Exotic Damage Resillience""
	},
	""minor_attributes"": {
		""slot_1"": ""55 Ammo Capacity""
	},
	""gear_mods"": {
		""slot_1"": ""n/a"",
		""slot_2"": ""n/a""
	}
}```; I am trying to add up the `gear_stats’ this is my code so far. 

```def gear_calc():
	overall_gear_score = sum(base_stats.chest_piece[""gear_stats""].values())
	return overall_gear_score```"
is it working ? do you get an error ? :slightly_smiling_face:
i tried running the file in terminal i didnt get anything
does it have a print statement in it?
you'll need to add some `print` to get any output in the console
will it add up the firearms / stamina values etc? as gear_stats doesnt have any values
yeah I’d expect it to return 1644
"ok nice ill have a play around thanks guys; to get the firearms. value would i do `chest_piece[""gear_stats""][""firearms""]`"
yes
thanks
Hi All; (Python 2.7) How do I fix os.path.abspath from returning a “looped” or “doubled” directory path?
Good luck <@Evelin>
"basically, what I am getting is `/User/username/path/to/path/to/file` instead of `/User/username/path/to/file`; The input being passed to os.path.abspath is the string `'to/file'`; I only seem to get this problem when running tests with `unittest`; when the code is running live, no issues."
Can you post the whole code snippet so we can have context
"<@Lory> Don’t worry actually, just programmer (me) error!; I inserted that doubling myself by accident; bad test value"
"lol, sounds good. Glad you figured it out"
hi…is there a specific channel for facial recognition/opencv questions?
<@Dexter> there is a <#C2J4B66PK|machine_learning> channel
I am getting the weirdest syntax error in my code at the moment
Attempting to implement FCFS CPU Scheduler and for for some reason I am getting the following error which I cannot find for the life of me.
"The code can run normally, but I cannot get the pycharm debugger to run; Also I only get this error when a breakpoint is set anywhere in the code; I've found someone with the same exact error on stackoverflow but no answers...; <https://stackoverflow.com/questions/43459366/pydev-debugger-gives-error-on-breakpoint>; Okay so for some reason it would seem I had a variable `ready_queue.0` in my watchlist and by removing it I've fixed it"
"<@Myong> so, you fixed it yourself? nice job!"
"Yeah, honestly no clue how it happened, I knew it was looking for something due to the EOF error, but I couldn't for the life of me figure out how it got `ready_queue.0` from my `ready_queue` object; Then saw it was just sitting in the watch list so I removed it and it works"
"Hi ALL,; I am trying to fir kmeans sklearn on a single feature(data frame column); using kmeans.fit(data_frame['column_name'].reshape(-1,1)); it give me the error of truth value of an array; this is an internal kmeans.pyc file exception; I do not understand why would kmeans not accept a single dimensional feature to predict outcomes; please help"
"hey guys, can anyway recommend a JIRA desktop app for Mac?"
"Hey guys, maybe someone able to help me; I need to use `regex`; for Example:
I have `my_string = 'Copyright (c)'`; How I can add some words, after `(c)` character, using `regex`?"
does it always end like that right now?
in order to on output I’ll have something like `Copyright(c) Darth Vayder`; no
Or are you just going to get strings like 'Copyright (c}' mixed in with other letters etc.; (and which language)
"it’s for licences
```
MIT License

Copyright (c)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the ""Software""), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```; English;)"
haha
I’m not familiar with `regex`:disappointed:; <@Vada> It will hard to do it?
"Didn't realise I was on the python slack group hence the lang q :stuck_out_tongue:; in python, no it's incredibly easy; but I read something recently which is making me research another method; 1 sec; (and you don't need regex for this)"
"<@Vada> Waiting, thanks:slightly_smiling_face:; <@Vada> :beers:"
":slightly_smiling_face: sorry this is part of an active effort by myself to reduce my reliance on python for small menial things; you can use sed; which is regex based; ```nick@polo:~$ cat BSD 

Copyright (c) The Regents of the University of California.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.
3. Neither the name of the University nor the names of its contributors
   may be used to endorse or promote products derived from this software
   without specific prior written permission.

nick@polo:~$ cat BSD |  sed 's/Copyright (c)/Copyright(c) Darth Vader/'

Copyright(c) Darth Vader The Regents of the University of California.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.
3. Neither the name of the University nor the names of its contributors
   may be used to endorse or promote products derived from this software
   without specific prior written permission.
```; Reduced license a bit to make it clearer; this does not check to see if you have already written ""Darth Vader"" after the copyright line; so it could dplicate it easily"
"Haha, really!!; ```
out_put_license = re.sub(r'Wizi Generator', author_name, license_content)
```; just to replace words; :grinning:; <@Vada> thanks); `sub` function  works pretty well"
yep that should work too; although you can also just do a straight up `.replace`; no `re`
"<@Vada> yeah, nice solution.. sometimes, easy things:thinking_face: looks hard; If someone will have a free time, could you review my little project? And if you will write some suggestions, or notices, it’s would be really awesome!
<https://github.com/MichaelYusko/wizi>

in two words about `wizi`: little package which will generate project template for you;)"
"And have a nice day, guys."
"any thoughts on best practice for variable names during a for each loop in python?

for i in items:
```
i is a terrible name because it's generally used for the index
```

for item in items
```
item is a poor choice because:
- refactoring tools may or may not be able to figure out 'item' needs to be changed if 'items' is renamed to something else.
- converting between plural and singular all the time is annoying and inconsistent.
- 'item' looks too similar to 'items'.
- if the list has a long name the nested code looks ugly. 
- if the loop is small, it's completely pointless and adds no value.
```

i kinda want to use ‘v’ or ‘e’ and just stick with it all the time, but nobody is doing this so i assume there is a reason for it?

i really hate for each loops lol, i like standard for loops"
"uhm; I really don’t care, tbh.  as long as its obvious what is the variable and what is the data structure; and the data structure name is appropriate"
"yeah, and I gotta say, I’m actually a huge fan of the plural vs singular thing.  I think that adds more clarity, not less"
"for example, `item in items` is pretty easy to figure out, because one is plural and the other is singular; then, when using `enumerate`, I do `for idx, val in enumerate(some_data_structure):`"
"yup.  also, in general, probably not worth overthinking; if it’s generally clear what’s going on, and there are no obvious problems, then it’s good to go"
:thumbsup: for not overthinking
"inevitably you’ll be back there in a couple months anyway and go, “geez this is total crap, who wrote this!”  *runs git blame* “oh”"
"for ? in my_list_with_a_specific_name:

what we doing here?; fwiw, i’m only over thinking this because i keep having to think about it when coding, i’d rather stick to something consistent and never think about it.; i think for item in items is perfectly fine, and probably a poor example. in reality it’s never usually that simple, and the list won’t necessarily even have a singular name. i guess it doesn’t really matter overall, just feels like i shouldn’t be thinking about this lol. if i had to come up with a unique variable name instead of using ‘i’ in regular for loops, it would begin to annoy me too :smile:"
what I usually do I name list with a plural so when doing `for i in my_list` I can use the singular; `for message in messages`
"you won’t always be able to come up with a natural sounding name that has a singular version though, and even trying to do it in the first place bugs me a bit. i guess i’ll just stop being so obsessive over the little things :wink:"
it's not possible some time but most yes; but yeah if you can find something good enough it's probably :thumbsup:; you can also rename later
"that’s the thing though, i don’t want to have to rename shit later haha, i’d rather just stick it as some single letter constant and never think about it again in my life"
always using the same letter for indices will get confusing sometime; what if you have two loops ?
"then i would give them descriptive names; but that case is rare enough that i don’t care, and i think in that case it actually adds a lot of value to be descriptive"
"&gt; adds a lot of value to be descriptive
In any case it add value"
i’m mostly talking about 1 level deep loops no longer than 10 lines. they come up all the time and i don’t think a descriptive name adds any value to the code at all
"then the convention is to use `i` and `k, v` for dict"
"can we use i there? i’ve wanted to, i just haven’t because i thought it would be conflicting with the tradition of calling the index i; k, v i like a lot, consistent and easy :slightly_smiling_face:; i think i’m going to go with ‘i’ and if people complain i’ll blame you :wink:"
haha :thumbsup:
"I use i, j and k,v when the values are non-obvious, as you describe.; specific names otherwise"
"having written a good bit of c++, I often use 'it' which works for 'item' or 'iterator'. or sometimes I just use i, j, k or x, y, z in nested loops. It's mostly just style since the loop items/indexes are very local and not 'in scope' after a dozen-ish lines or less"
"bash scripting question, anyone ever use the ImageMagick command line tool? Trying to center one image over another and getting mixed results"
mixed results how; horizontal or vertical offset working?
"I was getting incorrect dimensions but I am just now realizing that I had the order of images wrong so I was overlaying the background on top of the foreground image, and since it was transparent it just looked like nothing was happening"
"Alright now I really don't know what's going on with this bash script if anyone can help out. If I specify a `-d` option, then my output file variable is an empty string which breaks on the `mkdir -p`, if I don't specify the default holds correctly but then `convert -size ""${w}""x""${h}"" canvas:""${color}"" ""${out}""/""${img}""` fails because it can't open an image? even though that command doesn't open an image and is instead creating one? Am I just going crazy?"
"this is just a simple script for making images square, it takes two optional arguments, a color for the background (defaults to transparent) and a name for the output directory (defaults to `square_out`)"
"Actually I fixed it, changed `while getopts ""dc:"" opt; do` to `while getopts "":d:c:"" opt; do` was all I was missing"
Any idea why I am getting that error?
"you're missing a closing `)`; look at the end of `print(random.randint(min_income,max_income)`; should be `print(random.randint(min_income,max_income))`"
+
And that fixed it. Thanks mike
Sure thing
"that’s actually a great idea, going to steal it. i have a c++ background too"
<@Lory> :taco:
Wooo my first Taco! Thanks <@Johana>
"I only used to use Slack in-browser but recently changed to Windows desktop. There seems to be some awful behavior with me not getting notifications, and then it doesn't show up on other devices either because I guess I'm not Idle. Anyone know if I can force Slack to just notify me everywhere, always? <https://get.slack.help/hc/en-us/articles/201398457-Mobile-notifications>; It's kinda ruined its reliability."
"<@Mallie> Windows?  What happened??!?  I'm mostly joking, but partly serious."
"1st mistake:

used windows"
"I'm not 100%, still working out the details, but sometimes I just don't get notifications.; I think it may happen when I am ""in"" that team as far as Slack is concerned, even if I am not on the window"
you need to restart your computer 3x times.
"Well to be fair to awful Windows though this is explained in Slack on that link, I just think it's terrible behvior; Notify on all should be an option; When I used the browser I'd get a browser notification and a mobile one, always."
<@Mallie> I wasn't asking about the Slack...I was curious what happened with going Windows
"Well it's related to the Slack, what do you mean? I don't get notifications from Slack on Windows sometimes and then I also don't get them on mobile is the issue.; OHHHH; hahaha"
I've seen your lapto.... lol
I've always worked in Linux but had it as a Guest OS; You were using a vbox; I have a Linux server at home but my desktop and laptop are Win 10 native
Haven't you normally done your developing in nix based?  I thought you rarely used Windows
i loved windows me. that was some good stuff.; sike; :point_up: i’ve been waiting to use that word again.
"I think it might have been popular about the time ME came out too... What MS marketing department genius said we should name an OS ""me""??!?; On a python related note, has anyone found any cool things to do with f-strings besides the normal fair or something that really borked things up?"
"<@Seema> ME -&gt; millennium edition, I suppose; IIRC, the original marketing material said that, then after a while went to ME"
"Yeah, but work and just personal stuff are different - games only work in Windows and support for a lot of other general stuff is better.; I'm working in a Linux VM ~95% of the time"
"got it, I ""gave up"" gaming this year, kind of like alcohol, but it's more because I went Ubuntu and there's only so much WarThunder I can play; I have a screaming video card too but it's used less than 1% of the time :disappointed:"
"Haha just go Windows for what you need it for, it won't hurt anything probably"
"true, true, I've been playing with virt-man but then I get interested in some new thing, Dask, docker, python 3.6, jupyter, etc.  all the while on AMD's new chip.  I've only nuked and paved three times now; oh, I don't think I have a win10 license around anywhere.  I'm too lazy to hunt down some free version of win10 too."
"Hey everyone,

I am curious on some opinions of using a generic CMS vs building your own. I believe it will help me if I understand how everything works so I will build my own irregardless but I am not sure about which is better for real world project use (granted I know there are different use cases and I should choose off that, but it is hard for me to draw a line at this point)"
<https://hackernoon.com/how-i-built-a-cms-and-why-you-shouldnt-daff6042413a>; Haven't read it but it was featured a while ago
"I believe I read this when it was featured (actually think it got featured because a girl built a CMS for her company in one day and someone commented this link on that page). I will re-read it again, but I remember being slightly at odds with the article only because unless I am running a site where blogging (with multiple admin levels) is the main objective, I don't feel like I need to resort to using a cms. Let me re-reead ths though to be sure I have the right idea"
Well I just thought it might be relevant but I don't really have an opinion on the topic to be honest
"Ahh okay thanks <@Ciera> :taco: 
I will still re-read it to be sure I understand the author's point of view though"
"Does anyone know how to place text using turtle.write? I know that I can align - right, left, center, but I there isn't much in the documentation about how to place things at a certain coordinate."
"Hi everyone, I’m a UX design student working on a developers’ career advice project and I would really appreciate if you could take 1 minute and help me participate in this survey about developers in tech industry. Here is the link <https://www.surveymonkey.com/r/P87VZP8>"
Anyone in here ever has to integrate with Salesforce?; I may be building a site that needs to integrate with it 
we integrate with SalesForce but i have 0 involvement in what is being done with it.
"it is how we onboard new schools, teachers, etc."
"Why does this evaluate to True? 

```
b = (1, 2, 3) &lt; (1, 2, 4)
print(b)
# True
```"
same reason it's true for `123 &lt; 124` or `'abc' &lt; 'abd'`; values inside a container are compared
"<@Suellen> One comparison that is False makes it all False? 

```
a = (1, 2, 3) &lt; (1, 2, 4)
print(a)
# True

b = (1, 2, 3) &lt; (1, 2, 3)
print(b)
# False

c = (1, 2, 3) &lt;= (1, 2, 4)
print(c)
# True

d = (1, 2, 3) &lt; (1, 1, 4)
print(d)
# False
```; <@Suellen> Like ‘d’; <@Suellen> ‘&lt;=’ and ‘&lt;’ work the same?"
"They are compared lexicographically (I hope it's the right term).; Basically to determine whether a tuple is ""less than"" another tuple we compare what's inside; `(1, 2, x) &lt; (1, 2, y)` is True when `x &lt; y`, because that's what's different between these tuples"
<@Suellen> Very clear. Thanks for your help.
"question, someone knows about ionic 2?"
"Him does anyony know how i can assign bin value back to the original dataframe ?
let say i have a dataframe below, Bin group if B=0.5 , Bin group = 1   , B=1, Bin group = 2
Ori                 want
A    B            A    B  Bin group
A1   2      -&gt;A1   2   4
A2   4          A2  4    8  ?

bins = np.linspace(df.a.min(), df.a.max(), 10)
groups = df.groupby(np.digitize(df.a, bins) which has created a variable groups, how can i assign the groups into the ori dataframe ?

Thanks"
"Hi need some help with homework. Why would a try: skip the except: ? Have a menu selection and want to print an error if the user enters wrong choice.; Double checked indentation, the wrong choice doesn't use any of the code but the except: statement is not executed.; <https://paste.pound-python.org/show/bgo4C99qHLshwGSSjQpH/>; line 146"
"hi guys,
I have a new program that I have written, I want to test the stdin input, but I'm having some trouble with pytest
is there a good way to do stdin testing with pytest, or am I not supposed to do this?

like for example:

input your name: John"
"<@Mitzie> plenty of options: you can replace `sys.stdin` with a custom file-like object (for example, `io.StringIO()`), you can mock `yourmodule.input`, or you can mock `builtins.open`; I would either go with replacing `sys.stdin` or exclude logic into a separate function, without calling `input` and test this function instead; as I expect `input` to be tested by the python testing suite"
<@Collette> okay thanks! let me look into this
"I'm using six to provide py2 and py3 compatibility, but I'm not sure I understand this behaviour:
Python 2:
```&gt;&gt;&gt; six.binary_type(0)
'0'
&gt;&gt;&gt; six.binary_type(1)
'1'
&gt;&gt;&gt; six.binary_type(2)
'2'
```
Python 3:
```&gt;&gt;&gt; six.binary_type(0)
b''
&gt;&gt;&gt; six.binary_type(1)
b'\x00'
&gt;&gt;&gt; six.binary_type(2)
b'\x00\x00'
```
could someone explain it?"
this is because of python3; in python2 bytes and str are the same; in python3 there are unicode strings and bytes and bytearrays are different
"<@Porsha> does something like this make even sense?
```six.binary_type(str(0).encode())```"
"<@Mirian> I could be wrong but I do not get what the point of doing this is?; six is for py2/3 compat, so you test for the two possible values of `six.binary_type`; and then proceed accordingly; or maybe I am missing the point"
"In Python 2, `binary_type` is equivalent too `str`, in Python 3, it's `bytes`. They're defined and behave differently."
"<@Porsha> I've simplified this example, because there is a for loop there:
```       for i in range(5):
            foo.create(Body=body)```
I expect the body to be `b'0'`, `b'1'` etc."
"I'd like to convert `0` to `b'0'` so it works in both version of Python, any tips? :slightly_smiling_face:"
"uh yes; then your above solution should work, I thought you were using `six` in some other way"
"Can you explain the context, and why it has to be a binary instead of text string?"
Are you sure you don't just want text strings in both cases?
thanks <@Porsha> :taco:; I'm calling a method from a library and it expects binary string
"Then you probably want to generate it as a string, and encode it at the point of call with the appropriate encoding?"
"ok, I think that's the right way to do it; thanks <@Louis> :taco:"
"Cool, this should hopefully make implicit encoding errors harder. :)"
"```
async def connect_socket(self):
      async with websockets.connect('<wss://somewebsocketurl.com>') as websocket:
          await websocket.send(json.dumps(subscribe))
          while True:
              message = await websocket.recv()
```; i want to pass the received message to a collection of objects without having to run connect_socket() collection.length times and without passing the collection to the connect_socket() method, how can i do that preferably?; is there some event on message receive or something i could hook into or a way to run websocket.recv() somewhere outside the method?"
well there need to be a link between the two if you want to pass the message
"yes, but i dont know how to realize that. i am not quite sure also why connect_socket() which is run like `asyncio.get_event_loop().run_until_complete(connect_socket())` is blocking, code after that line isnt executed but it could solve my issue as well"
`run_until_complete`; because it doesn't complete; it's in a `While True`
"yeah, but i thought running that async would just let me to proceed; basically, i have a Bot() class that is doing something with the received message, a TestMachine() class which is generating a lot of bots with random parameters and an Interceptor() class which connects to the socket (so `connect_socket()` is part of Interceptor() ). i don’t want to pass the bot collection to the interceptor, and i dont want to create a socket connection for every bot…; if that makes sense; if it was js or something i could call the bot on the message receive event, but here i am stuck"
well the interceptor could pass the incoming message to `TestMachine` and that route it to the correct/all bots
"hum; that sounds pretty good, stupid me. thanks!"
 What is the difference in using _mkdir dirName_ and_ %mkdir dirName_ in jupyter notebook 
the latter is just an alias for the `mkdir` command
"<@Meg> ,so we can use any of them. It won't affect the outcome,right? "
I think you’re misunderstanding me.. check out <http://ipython.readthedocs.io/en/stable/interactive/magics.html#line-magics> for more info
"Now I got it, thanks "
:thumbsup:
"hi….can someone help me figure out how to download a file from S3 to a [something] to store in an array?; basically i have an s3 bucket with images, and i want to download all of them and store them in an array; and use that array for an opencv face detection engine"
"Anyone has some advice on the following and how to solve this:
- There are 2 suppliers for a company with completely different API’s (one is XML over https, the other is WSDL with SOAP)
- Each supplier has a set of actions (Push an order, Get order status, Get return, Get Stockcounts).
- Each of these actions requires different mappings depending on supplier
- An action always has two things, “Map to the correct format”, “Get/Push the data from/to the API”

I’m trying to create some abstraction so it’s easy to add more suppliers later but I’m not sure how to do it.."
"can anyone help me with a simpler one?  i want to only call a function once every 5 seconds at the most (within a while loop that’s always running); so i want something like this:; ```now = curTime()
if now - lastTime &gt;=5:
     do_something()
lastTime = now()```; how do i set the current date/time into a variable, and then how do i compare two variables to see the difference in seconds between them?"
<@Dexter> I'm not at my computer so I can't send any examples. But are you using the time library? <https://docs.python.org/2/library/time.html>
"<@Bella> ill check that out, thanks!"
<@Casie> this sounds like a very good use case for Composition
"Anyone has some advice on the following and how to get data:
Do you know the data dump or API for acquiring timezone by geoname_id?"
I see that #general has become <#C07EFBK3R|announcements>. Is <#C07EFMZ1N|help> the general question asking channel now?
"<@Jama> Well, the channel description does say ""ask anything""... Personally I'd rather be in a channel dedicated to solving code snippets rather than answering large general questions, but that's just like my opinion man"
<@Dexter> You could do something like this using time.time()
"<@Dexter> Nice, thanks! let me know please when you finished"
"Hi guys , does anyone know another package apart from scikit-learn to do Random Forest in Python?"
<@Ronald> not sure about any other package but if you can try <https://machinelearningmastery.com/implement-random-forest-scratch-python/>
<@Dexter> if you need to access s3 you should be trying to use the boto3 library.
"&gt; pyboto3
&gt; Pythonic Interface for AWS boto3 that gives you autocomplete on every service

WHYYYYYY?! WHY THIS IS NOT PRESENT BY DEFAULT IN BOTO3 ITSELF?; boto3 is soooo painful to use because of constant use of ⌘+⇥; between the console and the browser"
"haha, that’s a good point."
wish they had something similar for st3 ..
It upsets me that we now have libraries to fix typehinting for other libraries; without actually bringing those changes into the problematic library
"I doubt this problematic library will ever be actually fixed.; I understand the aws team's desire to avoid duplication of parameters, responses and documentation duplication; It's much simpler to generate classes and methods from an existing XML schema than to maintain a couple of dozens of fully documented SDKs"
"is there a specific channel for OpenCV projects, or should I ask here?"
here is probably best
"cool; so i’ve got a basic face detection / recognition script; and it works great with a webcam; it detects all the faces just like it should; but for some reason, when using an IP camera feed, it can’t detect anything; the feed itself shows up fine in the resulting video window, every frame, every second; but it never is able to detect any faces; not sure what im doing wrong"
"hmm, can you confirm that the image data is loading in your script?; maybe its coming in as a different format than the webcam?"
how do i confirm?; here are the relevant lines
logging; debugger
or try recognizing somethign other than a face
"`video_capture = cv2.VideoCapture(""<http://192.168.1.2/axis-cgi/mjpg/video.cgi>"")`; ```while True:
    # Grab a single frame of video
    ret, frame = video_capture.read()

    # Resize frame of video to 1/4 size for faster face recognition processing
    small_frame = cv2.resize(frame, (0, 0), fx=0.25, fy=0.25)

    # Only process every other frame of video to save time
    if process_this_frame:
        # Find all the faces and face encodings in the current frame of video
        face_locations = face_recognition.face_locations(small_frame)
        face_encodings = face_recognition.face_encodings(small_frame, face_locations)```; what should i output?; because this `cv2.imshow('Video', frame)` outputs the feed to my screen, and it looks fine; i see everything i expect to see; (meaning, the video feed)"
"hmm; so, does that url require any kind of login?; or is it password protected?"
"nope….; and when the script is running, there’s a cv2 window that’s open, and it shows the feed from the camera perfectly; it just never seems to detect any faces"
interesting
"and when i switch the feed to be my webcam, the exact same application works perfectly"
do you know how to debug python?
"not so much, im just getting started; should i get pycharm?"
what I suspect is the feed from the IP camera is different in some way from the web camera; the cv2 window showing the feed probably knows how to handle the difference; but the face detection script doesn’t
hmmm
"so, in this case, an IDE with a debugger would probably help"
interesting…..is there a way to convert the “read” frame into some other format?
"short of that, put in logging statements in your face detector code"
can u recommend an ide?
"I like pycharm, and think you would get by fine with the free version; and as far as conversions, you would have to dig in the opencv documentation for that"
"if you don't want to jump into an IDE right this moment, you can also insert python debugger statements and debug on the cmd line, if that somehow sounds preferable to you; otherwise, I second <@Meg>'s vote for pycharm"
ipdb is a good interactive debugger
k…setting up pycharm now
in cmd line
"will try the breakpoint on the read, and see if i can determine the frame format; standby; how do i add a python interpreter; in the build configuration; the dropdown is empty and i can’t see where to add anything; nvm i got it; ok; i set my interpreter to python 3.6; when i try to debug my script; it breaks in this file; <https://cl.ly/1R1B0y363b0r>; anyone know why?; the exec line has a breakpoint (that i didn’t set), when i hit continue, python either crashes or it just ends"
did you right click in the editor window and select run as debug?
yes
same error?
yes; it hits a breakpoint right here; <https://cl.ly/0H0K0K162V07>
and what’s the error output when you resume?
"nothing, it just ends"
nothing in debug console?
would it be possible to split the line in multiple line N; like first the compile then the exec
oh.. is that your file or is it something else?
and maybe see what is being compiled first
"ah, wasn’t looking at the console output; standby fixing an error; ok; working; breakpoint after the `read` statement; it’s not telling me much about format though; soi; i think ur theory <@Meg> is probably correct; do u know of the method to convert a “frame” to another format?"
that’s where you have to dig into the documentation ¯\_(ツ)_/¯
struggling; hate their documentation; still no luck here
if anyone has any ideas i’d be much appreciative!
"Hello, definitely a newbie here. I'm trying to get values from a JSON file and part of my code is this:
`json_data = json.load(init_deployment)`
however, this returns 
`AttributeError: 'str' object has no attribute 'iteritems'`

and when I try to change it to json.*loads*, I get this error:
`TypeError: the JSON object must be str, bytes or bytearray, not 'TextIOWrapper'`"
how do you define init_deployment?; `init_deployment = open(&lt;pathToFile&gt;)`?
"Here:
```
init_deployment = 'C:\\Tests\\deployment.json'

with open(init_deployment) as init_deployment:
    json_data = json.loads(init_deployment)
```"
"```init_deployment = 'C:\\Tests\\deployment.json'

json_data = json.load(init_deployment)
print json_data['id']```; i dont know what your json data looks like but if you have `{'id': 'IDVALUE'}` then the above will work; make sense?"
"<@Grayce> how do you use `json_data`?; There should be some sort of `.iteritems` call; (btw, switch to py3 already, we're in 2017 :slightly_smiling_face: )"
py2 has better plugin support
"<@Toby> I just tried it and still returns the same error. But still, thanks!; I have it on my for e in json_data, hold one, I'll just try something out. Thanks!"
"`e in json_data` means ""iterate over the dictionary keys"", which keys are strings, thus e is a string"
plus it depends what shes using it for
"<@Toby> that's simply not true for a couple of years already.; More than that, there are py3-only libraries.; For instance, I'm making one right now"
I am still gripping onto 2.7 like my life depends on it lol
"<https://wiki.python.org/moin/Python2orPython3>; if im not using libraries or any io boards, id use 3.6, else 2.7 all the way"
What should this link provide us?; OTOH there are <http://py3readiness.org/> and <https://python3wos.appspot.com/>
look under the `Which version should I use?` section
"So... the vast majority of active libraries are ported to py3, there are py3-only libraries, and you still think that if you have an external dependency you'd better go with py2?; What are you going to do past 2020?; Are you still on ubuntu 8.04, by the way? Next year py3 will be literally 10 years old"
"dont use ubuntu, i use windows like normal devs who dont dev for tinkerboards"
"Okay, I guess you're still using Windows XP then.; <@Grayce> have you managed to resolve your issue?"
im on windows 10... anyone who uses 7 or older needs to get an upgrade or their pc removing from them
then your opinions about versioning and supporting old versions of software are quite inconsistent ¯\_(ツ)_/¯
im not on about supporting old os' tho
"So to speak, I have windows 7 on my gaming machine. And I won't upgrade to 10, unless it's un-shitted"
oh god...; update to 10 already
"Python 3 is great, that's what makes it different from windows 10 :slightly_smiling_face: Anyway, that's a topic for <#C07EFN21K|random>; We can go there if you'd like to continue"
"Hello <@Collette> yes, done with the first part. Thanks, and also <@Toby>!"
"Hey guys question. when defining a class, why does it need to have `self` in the methods?; for example: 
```class Dataset(object):
  def __init__(self, name, path, schema, type, prefix, primaryKey, separator='\t', header=None):
    self.name = name  # in format abacus_dataset_name
    self.path = path
    self.schema = schema
    self.type = type
    self.prefix = prefix
    self.primaryKey = primaryKey
    self.separator = separator
    self.header = header

  def show(self):
    <http://Log.info|Log.info>('name = {}'.format(self.name))
    <http://Log.info|Log.info>('path = {}'.format(self.path))
    <http://Log.info|Log.info>('type = {}'.format(self.type))
    <http://Log.info|Log.info>('prefix = {}'.format(self.prefix))
    <http://Log.info|Log.info>('primaryKey = {}'.format(self.primaryKey))
    <http://Log.info|Log.info>('schema = {}'.format(self.schema))
```"
`self` refers to the instance that's calling the class method
why does show(self) need to be that way; Got it
"it doesn't _have_ to be `self`, either; `def show(this):` works just as well; but you'll get weird looks"
"the `why` for that is convention; coming from java, where `this` is the same as `self`, and is implicit to classes, was a big context switch for me"
and the fact lots of java devs really _like_ that they can omit `this`
also different from javascript in that `self` never changes what it points to. it's always the instance
"yeah that’s something I like about Python - things like are usually more explicit, there’s less magic"
we keep our magic contained inside of underscores
heh
I wonder how it would feel to find code where the author doesn't use `self` but something completely irrelevant; like `banana`
"I have come across code where the author used other things than self, and it was jarring to say the least; it at least vaguely made sense"
"<@Ciera> try it yourself for a day :smile:; on a branch, of course"
no sure the code review will go ok :smile:
lol
conventions are a great thing on issues that don't really matter
"```
class Banana:
    def do_banana_stuff(banana):
        banana.do_another_stuff()

banana = Banana()
banana.do_banana_stuff()
```; ¯\_(ツ)_/¯; `Banana.do_banana_stuff(banana)`"
`bannanaception`
i'm slipping on this banana stuff
`bananarama`...[]
Using `class.__name__` as `self` could make sense :thinking_face:
how?
i'd constantly think you were trying to be clever with class methods; ...but then notice the lack of `@classmethod` and wonder how the hell you got that to work
`@bananamethod`
using `self` in `classmethod` would be the worst :smile:
i'm sure people do it all the time; you're converting a method from instance to class...forget to rename that parameter...
Hey! I'm trying to start a bootcamp in my university to try and get people into coding. I was wondering if any of you could help me compile resources from across the web for an absolute beginner to learn python. 
"""automate the boring stuff"" is free online, IIRC; i'd start them off with that"
(I was going to type something but I'm more curious what kenneth has to say)
especially in school when you have a lot of boring stuff
"That's a great book, enjoyed it so much I bought the real thing haha"
"lol. i am _not_ the end-all, be-all guide to learning python :smile:"
"true, but don't you/ didn't you teach python at college level?"
i taught for <http://teamtreehouse.com|teamtreehouse.com>; so everyone from 11 year olds to 90 year olds; all education levels and such too; i keep thinking about trying to get in as a teacher for a community college or something but that's a heck of a pay cut. hard to do that w/ kids and mortgage
"<@Max> you are effectively running a non-for-profit business with this idea, selling it, hoping for consumers, just no money.  I would recommend finding some test customers and trying it out on them, seeing what other colleges have tried, seeing where the need is as well as finding focusing your attention to a narrow group.; where's the emoji for ""I hear you on that one""..."
state university would probably be alright so long as i wasn't just an adjunct; but i don't necessarily have the qualifications
"In California, the community college professors were killing it awhile ago.  The state and UC professors were not thrilled.  Focus certainly mattered but the three tier system can be skewed"
<@Seema> thank you for your suggestion. we are just a group of college students trying to teach each other. I just want a professional in the field to look through our curated content list and approve.
Are you doing data science work?
"we're having some pretty major internet weirdness here today, so i'll check when i can, <@Max>"
The first course is on basic python. Then we are going into deep learning.
"by ""data science"" I mean anything from basic statistics to any field that uses data"
"<@Frieda> You're connection got bogged? ours went down within the past 45 minutes, whole office is freaking out cause we can't launch our project"
<@Lory> i'm just having a terrible time loading...almost any site
"there's considerable need to be able to data manipulation.  As far as ml goes, have you seen the openai or serpent stuff.  The learning curve is probably too steep for a beginner programmer but it might be something to consider for later on"
AWS or DNS or something went down somewhere
glad to see we weren't the only ones at least. We've had DNS attacks in the past
"DNS is resolving for me, but loading is literally hit or miss, some sites boom, other sides, clockwise for a long time"
"no, it seems pretty wide spread"
"craigslist can't even load for me!  Washington Post, no problem"
i'd go see if there's buzz about it on twitter but twitter isn't loading
Yeah. I had a look at it. We will just be touching upon implementation without going into the detailed math. 
Just wish our clients would realize that and stop asking why they have no access lol
"if clients knew those kinds of technical things, they wouldn't need you"
do you have docker as part of your curriculum?  jupyter notebooks?
"the gift and the curse; managed to get a google result snippet form twitter, not confirmed but it says Comcast has a nationwide outage posted by Burlington Press"
joy. guess who my service provider is?
Us too haha; Comcast strikes again....
there are _no_ reliable alternatives here. :rage:
"we have Optimum in a few spots near us, I enjoyed them when i had them at home for a while but unfortunately Comcast has them locked out to very specific areas; Google FIber SAVE US"
"google fiber isn't expanding any more, IIRC"
So I've heard
they were gonna come here but then shut down
God forbid someone comes in to take out Comcast
"<@Meg> i figured out my issue; i needed to change a parameter in the face detection library; the people on the security camera (in the ceiling) were much smaller than the webcam, and there’s a setting related to the size of expected faces"
And looks like Comcast is back
I can load craigslist now!
Amazon was peppy but when I couldn't load a text based page I knew something was fishy
"if I want to use call another function in the same class,; both methods are in the same class; There is no need to make it explicit, correct?; Or how to make it explicit,"
"<@Ernestina>: You make it explicit with `self`, which specifies the particular instance of your class; e.g."
haha honestly
so what does the self.bleat() here do?; Like can you call `self.bleat()` as a function?
You'd call it as a method of a `Goat` instance
"Makes sense now. SO when initinating a new object , in this case `goat`, it automatically called the self.beat()"
Exactly right :slightly_smiling_face:
thank you!
Teamtreehouse pays more than a being an adjunct prof at a community college??  :confused:
So when to use static method vs class method.; anyone can help?
"According to the numbers I've seen, yes; Public teachers are paid pretty badly"
"staticmethod when it could as well be a function elsewhere, but conceptually fits in the class"
damn...
"classmethod is for when you need a class object, not any instance in particular. For example when you want to create an instance yourself, like `__init__` does."
and Treehouse was a full time job with decent benefits and a not-too-bad salary
that's my take :stuck_out_tongue:
"you almost never actually _need_ `@staticmethod`. it's more about organization, like <@Suellen> said."
or because pycharm is complaining :smile:
so true
I don’t get the pycharm is complaning part haha; I use databricks and jupyter notebook
"<@Ernestina> pycharm attempts to help from the install and some of it's help is welcome, but there's pretty much a little bulb that is trying to suggest *something* all the time unless you tweak it to be quiet"
"I'm doing something with each file contained in a directory. If the file is not found, how can I say, ""that's okay, go to the next one?"""
"check if the path exists, if so, do what you want; if the path doesn't exist, your loop should just continue on its own"
or catch the error and continue
"yeah, that should throw `FileNotFoundError`"
checking the path might not work if something else is moving the files around
well you'd have to use the path to access the file anyway so...
yeah but it's an habit to take. It could be possible that something else move/delete the file between the time you check for the path and the time you access th efile
TRUE
"Does anyone know why a program would run in debug but not normally? I'm using a Raspberry Pi and attempting to use signal.pause() to await an interrupt to occur, but it won't work normally running it, however in debug it works fine"
"<@Vena> don't do naked `except`s like that. they'll swallow _all_ errors that the encapsulated code throws and you won't know if something breaks in a new/unexpected way; also, try to _only_ do code that might throw an exception in the `try` block; ```
try:
    f = open(filename, 'r')
except (FileNotFoundError, OSError):
    failed_files.append(file)
else:
    # do stuff with f
```; <@Myong> ""in debug""?"
While debugging.; But it doesn't seem to be the issue. Signal.pause() just won't detect the press; But if I step to just before pause the presses are detected
<@Frieda> Interesting. Got it. Thanks.
"<@Myong> sorry, no idea."
<@Myong> does it do the same thing on another linux system?
I can't check at the moment it's the only Linux system I have; I tried `sudo apt-get dist-upgrade`; Doesn't work with using `while True: time.sleep(1)`
check to see if anything for `signal.getsignal(2)` return anythings beforehand
Like so?
"i believe so yeah, you generally just want to check that you're setup to handle a signal"
pause internally uses `signal(2)` which itself is normally fine on x86 linux systems but gets weird once you start working on other hardware :disappointed:
It brings up an object for signal handler; I mispoke; Maybe I could try GPIO native add callback
Hello guys! any recommendations in dealing with time series data that has one insertion each day? I am currently using postgres and django
"Hi all. I'm trying to write a loop along the lines of `for number in numbers`. Sometimes numbers will contain multiple values and be a tuple `('1', '2')` but other times it may just be a single number. When it's just a single number, python is splitting the number. Ie: 12 becomes `[1, 2]`. Does anyone know how to work around this issue?"
you'd need to detect whether it's a number or tuple first
Paste a small snippet of your code and the outupt :slightly_smiling_face:
"```    # Parse parameters
    for param in sys.argv:
        if param.startswith('event='):
            event_ids = param.split('=')[1]

            # See if we have multiple event ids
            if ',' in event_ids:
                event_ids = event_ids.split(','); The code takes a parameter of event= where the value could be a single diget (ie: 21) or multiple comma separate digits (21, 22, 23 etc):
```
    # Parse parameters
    for param in sys.argv:
        if param.startswith('event='):
            event_ids = param.split('=')[1]

            # See if we have multiple event ids
            if ',' in event_ids:
                event_ids = event_ids.split(',')
```

Further down I want to loop over these, regardless of whether it's a single value or multiple:
```
    for event_id in event_ids:
        event = misp.get_event(event_id)
        print event
```

The problem is that if it's a single value (ie: 21) then python will split the string and instead loop over with a value of '2',  and then '1'."
"you can use split on a string to get a list even if theres nothing to split on; ```In [1]: '21'.split(',')
Out[1]: ['21']

In [2]: '21,22'.split(',')
Out[2]: ['21', '22']```; so just always split the `event_ids` string and you'll be able to iterate over single or multiple values"
<@Marcie> spot on! That's now working as expected. Thanks very much.
:toot:
... and removes the need for that if statement to boot :slightly_smiling_face:
yup!
Hi! Trying to do some web scrapping using scrapy and css selectors but I am running into trouble. <https://stackoverflow.com/questions/47147679/using-css-selectors-to-grab-nested-tag-scrapy>; I am getting what seems like inconsistent results but I might be missing something
<@Sharika> are you able to select that element in the chrome devtool if you turn javascript off?
<@Marcie> I think it has to do with JS yes; looking into Splash right now
that's what i'd reckon yeah; if its not being rendered serverside then that react-root points to it being a react component and thus won't exist in the DOM without splash
Hy buddys; Someone know how can i get linkedin profile picture; for use it in django?; There is a specific url for that?
there's an entire API for it yeah <https://developer.linkedin.com/docs/rest-api#>; you're likely after some of the data in the profile endpoint: <https://developer.linkedin.com/docs/fields/basic-profile>
"Hello guys, anyone know a good way to handle time series data in django database. I want to optimize in terms of query speed. Currently using postgres, and I dont want to deal with another database. what are the best options out there right now? store the times series data in (1) json, (2) a file or (3) just store the data a clever way in relational database?"
"hi guys; i am using vuejs with axios 3rd party for request 

```let id = response.data.user.id
            let imageData = this.myCroppa.generateDataUrl()
            let data = {
              id: id,
              image: this.myCroppa.getChosenFile().name,
              img_uri: imageData
            }
            let headers = {
              'Content-Type': 'application/json'
            }
            <http://axios.post|axios.post>(process.env.API_URL + '/info/upload-profile-image/', data, {headers: headers}).then(response =&gt; {
              console.log(response)
              alert('saved')
            })
            .catch(error =&gt; {
              console.log(error)
            })```

and in my django side is 

```@api_view(['POST'])
def upload_profile_image(request):
    image_uri = request.data['img_uri']
    profile_id = request.data['id']
    file_name = request.data['image']

    account = get_object_or_404(Information, id=profile_id)
    imgstr = image_uri.split(';base64,')[1]
    account.image.save(file_name, ContentFile(base64.b64decode(imgstr)))

    return Response({'image': account.image.url})```; but; error given is; `detail: ""Method ""GET"" not allowed.""`; any clarifications ?"
<@So> you're making a GET request instead of POST somehow
"but how ? i am using ``` <http://axios.post|axios.post>(process.env.API_URL + '/info/upload-profile-image/',```; and ```@api_view(['POST'])```; i am confused"
You need to figure that out.; The problem is clearly on the frontend.
"look at the form itself that's sending the data, what `method` attribute are you using?"
"```let id = response.data.user.id
            let imageData = this.myCroppa.generateDataUrl()
            let data = {
              id: id,
              image: this.myCroppa.getChosenFile().name,
              img_uri: imageData
            }
            let headers = {
              'Content-Type': 'application/json',
              'Authorization': 'JWT ' + response.data.token
            }
            <http://axios.post|axios.post>(process.env.API_URL + '/info/upload-profile-image/', data, {headers: headers}).then(response =&gt; {
              console.log(response)
              alert('saved')
            })
            .catch(error =&gt; {
              console.log(error)
            })```

i just solved the problem puting JWT"
"if not defined, it will default to a `GET` request, you have to define `method='POST'` in order to send a post request"
"```
let headers = {
              'Content-Type': 'application/json',
              'Authorization': 'JWT ' + response.data.token
            }
```"
Hey guys i have a newbie question is there a particular way we can  Execute multiple python files using a single main.py
you can import them as modules and execute them that way
"from path import x
from path import y"
the python scripts would be in the same directory as the main.py would this cause a conflict ?
as long as they aren't named something that takes precedence over another module
"from yourmodule import x
from yourmodule import y; if same path"
sounds good I'll give it a try
"so like the time module, if you name a py file `time.py` within that directory then trying to import pythons time module wouldn't work"
<@Lory> makes sense
i just give some idea base on django importing sorry; i didng know python too much. rather i jump directly in django xd; didnt*
"we all started somewhere, gotta learn one way or another!"
its basically a few python scripts being called by a main.py; i'm i better off trying to do this with a type of framework
thanks <@Lory>
yea pythons import system is fairly simple once yo understand how it works. It just seems daunting because it seems to work like magic to a beginner. At least that's how I felt haha
haha yea Foresure I'll stick with it :sweat_smile:
"You can just wrap your codes in functions. eg. `x.py`, `y.py`, `main..py` . import like this `from x import function_name ` in your `main.py`"
fairly simple...; Greetings to awesome helpers here...
I need a library to work with ussd codes. Any recommendations.. I have tried `python-gsmmodem` and I have not been successfull with it.
"```
 wits.ussdmonitor.py git:(master) ✗ ./ussdmonitor/app_2.py
Getting modem ready...
Sending USSD code *124#
Traceback (most recent call last):
  File ""./ussdmonitor/app_2.py"", line 31, in &lt;module&gt;
    app()
  File ""./ussdmonitor/app_2.py"", line 18, in app
    response = modem.sendUssd(USSD_STRING)
  File ""/home/sav/.local/lib/python2.7/site-packages/gsmmodem/modem.py"", line 667, in sendUssd
    cusdResponse = self.write('AT+CUSD=1,""{0}"",15'.format(ussdString), timeout=responseTimeout) # Should respond with ""OK""
  File ""/home/sav/.local/lib/python2.7/site-packages/gsmmodem/modem.py"", line 428, in write
    raise CommandError(data)
gsmmodem.exceptions.CommandError: AT+CUSD=1,""*124#"",15

```"
I would appreciate any help in direction to fix this error or any good recommendation
i am not familiar with ussd code but take a look with this :slightly_smiling_face:
<https://devspace.hsenidmobile.com/code/python/ussd/>
Hellp
hello
"<@Lahoma> you have provided two import statements and no other context, so we have no idea what two methods you are talking about. Can you provide more detaiil?"
<@Vada> yes generally im not sure what the difference is and which one should be used.  It appears one can accomplish the same thing using ether of the options.  Not really asking any spepfic other than what is the difference and how would one make choice on which one to use.  I do know they handle arguments differently.; <@Vada> ^^
"<@Lahoma> what are you trying to achieve? They can be used to do the same things in many case but that does not mean they should be - they are very different in their general use, but I can't tell you more without knowing what you actually want to do."
My plan is to use python to control ffmpeg.; <@Vada> ^^
I'd use subprocess for ffmpeg as there is no direct interface using os
<@Vada> what do you mean by no direct interface using OS?  to me the only difference i see is in the way i use arguments.; <http://beyondthegeek.com/2016/09/28/os-system-vs-subprocess-call/>
You should be using subprocess.Popen :slightly_smiling_face:
ok; but i have to ask why?; why choose one over the other in this case?; <@Vada> ^^
<https://www.quora.com/Whats-the-difference-between-os-system-and-subprocess-call-in-Python>
"subprocess gives you way more control; os.system just fires a command and that's it, not really flexible; plus I suspect there is this whole OS dependent behaviour"
Ahh i see
"you can get a program output, and separately an `stderr`, and here is the program return code for you!; you can also stream output instead of getting it at the end, I dunno whether `os.system` can do such a thing somehow"
"I see how subprocess can give you control,  one gets more control however how it executes the command with the provided popen constructor rgs, bufsize=0, executable=None, stdin=None, stdout=None, stderr=None, preexec_fn=None, close_fds=False, shell=False, cwd=None, env=None, universal_newlines=False, startupinfo=None, creationflags=0"
:slightly_smiling_face:
<@Lory>
"ah interesting, thanks <@Vada>"
<@Vada> :taco:
thank you <@Johana> :slightly_smiling_face:
:slightly_smiling_face:
"I need some help iterating through the data I enter into the ""tkinter Entry box"".; line 29 prints exactly what I would expect it to print.; but then when I try to iterate through the data in ""data_list"", line 31 prints one character at a time rather than a line at a time."
Are there any terms of use for this slack channel?
I think I figured it out. I changed line 28 to `data_list = (self.data_entry.get()).splitlines()`
"<@Lory> its in pm; sorry, keep getting kicked from every channel"
"definitely not implying to share that publicly, was just expressing my curiosity"
<@Meg> <@Beula> thanks to you both and any other admin involved
So does mean that no one here works with ussd stuffs??? Or pyserial?
"I've used pyserial once before a few years ago when interfacing with an arduino; it was a fairly simple library I've found, have not used anything regarding ussd though"
"Hello guys, anyone know a good way to handle time series data in django database. I want to optimize in terms of query speed. Currently using postgres, and I dont want to deal with another database. what are the best options out there right now? store the times series data in (1) json, (2) a file or (3) just store the data a clever way in relational database? please help"
how much data are we talking?
"one data point for each day, for the past 30-50 years"
"one per day? put it in postgres :slightly_smiling_face:; I mean, it's database after all. And you already use it so no new dependencies."
awesome! just store it normally with timestamp?
Could use a timestamp or just a date if its only the date that's significant
yeah of course
"got it, thanks guys! :slightly_smiling_face:"
<@Lory> am using it to send at command for ussd.; All I get back is OK... ; Instead of response...
Can you share the code?
Yea
I haven't used it in forever so I'll have to do a quick brush up
<https://stackoverflow.com/questions/47160407/ussd-return-ok-instead-of-response>; <@Lory> waiting for ur update
"Sorry, got some stuff at work I'm finishing up then I'll take a closer look; This might be out of my reach, like I said I only used the libarary once for an arduino directly connected to my computer and it looks like you're trying to talk to your router"
hi
i'm looking for a pythonic function name for something
is this the right channel?
Probably :slightly_smiling_face: Most canonical naming/styling is defined in Python Enhancement Proposal 8 (PEP8) <https://www.python.org/dev/peps/pep-0008/>
"So i'm using xlswriter to export information from my mysql database to xlsx formatted, what would be the best way to add data to a multi-teir list such as the one listed below
expenses = (
['Food', 1000],
['Gas', 100],; ); etc.; I already used pymysql to append all the content from the db to a list but xlswriter is listing to many values to unpack"
"hi all….openCV question: i’ve got a videocapture of a webcam feed.  whenever i do `videocapture.read()` from my mac, i get back an image from the feed without any issue.  when i run the same code on an ubuntu server, the frame is empty, 0 bytes.  i can confirm that i can access the url from that server.  any idea what the difference could be?"
it honestly could be a number of things; one of the reasons why using docker or vagrant to keep environmental differences minimal has really gained popularity
"good idea.  i can probably find a docker image with opencv and python already on it, right?; also, thinking this may be lack of ffmpeg support on my ubuntu server…"
"I don't believe it's a default package, ran into the same issue when running a project on a new server"
is anyone really familiar with dictionary API's (e.g. Merriam-Webster)?
<@Dexter> you also might want to ensure its capturing from the correct `/dev/` endpoint and that your user has the proper permissions for it
"Hi, wants to ask about pycharm/virtualenv:

I init a new project by pycharm virtualenv, but how can I enter the virtualenv of this project outside pycharm, there is no bin folder under this project...."
Open settings.search for ‘python interpreter’ copy path that you get and use it as usual to activate Env. 
"```
for r in re.findall(r""(?sm)^Q\d+\..*?(?=^Q\d+\.|\Z)"", soup.text):
    print(""___________________________________------------------------------------___________________________________"")
    print(r)
```; I have the above dataset; I need to get Q59. and everything in between to the next Q60; my regex is not working"
maybe not what you are looking for but would it be possible to split it on double end of line ?
The data set is not that clean; I need everything including `Q\d+\.` and in between the next `Q\d+\.` and excluding the last `Q\d+\.`
you can test regex on this website <https://regexr.com/>
"I am testing in my pycharm; But I guess that gives instant testing; Finally got it partly right; ```
for r in re.findall(r""Q\d+\..*?(?=Q\d+)"", soup.text, flags=re.S):
    print(""___________________________________------------------------------------___________________________________"")
    print(r)
```; Since the data was in `html` I used `BeautifulSoup`; Much cleaner than `regex`"
yeah never try to parse html with regex; <https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags>
I actually converted the mobi book to text and then regexed it; But I was doing it wrong by stripping tags. It made it hard since I don't know regex well; Now comes the fun part. I hope I make the app sucessfully; I thought I'd never be able to make an app for JVM since Java made my head spin; But Kotlin came to the resuce; lol! Seems like regex is better. I need to know sibling info in BS4 to do parsing; While regex seems to do the job
"Hi all, Working on a project that is utilizing a pem file to make an API call to the server. Currently the pem file is placed as a text file and is getting read each time it makes a connection. I was thinking if i could store the pem file in a DB. (May be Redis and read it from there). Add auth for redis and export the password as an environment variable. You guys have any feedbacks. Is it good bad or do you think it doesnt make much of a difference."
do you have a lot of pem file ? or just one ?
"I very much doubt that reading from Redis is faster than reading a file.; The file is going to be cached in RAM after the first access and remain there indefinitely, unless you don't have enough RAM"
well if he only has one just load the file at startup and keep it in the python
that's much better :slightly_smiling_face:
maybe someone had read the book <https://pragprog.com/book/bopytest/python-testing-with-pytest> ?
<https://pythondev.slack.com/archives/C07F1KB2Q/p1510160730000266>
"OK, I've been working on something and can't seem to get all the pieces together correctly.  The goal: Take a list of list of strings (results of a query from a SQL database), (hopefully) compress it, and ship it to an Azure blob storage as .tsv files.  All in memory.  The azure-storage library has a create_blob_from_stream option which I've successfully used to send a `io.BytesIO` stream (without compressing) and it works as intended, although I think it could be cleaned up.  Ultimately, I'm not sure I'm fully understanding the various pieces of the `io` standard library and want to get some suggestions on how to improve things.  I can't seem to get the compression working (tried zipfile and gzip) and I run into issue where I'll open(..., 'w') the GzipFile/ZipFile, write contents to it, but then can't send it to blob because it doesn't have read access (because I opened it with write to add to the compressed file?); Trying to keep it as lightweight as possible since it's going to be running on an RPi (hence the trying to avoid writing to disk aspect); The compression might be optional if the overhead of compressing isn't worth doing it (to lower the bandwidth), I was going to test doing it with/without and see if it was worth the tradeoff in time spent sending it to blob uncompressed vs compressed).  I can't imagine the overhead is a lot but I honestly have no clue and I'm trying to not prematurely optimize before needed.  Would love thoughts from anyone who's more familiar with this stuff"
"so I guess my first question would be, does this work without compression?"
"Yes.  It feels super hacky, and I'm not sure BytesIO is what I ultimately want to be using, but it works.; Everything I'm reading makes it seem like I should be using StringIO, but then I get a 'bytes' related error (after removing all the obvious byte things I'm doing in that snippet); Or maybe TextIOWrapper? That seems more like for loading from a file on disk rather than a stream"
you could look into temporary files; <https://docs.python.org/3/library/tempfile.html>
Doesn't that create temporary files on the disk potentially?
"and is cleaned up after you close; so if you create it within a context manager, eg `with open(temp_file)`, it cleans up when the block finishes"
"Is a potential option, except we don't want to write anything to disk at all unless we really have to.  Mostly because with RPi's will burn out the SD card with constant read/writes which normally isn't a problem with most applications"
have you seen this?; <https://stackoverflow.com/questions/32794837/pass-io-bytesio-object-to-gzip-gzipfile-and-write-to-gzipfile>
"I haven't, but i'm reading now; I think one of the things that I'm not sure how to handle is when you open a GzipFile and write things to it, how can you get read access to that GzipFile to do things like send it elsewhere?; Or maybe I have the whole process a little switched up.  Maybe I need to do something like open a stream `f`, with `gzip.GzipFile(fileobj=f, 'w')` add the relevant row elements to that Gzip, which maybe puts that compressed stuff into the stream f?; Right now I think I'm adding things to the stream, then somehow trying to zip it up after the fact; Ahahaha, that was it!; Something just clicked about streams"
"Hi everyone, I'm using sqlite3 and I have a column I want to be unique. I've set the unique constraint on it so now I get an sqlite3.IntegrityError thrown when I try and add a duplicate item, which is what I want. 

Now I'm making a webscraper, and as I find new things to add to my db, I want to make sure they're not already in my db. My first thought is that I can just use a try/catch as my way of telling whether it's unique or not. My question is whether this is a good idea or not. I can't really articulate why, but it  just feels to me like this isn't really the intended use of try/catch and it's a bit hackish. Is using try/catch in this way a bad design choice?; I mean I can loop through the table or whatever and check like that, but it feels like that's going to be slower than the exception way"
python philosophy is ask for forgiveness; A try/except is :thumbsup:
"cool, thanks"
"Hi guys, somebody have already did iterations about the values that are in the keys of redis ?; I've some messy values that need to cleanup"
"As a followup to my earlier confusion about streams like `io.BytesIO`, when does this stream ""empty"" out?  I found myself reusing the same stream object over many iterations of a loop, but wasn't finding any issues even when using `seek(0)` about data being duplicated.  I'd rather be safe than sorry, but I'd like to understand it's behavior a little more"
"as I understand it, when you do `seek(0)`, it moves the pointer to the 0th byte of the stream.  so when any writes happen, the bytes before that get overwritten; but conversely, it also means the bytes after still exist"
"So what i'm doing currently is: write to stream, seek(0), then send that stream somewhere else (like azure blob in my case), then repeat for the next thing in my list using the same stream.  I'm not currently getting any duplicate data, but it feels wrong.  I think I'm going to switch it so it's using a fresh `BytesIO` object each time, since some initial googling tells me that making a new stream is just easier than worrying about reusing an old one"
makes sense
"Mostly it feels wrong because the next time I did seek(0) I would expect to see duplicate data (the stuff from the first iteration of the loop, plus the stuff for the current loop)"
because the old stream will be garbage collected when all references don’t exist
But I don't see anything from the old iterations so I assumed it was getting cleared or something at some point; This is the most likely explanation I think; thanks for the help <@Meg> :slightly_smiling_face:
How do I check if a beautifulSoup item has any children?
`findAll(tag_name)` returns a list; <https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all>
I have data where there are `&lt;p&gt;`  tags will be present sometimes with children and some times without children.; If there are children I want to get them else get the original tag
"unfortunately, there’s no `has_child` method in BS"
Will findall work even if I have no children
you’ll have to test for it
Ok; `soup.find_all()&gt;1`  seems to work
"I want to find the immediate children of `&lt;body&gt;`. I don't want to find the sub-children of elements in `&lt;body&gt;`, but `soup.findall()` is finding everything and creating duplicates"
I guess I could do `sound.find()` and get the siblings; But I'm having difficulty in finding a way to loop through all siblings; NVM .nextSibling is not working
"how about 
```
for c in soup.body.children:
    has_child = True
    break
else:
    has_child = False
```"
"NVM did
```
s_first = soup.find()

soup_list.append(s_first)
soup_list.append(s_first.fetchNextSiblings())

for s_next in s_first.fetchNextSiblings():
    print(""________________________----------------------------------_________________________________"")
    print s_next

```; Wouldn't that give the lowest elements and not the immediate children as I would want?; <@Gisele>; Had to remove head body and the extra div though. lol"
I think soup.body.children give you immediate children of body
"Thanks. It is `soup.body.div.children` for me; I'm getting navigable string error; My original code however works; ```
s_first = soup.body.div.find()

soup_list.append(s_first)
soup_list.extend(s_first.fetchNextSiblings())

for s_next in s_first.fetchNextSiblings():
    print(""________________________----------------------------------_________________________________"")
    print s_next




for s in soup_list:
    try:
        s.text
    except:
        print s
```"
"```
for sc in soup.body.div.children:
    print(""___________________________________________________________"")
    try:
        print(sc.text)

    except:
        pass
```; Works too"
It seems BS4 was auto converting some empty elements into navigable strings; Which were raising exceptions on printing
"Has anyone here worked with tweepy? The tweets I'm trying to print keep getting cut off; Nevermind. I got it figured out. I need to use tweet_mode = ""extended"" parameter"
"Will ```If re.findall(r""Q\d+"", sqa.text):``` be true only if there is a match?; Looks it is so; Since it is an empty list; I have the following code. It's not appending anything to the end list; I don't know why, but the list is empty; Seems the answer finding regex is wrong"
I want to train a trained model on additional data without losing previously trained information on sklearn? any ideas?
Works now. Changed the function order; Seems the `answer_found` `elif` was never called
Does time.sleep block workers in celery?; I know it doesn't block threads; but workers?
"yes, it does; at least in my experience; so, I have a group of tasks executing from a broadcast task of sorts; and once that group finishes, I need to run a cleanup task; ```
        aws_keys = AbstractIndexTask._get_keys(cl_id)
        task = SinglePageIndexTask()
        key_count = len(aws_keys)
        tasks = []

        <http://self.logger.info|self.logger.info>('[{}] keys to index for catalog [{}]'.format(key_count, cl_id))

        for idx, key in enumerate(aws_keys):
            tasks.append(task.s(cl_id, key, catalog_year, institution).set(queue = 'web_batch_index'))

        jobs = group(tasks).apply_async()

        while jobs.waiting():
            remaining_pages = key_count - jobs.completed_count()
            self.logger.debug('[{}] pages remaining'.format(remaining_pages))
            self.logger.debug('Group successful: [{}]'.format(jobs.successful()))
            self.logger.debug('Group Waiting: [{}]'.format(jobs.waiting()))
            self.logger.debug('Group Ready: [{}]\n'.format(jobs.ready()))
            sleep(10)
        verify_task = SingleCatalogIndexVerifyTask()
        self.logger.debug('Indexing complete, starting verification')
        verify_task.apply_async(args = [cl_id], queue = 'validation')
```

this above handles the solr indexing for a fully mirrored US college catalog that we have on S3; that `sleep` in the `while` loop is blocking, so the controller task stays active until all the child tasks are complete"
Hmmmm
"hello everyone
how 
&gt;&gt;&gt; a = '[1,2,3,4]'
to do
&gt;&gt;&gt; a = [1,2,3,4]
?"
huh?  I think you better restructure your question because it makes no sense
`a = eval(a)`; Not advised; But is that what you want?
"I mean, you can do that, but highly not advised, as <@Fabiola> said; in other words, avoid at all costs :smile:"
"Why do you have these variables are what is your objective, <@Georgeann>?"
alternative solution which does not use `eval`; `json.loads(a)`
"I got something data from csv. 
think how to get keys from json."
<@Georgeann> are you using pythons in built csv library?
yes
so one of your columns has data that looks like an array?
<@Georgeann> This. Do this. Don't use `eval`.
<@Vada> I think json.loads solved my problem
:+1:
why `eval` is evil?
Because it is arbitrary code execution
"```s = 'os.system(""rm -rf /pretend/home/*"")'```; :slightly_smiling_face:"
"If you don't know what is going into the string you are analysing, someone could inject malicious code without you knowing.; you are analysing CSVs so this is very much the case"
Needs an import
"<@Georgeann> just so you know, _do not_ actually try the code <@Suellen> just wrote with eval :slightly_smiling_face:"
my system will be deleted?
modified it just in case someone is copypasting stuff into their terminal
":stuck_out_tongue:; I was worried for a second that people would get all ""Oh what does this do?"" and try it"
"haha, you really want to have a complete example here? :stuck_out_tongue:"
"_for science_; Nah :stuck_out_tongue:; <@Georgeann> yeah the original would delete everything; json.loads parses it as if it is meant to be a json struture, which the example you gave is."
"but, if I have windows?"
so you get validation (fails if not an appropriate entry); and protection against injection :slightly_smiling_face:; <@Georgeann> they could write a windows specific command as well
"<@Georgeann> <https://stackoverflow.com/questions/9383740/what-does-pythons-eval-do#9383764>

`eval` runs the string as python code. If the string is not written by you, someone could write malicious code and if would be run on your system."
I used single quotes and it works now ...
<@Fabiola> :taco: <@Vada> :taco:
"Anyone with experience in making pdf-reports in python? I've tried the rst to pdf route (rst2pdf a hassle and not maintained) and looked into pylatex and reportlab lately, but I have no idea how any of them perform. Any feelings and opinions would be appreciated!"
I know there is something to do html -&gt; pdf
Like pandoc or similar? Pandoc is nice and all but it does not make for easy customization
<https://github.com/qoda/python-wkhtmltopdf>; <https://wkhtmltopdf.org/>
"Thanks, I'll look into what it can do"
I should be able to convert any html to pdf in headless mode. A coworker user it
<https://github.com/Kozea/WeasyPrint> is nice too
"I'm a bit worried that by going through html I might lose some of the control of the final pdf, as i experienced with using rst. It was hell getting the desired effect in the pdf from python-&gt;rst-&gt;pdf; I'm not after generating pdf's of webpages which seems to be a highlight of both of these packages"
problem is the pdf standard
we use it to generate invoices. We just template them as html
its a PITA dumpster fire from beginning to end
"<@Meg> Mye, good point"
html gave you a lot of control IMO; and there is a lot of tools built to generate some
"<@Scot> I like using pandoc, and these are Python bindings. Not sure if that's useful for you. <https://github.com/bebraw/pypandoc>"
CSS is also supported
<@Fabiola> I did use pandoc for my rst conversions but I never quite got the effect I wanted; I think I'll just do some testing with both html and latex and see where I end up. Thank you for all the inputs!
"Hi, I'm trying to make script compatible with multiple versions of the application. The newest version adds delete method to one of the classes. So I've created a fallback function that accepts the instance of that class and manually perform the actions. I am thinking of using it this way ```        delete_func = getattr(foo, ""delete"", _fallback_delete_function)
        delete_func()``` but it of course complains about `missing required positional argument`. Is there an easy way to attach that instance as the argument?"
`delete_func(foo)`; I believe would work
"in both cases, right?"
if `self` is the first arg yeah
"actually not, when the method is found it complains that it `takes 1 positional argument but 2 were given`; but works for the fallback function"
hmm yeah my bad; `_fallback_delete_function` is not part of the class ?
pure function with one argument
the lazy way would be `delete_func(instance=foo)` and in `delete` just discard `instance`; of do an `if` / `else` with `delete_func(foo)` `delete_foo()` depending of the case
"I'd rather go with the second option, because it would not require changes in that class; thanks for the help <@Ciera> :taco:"
thanks :slightly_smiling_face:
<@Mirian> &amp; <@Ciera> Could wrap that in a `try: ... except AttributeError: ...` too?
yeah. Even more pythonic <@Fabiola> :taco:
thanks :slightly_smiling_face: :taco: <@Fabiola>
Is there a way to take a string representing a date and convert it into an output like you would with strftime without first having to call strptime to then pass to strftime?
...regex?
"<https://blog.codinghorror.com/regular-expressions-now-you-have-two-problems/>; Mostly kidding, it could work; Although is there any reason you don't want to parse it into a date first?"
"yeah, i'd say to just make it a date first"
<@Lory>  inspiration or solution. <http://arrow.readthedocs.io/en/latest/#quickstart>
How to invite new members to this group?
<https://pyslackers.com/slack/>
Thanks <@Meg> 
"Thanks for the help guys, just sat back down with the problem, I think I am going to take kenneth's suggestion...not sure how I didn't think of using regex's"
"I have the following list generator and form somewhere a list like `    [[], ''],` is being added; Fixed it with:
```
if current_qa and current_ans:
    current_qa_list[1].append([current_qa, current_ans])
```"
"Hello, Let me ask you one question about ProcessPoolExecutor

def perform_task(atom):
    time_consuming_task…

def main():
    atom_list = [,,,,,] #around 10000 items list
     with ProcessPoolExecutor(max_workers=12) as executor:
          executor.map(perform_task, atom_list)

I’d like to handling over 10,000 task in parallel using ProcessPoolExecutor
However I have noticed that memory consumption has been increasing significantly, 
there are a lot of python processes alive even though perform_task function completed.

questions, is there any way to avoid memory consumption when it comes to multiprocessing ?
and.. all of python processes (10,000) are going to be alive until program termination ?
(is there any way to clean up process when the task is done ?) 

thanks in advance ."
<@Hubert> if you have 10k processes then you're doing something wrong. In the snipped above you have `max_workers=12` which means there can be only 12 processes; each process is going to perform the task on 10000/12 items from the list; Can you show us the exact body of `perform_task` function?
"Thanks <@Collette> . perform_task  is performing some machine learnings about bio informatics..


def perform_task(atom):
 19     # Initiate virtual screening pipeline 
 20
 21     f_exist =  os.path.isfile(‘dock/%s_docked.csv’%atom)
 22     if (f_exist == True):
 23         print(‘file already exist :’,atom)
 24     else:
 25
 26         pipeline = vs()
 27         # # Load ligand from a mol2 file
 28         pipeline.load_ligands(‘pdbqt’, ‘amlodipine_H_added_by_iqmol.pdbqt’)
 29
 30         # #Dock ligand to receptor, autocenter docking box on  ligand
 31
 32         pipeline.dock(‘autodock_vina’, ‘input_receptor/%s_protein_edit.pdbqt’%atom,‘input_binding_site/%s_ligand.mol2’%atom)
 33         # # Write docked ligand conformations to a file (including scores)
 34         pipeline.write(‘mol2’, ‘mol/%s_docked.mol2’%atom, overwrite=True, opt={‘c’:None})
 35         # # Rescore docking results using RFscore NNscore
 36         pipeline.score(function=‘rfscore’, protein=‘input_receptor/%s_protein_edit.pdbqt’%atom)
 37         pipeline.score(function=‘nnscore’, protein=‘input_receptor/%s_protein_edit.pdbqt’%atom)
 38         # # Write computed scores to csv
 39         pipeline.write_csv(‘dock/%s_docked.csv’%atom)
 40
 41         del pipeline; even though  it’s defined as max_workers=12 , there are a lot of python process in htop command in ubuntu."
can you use three backticks ``` around your code
"```

def perform_task(atom):
    # Initiate virtual screening pipeline using 8 CPUs

    f_exist =  os.path.isfile('dock/%s_docked.csv'%atom)
    if (f_exist == True):
        print('file already exist :',atom)
    else:

        pipeline = vs()
        # # Load ligand from a mol2 file
        pipeline.load_ligands('pdbqt', 'amlodipine_H_added_by_iqmol.pdbqt')

        # #Dock ligand to receptor, autocenter docking box on  ligand

        pipeline.dock('autodock_vina', 'input_receptor/%s_protein_edit.pdbqt'%atom,'input_binding_site/%s_ligand.mol2'%atom)
        # # Write docked ligand conformations to a file (including scores)
        pipeline.write('mol2', 'mol/%s_docked.mol2'%atom, overwrite=True, opt={'c':None})
        # # Rescore docking results using RFscore NNscore
        pipeline.score(function='rfscore', protein='input_receptor/%s_protein_edit.pdbqt'%atom)
        pipeline.score(function='nnscore', protein='input_receptor/%s_protein_edit.pdbqt'%atom)
        # # Write computed scores to csv
        pipeline.write_csv('dock/%s_docked.csv'%atom)

        del pipeline
```"
"<@Hubert> lots of system tools are written in python in ubuntu, are you sure all python processes you see belong to your program?; Also, how `atom_list` looks like?"
"I have been trying to extract data from a file since a few days but am always failing.
If some one helped me figure it out it'd be cool.; I want to get question and options in one part and answer in another part. All the data has to be grouped by year maybe in dicts; Here is the code, I tried; The data is full of errors; My code is too buggy"
"<@Collette> as you said, external tools are called from python.. I am also guessing the root cause is from them."
<@Hubert> the root cause of what?
I mean memory consumption; atom_list is just the list of string.
"Hey people - Sorry for the noob question. I just want to make sure I'm on the right path.
I have a bunch of small scripts that read from CSV, and enter into a sqlite database. My end goal here is a website (on a local network) that is dashboard style key performance indicators - So I have all the data that I can retrieve and manipulate, and will eventually want to show those numbers on a page. I'll also want a button that can cause a certain script to run (on the host PC). Flask/Django? Can those to accomplish this? Is there something else I should be looking at?"
"Ideally a user uploads a CSV or places it in a specific directory, then can hit a button that will cause the script to run"
"anyone here savvy with numpy? I have a binary file with a particular block size, but I only want to read certain fields out of it, how do I tell it the size of the blocks if I am not reading every byte of it?"
<@Sirena> I don't know if this is useful for you? <https://stackoverflow.com/questions/38806285/using-numpy-fromfile-to-read-scattered-binary-data>
"that's useful, although not the same situation I have. I think I just need to stick a useless variable at the end of my dtype, so I added ('trash', np.void, blksize) and the size of my blocks seems right now; thanks <@Fabiola>"
"hey  I need a bit of help understanding why my code isnt executing how I expected. 
```python
reg = Auth()

device = Device()
d_name = device.generate_name()
d_pass = device.generate_password(20)

print(reg.register(d_name, d_pass, device.config.read('SECRET_KEY')))
```; the register function executes before the generate functions are done doing what they need to do; sorry when its like this ```print(reg.register(device.config.read('NAME'), device.config.read('PASSWORD'), device.config.read('SECRET_KEY')))```; I've been wokring on this all day and cant figure out why it behaves this way"
"For context, what libraries are Auth() and Device() coming from?"
they're classes I wrote; the auth class has some post and get methods; and the device class writes to a config file locally. I can upload a code snippet if it helps
are the name and password generators asynchronous?
I don't think. they are pretty simple loops; I'm very much a noob python programmer. So some of the stuff im doing might not make too much snese in the python world
"alright.; nothing pops out at me; what I would do is add more print lines or logging statements in `Config.read`, and `Auth.register`"
"I agree with dd82. Add print lines between each func call, just too see what's happening"
"what it seems to me is you’re including the configuration read ops as part of the authentication call; I wonder if this has the same effect:

```
username = device.config.read('NAME')
password = device.config.read('PASSWORD')
key = device.config.read('SECRET_KEY')

registration = reg.register(username, password, key)
print(registration)
```"
"I'll give it a try. when I run the code in through the debugger and step throught it, it runs fine. I'll add some prints and see what happens"
how are you executing it when the errors happen?
python script_name.py in the console
"hmm, ok"
"its like theres some async operation; ```
username = device.config.read('NAME')
password = device.config.read('PASSWORD')
key = device.config.read('SECRET_KEY')

registration = reg.register(username, password, key)
```; like that it works; w/e I'll stick with it."
"hmm; so, what I suspect is the root cause is calling `reg.register()` in a `print` method; because as the documentation says 

&gt;All non-keyword arguments are converted to strings like str() does

<https://docs.python.org/3/library/functions.html#print>; so what I suspect is the `str()` call is evaluating `reg.register()` first, before the actual arguments are evaluated"
ohh i see.; I'll keep that in mind going forward
"Is it printing anything from the statement on line 12?; But you probably would need to do `len(d.entries)` instead of just `len(d)`.  However the more ""pythonic"" way would be to just iterate through the links instead of indexing; like `for entry in d.entries`"
"It's not printing anything from either print statement, but it was working prior to wrapping it in a function"
Did you double check the length of `d`?
"I just changed that to ""for entry in d.entries"" and it still doesn't print anything."
Hmmm if you print d.entries before line 9 what is in it?; Unfortunately I'm not familiar with the library if that's the issue but assuming that `d.entries` is enumerable and contains some elements then print statement inside the loop should be executing; So just try iterating over d directly instead of entries?
"I will try that; Tried it, didn't change it. At this point I'm just gonna say screw it and write all of the loops to append to my URL list  (since I have 4 RSS feed URLs) instead of doing it the 'right' way and using a function.; Thank you for your help."
"So, at work we have a lot of apps/services each with their own `.env` files, a few repos have multiple. So naturally some of them have the same env variables. Which, can get convoluted. We use salt to set all the ENV's when deploying on production/staging but locally, its kind of a mess. 

What do you guys use, if any, to keep different versions of ENV vars in sync between apps based on the environment (prod, staging, dev)? I was considering proposing something like consul but not sure if theres anything simpler. It should be something that all the devs could easily setup and use.; those getting mixed up seem to be a reason some people have issues running some of the apps locally rather than using staging"
any idea how to solve this; ValueError: dictionary update sequence element #0 has length 0; 2 is required
"sounds like whatever you’re trying to put in template context is an empty dict or invalid type; other than that, you’ve not given any kind of information to go on"
"I added the trace; Before this works perfectly, but today i get this. I dont know why, this only the login page"
"trace is good, but doesn’t show the code block of what you wrote that causes it; plus, what do you get when you google the error message"
"Thats all i get, when i google it i find case but they have problems with their context; I dont have any context"
"A bit of context: a dictionary can be created from an iterable containing _pairs_ of values. Like `[(0, 1), (2, 3), (3, 4)]`. You provided an iterable that has an empty tuple or something like that. Something is empty that shouldn't be.; So inspect what you're putting there; wait, the error is completely inside Django; lol"
how are you calling the render?
"return render ( request, 'accounts/login.html')"
"weird.  does `render(request, 'accounts/login.html', context = {})` do anything?"
Still the same
and this just happened?; what django version?
1.11
"latest dot release is 1.11.7, I believe.  are you on that one?"
"Before it works, today i get that; 1.11.5"
"Hello all, quick question python/SQLite related:; insert into something(abc, def) values(?,?) where equipment = row[referencing something else]; `cursor.execute('''INSERT INTO machines(EQUIPMENT, DESCRIPTION, PLANT, DEPARTMENT) VALUES(?,?,?,?)''', (row[0], row[1], row[4], row[2]))`; so I'm referencing something outside (with the rows), but if I want to add a WHERE Something = row[9]; will it change to `cursor.execute('''INSERT INTO machines(EQUIPMENT, DESCRIPTION, PLANT, DEPARTMENT) VALUES(?,?,?,?) WHERE SOMETHING = (?)''', (row[0], row[1], row[4], row[2], NEW_ADDITION_ROW[9]))`; Does that make sense?"
"INSERT ... WHERE? Haven't seen this yet.; There's `INSERT INTO a SELECT ... FROM b WHERE ...`, but it's different; How would this INSERT statement work anyway?"
"I have a table with 800 machines, and my python script will go through 32,000 reports and add up the downtime, count, time between breakdowns, etc. I want to add values for one specific machine; Table has machine 1, 2, 3, etc. I gather info on machine 1, so I want to add values to machine 1; Say my table has machines, downtime, and count. I want to go to machine 2, and add values that I have in variables. Then in my for loop, the machine number changes to 3, then I want to insert information; I removed a few things that don't make any sense,"
"INSERT just doesn't work like that, I'm afraid"
"That's unfortunate; Update perhaps?; `cursor.execute('''UPDATE kpi SET DT_ALL, MTTR_ALL, MTBR_ALL) VALUES(?,?,?) WHERE EQUIPMENT = ?'''(downtime, downtime_avg, time_between_avg, row[0]))`; `cursor.execute('''UPDATE kpi SET DT_ALL = %s, MTTR_ALL = %s, MTBR_ALL = %s WHERE EQUIPMENT = %s ''', (downtime, downtime_avg, time_between_avg, row[0]))`; still doesn't work, but possibly getting closer; nvm,.. Got it. Thanks leovp"
"Hey everyone, 
I have no experience in python and I was asked to make a web scraper with python and mariaDB without any scraping library 

and I have 2 days to do it, 

Any help please !!"
<@Katharine> my hourly rate is $30
"<@Katharine> I'm guessing you're getting a crash course in BeautifulSoup, do you have an ORM/ODM?"
<@Katharine> Why the restriction of no scraping library?
What to do when you’re harassed on here?
"you can contact the admin on the <#C07G55QES|meta> channel, via the `/admin` command or via email <mailto:pythondev.slack@gmail.com|pythondev.slack@gmail.com>"
Thank you
or via dm
"Ohhh, *no* web scraping library!?!???  Huh; Sounds like a job interview/contract application/theft of code #bitternotbitter"
"If I have a millisecond timestamp like ```1510350300027``` and I use ```datetime.datetime.fromtimestamp(ms/1000.0)``` i get a datetime in my local time. Is there a way I can convert the millisecond timestamp straight to UTC or whatever preferred timezone? Or do i need to create the datetime object first, and then do it from that?; where ``` ms = 1510350300027```; OK, I found a way to do it. Not sure if it's the 'right' way, but if I create a timedelta object i.e.  ```td = datetime.timedelta(hours=11)``` I can then minus that from the original. to get the UTC time. Alternatively I can use datetime.datetime.utcfromtimestamp(ms/1000.0) and then add that timedelta object. Both work. Just not sure if its the right way to go."
"<@Wonda> a timestamp has no notion of timezone. so it is in whatever timezone you are in essentially. though if you know you got it from someone with a -8 timezone, you could adjust it that way. without plugins, you could do what you did then change the time delta. But i would checkout the `pytz` module. it makes working with dates a bit easier across time zones too."
<@Bruno> cool. will check out pytz. It seems when it comes to times/dates there are many different ways to do things!
"yea. libs like that, mostly just make it easier to do a lot of things with builtin datetimes"
This is parts of my API response; How can I parse that time to a HH:MM:SS format?; Still quite new to Python :slightly_smiling_face:
the /1000 is to change the resolution to normal epoch resolution; time.ctime(1510480071570/1000.0)
I can't use timedelta here?; Works good thanks :stuck_out_tongue:
<@Meg>  do you have any idea what can i do else?
make a report on the django users google group?
"Hi, in my project I have a model called Project and a view where you can see those projects. My problem is, I don't know how to set up the view so that I can have rows with two objects per row (I'm using bootstrap and it looks nice that way); Maybe I should specify that I'm using Django"
How can I integrate React with Django? Which package is the best for the integration? I want to show model data to front-end.
"Hey Peeps,
Have a question, I am parsing some json which looks like the following:
```
[{""id"": 0, ""title"": ""AAABBBCCC""}
{""id"": 1, ""title"": ""SSSBBBEEE""}
{""id"": 2, ""title"": ""KKKBBBFFF""}
{""id"": 3, ""title"": ""KKKFFFGGG""}]
```
This is stored as a simple list containing multiple dictionary objects. From here, my next step is to find an algorithm of some sort that can traverse through each title key in each dictionary and find similar or exact matches. If there are more than one matches or similar titles, then put the matches into a family, eventually yielding a set of family objects containing the matched tiles. With this in mind, if I execute the json listed above I expect to return:
```
['Set A': {""id"": 0, ""title"": ""AAABBBCCC""}
{""id"": 1, ""title"": ""AAABBBEEE""}] ,

['Set B': {""id"": 2, ""title"": ""KKKBBBFFF""}
{""id"": 3, ""title"": ""KKKFFFGGG""}]
```
Where both sets A &amp; B contain dictionaries where the title key values can be found by a) finding approximate substring matches inside a given string and b) finding dictionary strings that match the pattern approximately. I am thinking of incorporating an adaptation of some fuzzy matching algorithm, such as the Levenshtein distance Algorithm, but feel I could make this a lot simpler, does anyone have any alternative suggestions or ideas for me to look up? Would appreciate it greatly."
"what I would do is make a class, and add in the id and title to the class on init.  Implement your comparison algorithm as a method.  eg, `def levenshtein` that takes in a string and returns the edit distance; so you can initialize a list of instances, and then filter it by the result of the edit distances"
"They was a package highlighted in Talk Python to Me recently that does this exact thing and even more complex stuff like William for Bill and McDonalds and MCDONALD'S , bahhh!!!!, cannot remember the package.  (I'm stuck shopping for kids clothes so I'll go see if I can find it); Bah, it might not to be such a good for you though it might provide inspiration , <https://github.com/datamade/probablepeople/blob/master/README.md>"
So trying to install pip but was directed to download get-pip.py does it matter where I run that? It says I should have it installed (I am running Python 3) but tried to run a module install in cmd and nothing happened.
"<@Charisse> I don't know of any package which integrates react with django directly, are you trying to make a SPA? or is it for smaller parts of the site?"
hi!! Is there anyone who had setup Apache Hbase???
"Hi <@Louie>, are you still having issues?"
"Hi, I'm using `paramiko` lib and for some reason, when I copy &gt;50 MB file, system just hags, copy process is stopped; not sure why; code:; ```import paramiko


host = ""ip""
port = 22

# Auth

password = ""aaa""
username = ""kusssnd17""

try:
    t = paramiko.Transport((host, port))
    t.connect(username=username, password=password)
    sftp = paramiko.SFTPClient.from_transport(t)
    sftp.open('/file', '/file')

finally:
    t.close()```"
You need to add the except block
"yes, but still having same issue; not sure why, but copying for some reason stops at 28MB"
and no exception is raised?
"nope, just process is hanging"
Are there any connections to the remote host?
yes
maybe the connection is just hanging. I have no idea if `paramiko` is built to handle these types of files transfer
works fine with scp
"28MB isn’t very big though.  are you sure any data at all is being transferred?  Are you seeing the first 28MB of the file on the remote server or something?; also, do you see anything of interest when turning on logging?"
"I'm running `$ watch -d ls -lah` command on local machine(copying file from remote),  and can see, that copy process hangs, when file reaches 28MB; how can I turn on logging?"
I am pretty sure `import logging; logging.getLogger('paramiko').setLevel(logging.WARN)` will work
you can even put it on `DEBUG` directly
"sorry, thats `WARNING`"
"Ok, checking it right now"
"or I guess ramp it up to debug, although I’d hope it’d print some sort of error message if it were having a problem"
"`No handlers could be found for logger ""paramiko.transport""`"
is it printing out logs otherwise?
"no logs, just `No handlers...`; message"
try logging to a file with their own util? `paramiko.util.log_to_file('foo.log')`
"yes, this works"
anything of interest?
"`DEB [20171113-17:20:46.499] thr=2   paramiko.transport.sftp: [chan 1] stat(`; found some similar github issues, but still looking for solution; ```I suppose I could trap for this error and just keep trying, but if the data never gets read, there's really no point. Something is keeping the data from being read causing the timeout in the first place.```"
have you tried reading this file from a different machine to try and rule out whether it’s a remote or local issue?; anything in the logs on the remote server?
"yes, tried this code,  from multiple machines. I need to check logs on remote server"
"unfortunate truism - the longer it takes to figure it out, the dumber the answer will be.  :confused:"
yes :slightly_smiling_face:
have you tried to ssh to localhost and do it that way ?
also - is this windows?
I think I found something; still need to test it; it works with scp
what OS is this?
Debian
ah okay.  I was thinking this sounds suspiciously like the kind of thing that happens on Windows systems with overzealous security software.  there goes that idea
"after adding this:
 ```t.default_max_packet_size = 100000000
t.default_window_size = 100000000```; code started to work"
interesting
not sure why
<@Chaya> :taco:
you get a taco for solving it yourself.  :stuck_out_tongue:
thanks :slightly_smiling_face:
"although did it send it?  I didn’t get a notification; ah there we go, it was jsut a bit delayed; ha.  apparently you can tag your tacos now.  I am going to tag them with toppings though, not things like they want you to.  :stuck_out_tongue:"
yeah they made an update; but it became a bit slow now
"Hi, can anyone help me with templating in Django? I have objects from a model that I want to put in rows, but I don't know how to handle that because its one row per two objects!"
The code for my website is here: <https://github.com/theletterandrew/timetracker>; and the specific page I'm talking about is here: <https://github.com/theletterandrew/timetracker/blob/master/timemanager/templates/timemanager/manager.html>
hello <@Lorean> we have a channel dedicated to <#C0LMFRMB5|django>
thanks so much!
I was able to work it out. But can pip be run from anywhere in the command line or has to be at the install location?
Usually I run `pip install package` anywhere and the package will be installed along with my python distribution; What OS are you running and how did you end up installing pip in the end? Most of the time pip should come with your python distribution
"How would one suggest getting the next dict obj in a list of dicts? i.e. -&gt; [dict1{key=""x"", key=""y""}, dict2{key=x, key=y}] ?; As in, I step through items in list of dicts: prev_dict_item = dict1, next_dict_item = dict2....? Any thoughts?"
`for adict in list_of_dicts:` seems like the easiest starting point
"Hi  Everyone, I'm trying to integrate python automation script into  Jenkins pipeline job. But i need to give some conditions manually like YES or NO in middle of the script based on output generated. Is there a way that instead of breaking script into multiple jobs to pass conditions in middle of the job."
Windows 10 and I believe it was already install but updated after running get-pip.py on my desktop
"<https://pastebin.com/iEqLSDcG>
For my friend this throws the error ""int is not callable"" at line 9, using Python 3.4.5.
When I run the code in Python 3.6.1 I don't get an error.
Is this a problem with the compiler?"
<@Ok> there is a <#C22DMH61M|devops> channel that you might get more traction in
Can u share me the link <@Seema> 
"it's in the channel list, and if you click on the hashtag it will take you there (depending)"
"I'm trying to get a docker container going using gunicorn; I would just serve using the gunicorn program itself; But I'm trying to redirect to 443; Which means adding nginx; So I added nginx; But most of the tutorials I see use systemctl, but docker does not have it; What is the preferred method of running gunicorn inside a docker container?; I'm using flask + gunicorn atm; It seems ridiculous to add so many moving parts; When gunicorn just works"
<@Marcelina>  There is no `systemctl` but there is `service`
"Right, so I could make gunicorn a service I suppose"
You should be able to do something similar to `service gunicorn start`. Usually when I'm building containers that require a service to run at the beginning (such as apache or nginx) I will add a `entry.sh` script which will contain the service start command and use that as the entrypoint for the image
Right - hmm - I think I've been overcomplicating; gimme a minute; :slightly_smiling_face:
easy to do that :smile:
"That works for the most part, some weird stuff; On localhost, I don't want to rewrite to SSL; But I'm getting a redirect to the primary domain even through gunicorn is showing 200s rather than 301s; hrms; Ugh; I hate caching; nm"
Has anyone used DPKT before?; basically attempting to read a giant .pcap that is zipped
Anyone have any idea? :thinking_face:
<@Thomasina> there's no `int()` on line 9; I assume your friend re-assigned `str` or (much likely) `len` to a number above that snippet
<@Thomasina> the code is working__ no errors.. perhaps your friend fixed the error..
I'm 90% sure it just returns the month; it does. thx legacy code
"<@Thomasina> as <@Collette> says, your friend probably reassigned it to something else."
<@Myong> <https://github.com/otherwiseguy/yappcap>; (not sure what it's worth)
"I'm currently using the 'reprint' module to print and update text in place. However, when I add escape codes for colors i.e. output[0] = '\033[94m' + ""some text"" it's messing up the formatting of the text ( lines are wrapping + all sorts of ugliness ). if i remove the escape codes for color, all is perfect. Anyone familiar with reprint and/or coloring text in the terminal that could shed some light on why it might be behaving this way?; gah, figured it out. Ansi escape sequences add to the length of the string but don't have characters, so throws out the alignment."
"Hey people, I use flask-cors, but can't seem to get it to work, I can't make POST requests from my client. What am I doing wrong here?"
"strange, when i last used heroku, it handled CORS for me? i never had to set it"
Yea it's very strange; It works fine for GET methods; It doesn't let me POST from JS though; Using Postman is fine
but postman (from my experience) can self add headers and things to make it compatible
Yea; Doesn't let me
"on your client, you need to add the header before you make the request; for some reason, that lib doesn’t seem to be doing its job"
Yea not sure; Trying something now; <@Meg> You know any better lib?; This one seems to be meh
"I don’t know flask, sorry; django has a pretty good one with <https://github.com/ottoyiu/django-cors-headers>; might want to post in <#C0LN2AD7T|flask>"
I'm just gonna add the headers manually from the client; Yea; Doesn't work :disappointed:
can you confirm the header is actually set?; in browser dev tools
It's not; Hmm why isn't it set
does it work at least locally?
Don't think so
set it before adding resources
Did
"`CORS(app, resources={r""/*"": {""origins"": ""*""}})` before `api.add_resource`; alright then :]"
Will test that little snippet you gave me there :stuck_out_tongue:
"&gt; If things aren’t working as you expect, enable logging to help understand what is going on under the hood, and why.

logging.getLogger('flask_cors').level = logging.DEBUG; might wanna try that too"
Something is just broken; Not sure what or why; I'll check this out later
"&gt; Not sure what or why
Well try to debug it, guesses will only take you so far"
Ye
Anyone use the hangups library to make a google hangouts bot?
I think they discontinued hangouts API
Getting the following error message from Apashe httpd upon upload request page. I see that it is getting the wrong keyword in the connector for upload but the __init__ but having issues locating the __init__ for uploads. I am able to see that on the Server the files are being uploaded to the directory. Anyone have any good pointers?
"Hey guys, I got a quick and probably simple issue at the moment. I'm writing a program to process .pcapng files to look at the packet data. The program has time frames which are given a timeout time. This timeout time is checked every time a new packet is read. The issue I'm having is, the .pcapng `timestamp` gives a pretty long float value which equates to a date obviously. For some reason, even after setting the timeout to also be a float, the loop goes a bit further than it should. The first packet in the timeframe sets the next time frame variable so that when `next_time_frame &lt;= timestamp` (this is the check I do every time a new packet comes in) a new next_time_frame is set and a I do other things. So for example if the first timestamp is 1385856000.00000, then `next_time_frame` would be 1385856060.00000, but for some reason, the loop doesn't stop when that statement is true.; So basically comparing two floats to each other isn't working properly"
have you tried using `Decimal`?
Nevermind it works now.
:thumbsup:
Thoughts on this? Like what they mention about gotchas in the comments? <https://www.reddit.com/r/Python/comments/7cwsbv/til_python_package_metadata_can_be_defined_in/>; Seems like the discussed side effects about sdists wouldn't be an issue if your not making a general library but more of a plug-in setup where each plug-in ( like for Django or flask) is a module. 
can I pass in a tuple of ints to `sorted` as the `key` to sort by?
how would this work?
"I have a list of dicts and each dict has a filename made of some identifier followed by a date, I want to group them together in ascending order first by their id, then their year, then their month and then their day so I am using a regex to split the various pieces up into groups and then saving those out as a tuple where `None` becomes 0; if that makes sense?; that tuple is then used as the key, ie ` rows = sorted(files, key=lambda k:k['parsed'])`; where `files` is just a dict with a filename, a parsed filename and a flag for if it's on disk or not"
If I understood you correctly - you can
awesome...Thanks leovp
"anybody encounter this error when attempting to use pip in any way?
I did some resarching and it looks like it has something to do with setuptools but I could be wrong"
Do you have the setuptools package?
"any of you have experience with setting up the `python-slack-events-api` adapter w/ nginx, by chance? <https://github.com/slackapi/python-slack-events-api>; the little flask server they have built into the adapter has its host hard coded to `127.0.0.1` and it's messing w/ my docker'ing (i.e. bad gateways); I tried seeing if using the Flask `host=` parameter in the run statement would work, but it didn't; short of rebuilding the package with my preferred host info (which is obviously troublesome), my only other thought is to put the adapter app &amp; nginx in the same container even though that doesn't seem ideal"
"Hello party people... :slightly_smiling_face:
This is my first attempt to get help... so plz forgive me if I don't follow the correct procedure's....
Anyway ... here it goes...

I am trying this tutorial on YouTube :  <https://www.youtube.com/watch?v=D0MoGRZRtcA&amp;feature=youtu.be>

I got as far as video #8 ...  <https://www.youtube.com/watch?v=dONYOtb2ySI&amp;index=8&amp;list=PL6gx4Cwl9DGBlmzzFcLgDhKTTfNLfX1IK>

But for some reason I get this error message when I try to run my server : 

CommandError: Error: No database fixture specified. Please provide the path of at least one fixture in the command line.

Any clues on how to fix this ?"
<@Jule> Hey. It looks to be related to <#C0LMFRMB5|django> you might want to share your message over there (use the arrow when you over your message) :slightly_smiling_face:
"<@Ciera> Yeah... since it was ""Django"" - related.. but also a ""help"" - question... I posted in both channels... :slightly_smiling_face:
Is that OK ?"
We prefer people to post in the most relevant channel (<#C0LMFRMB5|django> in this case) and if you don't get any response after a while share your message in channels with a wider audience. And we try to push people to use the share feature so there is no two simultaneous discussion as it links to your initial message :slightly_smiling_face:; But don't worry it's ok :wink:
OK... will make sure to do that next time  :slightly_smiling_face:
"which is the better way to save configuration on django? for example for connection with database or configuration of email, actually i use the settings.py"
<@Georgetta> yes in setting.py
although you normally want to protect sensitive information especially for prod
I'll explain more in <#C0LMFRMB5|django>
"Have anyone here worked with bcrypt and postgres? I'm having trouble storing my hashed &amp; salted password in my postgres database using SQLAlchemy; Heroku logs aren't showing any useful info, works locally with sqlite3 though."
it's best to replicate your production locally; i.e. use postgres for dev too
I think it's a problem with the data type; Right now I'm using string
"sqlite is very different, some thing might work in dev and not in prod, and others work in prod and not in dev"
"I see that some people say here that you should convert the password bytes to a string first; Or using BYTEA; ""I had a similar problem and I solved it using BYTEA data type at the Postgresql. I think problem occurs while writing byte array into VARCHAR datatype in Postgre. This might be related to database encoding and the details of that conversion from byte to varchar.""; Could that be it?"
I use db.String(64) or something; algorithm is bcrypt too
Storing as bytea would almost certainly be more efficient.
<@Joann> even if `bcrypt(something)` is a string?
"Unfortunately, not all client libraries make that very easy."
That's my usermodel; Then I have a db.py file
"leovp: well, you'd ideally want to have it be a binary string since that's going to be smaller than a binary-string-encoded-as-text"
and for making heroku work:
"<@Joann> that's true, but unfortunately even low-level `bcrypt` returns a readable ascii string (or a bytes object, but still 2x the size); and other higher level libraries just use what they have been given; <@Carroll> looks ok, you really have to debug the issue itself"
Yea
i.e. what is the issue exactly?
"I'm not sure, when I try to run this snippet; I have an endpoint /register"
"your app complains about the password, or sqlalchemy? or underlying driver?"
"leovp: which is terribly silly, really.  Still, you could at least save on-disk size by having the data type be a bytea and then sending the base64 or hex-encoded string to PG wrapped in a conversion function to turn it into a proper bytea."
It hits the exception block; What message can I get out of e?; e.message wouldn't work
"str(e), repr(e), anything really"
Alright; Will deploy it and see what problem it is
"Wouldn't help with network traffic since you'd be sending the hex-encoded string over the wire instead of the binary data, but saving space on disk and in memory is certainly valuable from a database perspective."
otherwise it's really not clear
"(the function you'd use for storing the data into a PG bytea would actually be 'decode', 'encode' would be used to pull the data back out)"
"<@Joann> I guess no one in Flask/Django/etc world sees it as an issue, because a password column is rarely even 10% of a table size.
Maybe top players like Instagram do care, but I don't know"
"eh, it just grates against me when people store binary data as text because it's such a waste of space."
Uhm okey; dafuq
The gitlab folks have made an effort to start storing their git hashes as bytea's because it really does make a difference in space.
I understand you entirely :))
oh my god; I think I get it; -.-; I'm a freaking idiot
:tada:
I changed the length of the db model; But never actually reset the heroku postgres database; ......; Any of you got a rope so I can hang myself?
"leovp: With enough rows, every byte matters. :)"
"I guess you would want to know that I store IPs in INET :slightly_smiling_face:; not as a string, which is _very_ common"
"well, I'd probably recommend ip4r there; Though it depends on your requirements."
:open_mouth:
Would you look at that! It works :smile:
Let me just google it
"Right, now it's a problem with the auth :joy:"
<@Joann> is it in 10.0 or 9.x?
leovp: <https://github.com/RhodiumToad/ip4r>; It's an extension that works with lots of versions of PG
I see. It's a bit harder to pitch
"Unlike inet, it segregates ip4 vs. ip6, but it's much more efficient at storage and allows more indexing options"
"I don't think INET is that bad currently, as we don't really perform operations on IPs frequently (or at all)"
(an ip4 address is actually stored as a 32bit unsigned integer..)
"And we do have a bunch ipv6 addresses stored, which would require `ipaddress` which is probably not much better than `INET`; still, good to know :slightly_smiling_face:"
"well, or you could store ipv6 addresses as ip6 :); but, yeah, definitely something good to know about; and it's quite stable and well maintained."
i.e. split each mixed IP columns into two?; that doesn't seem nice :confused:; or store ipv4 as a ipv6 as well? will postgres understand that `0:0:0:0:0:ffff:c0a8:10a` requires 4 bytes instead of 8?
"Okey; <@Suellen> I'm really new to this crypto approach; This worked fine; Register now works; But, if we look in auth; Without encoding both, I got an error saying they must be encoded; So I encoded both with utf8, and I got this error message"
Am I doing something obviously wrong here? :slightly_smiling_face:
hm; where is this exception from?; `bcrypt.checkpw` returns true or false
Exception is from the auth
the bcrypt.checkpw
"leovp: no, PG would store an ipv6 address as an ipv6 address"
"<@Carroll> since you are doing utf8 going into the db, you don’t need to re-encode it after pulling it from the db"
"leovp: You could have different tables rather than different columns, though it depends on your exact data model, of course."
It raised an error when I tried to do that; Maybe I have to decode it?
"leovp: I will note that storing NULLs are basically free unless you're careful to not have any NULLs at all in your tuples.; (in which case, PG can avoid storing the NULL bitmap at all)"
<@Patty> I need that u?
"<@Joann> This is just a bit too different, storing different types of addresses separately. :confused:; <@Carroll> I think the point was that `checkpw` doesn't raise an exception"
"No you don’t need the u, that’s just demonstrating it’s a Unicode string "
"leovp: eh, they actually are disjoint tho, really, but if it works for you.. :)"
Sorry trying to get a snippet over but I’m in the middle of switching trains :)
Hehe; I am using Heroku with Postgres though
Are you still encoding the password before putting it in the dB?
I am
And did you clear out the original hashed value that wasn’t encoded?
I did this
Right but did you re-create the stored pw with that code?
Yes; I registered a new user; Trying auth; Brb making noodles
And just to check you redeployed your heroku app with the changes for creating hashes?
I did
"Hi, Python newbie here with probably a dumb question...  I am trying to use the Google API examples to get some code running that will send an email from my app since port 587 is blocked on the company network.  I am very close but I am running into some issues where the example code has included some logic for backwards compatibility with python 2.6.    I get compile errors because the syntax is incorrect inside an IF block.  I am coding on OSX with Python 2.7 and my IDE is LiClipse.
Here is the code in question and I get an error on the third line from the bottom where it wants ""tools.run(flow, store)"" to be ""tools.run_flow(flow, store)"" 
```     if not credentials or credentials.invalid:
        flow = client.flow_from_clientsecrets(CLIENT_SECRET_FILE, SCOPES)
        flow.user_agent = APPLICATION_NAME
        if flags:
            credentials = tools.run_flow(flow, store, flags)
        else: # Needed only for compatibility with Python 2.6
            credentials = tools.run(flow, store)
        print('Storing credentials to ' + credential_path)
    return credentials  ```
Any Ideas for me?; I went to get the compile error to post here and all of a sudden I am not getting an error on that line.  WTF?"
"I guess my first question would be why support 2.6?; the last release of 2.6 was the .9 minor release back in 2013, and it hasn’t been supported since then"
Does anyone here use Vim with YCM completer for Python?; I can't get the YCM Jedi to pick up my virtual environment python interpreter :disappointed:
"well, if anyone is still running CentOS6, they've got 2.6; and it's semi-irritating to load a different version since the OS uses 'python' to run its package updater, and if it's not 2.6, it barfs.; I uh.... have a friend with that problem.... yeah."
why would it not be 2.6?
uhm that shouldn’t stop you from installing 2.7 or 3.x; just leave system python alone and create virtualenvs mapped to the specific python interpreter version
running centos you can use the IUS repository (<https://ius.io/GettingStarted/>) to easily install python versions if you don't want to use the system default one
"slightly off topic but relating to centos servers, has anyone managed to setup rdp onto a centos 6.8 server?"
"I am working on simplifying a process that I use a few times a month. The current process is just updating and running a sql query in sql management studio. I am trying to wrap the process in a little python app. So far, what I have works. It is still in the beginning states and I am adding to it. My intention for the final version is that it will, from a gui, request input from the user, use that data to query sql, then dump the result in another gui window.; Am I headed in the right direction with this?; anything I should consider. This is more a learning exercise than anything else. I just hope to get a useful app out of it... Thoughts?"
If it's working I would say your are on the right track :slightly_smiling_face:
<@Ciera> thx! I'll keep plugging along...
"Hi another newbie question here that I cant seem to google my way out of...  I am using the sample GoogleAPI code to send an email and its all working to the point now where I want to be able to pass   TO, SUBJECT, and BODY as arguments so I can call it from Bash.  Google already has this code and I am unsure how to add my own additional args..

```  try:
    import argparse
    flags = argparse.ArgumentParser(parents=[tools.argparser]).parse_args()

except ImportError:
    flags = None
print(flags) ```; I have done this before but not using argparse and all my attempts to add arguments fails."
"I am trying to convert multiple pdf files to a text file and then search that text file to find email addresses.; I am able to print the text from those pdf files but when i save it to a file, only one entry gets written.; ```import os
import re
import glob
from textract import process
dir_name = os.chdir('/Users/pathfinder/Downloads/emails')   #Specify the directory containing PDF files.



def get_pdf_content(pdffile):
	text = process(pdffile)
	return text

def main():
	for pdffile in glob.glob('*.pdf'):
		data = get_pdf_content(pdffile)

		with open(""Output.txt"", ""w"") as text_file:
			print(data, file=text_file)



if __name__ == ""__main__"":
	main()```"
<@Desire> How about <http://www.unixuser.org/~euske/python/pdfminer/>
"<@Sherice> Thanks for your suggestion but I am already able to extract the text but I am unable to save it to a Output.txt, the output of 1 pdf gets written instead of say 10 inside that directory."
<https://docs.python.org/3/library/functions.html#open>; the `w` filemode truncates the file
"<@Antionette> Thanks buddy, that helps"
"how is pdfminer working for you?; there are two primary issues I have with it, but there really isn’t much you can do about it and really depends on the programs used for document creation; first, if you save the pdf document with an empty password, which happens sometimes with authoring programs, browsers and viewers will open it up, but won’t be able to read it; second, a small number of PDFs won’t be able to be opened at all, whereas they will open fine in other software; that’s my experience when I was processing 16k PDF documents consisting of about 25M pages of content for external text search; about 800 were unable to be processed at all due to those two issues"
<@Season> what have you tried so far using argparse to add the arguments?
"<@Antionette> I have just been googling and trying to combine the syntax in documents to what google provided but I honestly dont understand the code and the way each have been written dont match up.   For example I tried ot adapt parts of this example but I obviously didn't understand what I was doing because I coudlnt get it to work.  I have since thrown out my atttempts and put it back to how google had it so done really have specific examples of what I tried. ``` import argparse

parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('integers', metavar='N', type=int, nargs='+',
                   help='an integer for the accumulator')
parser.add_argument('--sum', dest='accumulate', action='store_const',
                   const=sum, default=max,
                   help='sum the integers (default: find the max)')

args = parser.parse_args()
print(args.accumulate(args.integers))  ```; I tried this portion with googles and it didnt work gave me errors. 

```  flags.add_argument('--sum', dest='accumulate', action='store_const',
                   const=sum, default=max,
                   help='sum the integers (default: find the max)') ```"
"What could have been the issue there is that `flags` refers to the parsed arguments rather than the parser itself since the google code you posted has the `parse_args` function being called directly on the `ArgumentParser` instance, whereas you need to call `add_argument` on the parser itself.  So you could save the `ArgumentParser` to its own parser variable, then add your custom arguments, and then call the `parse_args` yourself rather than in the spot its called in google's example"
<@Antionette> Thanks. Thats what I was trying to do but couldn't get it to work.  I decided to move on because calling it from bash isn't a requirement for today and I'm in a crunch.  When I get back to it I'll post my specific failing syntax.
Does anyone know of any good references for installing a module to pip where I do not want to put it on pypi? I have some local config stuff built into a module and want to build it into pip to make pushing to production easier and more modular
where will the module be stored?
In my svn repo where I do my development locally in a modules folder. I wanted to pull that out and be able to have a separate repo for just private modules I might need across several projects
`pip install svn+&lt;repo&gt;#egg=&lt;repo_name&gt;` usually
"oh cool, that's way easier than I thought it would be; is that process of installing to pip locally called something that I can research into?; I don't have a decent understanding of how that all works and I'd rather learn more about it than just start doing something I don't fully understand"
"you're not ever ""installing to pip""; pip is a tool for putting external python packages into a place in your PYTHONPATH; i'm not sure of a good resource other than just looking up something like `pip install git`"
"That works, thanks for the help"
<@Lory> <https://pip.pypa.io/en/stable/reference/pip_install/#git>
"Oh awesome, that's exactly what I needed"
"I get all FOSS when I think of pip, it came to be to solve past issues, is in active development, isn't always the best, mostly does the trick, and one willll eventually run into an issue with it but one doesn't know until the tool doesn't do what is expected :slightly_smiling_face:"
"be careful with the `-e` flag, especially if you use docker"
"To be clear, it is currently *the* install tool for python"
"i don't see it going away any time soon, especially once `Pipfile.lock` gets locked down"
Yea I use it all the time ofr normal stuff within my virtualenv's I just have never packaged anything or gone farther than `pip install xyz`; Trying to take my development ability a little farther and actually understand pythons packaging system
"you'll ""should"" be fine, some of the other flags like -user can also get you in trouble too"
"`--user` is _usually_ pretty safe, at least on your local machine, assuming you're not using a virtualenv"
is there ever a situation where you shouldn't use a virtualenv? Everything I've seen online says you should always use one; with the exception of random test scripts at least
it makes no sense on single-purpose servers/containers
Ah that does make sense
"it's kinda useless for anything you actually want system-wide (like, say, `flake8`)"
it’s not invoking as it needs to be `if __name__ == '__main__'`; it will error out then as `find_uncommon` isn’t defined
Does anyone have experience decrypting files using `python-gnupg` on py3?
"When I create a `RawPacket(buf[0:8], buf[208:280])` I get ```TypeError: object.__init__() takes no parameters```; which, as far as I can tell, is usually because people spell __init__ wrong, but I think I did it right here, anyone have a suggestion?"
"weird, thats the normal super invocation; python2 or 3?"
"2.7; oh wow, I forgot to put the module name in front. I gotta stop debugging at the end of the day; not sure how I ended up with that error tho"
yeah that’s a bit of a mystery 
What's up guys. I have a quick question. So I'm processing a large pcap file that so far has gone through 22 million packets. Now at some point the amount of data I need to collect is going to get way too large. I eventually have to store all the data I gather from this on a frontend webpage. Would sqlite be something to use?
<@Myong> generally depends on how you're going to be using the data itself
"So the idea is basically upload the data to a frontend (I'll probably use flask) and geolocate them using a database we've been given.; the frontend is supposed to feature an interactive map; Geolocating victims of DDoS attacks that is.; But for now, the file is so large I'm not sure how long it should actually take to go through the whole 8GB file...; So it takes about 1 minute 54 seconds to process 15 minutes worth of packets"
off the top of my head i'd probably go for PostGresQL; + postgis
I'm just trying to figure out what the tables should look like
i usually try and put together a few user stories to try and map out my data tables
<@Marcie> About to put together an example on paper and draw out what might be the best option.
My only concern is how detailed these things have to be. If all they need to be are IPs that map to locations and like 3 other columns of integers then it will be easy cause I can make a single table; So the basic structure that I currently have in python is this.
<@Marcie> Just drew this up. I have no clue if this is valid or a good diagram. But it gathers all the information I need
"Actually, realizing the circular reference is gonna be horrible. Scratch that table; Alternatively I could simply remove the Attack Time Frame since I can query the DDoS Victims table for timeframes between a specific time; Guess this problem is a bit more difficult than I thought as far as what I know is concerned."
"Hello!, i'm wonder if you know a good source to learn best practices with django... i dont know what to do, i mean, james benneth says its ok to have a lot of apps. but others say that we need to build our porject with few apps that do a bucnh of things... what do you think?"
I learned Django from Lynda after being taught Python and Flask.
Looked up Lynda... website is pretty vague about their pricing.... is it expensive for an individual to take a course there ?
.
Checkout - <http://www.marinamele.com/django>
"<@Jule> um, its free if you use your library card number on <http://lynda.com|lynda.com>"
"Ow.. I'm outside the US...  haha  :slightly_smiling_face:  Think... no dice for me  :stuck_out_tongue:
But... in your experience the courses were high quality ?; <@Oretha>: will check out that marinamele !  Thanks !"
<http://Lynda.com|Lynda.com> is great. The videos are explained to detail and they show the source code. I was looking to use sessions and login on Django the way I used in Flask and I found a great video tutorial. I modeled my capstone project after it (somewhat...)
"Well. .it's powered by LinkedIn... so it should be good. If the price is not too high I might still apply for the course.... 
Thanks for your advise !"
Docker noob question - I have my config setup (with a .env file) such that when I run `docker-compose config` I clearly see the host:container port mapping I want for ports `5431:5432/tcp` but when I start the service it invariably binds the 5432 port - what's the deal?
"style question. this:
```
if ticket_status is ""open"":
    do_stuff()
else: # Ticket is resolved or deleted
    do_other_stuff()
```
vs. this:
```
if ticket_status is ""open"":
    do_stuff()
else:
    # Ticket is resolved or deleted
    do_other_stuff()
```
- which is better?
- is there a pep8 or other style guide link identifying which is better?"
hmmmm really?  that seems kind of odd for it to live “outside” of the else block it describes; i guess the extra line break does group it along with it though
"I prefer <@Sade> second example, I'd never space between conditional blocks and don't think I ever have (and that is pep8 fine)"
anyone familiar with how I can connect to a named VPN (openvpn) network that shows in my NetworkManager VPN list from the cli?
on Ubuntu
"if it’s down to personal preference though i’m probably going to go with what my boss asked for, which is the first example I posted; if there’s specific language in pep8 about it he’d be more than happy to bow to that, but i don’t see it"
"The big thing from PEP-8 what I gave as an example enforces the idea from the PEP to `use inline comments sparingly`; Also, IMO, doing it to extend the length of a row of logic flow reduces readability"
yeah I totally agree with the latter.  And I agree about “sparingly” but that has a degree of subjectivity :slightly_smiling_face:
I think you are going to need to ~copy and edit~ extract the existing vpn-related part of your network in `/etc/NetworkManager/system-connections/your_name` to a file and then use `openvpn --config your_file`
"I also dislike the first example <@Sade>, in this particular case"
But if you are being told what to do why even ask?
Submit to their style :pray:
<@Ronny> yea i found some example on that. now trying to get the auth working
"That being said I don't think it is egregiously bad, even if it isn't the best"
"well, my boss prefers the first one, but he’s not strongarming me about it.  I just like to go with the flow unless I can find a pep8 or other authoritative style guide backing me up, otherwise I assume it’s a matter of taste"
"In this situation it is taste, PEP8 has a preference, not a rule.; But you can spin that how you want :wink:"
"i much prefer to stick to pep8, but even I dont stick to all the rules. line lenght for example.; its nice to use it as a default, the tweak the things you need. that way you still have a set guideline"
"I'm running into issues with Pandas when combining `.cut()` and `.count_value()` due to bins not actually being present as values in the data. 
The snippet below shows a workable example. Basically what I'm trying to get is a simple bar plot:
```
  |
  | |         |
|-----|-----|-----|
  A I   A I   A I
  0-10 10-20 20-30
```
The OS distributions are shown within percentage bins, and bins should be shown even if there's no data for them.
In the snippet I've used `pd.cut()` on the percentage data to get a nice categorical column. I group this data using `groupby` and then I want to get the counts for each OS using `value_counts()`. This is where the code crashes, seemingly because (in the sample data) only 4 out of 21 bins are actually present.
The results based on the rounded up data do show that in theory it does what I need it to.
Any way I can easily get around that crash?"
"quick question,  can someone explain the th [‘name’] at the end of this syntax works?  It works perfectly but I want to get the address data too and didnt wan to make a second api call because its slow.
```  device_name = json.loads(session.get('<https://dashboard.meraki.com/api/v0/networks/>' + device['networkId'] + '/devices/' + device['serial'], headers=headers).text)['name'] ```"
Do you understand the rest of it?; That's a nice example of where f-strings make things easier to read.
"Side note: You want to use `==` with strings, not `is`, or you risk some very unexpected behaviour.; Explanation: `is` compares object identity, not equality, so it only works ""by accident"" in common paths when strings resolve to the same actual string object due to interning, and will break if you get strings through different paths.; ```
&gt;&gt;&gt; 'abc' == 'abc'.lower()
True
&gt;&gt;&gt; 'abc' is 'abc'.lower()
False
```"
"<@Meghan> Yes up to that point I do. I’ll look up f-strings; So say i wanted to do this in one line and one api call…
```  
device_name = json.loads(session.get('<https://dashboard.meraki.com/api/v0/networks/>' + device['networkId'] + '/devices/' + device['serial'], headers=headers).text)['name']
device_address = json.loads(session.get('<https://dashboard.meraki.com/api/v0/networks/>' + device['networkId'] + '/devices/' + device['serial'], headers=headers).text)['address']
 ```; I can look it up. Im just not sure what this feature is called when the [‘name’] is added to the end of the line"
"`json.loads` decodes json, so with your example you could do
```
device_info = json.loads(session.get('<https://dashboard.meraki.com/api/v0/networks/>' + device['networkId'] + '/devices/' + device['serial'], headers=headers).text)
name = device_info['name']
address = device_info['address']
```"
"Yes, exactly as <@Jenise> said."
"Thanks it makes sense now.  Sorry I am new to python and didnt realize that that this could be done in one step.

Previously I would have done exactly as <@Jenise> wrote, and now I feel silly :slightly_smiling_face:"
A instance has no __call__ method
What is your code for when you instantiate the object <@Katelyn>
"b=B(“b”) , a=A(“a”,b)"
<@Douglas> could you provide full traceback? maybe it's something related with flask
<@Mirian>
Python's datetime module has no concept of the current timezone when you instantiate a new datetime object with `datetime.now()` right?
"```
&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; now = datetime.now()
&gt;&gt;&gt; now.astimezone()
datetime.datetime(2017, 11, 17, 0, 18, 0, 618717, tzinfo=datetime.timezone(datetime.timedelta(0, 10800), 'MSK'))
```; you can make it happen :slightly_smiling_face:"
and what do you return from that Flask controller?
Ah no I just realized it's pulling off the system time; which my server was just set to the UTC timezone when it's located in New York; Causing me a lot of confusion
"This may be a stupid question, but how do I keep homebrew on OS X from constantly installing python as a dependency? I already have python installed from anaconda.; And - more generally - how do I clean up my Python install on Mac OS? I have no idea exactly how many versions of python I have installed on here, where they’re located, and how to remove all of them so I’m only left with the base Mac version, so I can start from a clean slate?"
"I'm not sure about your first question, but as far as your second question, through the terminal you can type `which python` and `whereis python` while also using tab to auto complete differing versions to find out where they are installed globally. If you're using virtualenv's, those commands won't be able to pick up the venv's install paths unless you currently have them activated; that's where I would start at least"
"I’m using raw bash - that should get around any virtualenv issues, yeah?; by “raw” I mean just out-of-box bash."
"virtualenv is independent of your shell, if you haven't personally installed any then they probably don't exist on your machine; in which case don't worry about them"
"Ah. I don’t recall installing any - would some python tools (PyCharm, Anaconda, etc) install a virtualenv?; I’ve screwed around with Python on and off over time, and my system has accumulated a LOT of weird junk because of that."
"honestly not sure, I would presume they probably do but you wouldn't want to mess with those unless you're also uninstalling the software that uses them; in which case you can probably just use OSX's uninstall stuff to delete the software and they'll clean up after themselves"
I literally only have PyCharm installed - that’s the only Python IDE I have installed right now. And if I recall correctly I can set it to use whatever Python version I have installed.
I have not used OSX in years so I'm not sure of the exact procedure for uninstalling software packages
"The problem is, I’ve done things like `brew install anaconda`, and OS X has no method to clean that up.; With OS X, it’s drag package to trash, OS cleans everything else up."
"I would start by deleting pycharm then, and then running those commands I sent earlier"
man brew is your friend
someone else would probably know better though; if you want to get rid of pycharm that is
"<#C6E28H1HV|os_mac> may be of assistance, can't say how active it is"
packages installed with brew can be uninstalled with brew and deps pruned etc
"I do want to use PyCharm - however, I don’t think it installs anything Python-related, just uses whatever’s on the system.; I ran brew prune earlier, looks like I only have a pretty minimal set of brew packages installed right now.; So apparently anaconda messes with .profile, the .bashrc equivalent on Mac; holy crap, I still have npm garbage on here."
"`.profile` is a UNIX thing, it's not Mac-specific, and it's not exactly equivalent to `.bashrc` in terms of history/what reads it; But unless you care, I wouldn't bother reading more than just knowing that for now"
you have no idea how much I care :smile:
lol
"I legit am interested in getting elbows-deep in the Unix-y bits of MacOS; I’m just not sure what bits are common to all Unixes and what bits are MacOS, which results in some confusion"
"And I don't know anything about OSX, so when I see something I do know, it's obviously UNIX/Linux"
"there ya go!; So if there’s something that a Unix/Linux person doesn’t recognize, e.g. a .DS_Store, that’s Mac stuff."
All I know about DS_Store is I sometimes get it in downloads and it makes me angry; ¯\_(ツ)_/¯
"it’s a Mac thing, I believe it contains tagging information for the Mac file system - equivalent to the Windows desktop.ini that pollutes everything."
Hi
Anyone who can help me with Django?
"probably. you should go ahead and ask your question instead of asking to ask :smile:; also, <#C0LMFRMB5|django> might be a better place to start"
"Oh, I didn’t realise there was a Django channel"
thanks
"yeah, they're not all listed at first. slack's a little strange that way"
"wow, after a ton of deleting config dot-files and cleaning my .profile, I have finally cleaned all the filthy nasty old python stuff from my system.; Now I *think* I only have the OEM 2.7 Python, and I’m gonna let brew install the latest Python; oh jeez, brew doctor is throwing a LOT of warnings; uh who do I ask about messing with /Library/Frameworks; oh nvm, it’s actually not a big deal, I can delete those"
return a
"WTF. Why does bash think pip is in a non-existent directory; I have /usr/local/bin/pip present, it works perfectly fine; for whatever reason, whenever I try to run pip, it defaults to the anaconda path; oh nvm just had to restart bash :&gt;"
Or execute `source .bash_profile` or what file you modified to change the path 
"<@Bradly>, I would get pyenv and install a new python using that"
"Using `sqlalchemy` I'm trying to add objects to my database. I have a session object which I use to add and commit the objects to the database. The question I have is, how exactly should I deal with creating  and opening the session? Should I persist the connection through the whole time the program runs as well as the session object? Or should I close the session/connection when it's not needed?"
"<@Myong> you should generally keep the connection open but as for sessions, it can vary. depends on if you want to use session vs. transaction scope, or sometimes its kept around the length of a transaction (say, a request on an API); SQLAlchemy has a good writeup of making the decision for scoping sessions here: <http://docs.sqlalchemy.org/en/latest/orm/session_basics.html#session-faq-whentocreate>"
"I actually just finished reading that same article. Its pretty much what I thought but I wasn't too sure.; I am wondering though, should I instantiate the session in my `__init__.py` then use it from there or on creating of my main class object (which essentially manages the whole program) set something like `self.session = Session()`; <@Patty> The transactions seem like they'll probably be occurring every 1 second. Not sure how long it takes to do all the database inserts to add the objects as of yet. I'm just trying to figure out the best approach."
"when using sqlalchemy core, and creating a table definition with `foo = Table(...)` is there a way to do any table inheritance? such as if some tables have the same structure. or if i want to make a base set of columns for all other tables?"
"Hi, has anyone seen this error `SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC` while downloading files with `requests` ? 

My work laptop fails randomly with it but not on any of my colleagues'. Now I am seeing it in another computer so I guess it's not a problem of _my_ setup... I've tried to no avail to find where this comes from for some months...

The related, minimized code is:
```
def download(url, outfile, chunk_size=1024):
    """"""Download the file at the given url, saving it in outfile. """"""
    r = requests.get(url, stream=True)
    with open(outfile, 'wb') as fh:
        for chunk in r.iter_content(chunk_size):
            fh.write(chunk)
```
and the infamous error I get is:
```
  File ""/home/dojeda/.virtualenvs/proj/lib/python3.5/site-packages/tqdm-4.11.2-py3.5.egg/tqdm/_tqdm.py"", line 833, in __iter__
    for obj in iterable:
  File ""/home/dojeda/.virtualenvs/proj/lib/python3.5/site-packages/requests-2.13.0-py3.5.egg/requests/models.py"", line 719, in generate
    for chunk in self.raw.stream(chunk_size, decode_content=True):
  File ""/home/dojeda/.virtualenvs/proj/lib/python3.5/site-packages/requests-2.13.0-py3.5.egg/requests/packages/urllib3/response.py"", line 432, in stream
    data = self.read(amt=amt, decode_content=decode_content)
  File ""/home/dojeda/.virtualenvs/proj/lib/python3.5/site-packages/requests-2.13.0-py3.5.egg/requests/packages/urllib3/response.py"", line 380, in read
    data = self._fp.read(amt)
  File ""/usr/lib/python3.5/http/client.py"", line 448, in read
    n = self.readinto(b)
  File ""/usr/lib/python3.5/http/client.py"", line 488, in readinto
    n = self.fp.readinto(b)
  File ""/usr/lib/python3.5/socket.py"", line 575, in readinto
    return self._sock.recv_into(b)
  File ""/usr/lib/python3.5/ssl.py"", line 929, in recv_into
    return self.read(nbytes, buffer)
  File ""/usr/lib/python3.5/ssl.py"", line 791, in read
    return self._sslobj.read(len, buffer)
  File ""/usr/lib/python3.5/ssl.py"", line 575, in read
    v = self._sslobj.read(len, buffer)
ssl.SSLError: [SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:1977)
```"
anything obviously unique to your setup like OS or software versions?
"<@Ronny> the error isn't in `requests`, but (much likely) in your system-wide openssl"
"yeah my guess might be openssl version, but it’s just a guess; also - when you say “randomly” do you mean randomly within the same domain, or for random particular domains (so in that sense, not really randomly)"
"Randomly within the main domain...I say randomly because I download about 10-20 files with this code and it fails in a non-consistent manner; sometimes with the 5th or so, sometimes at the first, sometimes not at all; I also tend to favor your hypotheses regarding the specific openssl configuration (btw, it's just a regular ubuntu).
At my personal laptop, I tinker configurations here and there and I imagine that I had changed something that I shouldn't have from the openssl or ca-certificates packages
However, at this new machine that is now failing as well, I touch nothing, it's a regular Ubuntu 16.04 machine"
"what do your coworkers have?; also, other things that can affect ssl type things - any weird issues with your clock?"
mmm haven't thought about clock issues before
"Hi, I have to make a file downloadable in a wagtail project. The PDF file is uploaded in the admin and then it should be downloadable. If you have a best practice I would appreciate it!"
<@Ronny> you can tell requests to ignore ssl verification
<http://docs.python-requests.org/en/master/user/advanced/#ssl-cert-verification>; use `verify = False` with `requests.get(...)`; what you probably want to use is the geojson serializer; <https://docs.djangoproject.com/en/1.11/ref/contrib/gis/serializers/>; or check this out; <https://github.com/makinacorpus/django-geojson>
"I am working on a simple program to query a MSSQL DB based on some user input, then display the results in a nice readable format... I'd like to try and front end it with something like flask or django."
"as a very novice python programmer, am trying to run before learning to walk? Or should this be something I can figure out? I understand those questions are very subjective and difficult to answer without a better knowledge of my skillset... so more just personal feeling and experience is what im after...; also, in your experience, is Flask or Django the way to go for a simple app that may get shared only internally with some coworkers?"
<@Meg> Thanks for the suggestion. I still get the same error when ignoring ssl verification
"finally, anyone know of a good ""template"" flask or django app I could use to deconstruct and figure out how its done and maybe modify to suit my needs?; .; I'll probably spend some time going through this `<https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world>` and using that as a jump off point for my app.; unless there is strong consensus that im better off going with django..."
"<@Virgen> i think it really depends what you're looking for. django is probably going to be easier to start out with, unless you've already got pretty strong python skills and web development experience with (insert large established framework here). i'd say there's more extensions, more tutorials, a livelier community around django. it's also got some established conventions for how things are done (more or less) and that can help a lot if you've got a team. all that said, flask is great - it lets you build exactly what you want without all the extra batteries you might not need. (but as your project gets bigger, i think you'll discover that actually hey a lot of those things are going to be needed, and you'll end up needing to research and integrate a solution in flask). but, you spend a month building up a flask app vs a django app, and while you'd probably get further on the django app, you're also going to have a much deeper understanding of how flask works compared to the ""magic"" of django"
"<@Jaquelyn> Thank you for the response. I think I might head the django direction. In short, I am looking to get as much functionality as quick as possible. I'm a Sys/Network/Storage ""Engineer"", wearing many hats means minimal time for any of them. So, with this, I want it to work as fast as possible. If there is some ""magic"" going on in the background, I am fine with that. I dont feel that I need the deep understanding, I just need to know enough to make it work plus a little bit more..."
"<@Virgen> I think it’s probably best to ask what you are trying to do, that’ll be the larger determinator of which will help you do the most in the shortest amount of time"
"Hi All! :wave: 
I have what I believe should be an easy task, but am having a rather difficult time understanding. It is regarding dependencies installed via `pip`.
I installed tensorflow a while back (version 1.0.0), but now want to upgrade to `1.1.0`. I have this code snippet (`tf_version.py`) that prints the current version of tensorflow:
```
import tensorflow as tf
print(tf.__version__)
```
When I run `python tf_version.py` in the terminal I get `1.0.0`. However, when I run `pip uninstall tensorflow` I get:
```
Cannot uninstall requirement tensorflow, not installed
```
Where could this dependency be hiding?"
"<@Junita> I am trying to query syslog info stored in a MSSQL DB. I would like to make a webapp that will request a time range and search string from the user, use that info to query the DB, then display any matching results in the same page."
"Hi <@Arica>, which OS are you on?"
macOS 10.13.1
"I only know *bash, but let's try this."
do you need authentication?
What happens when you type `which pip` and `which python` into your shell?
do you need to paginate the search results?
`/usr/local/bin/pip`
"<@Junita> auth, negative. it will be internal only."
paginate... not sure...
`/Users/danilo.herrera/anaconda/bin/python`
"Ok, thought that might be the case ^^"
if it’s just a simple query and display I’d actually say Flask would probably be quicker to get you up and running.
"I'm not an expert, but it looks like you `pip` and `python` are in different distributions, and that's causing the issue"
"it’s the bells and whistles like auth, pagination, database models, etc where Django can really help you by guiding you in what to do"
Because of a conflict in paths
well that's farther than I got!; Thanks <@Fabiola>!
I surprised that it picks up one and not the other
in the end though I honestly don’t think you can go wrong either way
Do you have a file called .bashrc in your home directory?
yeah
does it have a line in it added by anaconda?
"If you have any local resources, like friends or coworkers who have experience in either one, that’d be a good way to prioritize which to choose"
"for pagination, I think I would really only need the main page and limit the number of results."
"something like `export PATH=""/home/ogaday/miniconda3/bin:$PATH""`"
"no it doesn't; hmm, i may have accidentally removed it; if it was supposed to be there"
Interesting ^^ I think it's an option to put it there automatically when installing anaconda
"hmm... I'm torn. I think I might go with django. I dont have any local resources for assistance. My understanding is that django has the more significant web community.; and, if this is successful, I may start looking for other tasks that I can simplify by building a simple webapp, when that time comes, if I need some of those features you talked about in django, I would rather build on existing knowledge than learn django after having figured out flask..."
"Do you want to do a bit of deeper troubleshooting, or do you just want to get on with other stuff right now?"
"it might, although I’m not sure the difference would be significant enough to matter.; yeah that sounds like a good plan; django definitely has a little more of a learning curve than flask, but it’ll shine when you get into intermediate level stuff"
thank you for the info! I do appreciate it!
"Essentially: you want to be installing stuff using `/Users/danilo.herrera/anaconda/bin/pip` instead of `/usr/local/bin/pip`, because the different `pip`s will install the packages to different places. If you try `/Users/danilo.herrera/anaconda/bin/pip uninstall tensorflow` it should work. And in future you want to be using the anaconda pip, not your system pip, because you're using the python interpreter installed by anaconda, which will look for packages installed in the place the anaconda `pip` uses, which if why you could run that file without trouble before"
np
"In the future, rather than always writing `/Users/danilo.../pip` when using `pip` you can modify your `PATH` environment variable so that it points at `anaconda/bin` before `usr/lcoal/bin`; Anther consideration for the future is that when doing projects you can create virtual environments, either using `conda` (<https://conda.io/docs/user-guide/getting-started.html>) or virtual envs (<https://docs.python.org/3/tutorial/venv.html>). That way, each project will have it's own packages and dependencies. So you can use `tensorflow 1.0.0` for one project, and `tensorflow 1.2.0` for another. That way, code you wrote a year ago will still run. It takes a little bit more thought to manage, but it's worth it, in my experience; I prefer `conda`, because it's better for things like `scipy`, `numpy`, etc.

Oh, and I think to fix your `PATH` variable you could put a line like `export PATH=""Users/danilo.herrera/anaconda/bin:$PATH""` in your `.bashrc` but I'm not sure. You can try and delete the line later if it doesn't work!; To see what your `PATH` currently looks like, I think you can write `echo $PATH` in your shell"
happy to be here
:wave:
"Is anyone really familiar with Scapy, specifically to read packet captures? I have some code that does some general packet analysis on already decrypted data, but it calls tshark three different times. I've been told Scapy would be quicker to do this, but I can't find any solid documentation. So, are there good docs? If not, would anybody know how to get the same result with scapy that this would give from tshark:; ```
tshark -r '+ PCAP + ' -2 -R wlan.fc.type_subtype==8 -T fields -E separator=""~"" -e <http://wlan.sa|wlan.sa> -e wlan.ssid -e wlan.ds.current_channel -e wlan.extended_supported_rates -e wlan.tag.number -e wlan.rsn.gcs.type
```"
Guessing I should probably brew uninstall all the pythons I currently have installed too?
"I would make sure you know where they exist before doing that, but yeah. I tend to not want to mess with the system python."
"Oh don’t get me wrong, I don’t want to touch the system python at all. Leaving that one where it’s at.; the system one is located at /usr/bin/python typically, right?"
yeah and or /usr/local/bin
"awesome, I only have the /usr/bin version, and brew uses /usr/local/bin for its symlinks, so I’m set :D"
"I have done only one simple project in Scapy for my university classes, but the docs aren't that good unfortunately"
Anyone ever have issues with cloning external repos in a GitLab pipeline? Specifically issues with the host key verification. I've read <https://docs.gitlab.com/ee/ci/ssh_keys/README.html> but nothing here has worked for me
the one cool think is that you can use interactive session to play around
"Awesome, do you still have that project? I'd like to check it out if you don't mind"
"Sorry, had to step away. Thanks so much for your help, <@Fabiola>! I ended up using `conda` as you suggested and everything is working perfectly! :smile:; (Didn't have luck adding the anaconda path to `.bashrc`)"
"I'm not sure that I can share it as a whole, but basically we had script for sending custom packets and the other script for receiving them. Here's a simplified logic for the listener ```#!/usr/bin/python

from scapy.all import *

# processes packets reveived by sniff() method
def pkt_callback(pkt):
    if pkt.getlayer(IPv6):
        s = pkt.getlayer(IPv6).src
        print ""Packet from "" + str(s) + "" received!""
        if pkt.getlayer(Raw):
            l = str(Raw(pkt.getlayer(Raw)).load)
            # some processing ...
	else:
	    print ""Unknown packet received - ignoring""


sniff(iface=""wlan0"", prn=pkt_callback, store=0)
```; and for the sender part, we were simply creating some dummy packets ```a=Ether()/IPv6(src=s,dst=d)/dataToSend``` and were sending them using ```sendp(a, iface='wlan0')````; that's not much, but hope that it helps you get started somehow"
"you probably want to take a look at the API docs for (what i assume is) apache spark's DataFrame: <https://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.DataFrame.collect>; and <https://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.Row>; results = []
for row in df.collect():
    results.append(row.asDict())
return results; or something like that, depends on what you need exactly; if that's exactly what you need, you might write it using list comprehension: return [row.asDict() for row in df.collect()]"
"Hi all,
When committing to my sqlalchemy database, I want to ignore any objects that have the same primary key.
is using session.merge the correct way of doing so?; Actually, I think what I want is to define my model as ""PRIMARY KEY ON CONFLICT IGNORE""
but I can't seem to find how; Okay it seems it's not possible
Is there a way to manually add a line to a declarative base in alchemy?"
Has anyone worked with the soundcloud python api?
"Hello, in setup.py how to make it install packages if they are not found in the system?"
<http://python-packaging.readthedocs.io/en/latest/dependencies.html>
"<https://github.com/sergeygorky/docker_study> - What am I doing wrong? Why can't I run? (I don't understand docker, selenium and python)"
anyone using pipenv ?
"anyone can help me solve this issue on my mac running virtualenv error: .virtualenv/lib/python3.6/site-packages/psycopg2/_psycopg.cpython-36m-darwin.so, 2): Library not loaded: libssl.1.0.0.dylib"
Guys hope you are all good got a question here. is it possible to code the power rangers zordon effect(to make it you need a picture or a video) to use it as a physical representation of your personal assistant either at home or at your office. in case you still dont understand me here is a link that might help(  <https://www.youtube.com/watch?v=-Je9Tw5FvG8> ) Thankyou.
"Any scrapy developer here? I need help.

How can I form a custom JSON output instead of a row-wise JSON structure? I want data output in nested JSON structure"
Look for some help on a few lists. Here my two lists(i've made this a small example as possible)
"```listOne = [['itemOne', '£0.13'], ['itemTwo', '£0.05']]
listTwo = [['itemTwo', '£0.09'], ['itemOne', '£0.12']]```; My current predicament is I need to match the itemOne and then get the highest price"
would it not make more sense to use `dict` instead of `list` ?
"Yeah probably, I try a dictionary then"
"Does anyone have a solution, using `tqdm` or any other ""loading bar"", to give it a large file &gt;5GB and have it give a progress report based on how much has been read so far in the stream?"
I think you need to do the % yourself; but you can tell it to increment by a little bit for each line you read ?
"Thanks <@Ciera>, using  a dict seems much simpler, I just have a question; My code is ```listOne = {'itemOne': '£0.20', 'itemTwo': '£0.16'}
listTwo = {'itemOne': '£0.00', 'itemTwo': '£0.43'}
listThree = {'itemOne': '£0.00', 'itemTwo': '£0.10'}
listFour = {'itemOne': '£0.21', 'itemTwo': '£0.13'}

# WORKING EXAMPLE
for (a,b), (c,d), (e,f), (g,h) in zip(listOne.items(), listTwo.items(), listThree.items(), listFour.items()):
    if a == c == e == g:
        print(a, max(b, d, f, h))```; So in the above it print's out ```itemOne £0.21
itemTwo £0.43```; It's making sure the key's are the same and then comparing the values, but i need to know how I can print out which dictionary name the value came from; so i can manually see the £.21 came from listFour and then other from listTwo, I'm not sure how i can write this in code"
Are all elements in every list or it happens that one is missing?
"```
for my_item in listOne.keys():
  print(my_item, max(listOne[my_item], listTwo[my_item], ...))
```; If yes you could do something like that"
theres a chance the elements are missing; So itemOne might not be present in listTwo etc
"```
for my_item in set((*listOne.keys(), *listTwo.keys(), ...)):
  print(my_item, max(listOne.get(my_item), listTwo.get(my_item))
```"
So the above you gave is similar to mine and works :smile: but i need to access the name of the dictionary not the items etc
"you could do something like:; ```
for my_item in ...:
  m = max(listOne, listTwo, ..., key=lambda k: k[my_item])
  if m is listOne:
    print('listone', my_item, m[my_item])
  elif m is listTwo:
    print('listtwo', my_item, m[my_item])
```"
That works great thank you
nice. Well the key was to remember the `key` arg of max. It's not something I use frequently
<@Myong> check out the clint.textui module which has a progress bar. <http://nullege.com/codes/search/clint.textui.progress.bar>
I used it recently for downloading files using Requests.
"<@Ciera>, after some testing it looks like it's failing when the keys aren't precisely matched up; So when it's iterating through the dictionaries, looking for say, key itemOne ```listOne = {'itemOne': '£0.20', 'itemTwo': '£0.16'}
listTwo = {'itemTwo': '£0.43', itemOne': '£0.00'}
listThree = {'itemOne': '£0.00', 'itemTwo': '£0.10'}
listFour = {'itemOne': '£0.21', 'itemTwo': '£0.13'}```; If listTwo shows itemTwo in the first field if throws an error"
can you post the whole snippet :slightly_smiling_face:
"```        for my_item in webZiffit.keys():
            m = max(webZiffit, webWeBuyBooks, webMusicMagpie, webMomox,
                    key=lambda k: k[my_item])
            if m is webZiffit:
                print('Ziffit', my_item, m[my_item])
                outputZiffit.append(my_item)

            elif m is webWeBuyBooks:
                print('WeBuyBooks', my_item, m[my_item])
                outputWeBuyBooks.append(my_item)

            elif m is webMusicMagpie:
                print('MusicMagpie', my_item, m[my_item])
                outputMusicMagpie.append(my_item)

            elif m is webMomox:
                print('Momox', my_item, m[my_item])
                outputMomox.append(my_item)```; ```Traceback (most recent call last):
  File ""C:/Users/constuelo/PycharmProjects/projectPython/WebScrapingMedia/selenium_media_pricing/workingDirectory/RunWebDriver.py"", line 229, in &lt;module&gt;
    test = CalculatePrice()
  File ""C:/Users/constuelo/PycharmProjects/projectPython/WebScrapingMedia/selenium_media_pricing/workingDirectory/RunWebDriver.py"", line 187, in __init__
    key=lambda k: k[my_item])
  File ""C:/Users/constuelo/PycharmProjects/projectPython/WebScrapingMedia/selenium_media_pricing/workingDirectory/RunWebDriver.py"", line 187, in &lt;lambda&gt;
    key=lambda k: k[my_item])
KeyError: '667068821925'```; 667068821925 is a barcode where itemOne/itemTwo would be"
"Ah, that's a shame. You could also try making an alias for `pip` in your bashrc? It would be a bit hacky"
I'm using py3.5 if that helps
in `key=lambda k: k[my_item]` we try to access the item in all dictionary but sometimes it's not present; so we should use `key=lambda k: k.get(my_item)`; but then I don't think `max` works with `None` so not sure what you can set as default
"I've just had a google, do you think I should order my dictionaries so each key is in the right place instead of random?; And does 3.6 give ordered dicts by default?"
I don't think this is a problem of ordering; the key is missing in one dict
yeah your right it is missing
"```
import inspect

def retrieve_name(var):
    """"""
    Gets the name of var. Does it from the out most frame inner-wards.
    :param var: variable to get name from.
    :return: string
    """"""
    for fi in reversed(inspect.stack()):
        names = [var_name for var_name, var_val in fi.frame.f_locals.items() if var_val is var]
        if len(names) &gt; 0:
            return names[0]

for key in listOne:
    if key in listTwo and key in listThree and key in listFour:
        var_name = retrieve_name(max(listOne, listTwo, listThree, listFour, key=lambda k: k.get(key)))
        print(var_name, key, locals()[var_name][key])
```
^ if you still want the name of the variable that contained the max value for the key"
"Hello everyone! I’m working on my very first data science project and had some questions regarding the amount of data that I use… I have two large datasets from the US dept of Justice and Kaggle, both with info about student earnings post-graduation from every major university in the US. Unfortunately, the metrics in one data set is not the same metric used as the Kaggle data set (I wanted to use the same time metric’s).. How should I go about this issue? Should I work on converting one data set metric to the same metric that i’m using..? Or should I only use the data that fits the time metric? As this is my first data science project, i’m kind of leaning towards the idea of just not using some of the data :disappointed: *any* help is useful, thank you everyone!"
"<@Myong> I haven't used `tqdm` in a bit, but you should be able to just get the size of the file and manually update the length as you read lines.  I created an initial text file that just contained:
```
Hello World
Hello World
```
then made it big using `for i in {1..25}; do cat LargeFile.txt LargeFile.txt &gt; tempfile.txt &amp;&amp; mv tempfile.txt LargeFile.txt; done`"
"Hey <@Cecille> there's also <#C0JB9ATQV|data_science> where you can ask your questions :slightly_smiling_face:; I would say ""it depends"""
heey <@Fabiola> muchas ill post on there too gracias :slightly_smiling_face:
"hey guys. I have a question for those who have experience with `airflow`:
I have: 1 server with few different python applications and I need to set up jobs in airflow for all of them
questions:
1. what would be the best solution - use `airflow` instance per project(requirements.txt for a project) have 1 separate instance and configuration for jobs from all project in this repo
2. If 1 instance per project - there is a problem, that some of of tasks(from different projects - Task1 from project A, taks 4 from project C) resource consuming so there is an idea to group them and run only after each other - then you can’t do it when you have instance per project
3. if 1 separate instance for all projects - you have dependency with all commands paths for projects(`/var/projectA/run.sh`, `/var/projectB/run-123.sh`) and deploy changes becomes a bit tricky
sorry for these nubes questions, `airflow` smth new for me :slightly_smiling_face:"
Try removing it from git tracking ; Sounds like you added it to the repository before the gitignore was created ; And the path to the file has to start with the location of the gitignore file as the root 
`git rm db.sqlite3 --cached` will remove it from tracking but keeps the file; <@Vita> ^
Sweet! That did it!! Thanks <@Kiersten> <@Meg> :taco:
"In python is there a way to have multiple locks and then your function attempt to acquire one of them?; I have a resource that only accepts 4 connections. In my multithreaded function, I want to say if one of the 4 locks are available grab it, otherwise wait"
do you use threads or async?
threads
"<https://docs.python.org/3/library/threading.html#semaphore-objects>
Will something like this work for you?; &gt; if the internal counter is larger than zero on entry, decrement it by one and return immediately. If it is zero on entry, block, waiting until some other thread has called release() to make it larger than zero.; i.e. you can initialize a semaphore with value = 4, and you will have no more than 4 threads acquiring it at the same time"
"That might work, lemme give it a shot. thanks; Learn something new everyday, that worked, thanks <@Suellen>"
:tada:
Is multiprocessing favored instead of threading?
"sometimes you need threads, sometimes you need processes; processes are easier to contol, i.e. kill"
"Using `SQLAlchemy` I have 3 tables. One of the tables is newly added and should act as a main reference for another table. The problem I'm having is, one of the tables I have has already been created and exists within the database. I essentially want to alter a column within that table to make it a foreign key which references the new table; I suppose I can use ALTER TABLE ... ALTER COLUMN ..."
<@Myong> did it work?
"Hey all, 

I am passively looking for some resources to learn how to make a coding environment open to the web. Similar to how udacity, tutorialspoint, and codewars allow students to type their code into their websites and run it against a test; Welp, I just managed to find this wonderous repo which is exactly what I needed! Thanks for anyone who tried to look it up:
<https://github.com/CodewarsClone/Codewars>"
"I'm wondering how to more easily manage a list of regexes + functions; I would pretty much want people be able to select which of these they want; it's now unusable because it is in a list of a class; but the other extreme, having to import all these, is also bad; i guess i'll have to make groupings that are logical to ""end users"" so they'll just have a few boolean flags; though there should also be a way for them to register their own patterns"
"Anyone know how to use the multiprocessing module with elasticsearch-dsl? I am trying to figure out how to create a ""Fresh connection"" to elasticsearch in a test I am creating that validates concurrency.

<http://elasticsearch-py.readthedocs.io/en/master/index.html#thread-safety>
^^ See notes section about needing a fresh connection."
"<@Jesusa> maybe have a docs/explanation section that explains the difference between each option, and then put a select box below with the names of each to tell the program which one to use"
<@Vita> the program will be a library though :slightly_smiling_face:
"Ahhh, then I would recommend having each one separated so that they have to specify which one they want to import"
Unless this is deciding what regex a service should use...then I am at a loss of what to do
"Hi,  got what I hope is an easy question…   I am wondering how to find the index position of a row in JSON with out a loop.  Say I have this JSON…
```
[
    {""Network"": ""net1"", ""Device"": ""111111""},
    {""Network"": ""net2"", ""Device"": ""222222""},
    {""Network"": ""net3"", ""Device"": ""333333""},

]
```
And I want the value for device for net2… Is there a way to quickly look that up without having to iterate through it?"
nope; unless `net2` is always the second in the list
<@Patty> so I have to loop is what you are telling me?
Yep; unless the `Device` you want to get at `net2` is _always_ second in the list
no I cant say that for sure
"Okay, then yep, you’ll have to loop through it"
"I am comparing to find when a previous value in the “list of dictionaries” :slightly_smiling_face: changes, so I will be looping 700 rows and then needing to loop up-to 700 times for each comparison.  Is there a better way I can store that data that would allow me to look up the values more efficiently?"
"Are the network names unique? If so you can store it as a dictionary keyed to the network name with the value as the device name; And I don't think this changes anything because when you're working with it then its probably a list of dictionaries but as is it looks like valid json besides the trailing comma; Hmmm I'm pretty sure the top level can be either an object or an array, possibly any valid json value as well"
"yeah nevermind i was loking at something different, i shouldnt be doing like 15 things at once; anyway, my brain being elsewhere aside, to echo <@Antionette> if the network names are unique put it all in a dictionary, lookup is much more performant; (or if the devices are unique)"
"here's for a fun challenge; make a ""datetime.datetime"" object that when evaluated in any way always returns a current ""now"" value; `type(now) == datetime.datetime`; `now.second == datetime.now().second`; it was trickier than i thought; I'll post my version here (attempting to hide spoilers)"
"<@Patty> <@Antionette> Thanks, I’ll try that!; A new question.  I just upgraded from 2.6 to 3.6 and some code I was using before doesn’t work ay more and I am not clear on how to fix it.  I am using some sample google api code to send an email and it seems the base64  module doesnt play the same.

My function…
```
def create_message(sender, to, subject, message_text):

    message = MIMEText(message_text)
    message['to'] = to
    message['from'] = sender
    message['subject'] = subject
    return {'raw': base64.urlsafe_b64encode(message.as_string())}
```

My error…

```
  File ""/Users/davidjones/Documents/VF_Repos/vf_scripts/MerakiAPI/sendGmail.py"", line 97, in create_message
    return {'raw': base64.urlsafe_b64encode(message.as_string())}
  File ""/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/base64.py"", line 118, in urlsafe_b64encode
    return b64encode(s).translate(_urlsafe_encode_translation)
  File ""/usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/base64.py"", line 58, in b64encode
    encoded = binascii.b2a_base64(s, newline=False)
TypeError: a bytes-like object is required, not 'str'

```

Any suggestions?"
Probably related to: <https://docs.python.org/3.0/whatsnew/3.0.html#text-vs-data-instead-of-unicode-vs-8-bit>
"I just found an article with an example and converted it to this and it seems to work but I dont understand why yet…

```
    b64_bytes = base64.urlsafe_b64encode(message.as_bytes())
    b64_string = b64_bytes.decode()
    body = {'raw': b64_string}
    
    return {'raw': b64_string}
```"
"the short version is that 'str' in py3 is a unicode object, 'str' in py2 is a byte array object; if you have a unicode and you want a bytestring, use `.encode(_dialect_)`, if you have a bytestring and you want a unicode, use `.decode(_dialect_)`; and uh, be mindful of what is what, because it is a difficult bug to fix; it appears you need some additional logic to handle url bytes, probably substituting funky characters into % codes and that sort of thing. The idea is mostly the same though"
"<@Freeman> I can ""personally"" recommend using yagmail: <https://github.com/kootenpv/yagmail>"
I recently used emails (<http://python-emails.readthedocs.io/en/latest/>) and definitely enjoyed it
I was wondering if anyone can help. I want to help people get jobs. I have a website <http://makeconnex.com|makeconnex.com>.  i was wondering if anyone has any python questions they can contribute? And or django and flask questions? 
"anyone available need some hep; help; ``` Exception in Tkinter callback
Traceback (most recent call last):
  File ""C:\Program Files (x86)\Python36-32\lib\tkinter\__init__.py"", line 1699, in __call__
    return self.func(*args)
  File ""m:\aaDonE\Projects\gp_outage\test2.py"", line 37, in update_options
    menu = self.optionmenu_b[""menu""]
AttributeError: 'Application' object has no attribute 'optionmenu_b' getting this error message does not affect my program function just curious as to why it is giving me this when i close my program ```; here is my code; ``` from tkinter import *
from tkinter import ttk
import os.path

class Application(Frame):
    def __init__(self, master):
        super(Application, self).__init__(master)
        self.DB_selection()
        self.update_options()
        self.grid()

    def DB_selection(self):
        <http://self.BD|self.BD> = {""Select Database"" : [""Select Cause Code""], 'Government Programs': [""Select Cause Code"", ""BD-B17"", ""BD-B39"", ""BD-B40"", ""BD-B41"", ""BD-B42""],
                     'Comnetix': [""Select Cause Code"", ""BD-B41""]}

        self.variable_a = StringVar()
        self.variable_b = StringVar()

        self.variable_a.trace('w', self.update_options)

        self.optionmenu_a = ttk.OptionMenu(self, self.variable_a, *self.BD.keys())
        self.optionmenu_b = ttk.OptionMenu(self, self.variable_b, '')
        self.optionmenu_a.grid(column = 0, row = 0)
        self.optionmenu_b.grid(column = 0, row = 1)

        self.variable_a.set('Select Database')

        #self.optionmenu_a.pack()
        #self.optionmenu_b.pack()
        #self.pack()


    def update_options(self, *args):
        countries = <http://self.BD[self.variable_a.get()]|self.BD[self.variable_a.get()]>
        self.variable_b.set(countries[0])

        menu = self.optionmenu_b[""menu""]
        menu.delete(0, 'end')

        for country in countries:
            menu.add_command(label=country, command=lambda nation=country: self.variable_b.set(nation))


#if __name__ == ""__main__"":
root = Tk()
app = Application(root)
root.mainloop() ```"
"Please use code formatting, use three back ticks on both sides: ` ``` `"
want me to re send it?
"You can edit, hover over the message and click the dropdown on the top right of the message"
``` code ```; ok got thanks; fixed
"<@Kenny> extend doesn't return a list, it only returns None; `Docstring: L.extend(iterable) -&gt; None -- extend list by appending elements from the iterable`"
"Ahh. Pretty straightforward haha. I’ve been using pandas recently, and I’ve grown accustom to having methods return a thing every time. e.g. `df.reset_index()` returns the dataframe with the rest index, but it doesn’t change `df`."
"ahh, thats more common with things that interact with immutable objects; for instance, string.replace returns a string because a string is immutable"
"Ahh okay, makes sense. Thanks!"
"Can anyone help me with a simple question for SQL. I have a table with 3 columns, many of the entries in the table share the same two values for two of the columns. I want to query the database to find all the DIFFERENT or DISTINCT column values for the two columns which many of the rows share.; Example incoming...; Say the above is a table I have with 10 rows, I want to query the whole table and find the different sets of (a,b) which are distinct; So in this case it would return something along the lines of `(10, 10), (13,14), (21,51), (1,1), (2,2), (0,0)`; The following statement will not work on my table even when 100% confirmed that both `lat` and `long` columns of a given row contain the values inputted into the query. `SELECT * FROM &lt;table&gt; WHERE lat = &lt;value&gt; AND long = &lt;value&gt;;`; And I have no clue why; Hmmm, it would seem it has to do with it, for some reason, being a real number. Changing it to numeric i suppose..."
"<@Myong> the real question ,why do you have/need duplicated data?"
"Because it's data I had previously and just found it to be duplicated. Essentially just 28k rows of different IPs with two columns that map them to a latitude and longitude. Just so happens that out of those 28k rows there are only 25 or so unique (lat, long) pairs cause many of the IPs are from or within the same subnet; The lat, long pair map are foreign keys to another table which uses the lat, long as pk's"
Anyone online here??; Please help me on this ...; <@Kiersten> <@Jennifer>
<@Jesusa> <@Jenise> thanks for the tips.  I decided to use the Google API to send email because the common smtp ports are blocked on this network.  I only tried after several other failed attempts at traditional methods  It looked like those modules use smtp so I don’t think they will work for me unless I am missing something
"<@Myong> Something like `SELECT lat, lon FROM my_table GROUP BY lat, lon` will probably work, as long as you don't need to select any other columns."
<@Evonne> I ended up making it work. It was an issue with my data types.
"Would you be able to help me out with my code? It runs fine with no error in function but after I close the program I get ``` AttributeError: 'Application' object has no attribute 'optionmenu_b' ``` how do I fix this? the code is bellow

```
from tkinter import *
from tkinter import ttk
import os.path

class Application(Frame):
def __init__(self, master):
super(Application, self).__init__(master)
self.DB_selection()
self.update_options()
self.grid()

def DB_selection(self):
<http://self.BD|self.BD> = {""Select Database"" : [""Select Cause Code""], 'Government Programs': [""Select Cause Code"", ""BD-B17"", ""BD-B39"", ""BD-B40"", ""BD-B41"", ""BD-B42""],
'Comnetix': [""Select Cause Code"", ""BD-B41""]}

self.variable_a = StringVar()
self.variable_b = StringVar()

self.variable_a.trace('w', self.update_options)

self.optionmenu_a = ttk.OptionMenu(self, self.variable_a, *self.BD.keys())
self.optionmenu_b = ttk.OptionMenu(self, self.variable_b, '')
self.optionmenu_a.grid(column = 0, row = 0)
self.optionmenu_b.grid(column = 0, row = 1)

self.variable_a.set('Select Database')

#self.optionmenu_a.pack()
#self.optionmenu_b.pack()
#self.pack()


def update_options(self, *args):
countries = <http://self.BD[self.variable_a.get()]|self.BD[self.variable_a.get()]>
self.variable_b.set(countries[0])

menu = self.optionmenu_b[""menu""]
menu.delete(0, 'end')

for country in countries:
menu.add_command(label=country, command=lambda nation=country: self.variable_b.set(nation))


#if __name__ == ""__main__"":
root = Tk()
app = Application(root)
root.mainloop()


```; which this error does not affect anything i am curious as to why it gives error"
could you paste the full stacktrace :slightly_smiling_face:
"```
#import sys
#if sys.version_info[0] &gt;= 3:
#    import tkinter as tk
#else:
#    import Tkinter as tk
from tkinter import *

class Application(Frame):

    def __init__(self, master):
        Frame.__init__(self, master)
        #self.grid()

        self.dict = {'Asia': ['Japan', 'China', 'Malaysia'],
                     'Europe': ['Germany', 'France', 'Switzerland']}

        self.variable_a = StringVar()
        self.variable_b = StringVar()

        self.variable_a.trace('w', self.update_options)

        self.optionmenu_a = OptionMenu(self, self.variable_a, *self.dict.keys())#.grid(column = 0, row = 0)
        self.optionmenu_b = OptionMenu(self, self.variable_b, '')#.grid(column = 0, row = 1)

        self.variable_a.set('Asia')

        self.optionmenu_a.pack()
        self.optionmenu_b.pack()
        self.pack()


    def update_options(self, *args):
        countries = self.dict[self.variable_a.get()]
        self.variable_b.set(countries[0])

        menu = self.optionmenu_b['menu']
        menu.delete(0, 'end')

        for country in countries:
            menu.add_command(label=country, command=lambda nation=country: self.variable_b.set(nation))


#if __name__ == ""__main__"":
root = Tk()
app = Application(root)
app.mainloop()
```; here is the working code but i changed the structure to match my other code i have also <@Ciera> what do you mean?"
You should have some line beffore ` AttributeError: 'Application' object has no attribute 'optionmenu_b' ` that explain from which line the error come from :slightly_smiling_face:
"```
Exception in Tkinter callback
Traceback (most recent call last):
  File ""C:\Program Files (x86)\Python36-32\lib\tkinter\__init__.py"", line 1699, in __call__
    return self.func(*args)
  File ""m:\aaDonE\Projects\gp_outage\test2.py"", line 37, in update_options
    menu = self.optionmenu_b[""menu""]
AttributeError: 'Application' object has no attribute 'optionmenu_b'

```"
and when posting huge snippet of code you can use the `+` on the left to create snippet. It's more readable that way :slightly_smiling_face:
thanks; give me an example i tried it and it did not work
it looks like something is calling `update_options` when you close
"is it where i have ``` self.variabale_a.trace('w', self.update_options)```; or where i have ``` self.update_options() ```"
"Hey guys sillly question ```def _full_load(self, database, window, stop_datetime):
    """"""Internal full load function without timing and bookkeeping""""""
    files, lastKey = list_valid_files(path=self.path, stop_datetime=stop_datetime)
    if self.type == 'csv':
      load_csv(files, self.schema, self.name, database, self.primaryKey, sep=self.separator, multiLine=self.multiLine)```; For the `load_csv` function, why does it need `=` sometimes for some of the parameters, but for the others(`database`,`self.name`), it doesn’t need `=`"
"You don't need `=` when it's a positional argument, if you want to skip some parameters you can use `=` to do so"
:thumbsup:
"e.g.: `def my_func(arg1, arg2=123, arg3=456)`
You can call `my_func` keeping the `arg2` default value but changing `arg3` like so: `my_func('value_arg1', arg3=789)`; But `arg1` is always required since it doesn't have a default value (the `=something`) in the function's signature"
"It's also possible to have keyword only arguments. 
So if your function is `def fn(arg1, arg2=1, *, arg3=2)` then you can't specify `arg3` positionally.
```
&gt;&gt;&gt; fn(1, 2, 3)
TypeError: fn() takes from 1 to 2 positional arguments but 3 were given
&gt;&gt;&gt; fn(1, 2, arg3=3)
```"
would anyone know how to dynamically update an option menu based on what is selected in another option menu in python?
<@Lilliam>Dynamically in your HTML or before rendering the template?
not using html im in an IDE coding a GUI with option  menus
<@Lilliam> It would depend on what GUI framework(if any) you are using. If you are using PyQT for example it can be done using signals and slots
not using that <@Sharolyn> using tkinter
in tkinter you can use StringVar.trace to update your menu when the associated variable is changed
also is there a different way to do this than using the .add and .delete also cant i use an if statement; instead of for
anyone here use any of the python tutorials on the safari books subscription? is it worth it? I may be able to get it for free through work. that or <http://egghead.io|egghead.io>. but i have to choose one.
"Hey guys , I deployed my Flask App on my VPS Server and registered my domain to it. I'm using Nginx and (u) wsgi. Now that domain works (<http://smartpusher.de|smartpusher.de>) but when I try to send a post request through a Form I get ""502 Bad Gateway"" as error response.  It works though when I run my App on localhost. Do you have any tips for me what could be causing this? Thank you alot in advance"
"a 502 means that nginx can't connect to the stuff it need to proxy to, In this case your flask app"
I can do simple post requests like login / logout though; but when I try to post via a form I get a 502 bad gateway
oh ok. I would check the nginx log and your app log to see if the request end up in your app.
"will try, thank you"
"<@Federico> wow, your app looks better every day"
Would anyone know a simple approach to monitoring and recording keypresses in a python terminal application?
curses?
would you recommend curses for any program using the terminal as the user interface?
"<@Suellen> thank you alot :slightly_smiling_face:; if anyone suffers similar problem like I did : certain requests do not work while others do, then check if the requests that do not work are writing stuff to your system / database /files; it happened that my user had no rights to write to the database, thats why I had the 502 error"
anyone know how to fix attribute errors?
<@Lilliam>try to share some code :slightly_smiling_face:; and what exactly is the error ?
"will do; one moment; ```   File ""m:\aaDonE\Projects\gp_outage\test4.py"", line 398, in openMacro
    save_path = 'M:/aaDonE/Projects/gp_outage/' + str(self.entryTechId.get() + ""/"" + self.BD.get() + ""/"" + self.sys.get() + ""/"" + self.ticket_stat.get())
TypeError: get expected at least 1 arguments, got 0```; ```   File ""m:\aaDonE\Projects\gp_outage\tempCodeRunnerFile.py"", line 115, in update
    menu = self.opt_b[""menu""]
AttributeError: 'Application' object has no attribute 'opt_b'```; the second error happens when I open and close the program the first error is what happens when i press the make macro button"
"you need to pass arguments into your getter argument; are the fields you are calling 'get()' on from your framework?; or from your superclass Frame, which I assume is coming from your framework"
"yes all the other get() fields work it is the self.BD.get() that is giving issues because it is in a dictionary; and in this line 

```
    def update(self, *args):
        cause_codes = <http://self.BD[self.GP.get()]|self.BD[self.GP.get()]>
        self.CXI.set(cause_codes[0])

        menu = self.opt_b[""menu""]
        menu.delete(0, ""end"")

        for cause_code in cause_codes:
            menu.add_command(label = cause_code, command = lambda code = cause_code: self.CXI.set(code))
```"
in this case you are trying to access a value rom your dict; which is why it expects a key-parameter
yes trying to figure out what arg to pass
what are you trying to do wit the dict?
dynamically update my option menu which i do but when i try to make the text and macro file it doesnt work
well then parse the dict into a json string; that way you just read the value
not familiar with json; there is no way just to do it in python
it is still in python; json is a way to represent data structures; like XML
oh ok nice to know thanks I will look into those but I would want to do it in python still learning a lot
and what about the attribute error
"it seems like you're trying to access an attribute which does not exist, in this case opt_b; I assume it's a dictionary?"
no opt_b is the opt menu that is updated; based on selection
I am trying to use hungarian algorithm to solve multiple assignment problem; any good resources or approaches?
"Has anyone gotten the Python 3.6.2 extension working on Azure Web Apps yet? I swear it’s the web.config file, but even their example one won’t start a getting-started-with Flask app"
"Hey guys. 1 q. Can som1 help me with upgrading python and cpanel?
On cPanel they use centOS and they have installed python 2.6. I have script that require python 2.7 or 3.3+ to run. Is it safe to install separate python in /opt folder with ""./configure --prefix=/opt/python27 --enable-shared"" command  without breaking the system? And then to just point scipt to use the newer python."
"Hello guys ,  i have a dependency error in some lib  , can anyone to help me about that ?"
If you post some information we can take a shot; <@Erika>
"ok i have a private repo and i when i would like to work with my project i got this error ""File ""/usr/local/lib/python2.7/dist-packages/oauth2client/service_account.py"", line 26, in &lt;module&gt;
    from oauth2client import crypt
  File ""/usr/local/lib/python2.7/dist-packages/oauth2client/crypt.py"", line 23, in &lt;module&gt;
    from oauth2client import _pure_python_crypt
  File ""/usr/local/lib/python2.7/dist-packages/oauth2client/_pure_python_crypt.py"", line 24, in &lt;module&gt;
    from pyasn1_modules.rfc2459 import Certificate
  File ""/usr/local/lib/python2.7/dist-packages/pyasn1_modules/rfc2459.py"", line 20, in &lt;module&gt;
    from pyasn1.type import opentype
ImportError: cannot import name opentype ""; anyone got this error when use google oauth lib ?"
"Hi all,
I got a problem with __init__.py. Python can't see the subfolders which including empty __init__.py file.
I am using Python 3.6 with Anaconda. What is your suggestions?"
"<@Troy> What do you mean by ""Cant see the subfolders""? What are you attempting?; If I have a nested dictionary with a single key at the top level, is there anyway I can wildcard my way past it to the next level, or am I forced to look it up first?"
Should be able to use `d.popitem()`; But that will actually remove that item from the dict! so look out lol
"Thank you <@Scot> 
My Project structure is like
project
   |-__init__.py
   |-core
        |-__init__.py
        |-main.py

if I import project module nothing happens then 
In[2]: project.main()
Out[2]: AttributeError: module 'project' has no attribute 'main'"
`list(d.items())[0][1]` ?
I am trying to use main.py in core subfolder of my project module
`d.values()[0]` would be a little more concise
"`list` that and it works; At this point i'd think the better way is to just run `for key, data in d.items()` and run whatever on `data`; what does the import look like?"
"my import command is just ""import project""; this folder is defined in Pythonpath"
"Yep, that's much better"
"Was hoping for a shortcut but I had a feeling there wouldn't be one, appreciate the input nontheless"
"`main` is a module inside `project.core`; so, `from project.core import main` or `from project.core.main import stuff, thing, something_else`"
thank you all; I must use `project.core` definition to use `main()` otherwise python don't recognize. Correct?
"to import something you need a full path to it, obviously; so yes, if `main.py` is below `project.core`"
"Any scrapy expert here?; I am writing a Spider for which I need a custom JSON format like below:

```
{
  ""state"": ""FL"",
  ""date"": ""2017-11-03T14:52:26.007Z"",
  ""games"": [
    {
      ""name"":""Game1""
    },
    {
      ""name"":""Game2""
    }
  ]
}
```
But since it is running line by line so generates output like:

```
[
{""state"": ""CA"", ""games"": [], ""crawlDate"": ""2014-10-04""},
{""state"": ""CA"", ""games"": [], ""crawlDate"": ""2014-10-04""},
]
```

How do I get desired output?"
you need to make an accumulator function that will iterate over the list items and consolidate everything
<@Pasquale> are you seeking output like the first format and you are getting the second one?
"thats what I gather. problem is, scrapy runs in a loop, so you need to have some accumulator function outside of that loop to maintain overall state"
"then I agree, but... scrapy...  :disappointed:; there's also a <#C5PHT9EGK|webscraping> channel that could use some love, lol"
the second one.; Sorry; the first one; :disappointed:
<@Pasquale> do you know what dd82 was referring to when he said an accumulator?
"Hi, I hope this is the right place to ask! I'm currently trying to figure out a way to generate values from a system of first-order differential equations (namely the Lotka Volterra equations) without specifying a certain timeframe (e.g. it acts like a generator, yielding new values each time it's called). I have a rudimentary generator using a more advanced Euler's Method, but I know there's a class from SciPy (namely Odeint) that also does something akin to this; would anyone be able to help me understand SciPy's Odeint function? Thanks so much!! I'm ideally going to try and graph these points with Matplotlib dynamically, but I've had some trouble with that too, haha."
Is anyone familiar with the Curses library?
"I suspect you would like a coroutine.  Unfortunately when you search for coroutine you'll get all sorts of asyncio.  Here's a simply example of coroutine where the coroutine spits out a result iteratively; ```def fibonacci_co():
    current = 0
    next = 1

    while True:
        current, next = next, next + current
        yield current

for n in fibonacci_co():
    if n &gt; 1000:
        break

    print(n, end=', ')````"
i want to know how to integrate python api in reactive native
"any SQL guru's here? I am trying to insert ~2 millions rows into a Postgres DB and no matter what method I try with SQL Alchemy It's super slow ( &gt; 5minutes ). Even using raw SQL it's slow, so I think I need to consider chunking more rows into the insert statement - is there a limit? Any other tips or advice on how best to do large inserts at once?"
"<@Wonda> I don't have any solution to improve that. but insert 2 millions rows into database at the same time is bad.
Let's think in cache. My solutions for that is cache everything, after then we will using a bot or service to handle cache."
"<@France> Yes, I wasn't going to do it all in one statement! :slightly_smiling_face: I think I'll try to do 500 at a time and see if that works"
<@Wonda> SQLALchemy docs have a page for exactly this use case: <http://docs.sqlalchemy.org/en/latest/faq/performance.html#i-m-inserting-400-000-rows-with-the-orm-and-it-s-really-slow>
TLDR: Use `bulk_insert_mappings()` and commit after every thousand inserts or so
<@Suellen> :taco:
:tada: yay
thanks!
"<@Wonda> dml has impact on redo and undo in the database so it’s normal to be a little slower when you insert big numbers of rows. It is a transaction and if you do like 2 millions the rdbms needs to be able to rollback it when needed. In your case it is recommended to look for bulk inserts, hints, nologging, loads / imports, …"
"hey guys; So i am new to python, I am on linux and i seem to have python (v2.7) and python3 preinstalled; when i open my vscode IDE it tries to install a bunch of things like my linter (which will run the commands against the /usr/bin/python binary and not the v3 one); Am i supposed to change the symlink on my install if i want to use python3?; Or do i have to upgrade the default version? Or what do i do?"
before installing anything you should check out virtualenv; you don't want to install stuff on your system python as it's widely used by other tools
I see.. so it isolates it for your project; basically like NPM / Composer so you have your dependencies for your project only?
yeah exactly; depending on your system you might also want to compile the latest python `3.6.3` so you can learn with the newest; there are multiple tools that can help you with that. I would recommend `pyenv` or `pythonz`
"so wait.. i dont even know what all those things are yet.. i want to run a python script and now i hear about virtualenv, pip, pyenv, pythonz; pythonz is like nvm?"
If you just want to run a python script you can easily run it with your system python. Then if you need to install dependencies you should use a virtualenv that split dependencies per project and you use pip to install the modules you need; What you can also do is install other version of python if you want to develop on them. Theses version should be installed alongside your system python because replacing it could cause some bugs for your system
I see.. but what do i point to in my python scripts? #!/usr/bin/env python ?
If you are on a recent linux your python3 version should be at least `3.5.x`. There is now python `3.6.x` but it doesn't changes a lot of things especially if you are a beginner; I believe `#!/usr/bin/env python` is correct but I usually don't put a shebang so I'm not sure
Well if i want to use v3 for it (any 3.* version should be compatible with any v3 version if python follows semver) So would i target python3?
if your script only run on python3 yes; usually python without version point to python2
I see..; So what is pyvenv? the pythonz docs point to it if python &gt;= 3.3; I want to use the latest version of python.. so definitely &gt;= 3.3
If you build on python3 I personally recommend aiming compatibility for python3.5 and up; but then it can depends on what you are doing
Why does it matter if i use 3.4 or 3.5 or 3.6? Shouldn't they all work with python3
they are all forward compatible but 3.5 and 3.6 brings new features that aren't supported on older version
that sounds like it is not  forward compatible at all if they aren't supported; That they have new features should be obvious (hence the version bump)
well a new feature in 3.5 is not supported in 3.4
Yeah of course; so having in mind that i want to use python &gt;= 3.3; And i already have installed pythonz and my pthon 3.6.2 is ready to go; whats the next step for me here? Do i install virtualenv or venv (Which seems to be the new thing since python 3.3?)
you can create a virtualenv with `/path/to/python -m venv path/to/env`; and then activate it with `. path/to/env/bin/activate`
"""/path/to/env"" is my directory? like a npm project directory?; and the path/to/python is just any python version? Or do i have to use the pythonz binary path)"
paht to env is the path to the env direcory. So usually your/project/.env; and you need to use the python executable of the version you want your env to be in
so in my case pythonz locate 3.6.2
yep
So i did this and it created a pyenv.cfg file and a bunch of folders; So following the docs from <https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments>; i activated the environment with source ./bin/activate; and now executing the script which was targeting python now outputs v3.6.2; so that seems like a good start
now you can `pip install stuff` safely without risking to mess your system python :thumbsup:
And if i change projects i pretty much do the same there but then activate the other project and install stuff there via pip
yes
So why did you point me to virtualenv in the beginning? Did you assume i was using a python version below 3.3? or is there some additional benefit of using it?
"I'm just used to say virtualenv. They are all the same things, it's just the way to create them that changed"
"ahh i see..; i am getting a bunch of errors trying to pip install things; first of all i installed setuptools using sudo pip install setuptools; and it gives me ""Requirement already satisfied: setuptools in /usr/local/lib/python2.7/dist-packages"""
you shouldn't need to `sudo`
which does not really sound like it is inside the virtual env?; that gave me a permission error earlier without sudo
and are you sure your env is activated ?
"it says ""(python_test) name@name-pc ~python_test $; so it sounds like it is correct; but the fact that it points to 2.7 doesn't sound right, does it"
can you do `which pip` ?; and `python --version`
but return the correct thing; python_test/bin/pip and v3.6.2
"anyone here good with matplotlib, specifically the FuncAnimation aspect?"
can you do `pip install requests` and copy the error here if you got one :slightly_smiling_face:
"when i run  pip install pyside Command ""python setup.py egg_info"" failed with error code 1 in /tmp/pip-build-z7ojhvbi/pyside/; It downloaded and installed everything successful; but running pip install pyside still gives me the same error"
that might be a problem with pyside then; I'm not really familliar with it :confused:
"""Both PySide source and binary packages for all supported platforms are available from the Python Package Index (PyPI). Thanks to this, PySide can be downloaded and installed using `pip` installer. """
can you do `pip install -U pip setuptools`; it will update pip and setuptools and then retry
"Requirement already up-to-date: pip in ./lib/python3.6/site-packages; Successfully installed setuptools-38.1.0; Ahh i totally didn't see this output.. i just noticed the red error; but it clearly says ""    Complete output from command python setup.py egg_info:
    only these python versions are supported: [(2, 6), (2, 7), (3, 2), (3, 3), (3, 4)]""; My bad"
that explains that :slightly_smiling_face:; I'm not sure what pyside does but there might be some more uptodate packages out there
they seem to have binaries for pyside too; <http://wiki.qt.io/PySide_Binaries_Linux>; But i was going to try this and just use python 3.4
"Hey folks, trying to make a post request from my browser to a local flask app but keep getting the message ```Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access.``` any ideas?"
That’ll be CORS
works in postman like a dream
"Not entirely sure what the procedure to fix it on Flask is, but it’ll be due to you making a request in your browser from a different location to that of your server address I think?"
Ok I'll do some digging. If anyone has got a solution feel free to share :slightly_smiling_face:
<https://pypi.python.org/pypi/Flask-Cors> is what is generally used by the look of it
<@Temika> Flask-cors worked like a charm. Cheers dude
Glad to hear it worked :thumbsup::skin-tone-2:
hey guys; Is there a way to install all python dependencies?; like npm install
pip
well pip install does not work
<https://docs.python.org/3/installing/index.html>
<@Zelma> in python you'll often see `pip install -r requirements.txt`
whats this requirements.txt file? Where does it come from?; I just want to install all dependencies of my current python file
Have you downloaded and installed python?
yes..
<@Zelma> you need to list them in `requirements.txt`
Why do i have to do that manually?; Is there no tool for that?
"There is, `pipenv`, <http://docs.python-guide.org/en/latest/dev/virtualenvs/#installing-packages-for-your-project>"
i already use; venv
"<@Zelma> have you installed dependencies already into this venv?; if so, you can do `pip freeze &gt; requirements.txt`"
Ah i see..; i have not installed anything yet.. i am getting an error unfortunately
"<@Zelma> next time, before asking please read <https://mikeash.com/getting_answers.html>"
before asking what?
questions
which one?
"learning how to phrase a question will get you far in getting answers; you’re being very fragmented, and its hard for anyone to understand the issue you’re having"
`pip list` is a handy little command
i was going to get to my question regarding why it doesnt work in a bit; once i rule out some other factors; i dont even know where to start.. its a huge output when i am trying to install pyside; Seems like the package itself has some missing files? Does someone here use pyside?
"Never heard of it, sorry 
But seems like that's an issue with the pyside package. Is there anything in the project repository issue tracker about installation problems?"
<@Zelma> you should paste the whole output
Well does anyone else have that problem?; If none else has that problem then something else must be wrong
You need to paste the whole output if you want to receive any help.
"Oh i should mention that this works fine when i test in the browser, the only issue is my test"
"hi, would anyone here be able to assist with something im trying to do with python and JSON?; Im getting this error: : TypeError: ‘NoneType’ object is not subscriptable
Here is my code:” <https://bpaste.net/show/b8a9b763b7aa>
Python beginner here; Sample JSON here: <https://bpaste.net/show/f5646034957c>"
<@Lavona> the JSON you've pasted is not complete. It's not possible to know exact cause of the issue
all the values im after are in the JSON sample.; ill try make a bigger sample
"If so, your code is trying to get a value from the key ""d"" on line 17; There's no key ""d"" in the JSON you provided"
"ahh so if i make that a child value?; or a key name, keyname being the children values i guess?"
I have no idea what are you talking about :slightly_smiling_face:
"not sure if this is a better sample: <https://bpaste.net/show/0629afc935db>; key ‘d’ i guess is because the JSON file starts with d?; if i try another value i get     for entry in find_all_entries(data[‘fileAssetId’]):
KeyError: ‘fileAssetId’"
"Yep, ""d"" is valid then. Can you paste the full traceback (lines above `TypeError` message)?"
"python3 py3jsontest.py
Traceback (most recent call last):
  File “py3jsontest.py”, line 17, in &lt;module&gt;
    for entry in find_all_entries(data[‘fileAssetId’]):
KeyError: ‘fileAssetId’; when id :anguished:
python3 py3jsontest.py
Traceback (most recent call last):
  File “py3jsontest.py”, line 17, in &lt;module&gt;
    for entry in find_all_entries(data[‘d’]):
  File “py3jsontest.py”, line 10, in find_all_entries
    fileAssetId = obj[‘content’][‘fileAssetId’],
TypeError: ‘NoneType’ object is not subscriptable; Is that what you were refuring to?"
"Yeah; As you can see from the traceback, the actual error happened at line 10, `fileAssetId = obj[‘content’][‘fileAssetId’],`"
how do I give the set.difference function a single element?
"<@Lavona> `obj['content']` returns `None`, and `None` is not subscriptable (i.e. you can't do `None['fileAssetId']`)"
<@Collette> how could i do it then?
"<@Lavona> take a look at your json. `data[""d""]` gives you `{""__type"": ..., ""children"": {""__type"": ..., ""children"": {...}}}`; i.e. you need to dive deeper to get the value of the 'content' key"
anyway to display keys using Python?
"```
import pprint
pprint.pprint(obj)
```"
"I orgiginally was trying to extract the values using regex, but I couldnt tell regex to find a value BUT only if folder.png is before or type 1 is after."
"I'd play with the data in `ipython` shell instead, though"
nme obj not defined when i tried your code
Can you see `obj` in _your_ code?; That's what you should pretty-print
This was my original attempt: <https://bpaste.net/show/e483f1225510>; parsing it as a txt file.; nothing comes up
"Because you never call `find_all_entries` function, and you never pprint `json_data`; Have you walked through a tutorial?"
"Okay, pprint.pprint(json_data) displays all the data; under children is all the values; attempting to change it to children as it looks like it shows up under Children; python3 py3jsontest.py
Traceback (most recent call last):
  File “py3jsontest.py”, line 18, in &lt;module&gt;
    for entry in find_all_entries(data[‘d’]):
  File “py3jsontest.py”, line 11, in find_all_entries
    fileAssetId = obj[‘children’][‘fileAssetId’],
TypeError: list indices must be integers or slices, not str"
"`obj['children']` is a list, not a dict; I'm going to ask one more time, have you tried to learn python before writing this program? Especially how lists and dicts work"
"I am following Udemy tutorials etc. I havent tried any tutuorials with JSON yet.; The only other program ive written is a data analysis program, have some idea on dicts and lists but its still sinking in; Whats the best way or would you be able to provide some example of how i could call the values from the JSOn file and apply them to a string like <http://key1.com/key2+?Key3> etc??; I commented all the keys out apaart from ID and all the ID’s printed; so the other keys under children and content are the keys i cannot get (or dont know how to get)"
what's the best way of giving `set.difference()` a single element?
got name working now; <@Collette> how do i call the key as a list?; the value is under [chlidren][content]and sometimes just [content]
That's a mess. If I were you I'd try to fix this first; Flatten the data somehow
"cant alter the data :disappointed:; I only get this: list indices must be integers or slices, not str when i add [children] or [‘content’]"
"hi all, how do i use HTTP requests to download a file that requires authentication?; i have a list of all the URL’s"
"`requests.get(url, auth=(login, password))`"
<@Seema> um.. No.. where?
A function that gathers the inputs instead of returning them each line for example <http://interactivepython.org/runestone/static/thinkcspy/Functions/TheAccumulatorPattern.html>; To fix your Scrapy output
<@Lavona> it depends on what type of authentication is infront of it
"if it's basic auth then <@Suellen>’s suggestion will work, otherwise you'll may have to look into how to do Python Oauth"
no i don't
"Question; I'm helping someone out with a homework problem, and their teacher/textbook has them naming class attributes with double underscores. What is the purpose of this?

for example we have a class Nation:
```
class Nation:
    def __init__(self, name, continent, population):
        self.__name = name
        self.__continent = continent
        self.__population = population
```; What does the double underscore do here? I know it does something because when I create an instance, I can't access the attributes with .__name; I have to access with ._Nation__name; What is the purpose of this?"
"__double_leading_underscore: when naming a class attribute, invokes name mangling (inside class FooBar, __boo becomes _FooBar__boo; see below).

__double_leading_and_trailing_underscore__: ""magic"" objects or attributes that live in user-controlled namespaces. E.g. __init__,  __import__ or __file__. Never invent such names; only use them as documented.; Not sure if this helps; Naming an attribute in your class self._var1 indicates to the user of the class that the attribute should only be accessed by the class's internals (or perhaps those of a subclass) and that they need not directly access it and probably shouldn't modify it. You should use leading underscores in the same places that you would use a private or protected field in Java or C#, but be aware that the language doesn't actually enforce non-access - instead you trust your class's user to not do anything stupid, and leave them the option of accessing (or modifying) your class's private field if they're really, really sure that they know what they're doing and it makes sense.; I wondered the same thing a while ago. Quite a good answer here <https://stackoverflow.com/questions/1301346/what-is-the-meaning-of-a-single-and-a-double-underscore-before-an-object-name>"
"Based on the assignment, and the textbook, it looks to me like the class is heavily influenced by Java/C# principles that aren't really relevant in python; What is the purpose of ""Name Mangling""?; Ah, nevermind. I think I see it here in pep8; To avoid name clashes with subclasses, use two leading underscores to invoke Python's name mangling rules.

Python mangles these names with the class name: if class Foo has an attribute named __a, it cannot be accessed by Foo.__a. (An insistent user could still gain access by calling Foo._Foo__a.) Generally, double leading underscores should be used only to avoid name conflicts with attributes in classes designed to be subclassed.; avoiding name clashes with subclasses"
Still learning myself. I think it's a way of protecting certain class attributes
"Yea, I've heard of using a single _ to note that it should only be used internally; Kind of silly in the context of this assignemnt, imo"
<@Winnie> are you sure you don't want `set.remove()` instead?
I want to make new set 
Anyone have suggestions on an IDE? Comments on setting up Xcode for Python? Been using VIM and iTerm2 but looking for something a bit more robust
PyCharm comminuty edition is nice
Does someone use QT here and or pyside?
VS Code; What's a good caching helper library in python (with redis adaptor support)?
"`i['title'] = response.xpath('//*[@class=""clp-lead__title""]/text()').extract()`"
Is this correct?
Hello everyone. When asking questions please keep in mind <https://stackoverflow.com/help/how-to-ask>. :slightly_smiling_face:
"Hey guys i have a management command (django), that is editing a csv file but i know for a fact i should be getting back 4-5 results to be printed in this file but im only getting the last one. I'm struggling with saving all the rows, its like it over writes the file when a new object is suppose to be written

```
                    with open('unused_data.csv', 'wb') as csvfile:
                        writer = csv.writer(csvfile)
                        writer.writerow([row['Options'], row['EAN13'], row['Description'], row['List Price (\xc2\xa3)'], row['UOM'],
                                     row['Pack Quantity'], row['Discount Group'], row['Availability Days'], row['Weight Kg'], row['Product Status'],
                                     row['Replacement'], row['Catalogue'], row['Division'], row['Product Group'], row['GBK'], row['Commodity Code'], row['Country of Origin Code'],
                                     row['AL:'], row['ECCN:'], row['Product group Class'], row['MOQ_OM'], row['Indicator'], row['Material (Stored Form)'], row['Record Date']])
````"
where do you loop on the rows ?
"I have it inside a for loop, but im getting confused on how this will work :confused:"
"basically you can't append to a file; so each time you open you delete everything inside.; what you could do is open it before looping on the rows and write each row in it; ```
with open(...) as f:
  writer = csv.writer(f)
  for row in rows:
    writer.writerow(...)
```; See <https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files>; there is also the append mode if needed"
"ah okay, sweet ill have a look thank you :slightly_smiling_face:"
"I have a problem similar to this. I want to scrape Udemy coupon links from site using `CrawlSpider`, but don't want to follow links on the `<http://udemy.com|udemy.com>` domain
If somebody worte an answer for this, it'd be great
<https://stackoverflow.com/questions/37857554/scrapy-do-not-crawl-links-on-other-domains-page>; The given answer is not clear; In a rule how to I deny and allow further crawling? For example parse `<http://udemy.com|udemy.com>` links, but not follow links further in it; `follow=True` doesn't seem to work that way; Stopped using crawl spider; and using custom parse; ```
if ""?couponcode"" in url.lower():
    print(""?couponcode found"")
    yield scrapy.Request(url, callback=self.parse_udemy)
```; `?couponcode found` is being printed, but parse_udemy is never called"
hey; Can someone explain to me the pip3 vs pip thing?; pip seems to be at version 9.0.1 for me; and i use the venv which uses python 3.6.2
if you are in a python3 virtualenv `pip` and `pip3` should be the same
Is there a way of running a management command that can dodge errors like 'debug_log_name is not defined'
write your own exception handlers :smile:
"So i'm getting an error when i run my management command. It's upset about missing log files, but they are their. 

I think my staging server is using my Dev settings as it is complaining it cannot find '/logs/django_debug.log"" But that is only set in dev/settings. it should be looking for ''/logs/twm_django_debug.log' 

I'm not to sure what to do here, any suggestions?"
what you probably want to do is use the `--settings` flag and specify the module path to the settings; eg `./manage.py runserver --settings=project.settings.development 0.0.0.0:8080`
ah okay!
<https://docs.djangoproject.com/en/1.11/ref/django-admin/#cmdoption-settings>; that applys to `manage.py` as well
"Its a live server, i don't really know what i'm doing. This guy who made all this is not responding. :confused:"
"Hey, I'm a bit confused on why the variable caught from getch() isn't triggering right here? (on win10, using program inside the command line); ```import msvcrt
print('Enter y to call thing')
char = msvcrt.getch()

if char == 'y':
    print('success')
else:
    print('argh')```

Does the y key not translate directly to the char y?"
"it should; :thinking_face:; Docs say it returns a byte string, i.e. bytes; not a string in a general sense, so comparison to `'y'` fails; try to compare with `b'y'`"
Ah!; Success!
:tada:
That actually did come up in an error but I didn't think to check it (well I did but I thought it would cause an error because I thought b was just a regular char outside of ''). Should have checked in retrospect.; Thank you for the help.
"Guys, need your help.
I am trying to find Python library for 3D graphing/plotting. Matplotlib seems to be 2D, any recommendations?"
uhm; <https://jakevdp.github.io/PythonDataScienceHandbook/04.12-three-dimensional-plotting.html>; you can do 3d plots with matplotlib
"Hi, quick question.  I have a python3 script that iterates through the Meraki API but the connection or API isnt very stable and I get these errors…
```
  File ""/usr/lib/python3.5/http/client.py"", line 266, in _read_status
    raise RemoteDisconnected(""Remote end closed connection without""
http.client.RemoteDisconnected: Remote end closed connection without response
```
Which part of this is the exception for me to use in a try catch? would it be “RemoteDisconnected”?"
<@Roy> <https://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html> more reading; <@Season> correct; import that exception in your script; use that for the except part of try-except
import http.client.RemoteDisconnected?
no; `from http.client import RemoteDisconnected`
ah….  gotcha
"though, I would suggest you migrate to using requests; its pretty much the defacto lib for making http calls with python; <http://docs.python-requests.org/en/master/>"
I thought I was using requests…  newbie
"you may be; but from the error snippet you have above, I can’t tell"
<@Meg> <https://docs.python.org/3/library/http.html>
"Example
```
session = requests.session()
    headers = {'X-Cisco-Meraki-API-Key': API_KEY, 'Content-Type': 'application/json'}
    try:
        name = json.loads(session.get('<https://dashboard.meraki.com/api/v0/organizations/>' + ORG_ID, headers=headers).text)['name']
    except:
        sys.exit('Incorrect API key or org ID, as no valid data returned')

```"
based on the http name
"ok, then with that, you’d want to catch a RequestException"
but the new example seems to be requests
`from requests.exceptions import RequestException`
<@Meg> I don’t know how I missed it. Thank you guys!
"My manager just walked up and asked if I can write scripts for windows machines. I told him I havent in many years but I can learn anything…  My first though was powershell, and my second was, wait, why not python…. I think its just a matter of moving files around on the network but I don’t have project details yet..  So any thoughts on were one tool is better than the other?"
it depends who is going to run the script; python you need to install it so it might be a bit more complex if random users needs to use it
"Python is not installed by default on Windows, that's one thing"
I wouldn’t imagine I’d get push back on installing python but I have no issues with learning powershell either.
"I'd recommend PowerShell if you're on a Windows DC, else whatever floats your boat"
and if you have the time to learn PowerShell might as well do it ¯\_(ツ)_/¯
DC = Domain Controller
yeah active directory is in place here
"I'm going to assert (from past experience) that it's much easier to ask the domain admin to create an account in order to authenticate with AD.  Python can connect to the LDAP directory, query, and authenticate though you're asking python to ""be"" a windows user and depending on how the AD is setup, you/domain admin might get (weird) errors about the ticket system or use of resources or other arcane stuff; and to troubleshoot you'll have to dig through event viewer logs on the server to figure out why you can X but not Y; PowerShell has 20+ years (from mmc console) of getting passed the TGT (more fun Windows trivia).   You'll learn a lot trying it with Python though you may or may not want to have a new respect for Windows.  YMMV  :wink:; If you want to read more about it <https://msdn.microsoft.com/en-us/library/windows/desktop/aa380510(v=vs.85).aspx>; I fully admit I haven't waded into this in 3ish years and might be harder or easier at this point."
lol  Powershell it is…
It's quite mature at this point
you can use python and subprocess to execute powershell scripts
<@Johana> way to square the circle!
"that’s what we did to setup employee on-boarding.; if you want to learn powershell, Learn Powershell in a Month Full of Lunches is a good book."
thanks <@Johana> I’ll check it out
"Hey guys! I'm trying to write tests to mock a object in a method like this:
```
def something():
  a = method1()
  b = a.method2()
```
How can I stub `method1` to return a mock object where this mock object has a `method2` defined that returns a value?"
"When you mock method1, you should able to set it on the mocked object like so, 

```
mockedMethod1.method2.return_value = 'foo'
```"
"I'm currently using a patch decorator, the mock object passed into the test method seems to be different than the one used to replace `method1`. I've tried that and it doesn't work.; Something like this
```
@patch('method1')
def test_something(self, m1):
```"
oh sorry - try `m1.return_value.method2.return_value`
Oh that worked. Thanks so much!
np
does anyone know a free vpn that i can use so that my friends can access my cloud so that i can stop port forwarding it
<@Lilliam> Maybe something like Hamachi: <https://www.vpn.net/>
ngrok is also decent
"Hello, I'm attempting to do this problem for my class. It's asking me to add up each row of a 2d list and then out put the grand total of each row. When I test the code within pyscripter is works, however when I put it in codio, it errors out. TypeError: unsupported operand type(s) for +: 'int' and 'str' -
```
total=0
tTotal=0
for row in range (len(numbers)):
for col in range(len(numbers[0])):
total += numbers[row][col]
tTotal += total
print(total)
print(tTotal) ```"
"Hey <@Devorah>, that error means that Python doesn’t know what it means to add (+) an integer and a string, which means that somewhere in your program, you’re trying to do that. One thing that will help here is to make sure that all your numbers are actually integers or floats first by casting them using `int(some_number)` or `float(some_number)`."
excellent wrapping the list worked
Glad I could help; One thing you might want to look into is the `sum()` builtin which might speed things up as well <https://docs.python.org/3/library/functions.html#sum>
"Any reason why that above would work on my machine , but it's not returning the correct response within codio?; the last two outputs on it are off and not seeing why.; Program Failed for Input: 1,1,-2 -1,-2,-3 1,1,1
Expected Output: 0
-6
3
-3
Your Program Output: 0
-6
-3
-19

Your output was incorrect. Try again."
Could you reformat your code snippet so it has the proper indentation please? It might be a matter of where you’re incrementing `tTotal`
"``` 
total=0
tTotal=0
for row in range (len(numbers)):
    for col in range(len(numbers[0])):
        total += int(numbers[row][col])
        tTotal += total
    print(total)
print(tTotal) ```"
"<@Devorah> I see nine numbers, with three commas, space, three commas, space, three commas, is this supposed to be a matrix?  I can see the sum of -1,-2,-3 being -6 and the sum of 1,1,1 being 3, but I don't see how 1,1,-2 is -3.  And the order..."
and how do you have columns or rows in that group
"<@Seema> I think the 1, 1, -2 result is the 0 after “Output” in their message; Also, <@Devorah> you would want `tTotal += total` to be outdented 1 level so you aren’t double adding which is giving you -19; so; ```
total=0
tTotal=0
for row in range (len(numbers)):
    for col in range(len(numbers[0])):
        total += int(numbers[row][col])
    tTotal += total
    print(total)
print(tTotal)
```"
"Going further, you should get rid of `range(len(` pattern and iterate over the elements directly"
even better yet `print(sum([sum(row) for row in numbers]))`; oh but that doesn’t do the intermediate prints
"yeah its just iteration through rows really; ```for row in numbers:
    subTotal = sum([int(col) for col in row])
    print(subTotal)
    total += subTotal```"
"Just going over some legacy code written by a long gone employee, is there a reason why when using an `OptionParser` you'd define uppercase &amp; lowercase options?; Is there a best practice reason?"
"like, uppercase and lowercase variants of the same option?; i.e. `-s` and `-S`"
"Not quite. Like, 90% of the options are lowercase, and the other 10% are uppercase; But they're all separate; No lower and upper duplicates"
:confused:; Can't think of a reason for this
"I'm tempted to just make them all lowercase, but don't want to if there's a decent reason for them"
me either… only reason I can think of is lowercase options were set at a different time than the uppercase
"The rest of the code is REALLY untidy, so I'm guessing it wasn't a conscious decision to do it this way.; I'm just gonna standardise it :slightly_smiling_face:"
"Guys, I have a question about L-systems, particularly Dragon Curve."
"Guys, I have a question about L-systems, particularly Dragon Curve. 
This is my code, but I don’t get exactly what I wanted. It looks like the dragon curve but is not quite the same. Any suggestions?
The Rules for  a Dragon Curve are as follows:
FX
X -&gt; X+YF+
Y -&gt; -FX-Y

```
import turtle

def system(iterations, initial):
string_1 = initial
string_2 = """"
for i in range(iterations):
string_2 = processString(string_1)
string_1 = string_2

return string_2

def rules(char):
string0 = """"
if char == 'X':
string0 = 'X+YF+'
elif char == 'Y':
string0 = '-FX-Y'
else:
string0 = char

return string0

def processString(oldStr):
newstr = """"
for char in oldStr:
newstr = newstr + rules(char)

return newstr

def drawing(turtleName, set0fRules, distance, angle):
for whatToDo in set0fRules:
if whatToDo == 'F':
turtleName.forward(distance)
elif whatToDo == 'B':
turtleName.backward(distance)
elif whatToDo == '+':
turtleName.right(angle)
elif whatToDo == '-':
turtleName.left(angle)

def func():
string = system(20, ""FX"")
print(string)
Bobby = turtle.Turtle()
wn = turtle.Screen()
Bobby.speed(0)
drawing(Bobby, string, 5, 90)
wn.exitonclick()

func()
```; Thank you in advance!"
"Say I have two variables, `a` and `b`, and I want to assign the value of `a` to `b`. When is it advisable to just use `b = a` vs `b = a.copy()`? Are there certain situations that would call for one method over the other?"
"one is a reference, and the other actually copies the content over to the new variable; ```
In [1]: a = 'some_text'

In [2]: b = 'some_other_text'

In [3]: a = b

In [4]: b
Out[4]: 'some_other_text'

In [5]: a
Out[5]: 'some_other_text'```"
"Hey i made a widget that allows the user to input a lead time, but im getting data stored like this `[u'7-14', u'Days']`

```
    def __init__(self, *args, **kwargs):
        list_fields = ""{0} {1}"".format(forms.fields.CharField(max_length=31),
                                        forms.fields.CharField())
        super(LeadTimeMultiField, self).__init__(list_fields, *args, **kwargs)
```

How can i normalize the data to a normal format? I though the above would work but it did not for some reason :confused:"
"Hey guys! If my project is defined like this:
File a.py:
```
def method_one():
  something
```
File b.py:
```
import a
some_var = a.method_one()
```
How would I stub the method `a.method_one()` in my test for b so that the original method never gets called?"
<@Micheline> Welcome to the wonderful world of Mock <https://docs.python.org/3/library/unittest.mock.html>
"<@Tanya> I know I have to use mock, but I don't know how to use it before a `import`; If I do: `import b`, `a.method_one()` gets called during the import"
clean up `b` so it doesn't run any code automatically
"Sorry, what do you mean by that?"
"hi team; os.walk not able to search files in all the directories python.; I tried this below code and buts it just traverses through some folders and exists.I have around 400 directories where in a search has to made my current sample code import os for root,dirs,files in os.walk('/backup'): for file in files: if file.startswith(""abc"") and file.endswith("".gz""): print(os.path.join(root,file)) Can someone help me in parsing the entire list of directors structure"
"<@Micheline> any code that's at the base level of a file (not inside a function, class, if condition that evaluates to false, etc) will be run any time the file is accessed. `python some_file.py` and `import some_file` are both going to trigger any code that's in there"
I tried this below code and buts it just traverses through some folders and exists.I have around 400 directories where in a search has to made and this is my current sample code
<@Frieda> So then how would I write tests to stub `a.method_one()` then?; Is there some way to stub the method then load the file?
"it's _probably_ possible but if you can change `b` so it doesn't auto-run `a.method_one()`, that's much cleaner; ```
if __name__ == '__main__':
    a.method_one()
```; that will cause `a.method_one()` to only be called if `b` is run directly (`python b.py`)"
It's more efficient to have `a.method_one()` run on import for my case since it could be a operation that takes a short while. Is there an alternative I can do in my tests?
"sorry, not that i know of"
i need some help in finding files through huge list of directories in python; I tried os.walk but it is not traversing all the directories and exists after traversing few of them; can some one help me with this
"<@Sara> how many files are you expecting to find, and how many are actually found?"
Also can you post an example/some code with how you are using it?
"``` Exception in Tkinter callback
Traceback (most recent call last):
  File ""C:\Program Files (x86)\Python36-32\lib\tkinter\__init__.py"", line 1699, in __call__
    return self.func(*args)
  File ""m:\aaDonE\Projects\gp_outage\test2.py"", line 37, in update_options
    menu = self.optionmenu_b[""menu""]
AttributeError: 'Application' object has no attribute 'optionmenu_b'``` i am getting this error message also does anyone know a fix for this"
"import os
for root,dirs,files in os.walk('/backup'):
	for file in files: 
		if file.startswith(""abc"") and file.endswith("".gz""):
			print(os.path.join(root,file)); There are around 100 files that should get listed but it just lists me 8 files and exits"
"<@Sara> its best if you avoid using threads.. because you’re responding in multiple areas where your response is naturally hidden; for example, your code example to <@Antionette> is hidden to me unless I manually open that thread; and its not targeted to me; nor is your response to my question visibile by default to <@Antionette>"
sure <@Meg>.I will take care of this in future.There are around 100 files that should get listed but it just lists me 8 files and exits. <@Antionette> My code is attached as py snippet
:thumbsup: :slightly_smiling_face:
Also <@Meg> there are symlinks as well for my directories .Do u think that can create an issue ?I think yes but not sure though
"yes, that will be an issue"
"Yes, walk does not follow symlinks; by default"
"<https://docs.python.org/2/library/os.html#os.walk>; note the `followlinks` parameter; &gt;By default, walk() will not walk down into symbolic links that resolve to directories. Set `followlinks` to True to visit directories pointed to by symlinks, on systems that support them."
thanks mate <@Meg> let me try that quickly .; yup <@Meg> works like  a charm.Thanks again.
:thumbsup:
"<@Lilliam>I think we just had this issue come up the other day in here. The problem is that you are calling `self.update_options()` before you create `self._optionmenu_b`, so it doesn't actually exist yet even though you are retrieving it in the `update_options` function; The solution is probably one of a.) don't touch it in `update_options`, b.) call `update_options()` after creation of your menus, c.) change your design to not need to do things in that way; to be more specific, line 19 seems to be the most immediate culprit"
<@Sirena> thanks is there any other way to update an option menu based on what is selected in another option menu?
"hard to say without knowing more, but probably you should create some kind of empty or default menu stuff in the __init__ before you call the other functions, as it sits currently you have a circular dependence; so I don't think it's impossible to update a menu based on a menu; but you can't update a menu based on unknowable information for sure; you might be able to just move #19 down to #25 and have it work, there's a lot going on here that I'm not terribly familiar with; I don't do much GUI or DB stuff, sadly"
"flask experts, a noob here needs your help :slightly_smiling_face:"
"Hello; Guys, I need to get all external requests from a website, someone knows I could do that? I thought that I could obtain with requests, but I didn't find nothing about using requests with this purpose."
"<@Tangela> you're probably best looking at something like scrapy, which is pretty well built for crawling websites like that"
"we do something similar for our speed tests but it involves an external tool called browsermob, which lets you export <https://en.wikipedia.org/wiki/.har> files that we parse"
"Hey, Guys currently i am PHP Expert but now think to learn python. SO, python is good for future or not?"
"Team,I am looking for online python courses.Can some one help with that ?"
I've heard good things about <https://automatetheboringstuff.com/>
<@Darline> thanks mate; <@Cleora> thanks mate
"I'm pretty sure this is simple enough, but SO doesn't seem to be helping me...; I have the following XML:
```
&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema""&gt;
	&lt;soap:Body&gt;
		&lt;GetOrderStatusResponse xmlns=""http://www..com/webservices/cXML/""&gt;
			&lt;GetOrderStatusResult&gt;&amp;lt;Response&amp;gt;&amp;lt;Status CustomerContactID=""69673"" CustomerDeliveryID=""OFFIC005-08252"" CustomerAccountID=""OFFIC005"" OrderNo=""109015"" OrderID=""107893"" OOSOrderID=""4504755574"" text=""Accepted"" code=""201"" Status=""Complete"" /&amp;gt;&amp;lt;ResultList Count=""1""&amp;gt;&amp;lt;ConfirmationItem OrderLineID=""121179"" LineNumber=""1""&amp;gt;&amp;lt;Deliveries&amp;gt;&amp;lt;Delivery Status=""Despatched"" Ref=""275516"" Quantity=""1""&amp;gt;&amp;lt;Returns /&amp;gt;&amp;lt;/Delivery&amp;gt;&amp;lt;/Deliveries&amp;gt;&amp;lt;Invoices&amp;gt;&amp;lt;Invoice Ref=""135900"" Net=""4.65"" Tax=""0.93"" Status=""Complete""&amp;gt;&amp;lt;CreditNotes /&amp;gt;&amp;lt;/Invoice&amp;gt;&amp;lt;/Invoices&amp;gt;&amp;lt;ConfirmationStatus type=""Shipped"" /&amp;gt;&amp;lt;/ConfirmationItem&amp;gt;&amp;lt;/ResultList&amp;gt;&amp;lt;/Response&amp;gt;&lt;/GetOrderStatusResult&gt;
		&lt;/GetOrderStatusResponse&gt;
	&lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;
```; How do I return the text in GetOrderStatusResult in the cleanest way?; Should I be using find, iterfind?"
"are you using beautifulsoup to parse that xml, or some other lib?"
I'm using `ElementTree`
"so libxml, ok; have you looked at the example here? <https://docs.python.org/2/library/xml.etree.elementtree.html>; specifically `find`, `findall`; <https://docs.python.org/2/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.find>"
"Yeah, but this is where I'm coming unstuck.; So I'm after the `GetOrderStatusResult` element.; I know that root[0][0][0] is that element in this case, but it might not be in all cases.; doing `root[0][0][0].tag` gives me `'{<http://www.tharstern.com/webservices/cXML/>}GetOrderStatusResult'`"
that’s where find comes into play; or findall
and then find `root.find('{<http://www.tharstern.com/webservices/cXML/>}GetOrderStatusResult')` doesn't return anything; same for findall
`root.findall('GetOrderStatus')`; assuming you’ve already loaded the xml response in `root`
"That didn't work, but I think I've found a solution; Because I what to be able to find the tag wherever it may be in the xml hierarchy, I need to prepend the XPath with `.//` which means start from the current (root) node and then subsequently search all sub-elements."
"uhm, `findall` shoud do that for you, provided you have the correct tag name; &gt;&gt;&gt;findall(match)
Finds all matching subelements, by tag name or path. Returns a list containing all matching elements in document order.; since `GetOrderStatus` is a tag name, you should return a list of element size one"
`root.findall('{<http://www.tharstern.com/webservices/cXML/>}GetOrderStatusResult')` returns `[]`; Go figure o_o
"Trying to calc the sum between two times. having issues with the time(), date() works fine.
```        if self.accepted_date:
            today = datetime.datetime.now()
            accepted = self.accepted_date
            diff_date = today.date() - accepted.date()
            diff_time = today.time() - accepted.time()
            if diff_date.days &gt;= 1:
                diff = str(diff_date.days) + ' day(s)'
            else:
                diff = diff_time
```; I dont understand why this isnt working SO says 
```
&gt;&gt;&gt; import datetime
&gt;&gt;&gt; a = datetime.datetime.now()
&gt;&gt;&gt; # ...wait a while...
&gt;&gt;&gt; b = datetime.datetime.now()
&gt;&gt;&gt; print(b-a)
0:03:43.984000
```
which is what i'm doing :s"
"```
&gt;&gt;&gt; accepted = datetime.datetime(2017, 11, 28, 11, 50, 44)
&gt;&gt;&gt; now = datetime.datetime.now()
&gt;&gt;&gt; diff = now - accepted
&gt;&gt;&gt; diff.days # full days
1
&gt;&gt;&gt; diff.seconds
11743
&gt;&gt;&gt; diff.total_seconds()
98143.461705
&gt;&gt;&gt; str(diff)
'1 day, 3:15:43.461705'
```; What isn't working exactly?"
"Giving me blank output, when i use diff_time, so i'm guessing its that"
"```
&gt;&gt;&gt; now.time() - accepted.time()
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: unsupported operand type(s) for -: 'datetime.time' and 'datetime.time'
```; I wonder why it worked for you, not raising an Exception"
"I'v had that error before,  brb"
"just do a diff of datetimes, not times and days separately"
How can i take the mili seconds off?
"it's a string, you can do whatever with it; ```
&gt;&gt;&gt; str(diff)
'1 day, 3:30:45.160172'
&gt;&gt;&gt; str(diff).split('.', 1)[0]
'1 day, 3:30:45'
```"
"it doesn't want to work, it doesn't matter anyway. cba want food haha thanks though 
```
    def get_accepted_date(self):
        if self.accepted_date:
            today = datetime.datetime.now()
            accepted = self.accepted_date
            diff_date = today - accepted

            if diff_date.days &gt;= 1:
                diff = str(diff_date.days) + ' day(s)'
            else:
                diff = diff_date.total_seconds()
        else:
            diff = 'N/a'
        if self.status.state == 'Invoiced' or self.status.state == ""accounts"":
            diff = 'Complete'

        return diff
```"
"```
data = []
data.append(['a', 'b', *['']*3])

[['a', 'b', '', '', '']]
```

Any better way of adding the 3 empty strings?"
"you can use range; eg, `['a', 'b', 'c', *['' for i in range(n)]]`, where `n` is the number of empty strings required"
"Mye, more readable. I'l use it, thanks"
"Thanks man! Its exactly what I want. Are you using with Selenium, right? The only down side is have to render the page though browser, I would to do in a headless mode, but I don't know with scrapy is possible accomplish this."
"<#C0LMFRMB5|django> How to order by a foreign key in the template
template
```&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;

&lt;ul&gt;
{% for choice in question.choice_set.all %}
    &lt;li&gt;{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;

&lt;a href=""{% url 'polls:detail' question.id %}""&gt;Vote again?&lt;/a&gt;```

views

```class ResultsView(generic.DetailView):
    model = Question
    template_name = 'polls/results.html'```

models

```class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')
    votes = models.IntegerField(default=0)

    def __str__(self):
        return self.question_text

    def was_published_recently(self):
        now = timezone.now()
        return now - datetime.timedelta(days=1) &lt;= self.pub_date &lt;= now

    was_published_recently.admin_order_field = 'pub_date'
    was_published_recently.boolean = True
    was_published_recently.short_description = 'Published recently?'


class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)

    def __str__(self):
      return self.choice_text```; I want to order that template by choice.votes; Currently working on the extended version of the polls app from the doc mentioned here, <https://gist.github.com/inglesp/8866459>, noob!"
"<https://docs.djangoproject.com/en/1.11/ref/models/querysets/#order-by>; specifically 

&gt;&gt;To order by a field in a different model, use the same syntax as when you are querying across model relations. That is, the name of the field, followed by a double underscore (__), followed by the name of the field in the new model, and so on for as many models as you want to join. For example:"
you could also set default ordering on `Choice` model <https://docs.djangoproject.com/en/dev/ref/models/options/#ordering>
Yes man go on
????
<https://www.udemy.com/automate/?couponCode=PY_ALL_THE_THINGS> was free yesterday but now $50.
"Thank you ppl I read and applied both for some reason the double underscore technique is not working may I know why,
**View**
```class ResultsView(generic.DetailView):
    model = Question
    template_name = 'polls/results.html'

    def get_queryset(self):
        """"""Return the choices in the order of votes""""""
        return Question.objects.order_by('-choice__votes')```

**Model**

```class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)

    def __str__(self):
      return self.choice_text```

The above method is not working, but this one is,

**View**

```class ResultsView(generic.DetailView):
    model = Question
    template_name = 'polls/results.html'
    ordering = ['choice']```

**Model**
```class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)

    def __str__(self):
      return self.choice_text

     class Meta:
         ordering = ['-votes']```"
you need to say something to `Question.objects` on what it needs to get for you to order by
"in this case, it would be `all`; change it to `Question.objects.all().order_by('-choice__votes')`"
"Ohh I did that, even tried to put that in the ordering tag itself like `ordering = ['-choice__votes']` didn't work as in the second method, not working!"
<https://stackoverflow.blog/2017/09/06/incredible-growth-python/> I would say so :wink:
"Having trouble with ssh, windows and github; `ssh -vT <mailto:git@github.com|git@github.com>` works for me but `ssh -vT &lt;username&gt;@github.com` gives me this error:; `ssh-add -l`
`4096 SHA256:+V1wakh8ZfD5UGYTOIMqq3SgxO5t2n+EYvp/MkM+CKs /c/Users/&lt;username&gt;/.ssh/rsa/col_rsa (RSA)`; Is it because somehow my value after SHA256:+ is different in the ssh-add -l than in the ssh request?"
"so just to be certain, you didn't actually use `&lt;username&gt;` as your username, right? you used your actual username?"
yes
when you use `ssh -T <mailto:git@github.com|git@github.com>` what reply do you get?; skip the -v for now
"`Hi &lt;username&gt;! You've successfully authenticated, but GitHub does not provide shell access.`"
"then I think it's all working properly. as far as I understand it, github doesn't authenticate you the usual way with individual usernames per account"
"<https://help.github.com/articles/error-permission-denied-publickey/>; ` If you try to connect with your GitHub username, it will fail:`; I read that section maybe 6 times"
"yah, any ssh-ing is done as the 'git' user, regardless of your username"
"i think i asked in the wrong channel (random). I'm wondering if anyone has a helpful editor or plugins for Word or Libreoffice to assist with Jinja2 or python-docx-template templates built in docx format. something that can help you match open/close tags and brackets, code folding"
"Hey there, are you suggesting that these templates are using word.doxc?"
Is there any reason you can't convert them to `.txt`
"correct, the templates are in word format. they are heavily formatted; no big deal for a small template, but the one i'm working on now already has 198 open tags and i guess 199 close tags. that's what i'm trying to track down now :slightly_smiling_face: find the erroneous close tag"
"I'd recommend you convert them to a text file, and use pycharm to do your action.; If there's not a specific reason for storing them in docx, I'd definitely get out of that."
there is a specific reason--it's because the formatting is in the docx file and i need to match it as closely as possible for my application.
Could you give an example?
"they are legal pleadings; it's possible that there's nothing for editing docx (even RTF would be fine), just wanted to see if anyone had suggestions. tricky to Google for"
<https://unix.stackexchange.com/questions/10267/how-to-find-unmatched-brackets-in-a-text-file>; I like the `vim` method; But not sure of a way to automatically fix your brackets.
<@Gerri> docx AFAIK is just an XML. I would try open the file in PyCharm telling PyCharm that docs is XML
<https://stackoverflow.com/questions/40188140/trying-to-use-python-to-parse-a-docx-document-in-xml-format-to-print-words-that>
"that's an interesting idea. it would take another step though, because the text with an error would be valid XML just like it's valid DocX code. just an error in the jinja2 syntax"
"Copy the text from the template into a text file, open it in vim, and then press `{` and it'll find the first unmatched bracket."
"or run an xml validator on it and it'll tell you where in the file the parser barfs, something like `xmllint --debug`; you'll still have to copy it to txt though"
copying to different editor seems like the best way to handle it. then i can search around the text near the error. i'm still looking for the editor that lets me match the tags like this: {% if ... %} with closing tag {% endif %}
"hey guys, im getting a utc timestamp; `datetime.datetime.utcfromtimestamp(post.created_utc).astimezone(tz=None)`; it shows a tzinfo like this: `tzinfo=datetime.timezone(datetime.timedelta(0, 3600), 'CET')`; I'm worried that when the clock changes an hour... is this going to be the same?"
"<@Gerri> I'd find the first unmatched bracket using vim, and use that as a reference point for the other unmatched ones.; the other thing I'd recommend is that if you are having trouble keeping track of your segments within a template it's a good idea to break up the template into multiple parts. You can trick jinja2 into multiple inheritance through `extends`, `include` and `import` which allows you to do things like template segments for header, footer, if say it's a separation aggreement you'll have a section that waives liability of the lawyer on almost every divorce document so you can create a standard template for this. Having a template with hundreds of pages or even 10s could be reduced to 10 templates, each with about 20 sets of brackets that you can easily check for."
"Someone could help me, I trying to get a HAR file from a website, but I need authetication, how could I do? I'm using Broswermob"
Depends on the authentication but the general idea is to use browsermob to do header or cookie injection 
Should work if use authenticate with selenium then after successful login use Browsermob to fetch the har file?
"Good evening everyone, I'm going to start a 6-month project to get my degree in Web-Dev.

I'm looking for an idea to my project.
I Know Python, Javascript ( Back &amp; Front), i want the project to be Full Javascript ( maybe a little bit of Python if possible) with Database ? ( Mongo Db ? or if you have any other suggestions ).

I'm also ready to learn a new dev language.


I am waiting for your suggestions thank you infinitely."
Why do you want to use Mongodb? <@Shelia>
"You can suggest me something else <@Zelma>, it's a project that will allow me to achieve my studies and get my engineering diploma.; it will last between 4-6 months"
You should pick the database that fits your project.. and not make the database try and fit your project
<@Zelma> Of course but first i need some ideas to begin
What kind of project are you working on?
if you don't know just pick postgres :slightly_smiling_face:
"For the moment i'm working on a Mern Project ( React/Redux Mongo Db Express NodeJs); For my Final project i want something with Python maybe machine learning, with React / Redux and maybe Postgres ( will do my best to learn it and level up my python skills )"
is there any way to handle local printer using python modules?
pycups probably?
"<@Jesusa> in my experience, when the time changes an hour, the time zone switches from 'standard' to 'daylight' or vice versa. So 'CDT' &lt;-&gt; 'CST' in my case. The time zones typically reference an offset from GMT, so in order to account for the shift they enumerated separate time zones and time zone codes. It's still possible to have the same time zone code with two different offsets though, I think. You might have to check the lib docs"
<@Suellen> Thanks a lot!
"how do I check if a file has been read to the end?; I want to say ""keep reading from this file until you can't anymore"""
"Hey does anyone know anything about search boxes that allow multiple searched for example. If you go to this website: <https://www.parmley-graham.co.uk/>
and look the the right there is a search box under that there is a chackbox that says Multiple Part Codes. How and what would i search to find a tutorial on how to do this? 

Any information would help. Thanks"
"So perhaps I’m just an idiot and can’t read documentation, but is this typeshed thing used automatically by MyPy or do you have to do something?"
"all you'd need to do is query whether that checkbox was ticked on your post request, and then change your searching corpus accordingly"
So i would be running a loop through the search for every line or part number in that search box? instead of just one.
"no like; when your post request comes through after a search, it'll come with some data; part of that data will be what was searched for; the other part will be whether that box was ticked; you just have to start your search function as"
That makes sense! Do you think if I would write Europe/Amsterdam as timezone that it would automatically choose the right one? 
"if box was ticked, search through x else search through y"
"<@Winnie> i think the read method reads the entire file, but you can keep track of what line your in with readlines or list(file)"
I just want to be like
using len(file) as a reference as to where is the end maybe
if f.eof:
but i'm just a noob so take this with a grain of salt : )
I can see where you're coming from but I'm looking for a less hacky solution :stuck_out_tongue:
"ahhhh okay, thanks for that. Ill have a look into it :slightly_smiling_face:"
"```
In [1]: from functools import partial

In [2]: with open('testfile', 'rb') as f:
   ...:     total = 0
   ...:     reader = partial(f.read, 64) # 64 bytes per read
   ...:     for block in iter(reader, b''): # till nothing left...
   ...:         total += len(block)
   ...:     print(f'Read {total} bytes!')
Read 1337 bytes!
```; &gt; One useful application of the second form of iter() is to read lines of a file until a certain line is reached. The following example reads a file until the readline() method returns an empty string:

&gt; with open('mydata.txt') as fp:
&gt;    for line in iter(fp.readline, ''):
&gt;        process_line(line); So you literally read until you can't anymore (and emptiness is returned); Text files have a nice shortcut, which is just:
`for line in f:`"
hmm; I think I'm doing something the wrong way
the are at least of few ways to do this
"I've used that method on bin files also, just substitute iter(fp.read(numbytes), '')"
it should yes
"`fp.read(numbytes)` won't work; `iter()` expects a function that it will call; `fp.read(n)` returns an integer, so you need to bound `n` to `fp.read` without calling it: `functools.partial(fp.read, n)`; it's the same thing as `lambda: fp.read(64)`"
"ah, I think I probably stuffed it in a lambda then"
:slightly_smiling_face:
"I just looked back through my old project to see how I did it, and I ended up rewriting around that particular line, so it's not there anymore, but I definitely had a loop terminating on reading a file and returning empty string or raising StopIteration or something like that if it didn't work; `for blk in iter(lambda: fbin.read(numbytes), ''):` should do it"
or even `b''` !; Yesterday I did some work with Redis and subscribed to 'notifications' channel. And for about 10 minutes couldn't understand why the hell I didn't receive ANY notifications I was clearly sending!; Turns out Redis is all binary and it's actually `b'notifications'`...
"<@Suellen> this is what I was doing. Perhaps there's a more pythonic way?
```
    with open(filename) as f:
        while True:
            role = {}

            line = f.readline()
            if line:
                mode = ""name""
                role[mode] = line.strip()
            else:
                break

            mode = ""desc""
            buff = """"
            line = f.readline()
            while line not in (""\n"", """"):
                # if line starts with alternate save the normal description
                if line.startswith(""Alternate: ""):
                    role[mode] = buff.strip()
                    mode = ""alt1""
                    buff = """"
                    line = line[11:]
                # if line starts with 2nd alternate save the alternate
                elif line.startswith(""2nd Alternate: ""):
                    role[mode] = buff.strip()
                    mode = ""alt2""
                    buff = """"
                    line = line[15:]
                # finally add the line to the buffer
                buff += line
                line = f.readline()

            # if newline is reached
            role[mode] = buff.strip()
            yield role
```"
"oops, just noticed this thread. I think so yeah, but if you write Europe/Amsterdam, it might return `Europe/Amsterdam` as the timezone rather than CET. I think a lot of those timezone fields are not super standardized so it depends what libs are underneath, and I only really have experience on the Linux side of those libs. No idea what it does in Windows/other. Might be the same, might not. If you're especially concerned about it, you might use datetime to fetch the GMT offset and then convert to time zone codes yourself. If it's not especially critical you can just leave it to the library"
Not sure for what project of your it is <@Jesusa> but my initial approach would be to trust datetime or others date library and investigate if you get bugs
"you may find this reference useful. It looks like CET is used for standard and daylight both, as is Europe/Amsterdam, and they are the same values for GMT offsets; <https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>"
<@Ciera> yea I was thinking that's the easiest way... though for creating an automated trading sytem i prefer not to deliberately wait for known potential bugs :slightly_smiling_face:
"<@Sirena> linux here too, and i also considered a GMT offset, but the problem is that I think that's the actual one that might change. maybe if i could mock changing the system time, I could figure it out?"
"I think that in general it's going to work fine with either CET or Europe/Amsterdam; it sounds like CET is technically deprecated but still supported; and for a trading system, yah you'll definitely want to mock it and check a bunch of boundary cases"
"Give me a minute, I'm checking things out."
"First off you have two statements: ``` if line.startswith(""Alternate: ""):
            role_dictionary[mode] = buff.strip()
            mode = ""alt1""
            buff = """"
            line = line[11:]```"
Do you mean to redine `mode` *after* using it in `role[mode] = buff.strip()`
"<@Winnie>; Without seeing what your data looks like this is a bit more readable; I could also combine these lines ```
for line in file:
    # if line starts with alternate save the normal description
    if line.startswith(""Alternate: ""):
        role_dictionary[alt2_mode] = build_line(line, len(alt2_mode))
    # if line starts with 2nd alternate save the alternate
    elif line.startswith(""2nd Alternate: ""):
        role_dictionary[alt2_mode] = build_line(line, len(alt2_mode))``` into a single if check by changing the `alt_*` values into a dictionary but that's a little bit more advanced."
"I want to build a simple API, does someone knows between falcon and flask, with framework is better if I'm looking one that has a good ORM and it's easy to create routes and all that stuff?"
Django and DRF is pretty great if you want to go the Django route.
"I'd recommend flask because `sql-alchemy` is really easy to work with flask, and routing is super easy. But I'm not familiar with falcon so it could be evne easier.; <https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask> miguelgrinberg is the go to guy onflask; His `Flask Mega-Tutorial` is the go to standard."
"falcon is built for speed and the community has all sorts of modifications and add-ons.  If you're looking to do more manual work and reading source code, then falcon may be your bag.  I agree with Pi though Django (or Flask) has the parts to get you going.; miguel is great, if you start to drink the juice, you'll end up being a full fledged microservices guru :wink:"
Miguel Grinberg is about to release the fully updated version of his Flask book.
I'm so ready:pineapple:
"Thanks guys! flask sound like a good option then!
<@Glinda> <@Seema> <@Louis>"
"Django is more robust and I hope to eventually learn it, but so many other things on my plate and no current need. :disappointed:; <@Winnie>"
"If you considered Falcon, you should look at Hug (<https://github.com/timothycrosley/hug>). It's built on top of Falcon and makes it easier/more friendly to use...but only works with python3"
any ideas why?
<https://stackoverflow.com/questions/11283625/bash-overwrite-last-terminal-line>; Last time I worked with command line progress bars it was something to do with sending the output to the beginning of the same line; <@Dominick>
I've seen that behavior difference between a regular PowerShell window and the ISE output window with DISM before. Never stopped to figure out why it happens though.
"<@Glinda> hmmm - thanks. that would probably require me to get into the `tqdm` code which i don't really want to do. it's not a huge deal, i just like to see it printed in the terminal when i'm at my desk but it makes my logs look like shit :slightly_smiling_face:"
"Looks like, in bash you use carriage return for the same line, test it with this. 

```echo -n ""Old line""
echo -e ""\r new line""```; ```def _term_move_up():  # pragma: no cover
    return '' if (os.name == 'nt') and (colorama is None) else '\x1b[A'```; This char `\x1b[A'` is equal to ``"
"Hello guys, seems like I can’t init object which have the constructor, in my pytest

```
@pytest.fixture()
def client():
  client = Client('one', 'two')
  return client

def test_client(client):
  one, two = client.one, client.two
  assert ('one', 'two') == (one, two)
```

but seems that I can’t init the object via pytest;(; maybe someone have a suggestions?"
maybe it's something else?; what kind of error are you getting?
<@Suellen> Thanks! one minute please.
how to implement a lazy property?
aren't they all lazy?
ah i meant like... compute once; but only when called
there are built-in caching decorators
:open_mouth:; I guess property + caching; double decorator
you can decorate as much as you want
"from functools import lru_cache

class A():
    @property
    @lru_cache(None)
    def x(self):
        print(1)
        return 1; this is not cached though; oops it is; A().x twice; too bad that this doesn't work: `lazy_property = property(lru_cache(maxsize=None))` :disappointed:"
"hey folks. I've got some dates in my db stored as `""Wed Nov 29 2017""` and a form submitting dates as `29 November, 2017`. I can't change the format of the form submission. How would you go about converting the form dates to match the dates in the DB?"
"timedate is about to be your friend, I think; or datetime even; apparently my brain is wrong-endian today"
Looking through the docs now :face_with_rolling_eyes:
<@Corrinne> also maybe look into storing dates as `dates` instead of `strings`
"`dt.date(2017, 11, 29).strftime('%d %B, %Y')`; will probably get you close, after you figure out entering your month correctly"
Was thinking maybe i could split the form date and re-arrange it to query the db :thinking_face:
what DB are you using
mongodb + mongoengine
"@julian haven't worked with mongo in a while, but it supports date types (<https://docs.mongodb.com/manual/reference/method/Date/>) and pymongo appears to allow queries against dates: <https://stackoverflow.com/a/26366914/1948982>"
"`dt.datetime.strptime('Wed Nov 29 2017', '%a %b %d %Y').strftime('%d %B, %Y')`; that seems to work"
sorry the first linke was suppose to be: <https://docs.mongodb.com/v3.0/reference/bson-types/#date>
I'm storing the dates in the DB as strings which might be an issue. Might see if I can change it to store as a dateTimeField
"My solution was to split the form date, rearrange it and query the db using __contains. Seems to work ok; ```    if request.method == ""POST"":
        split_date = request.form[""date_choice""].split()
        formatted_date = split_date[1][0:3] + "" "" + split_date[0] + "" "" + split_date[2]
        req_data = Data.objects(owner=session_id, dateTime__contains=formatted_date)
        for data in req_data:
            print(data.pageTitle)
        return render_template(""fresh_visitors.html"", client_data=req_data)```"
"<@Corrinne> If you're going to split the dates like this using string slices. You really should validate your `formatted_date` Nate posted a much better way of doing it. I'm not sure how your form is validating the string, and since you can't change that (or stop them from changing) probably best you validate it other than the single input pattern you've seen."
hey <@Glinda>. Thanks for the feedback. Will definitely look at implementing a better solution. The date submitted by the form is from a javascript date selector so should be formatted the same every time. But agree with you I should find a better solution.
redine?
redefine
"<@Glinda> my data is like this
```
&lt;name&gt;
&lt;description&gt;
[description]*
Alternate: &lt;text&gt;
[text]*
2nd Alternate: &lt;text&gt;
[text]*

&lt;name&gt;
...
```; if that makes sense"
Do you actually have brackets or is that your way of showing variables
"latter; so the text relating to the description/alt1/alt2  can be made up of one or more lines following it, until the next mode is seen"
<@Winnie> what was your question?
None
<@Winnie> I posted a couple of ways you can make it more pythonic
thank you but they don't solve what my program is solving
How so?
After looking at the data it appears that your values for each dictionary can span multiple lines
yeah
Are you also removing new line characters?
only at the end
"can you give an example of your desired processed ?; Something like you're yielding a single dictionary for each `'name': 'value'` pair? `yield {'name': 'value', 'desc': 'multiline combined', 'alt1' : 'multiline combined', 'alt2': 'multiline combined' }`"
yeah
"<@Corrinne> what has worked for me so far is to just store unix timestamps in the database as integers, and then handle all the formatting application-side. this takes care of a single format for datetime, plus no confusion with timezones since everything is utc."
"can some one point me to a understanding to run a main .py  for running 4 scripts at diffrent times everyday  .. 
1,py - run betweeen 09-16 
2.py - run at 18 and end at 22 - run sound.py one time at 18
3.py - run between 22-09

script 1-2-3.py is a visual script with tkinter with diffrent msg in fullscreen"
"cron?; or a Windows Scheduler if you're on Win; It's easy to start at $TIME1, but a bit trickier to stop the script at $TIME2"
well $TIME2 can be a param you pass to the script and it shutdown by itself at that time
can be messy :confused:; what if it's doing something; I don't really like self-exiting stuff :slightly_smiling_face:
well I don't know the script but I would imagine a `while time.time() &lt; $TIME2`; so you don't just nuke everything at the end :smile:
running everything in linux ( openbox)
Is the program interactive or is it just displaying things?
just displaying
"Then <@Ciera>’s advice is the way to go. You can provide a command-line argument to this script, which would be, for example, a number of seconds to run.
And then you launch it using cron at 9:00 for 7 hours:
`/path/to/script1.py 25200`; I'm not exactly sure about cron and graphical applications, let me check"
if it's a modern linux I would use systemd timers instead of cron :slightly_smiling_face:
"oh, right; haven't had the chance to use this yet; cron is just so comfy :slightly_smiling_face:"
yeah cron is easy; but for more complex things systemd timers are nice.
"oh, you can even stop the service after a number of seconds; no need to code anything in the app itself"
yeah but then you nuke everything I suppose and don't cleanup; or you would need to listen for `SIGHUP` / `SIGKILL`
"afaik, systemd doesn't really `kill -9` right away"
yeah and they also implemented a watchdog to restart your service if not responding
guys is there any existing library in python to get disk speed / IO  and network IO  apart from psutil
why isn't psutil suitable?
Hi guys! Can som1 help me with making a script. I am new in Python. I have one script that downloads files every 15s and put them in the zip and now I need to make another script that follows the changes of those files and if the zip folders are'nt increasing in size the notification should be sent on particular email.
Hey <@Ivonne>. I don't think anyone here will do the work for you. Maybe try to do something by yourself and if you get stuck ask for help on a specific issue.  If you are new to python we often recommend <https://automatetheboringstuff.com/>
"Hey guys, so im trying to get all the duplicate part_no's that i have stores in a table, and have that in a report that can be downloaded at anytime.

```
def duplicate_components(request):
    response = HttpResponse(content_type='text.csv')
    response['Content-Disposition'] = 'attachment; filename=""duplicate_components.csv""'
    dups = Component.objects.values('part_no').annotate(name_count=Count('id')).order_by().filter(name_count__gt=1)

    writer = csv.writer(response)
    #for components in Component.objects.filter(part_no__in=[item['part_no'] for item in dups]):
    writer.writerow(dups)
    return response
```
Now its working but the output format is not the best, i think its lists in a dict. 
```
{'part_no': u'', 'name_count': 2}	{'part_no': u' ', 'name_count': 2}	{'part_no': u'?', 'name_count': 2}	{'part_no': u'000000000', 'name_count': 11}	{'part_no': u'0340460000', 'name_count': 2}	{'part_no': u'0383560000', 'name_count': 2}	{'part_no': u'06127501301', 'name_count': 2}	{'part_no': u'06b Renold 38 Chain', 'name_count': 3}
```

Outputs to the file like that, as a csv file so im getting `{'part_no': u'', 'name_count': 2}` in each field. 
How would i change the out put to a normal format eg: 
```
Part_no, Count,
345345345, 4
453453434, 5```"
what I’d do is look at <http://xlsxwriter.readthedocs.io/>; use that to generate an excel spreadsheet; but your original question… your output is doing exactly what you’re telling it to do; because `dups` is a queryset; how do you iterate over a queryset to extract the values you need to some intermediate object?
"Yeah i know, im struggling with how i can convert it so i can use keys to print them to a csv file"
"well, you’re telling it to use values"
"I have tried to use values_list, i don't know any other alternatives."
"assuming you have a loop like `for dup in dups`; you’d access the property with a dot variable like `dup.part_no`, `dup.name_count`; oh, wait"
I have tried: So i have other reports that i have created
its a dict set; so it’d be `dup.get('part_no')`
ahhhhh
"yeah, because with that one, you’re using the queryset with the actual model objects; with `values`, its just pulling out the field and value alone, and you have to use dict notation"
"writer.writerow([dups.get('part_no'), dups.get('name_count')])"
no; because `dups` is a list of dicts
thats why i need the for loop?
"yes; unless there’s some way `writerow` will take in a dict; hmm, you can use dictwriter instead; <https://stackoverflow.com/a/8331638/214892>"
help I have 2 counters containing objects but when I find their difference I get an empty counter back
What is the best place to learn fundamentals of computer science and programming I feel like i am missing some things and want to retouch my vocabulary and fundamentals of how things work data memory etc
<@Winnie> can you show the code snippet?
Perhaps this book: <https://bigmachine.io/products/the-imposters-handbook>
NVM I GOT IT; <@Suellen> it was a problem of iterating an iterator twice; that's the second time I've had that bug; any tips on how to stop shooting myself in the foot like that?
don't iterate over already exhausted generators ¯\_(ツ)_/¯
but I don't know that they're generators...; my functions took in an items field; but I had items as Counter.elements()
thanks any free ebooks out there or anything?; I plan on purchasing this though this seems good but do you know of any free material
"By counter you mean `collections.Counter` ?; Couple of problems I might not be understanding correctly. 
1. You aren't sure if you are getting an iterator or a iterable. In the first case you exhaust your iterable when you compare. The second case you can do a good check later. 

2. You are always getting an iterator and will always run into the exhausted iterator when you want to use the values. 

In the first case you can deal with this by using `isinstance(obj, type)` and the `collections` library. 
```from collections.abc import Iterable, Iterator

def my_iterator(): 
    yield 1

i = my_iterator()
a = []

isinstance(i, Iterator) # True
isinstance(a, Iterator) # False```; So in the case that you actually have an iterable you don't need to worry about exhausting your iterable. This leads us to how do you deal with exhausting an iterable? Well one way is to create an iterable like a list, but this gets rid of the advantages of an iterable- the returned contents could be really large.; Here's a function that goes over another method that keeps it in an iterable, and lets you deal with not having large memory concerns. 
<http://www.effectivepython.com/2015/01/03/be-defensive-when-iterating-over-arguments/>; return True if y else False; ```def test_funct(y_val):
    return True if y_val else False
    
if __name__ == '__main__':
    print(test_funct(None))
    print(test_funct(1))```"
"That's making it longer, I know you can do a one line statement for when you have a boolean operation, I just can't remember the syntax for it"
So you want `single line if else value assignment?`; not single line None checking?; Because if you want to check if a value is none
"I don't necessarily care if it is None, I just have a value that will be either True or None and I want to save it as a False or True. Which I know of the classic `y = True if x else False` but I know I've used something along the lines of `y = if x` in the past for boolean operations like that"
"`small = x if x &lt; y else y`; <https://docs.python.org/3/faq/programming.html#id23>; ```def test_funct(y):
    x = True if not y else False
    print(x)
    
if __name__ == '__main__':
    test_funct(None)
    test_funct(1)
    ```; I think what you're getting at is; I have two conditions I want to check, `y== True`, `y==False`. Now there's other conditions you could have to consider `y == anything else`; Since you know  the value ""will be either True or None and you want to map `None -&gt; True` or map `True -&gt; False` Then you only have two actual conditions.; in that case you can do this assignment: `x = True if not y else False`"
Yea I mean I understand all that and that's not where my confusion is. I just thought I remember there being some super shorthand way to achieve the same goal but I think I'm mistaking it with something like `x = not y` which is possible
"Looks like you can chain ternary operators, but the only case I've seen requires 3 conditions: <https://stackoverflow.com/a/2919360/8143102>; `1 if a &gt; b else -1 if a &lt; b else 0`; Now since you want things as short as possible practical advice is that in many cases you don't want one line functions that do too many things, there's the programmer you today, tomorrow a month from now and next year. And next year you're going to wonder why you didn't put this single line into a separate function. Name the function something like `def is_value_None(input_value)`"
"`y = bool(x)`, however in almost all cases just using `x` is what you want.  You usually don't want a `bool`, you want something that is ""truthy"" or ""falsey"", and x already is that."
"It looked like he wanted to map `True or None and I want to save it as a False or True` True =&gt; False, None =&gt; True; `y = not bool(x)`; Any suggestions on a way to reverse enumerate that is better than these options- replaced with file; `first` is better due to preserving original index, but not sure I like the `list(....)` part.; I kinda like this `third` wrapper"
`reversed(enumerate(my_list))`?
no need for `list()` conversion in `first()`
"I think, if it works, `enumerate(reversed(my_list))` is better"
or that :stuck_out_tongue:
reversed is a builtin so it should be faster than consume the `enumerate` iterator; but not sure
"`TypeError: 'enumerate' object is not reversible`; yours is best, <@Ciera> :))"
yeah it's something I discovered not to long ago. You can define a `__reverse__` dunder; if not it will consume everything and then reverse it
:open_mouth:; Not sure why I wrote it in such a way; It's more logical to reverse and then enumerate; less work %)
But now the index doesn't correspond to the original index.
"I am trying to write a code which involves these two lines; In this case, is the array traversed twice or once and is there a way of combining these two statements?"
twice
"Hi, I am trying to install a python library using PIP on my macOS sierra (10.12.3).. using pip install vspk command .. it’s throwing an error as:  could not create error: could not create ‘/System/Library/Frameworks/Python.framework/Versions/2.7/vspk’: Operation not permitted  … I have python 2.7.10 version installed on my system.. any help would be appreciated …"
<@Ciera> then is there a way to reduce it to one traversal?
"<@Arla> if you want a single line, you can look up zip, ex: <https://stackoverflow.com/questions/9826867/python-values-of-multiple-lists-in-one-list-comprehension>

But if you want the most readable with a single loop: 
```list1 = list2 = []

for item in valid_stud:
    list1.append(item.attribute1)
    list2.append(item.attribute2)```"
thanks a lot <@Glinda>
np
<@Moses> sounds like you need to call pip with sudo because you don't have permissions to write to that folder.; possibly it's a sign that you didn't set permissions correctly when you installed python
`pip install --user ...`; will install to the directory owned by the user
"<@Arla> not sure what your motivation to replace these 2 lines. Please note that constructing a new list with list comprehensions is usually (much) faster than iterating and append. //cc: wmont
```In[14]: def append(l):
   ...:     l1 = []
   ...:     l2 = []
   ...:     for e in l:
   ...:         l1.append(e[0])
   ...:         l2.append(e[1])
   ...: 
In[15]: def comprehension(l):
   ...:     l1 = [e[0] for  e in l]
   ...:     l2 = [e[1] for e in l]
   ...:     
In[16]: print(l)
[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9), (9, 10), (10, 11), (11, 12), (12, 13), (13, 14), (14, 15), (15, 16), (16, 17), (17, 18), (18, 19), (19, 20), (20, 21), (21, 22), (22, 23), (23, 24), (24, 25), (25, 26), (26, 27), (27, 28), (28, 29), (29, 30), (30, 31), (31, 32), (32, 33), (33, 34), (34, 35), (35, 36), (36, 37), (37, 38), (38, 39), (39, 40), (40, 41), (41, 42), (42, 43), (43, 44), (44, 45), (45, 46), (46, 47), (47, 48), (48, 49), (49, 50), (50, 51), (51, 52), (52, 53), (53, 54), (54, 55), (55, 56), (56, 57), (57, 58), (58, 59), (59, 60), (60, 61), (61, 62), (62, 63), (63, 64), (64, 65), (65, 66), (66, 67), (67, 68), (68, 69), (69, 70), (70, 71), (71, 72), (72, 73), (73, 74), (74, 75), (75, 76), (76, 77), (77, 78), (78, 79), (79, 80), (80, 81), (81, 82), (82, 83), (83, 84), (84, 85), (85, 86), (86, 87), (87, 88), (88, 89), (89, 90), (90, 91), (91, 92), (92, 93), (93, 94), (94, 95), (95, 96), (96, 97), (97, 98), (98, 99), (99, 100)]
In[17]: %timeit append(l)
10000 loops, best of 3: 24.6 µs per loop
In[18]: %timeit comprehension(l)
100000 loops, best of 3: 11.7 µs per loop
```
The difference will be even more pronounced if you have huge lists and append will cause memory reallocation."
"all other things aside, please please please don't name a variable `l1`"
"they should be `il, li, 1i, 1l, l1` and so on... :slightly_smiling_face:"
... or `O0` in case anyone was considering it
"yes, in the real code you want meaningful names"
"Good point on the speed alex, didn't think about that consideration.; Really though 2 list comprehensions is more readable."
"so I have a performance question, if anyone cares to weigh in; I have a problem like this:"
"yes I agree if I use --user it will install correctly but while using it aftewards it throws an error as ```
* Error running command 'python activate_vm.py --host 10.21.0.10 --port 443 --user administrator@vsphere.local --password Nuage-R0ck5! --vmname lab_328ae7ea_jumpbox --nuageEnterprise VMware --nuageUser  admin --vmType jb --nuageNic0Domain vmware_public_router --nuageNic0Network jumpbox_public_subnet --nuageNic0Networktype ipv4 --nuageNic0Zone 'Zone 0' --nuageNic1L2Domain lab_328ae7ea --nuageNic1Networktype ipv4 --vmuuid 423ac369-728f-85af-061f-f179718e5003': exit status 127. Output: /bin/sh: python: command not found```"
"I need a function that accepts an ID and a value, and returns a tag"
yes i had tried that using --user after looking at this bug suggestion .. <https://github.com/gevent/gevent/issues/679>   ... but while running my script using vspk library it can't seem to find command related to that
"but it seems quite slow to do this by text matching; anyone know a design pattern, or library, or something like that which might offer a bit of a boost. I'm looking to run this probably thousands or hundreds of thousands of times in a typical use"
how big is the size of this dataset?
looks like.... maybe 8000 rows?
I honestly have no experience with OS X
definitely fits in memory with ease; trying to translate a big heap of ID/value pairs into essentially enum strings
"I mean, I would just load into in-memory sqlite database and query that. Blazing fast even at 100k rows probably"
you happen to have a link handy for sqlite for dummies? I'm not especially experienced with it
"Sure: <https://docs.python.org/3/library/sqlite3.html>; or you could just make a dict where a key is an ID, so that you can narrow down from 8000 to a way smaller number of entries in O(1) time"
"yah, that was sorta where I was starting"
"and then iterate over (lower, upper) and check if it's in range; and if it is - you got it"
I don't think I have many (maybe 0?) sub-tables bigger than like 16 entries
"oh, then it's going to be fast"
"alright, thanks for the tips"
"Hey guys! Question: If I start to use `async/await` from python 3, does `uwsgi` (or other `wsgi` implementation) support it? I heard about `asgi` from django channels, but don't know exactly if it is specific to channels or could be used with it. :slightly_smiling_face:"
"everyone__, i got a threading code block. I realize they keep overwriting each other.. so the both fail.. is the a way to run one after the other in the queue.; ```
for job in <http://CONFIG.jobs|CONFIG.jobs>:
        second_ = job.schedule.get(""second"", None)
        minute_ = job.schedule.get(""minute"", None)
        SCHED.add_job(process_job, 'cron', second=second_, minute=minute_, args=(job.name,))
```"
<@Cammy> once you want to run 2 jobs sequentially what is the reason to have a thread per job?
Because am running two blocks concurrently...
"Do you let cron to run your jobs? If the answer is yes, you can use synchronization mechanism provided by your OS (take a look here: <http://blog.vmfarms.com/2011/03/cross-process-locking-and.html>). If you have 2 python threads, use Lock or Semaphore.; But if I ha to run 2 jobs sequentially I would put everything in one thread."
oh okay thank you for your help though .. i might try using virtual env on OS X
what was the problem?
"Any idea why someone would get 'access is denied' they they try to run `pip --version`; I tried to google but all the results that come back are for specific packages; pip install this or that; they can run python, but even if they cd into the /path/to/python/scripts directory and try to run pip from there, they still get access is denied"
what does stat /path/to/python/scripts/pip say?
What's the standard for using secrets within flask applications?
"I don't have access to the pc atm, I was helping them earlier; what should I be looking for with the stat command?; and sorry, I'm a Django man myself, but I typically use a .env file"
maybe there's something wrong with the permissions of the actual pip script?
"It should be the standard pip that's included with Python 3.6.3, would it make sense to try and reinstall python?; also it's Windows 10, I'm typically on Windows 7 but I've helped lots of people get their Python envs setup and never run into this particular issue; Also, I hadn't mentioned, but we tried in an elevated command prompt with the same  results"
windows is weird
you're not wrong
"I watched a talk once that talked about how one of the permissions in windows that checks if a file is already opened stopped someone from installing things; try rebooting first?
otherwise I'd reinstall"
"Yea, I'll try that next time around. Thanks Evan"
"how do I catch this error?
```
    raise binascii.Error('Incorrect padding')
binascii.Error: Incorrect padding
```"
What am i doing wrong here? any help would be appreciated. Thanks
what is your regex meant to be?; I don't understand what this is
"hi <@Winnie> just to get the exact match of the word, /W is the space before and after."
"this is this is what i am trying to do using list comprehension '''            for word in wordDicto.keys():
                if re.search(('\W{}\W'.format(word)), description, re.IGNORECASE):
                    occurance=len(re.findall(('\W{}\W'.format(word)), description, re.IGNORECASE))
                    print(""found"", word, ""occurance"", occurance)
                    wordDicto[word]+= occurance
                else:
                    continue''' do you think just leave way it is without the dict Comprehension?"
I think you're overcomplicating it
"ok, thanks, i leave it way it is. :+1:"
"try replacing the `""\W{}\W""` with `r""\W{}\W""` instead?; that _might_ be the error; but <@Yuki>, I think your program can be better stated like this
```
words = description.lower().split()
foundwords = { 
    word.lower() : words.count(word)
    for word in wordDicto.keys()
    if word.lower() in words
} 
```; or better yet
```
from collections import Counter
words = description.lower().split()
foundwords = Counter(
    word
    for word in words
    if word in wordDicto.keys()
)
```"
"thanks, tried it didn't solve it. :grimacing:"
:taco: :taco:  <@Winnie> thanks!!
hello gurus; need help with upgrading python on mac; :disappointed:; @mention; @everyone
"I'm stuck with this problem, I'm trying to return true or false if the word red is in the string submitted. It's not working for me and I'm sure it's something silly but I can't see it.
```
# Get our input from the command line
import sys
text= sys.argv[1]

# Write your code here

def isRed(X):
return X.find('red')

#text=input('put in some text') # Used for testing locally

if isRed(text):
print(True)

else:
print(False)
```"
"what is `find` supposed to be?; if you want to check if a string exists, use `in`; as in `some_string` in `some_other_string`"
yeah; For some reason codio was having us use that function
codio?
Some online ide / teaching platform
"I'm having some unexpected results from a selection sort, but it _only_ happens when I read the items I'm sorting from a file. If I hard-code the list's values it works. If I populate the list from a file the sort works sometimes, but not others.; Trying to help a friend who's learning to code (I realize there are some inefficient and unnecessary things in this code); But I'm a bit stumped. The data coming from the files seems to be identical to when it's hard coded.; In the results (truncated) I see:
```...118
129
180
170
146
158
151...```; Is it gremlins? Because I think the problem is gremlins.; `index_of_smallest = randomList[i:].index(smallest) + i`
Fixed"
"What’s the best way/api to find distance between locations as like a recommendation?  Kind of the “these are the places within 10 miles of you” kinda thing ; Actually slightly more specific, given a bunch of different addresses, how does on tell which ones are within a certain distance "
Geo coding .. Look into Google maps api ; You'll get something like 1k free requests a day 
im currently using it to get lat/long from address
What are you trying to do overall?
"the lat/long is to plot on a map, and im only asking for addresses of locations; but I plan to have like a search box on a home page where you can look for ""parks"" and itll return back the closest parks around you (that I have in my database)"
"Thing is, with Googles data, you can only store it for 30 days, according to the tos ; You can use openstreetmap's nomatim service, but that's iffy at times "
thats kinda annoying for the latitude and longitude; the distance thing would be on the fly
"<@In> I was curious about the same thing.  Google ""geocoding api"" and have a quick look at the link below.  If you're not bothered by going global then many countries have local services.
<https://www.programmableweb.com/news/7-free-geocoding-apis-google-bing-yahoo-and-mapquest/2012/06/21>"
"I am looking for 
1. a bot framework that has web/REST api support that I can use from my webapp, 
2. preferably python but nodejs is cool too 
3. gives me ability to customize
Is there any such framework? Most tools are either on some platform (slack, fb etc.) or rulebased/cloud service (so lacks ability to customize). Can anyone help?"
"What exactly this bot needs to do? A (chat, i suppose) bot necessary has to be bounded with a platform (slack, fb etc.), otherwise you can just build an API REST backend that does exactly what you want; Anyway, give a look at this one <https://github.com/gunthercox/ChatterBot>"
"I have 2 forms in a page. Depending on the user input on the count filed in TicketInfo, I'd like to create same number of Traveler form and append them to the page. How can I do that?"
"<@Florentina> the most user-friendly way to do this, I think, would be to have some browser side JS that detects a change for that input and dynamically adds the extra forms to the page.  Otherwise, you can set up a url with the ticketinfo count as a parameter and re-render the extra forms"
"Is this the correct syntax to call on lists here?  ``` item_total = (grocery_item['number']) * (grocery_item['price']) ``` I'm getting ``` TypeError: can't multiply sequence by non-int of type 'str' ``` If I wrap them with int and float I get ``` 		
ValueError: could not convert string to float: 'float(cost)' ```"
try without the parens
Same as the first one with just grocery_item['number']
<@Devorah> could you print the values of `grocery_item['number']` and `grocery_item['price']`? I suspect one of them has value `'cost'`.
"@alex you are correct. :smile:  This is what I have for adding to the dictionary, but it's not taking my values I input 
```

    #Accept input of the name of the grocery item purchased.

    item_name = input(""Item name:\n"")

    #Accept input of the quantitiy of the grocery item purchased.

    quantity = int(input(""Quantity purchased:\n""))

    #Accept input of the cost of the grocery item input (this is a per-item cost).

    cost = float(input(""Price per item:\n""))

    #Create a dictionary entry which contains the name, number and price entered by the user.

    grocery_item.update({'name':'item_name','number':'int(quantity)','price':'float(cost)'})



    #Add the grocery_item to the grocery_history list using the append function

    grocery_history.append(grocery_item)

```"
<@Devorah> please remove `'` around dictionary values  in the `grocery_item.update...` line.
"fantastic, that is now printing the proper values; I'm trying to create a dictionary from inputs and then store it inside of a list, but what's happening is that the last value  store in is writing over all the other entries in the list. 
```
    #Accept input of the name of the grocery item purchased.

    item_name = input(""Item name:\n"")

    #Accept input of the quantitiy of the grocery item purchased.

    quantity = int(input(""Quantity purchased:\n""))

    #Accept input of the cost of the grocery item input (this is a per-item cost).

    cost = float(input(""Price per item:\n""))

    #Create a dictionary entry which contains the name, number and price entered by the user.

    grocery_item.update({'name':item_name , 'number':int(quantity) , 'price':float(cost)})



    #Add the grocery_item to the grocery_history list using the append function

    grocery_history.append(grocery_item)
```; by removing .update from grocery_item I'm getting it to create the dictionary in the list proper, but still it's not adding up correctly.; When I run this 
``` for x in grocery_history :
    item_total =  grocery_item['number'] * grocery_item['price'] 
    print('{number} {name} @ {price}'.format(**grocery_item) + ' ea ' + str(item_total))

  #Calculate the total cost for the grocery_item.
    grand_total += item_total
```
It's only returning the last value for in grocery_item in the grocery_list. Why is that?"
<@Devorah> Could you provide the entire piece of code? (maybe with python syntax on...)
<@Devorah>
"```
for x in grocery_history:
    item_total = grocery_item['number'] * grocery_item['price']
    print('{number} {name} @ ${price}'.format(**grocery_item) + ' ea ' + '$' + str(item_total))
```"
"You define `x` in a loop, but never actually use it"
"Instead `number` and `price` are taken from `grocery_item`, which is the last  added item; So if you have 5 items, you're going to calculate a total sum of the latest product 5 times"
thanks for the hints
"Hey can someone explain this for me? why is the first for loop wrong and the second right?

```# If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.
#
# Find the sum of all the multiples of 3 or 5 below 1000.
falseSolution = list()

# wrong solution
for i in range(1000):
    if i % 3 == 0:
        falseSolution.append(i)
    if i % 5 == 0:
        falseSolution.append(i)

# the above sums to 266333

rightSolution = list()

# right solution
for i in range(1000):
    if i % 3 == 0:
        rightSolution.append(i)
    elif i % 5 == 0:
        rightSolution.append(i)

# the above sums to 233168
```"
`if` and `elif` meaning is different. An `elif` case is evaluated ONLY if a precedent `if` conditions turns out to be false
correct
"Instead, `if` is always checked"
"in your first solution, both `if` conditionals can be true and you can have `i` inserted twice"
because of math :stuck_out_tongue:
"in the second, only one is evaluated; bingo :slightly_smiling_face:"
"Ha :sweat_smile: do i feel stupid now.... ofcourse the same number can be both divisable of both 3 and 5....

Thanks for your answers"
youre welcome :slightly_smiling_face:
"<@Raguel> bot does NOT have to be bounded to a platform like slack, fb etc. I need to have that bot pop up in a website. So I need a REST API support. I dont want to build the REST API backend, just want to use it.  At the end, based on the conversation, the bot will reply more intelligently and resolve issues in an Enterprise software environment. so over time I will have to incorporate more NLP techniques"
"Hi All, I am trying to represent this data in a pie chart with total and callouts. (My sample data <https://transfer.sh/dXlkt/testdata.csv>) Matplotlib seems too limited to be able to do it (or too difficult). Ive seen some example with R programming and ggplot, i was wondering if someone skilled in this area could assist? Ideal look: <http://upload.wikimedia.org/wikipedia/commons/a/a2/Wikimedia_browser_share_pie_chart.png> or (second one down) <https://stackoverflow.com/questions/33521034/how-to-add-label-ticks-to-a-pie-chart-created-with-ggplot2>. My code so far: <http://dpaste.com/1HNBM2Y>"
suppose if in a  website that contain field for user to input number in time format. This input goes into mysql database when button is clicked; I'm currently looking into how I can use this value insert by user and use it as timer to execute a python script; how can I make it work similar to cronjob but instead of setting timer earlier it will set time based on user input; any inputs ?
"<#C0LMFRMB5|django>  Okay so this might look like a stupid question, but I just learnt django and I was building one small app.. then I thought Ill create some apis for the same using the django rest framework since the app went well.. I did achieve the task.. but how is it normally done, for example I have some url patterns I already created for the app..

```urlpatterns = [
    url(r'^$', views.IndexView.as_view(), name='index'),
    url(r'^(?P&lt;pk&gt;[0-9]+)/$', views.DetailView.as_view(), name='detail'),
    url(r'^(?P&lt;pk&gt;[0-9]+)/results/$', views.ResultsView.as_view(), name='results'),
    url(r'^(?P&lt;question_id&gt;[0-9]+)/vote/$', views.vote, name='vote'),
    url(r'^(?P&lt;question_id&gt;[0-9]+)/addchoice/$', views.addchoice, name='addchoice'),

    url(r'^api/v1/question/$',views.question_list,name = 'question.api'),
    url(r'^api/v1/question/(?P&lt;pk&gt;[0-9]+)/detail/$',views.question_detail,name = 'question_detail.api')
]```


and then I added the last two apis for json response of something similar to what the first two urls would output in html, since I have seen api usually having such names for versions and stuff.. I know i am doing something wrong. So how are they actually separated or are they not? apis and html urls."
"<http://www.django-rest-framework.org/api-guide/versioning/>; btw, <@Arianne>, just because you do <#C0LMFRMB5|django> doesn’t actually do anything.  you should post this in that channel; check out <http://www.django-rest-framework.org/api-guide/versioning/#urlpathversioning>"
"Thank you, i didnt know ! <@Meg>"
:smile:
<https://stackoverflow.com/questions/47632570/multivaluefield-returning-data-back-to-field>
"<@In> are you looking to get actual travel distance or as the crow flies?  there are a couple of APIs out there (Mapbox, Google, MapQuest, etc.) that can do it on the fly, but if you only need say to do a 10 mile circle around their current location, that would be easy enough to handle right in the database; if using postgres, you probably want to checkout ST_Buffer  <http://www.postgis.net/docs/ST_Buffer.html>; and sqlite has a similar function using libspatialite"
Having some trouble with pip and SSL certificates
"The flag `--trusted-host <http://pypi.python.org|pypi.python.org>` allows the download to work, but id like to find a more permanent solution..."
This is basically my error <https://python-forum.io/Thread-All-pip-install-attempts-are-met-with-SSL-error>
This your new work machine?
"Yep, guessing web filter :confused:"
Yeah I’d go ask first before rabbit holing on it :slightly_smiling_face:
"might have to contact IT and ask them to allow pypi,python,org; And this keyboard is gonna be the death of me too"
"first job out of college, right?; time to get that first keyboard of your own :slightly_smiling_face:"
Still in college now. This is full employment but part time like 29 hours a week; One more semester tho!
Well still may be time for your own :wink:
"Oh definitely. I have one at home, but next paycheck I'll have to get something nice."
"I love our engineering team, all mechanical :slightly_smiling_face:"
So apparently I'll be working on data analytics and some automation. Heard from a coworker they were using excel as a database
:facepalm:
Also <@Patty> is there any reason pip wouldnt be able to open the SSL certificate but chrome can open pypi fine?; Cause I can access PyPi on my browser
pip doesn’t use 443
What port do they use&gt;
`!443`
3128 it would seem...
does the company have an internal mirror? that could be another reason
"You know, I did have an issue with pycharm and logging in after downloading the IDE to activate my subscription; gave a proxy error but the IT guy says they dont have a proxy"
yeah id either ask IT or a coworker that uses pip to see what’s up
"<@Myong> what do you get from this command `curl -vvv <https://pypi.python.org>  2&gt;&amp;1 | grep ""Server cert""`"
nothing
"ooh strange; pip by default doesnt use your system certificates, which if its a work machine, probably has your work's MITM cert installed"
Mind you this is a company network I have no idea what kind of things they have in place to make my job difficult; Yeah
Welcome to Enterprise Development :smile:
:smile:; So you think the proxy\company network has the cert I need essentially
"your options are:
- (best) convince your work to whitelist SSL for the python domains (generally pretty easy for most places)
- (second best) grab the root cert and wrap all your pip stuff with it
- (worst) use trusted-host and disable ssl cert verification"
What other python domains should I consider other than just pypi
thats usually it for me unless i use some anaconda stuff
Bleh; I'll send a nice email real quick about it; Just got an email back from something I sent earlier. Gonna have to submit a ticket and will probably have it fixed soon.; Alright sent the request to whitelist <http://www.pypi.python.org|www.pypi.python.org>
Does no one else use Python there?
what if they all just downloaded the package and manually installed it
Nope. Don't believe so afaik
every time
My friend that works here does but hes not exactly well versed in it
That's exactly what my friend does
And it broke my heart when he told me 15 min ago
I cried for him
:disappointed: maybe he asked and they said no?
I could see that if its not a language used by the company
I'll just add trusted-host
The company isn't exactly a programming company. The PM might pull some strings if I tell him the issue and the networking dept. doesnt come through
cause he hired me specifically to do python lol
Yeah I’d wait for a response before just circumventing it
Yeah definitely. Almost time to go home
oh god my snarky idea was true?; i'm so sorry
eh its easy to say you were blocked by the lack of access so its not like it’ll come down on you <@Myong> ¯\_(ツ)_/¯
and makes sense given they didnt have anyone really doing python before
Just talked to the PM. He said to forward him the ticket and if it's an issue he'll get it fixed up :thumbsup:; But for now I'm gonna head out I think
Appreciate the help @joe and <@Marcie> :taco: 
":toot:; remember: the true answer is ""is anyone using python there"" is always ""_NOT YET_"""
"Does anyone know any good libraries for visualizing fractals? Things like the Mandelbrot set, Julia set, etc.? Or how to possibly animate them in Python? I think I might be able to figure out the complex numbers part of it, but visualizing the outputs of things like z^2+c is a bit foggy to me at the moment. Any help would be greatly appreciated! :slightly_smiling_face:"
"Guys, I'm very new to python....I'm getting below erroe; do_handshake    self._sslobj.do_handshake()ssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:579)"", ""msg"": ""MODULE FAILURE"", ""rc"": 0}; How to fix this issue?; How to disable the SSL cert verification on Python 2.7.5?"
"might need to update python  to 2.7.14 and openssl?; off the bat, that’s my thought; what are you doing to get that error"
I was trying to change the Splunk default password using splunk-sdk-python; and I'm getting this error; Is there a way I can avoid ssl cert verification on the scripts
doubt it; you will probably have to update openssl or your python version; since 2.7.5 is _really_ old; are you on linux or mac?
I'm on linux
what’s the output of `openssl version`
OpenSSL 1.0.1e-fips 11 Feb 2013
alright; what are you doing to get that error?; code?
"that is the acctual code and I'm trying to change splunk default password using ansible; like this; - name: change default password
  splunk_user:
    auth_user: admin
    auth_password: changeme
    name: admin
    password: ""{{ splunk_new_password }}""
    splunklib: ""{{ splunklib_1_6_2_location }}/splunklib-1.6.2"""
"hmm, ok; this is using ansible?"
the binding.py is located under splunklib-1.6.2; yes
"in that case, probably <#C22DMH61M|devops> would be the best place to post since configuration as code is commonly discussed there"
"I did spend time on this one, but this is not something related to the ansible; I'm sure this issue is coming from Python"
hello; :slightly_smiling_face:
"Team,I have  getting a value from top ouput and i need to kee on writing to csv seperated with \n after every value written ,so that i will plot a graph at the end.Any help in python and that should have a column with some title as well"
"Hello Team,I am writing values in a file like this; seperated by comma; 07.11,07.13,07.15,07.17,07.19,07.21,07.23,07.25,07.27,07.29,07.31,07.33,07.35,07.37,07.39,07.41,07.43,07.45,07.47,07.49,07.51,07.53,07.55,07.57,07.59,08.01,08.03,08.05,08.07,08.09,08.11,08.13,08.15,08.17,08.19,08.21,08.23,08.25,08.27,08.29,08.31,08.33,08.35,08.37,08.39,08.41,08.43,08.45,08.47,08.49,08.51,08.53,08.55,08.57,08.59,09.01,09.03,09.05,09.07,09.09,09.11,09.13; i want to write python code to display all of them in one column; any help"
you will need to provide a bit of code so we can help you :slightly_smiling_face:
i have to write a code to just display them in one column as shown above; the code that i written so far is just to write it to a file; i need some guidance on the same
"What you want is to read the line(s), split them on the comma, and write/print each item in the resulting list(s)"
"you mean split them with \n; for example the file content is this 07.11,07.13,07.15,07.17,07.19,07.21,07.23,07.25,07.27,07.29,07.31,07.33,07.35,07.37,07.39,07.41,07.43,07.45,07.47,07.49,07.51,07.53,07.55,07.57,07.59,08.01,08.03,08.05,08.07,08.09,08.11,08.13,08.15,08.17,08.19,08.21,08.23,08.25,08.27,08.29,08.31,08.33,08.35,08.37,08.39,08.41,08.43,08.45,08.47,08.49,08.51,08.53,08.55,08.57,08.59,09.01,09.03,09.05,09.07,09.09,09.11,09.13"
"No. You want to split the entire long row of values on `,` such that you get a list with each value singled out to so speak. `['07.11', '07.13', ...]`"
"07.11
07.13
07.15
07.17
07.19
07.21
07.23
07.25
07.27"
"Then, it's just a matter of parsing that list, and printing out each item"
ohhh let me try that
"Give google a try, the answers to these simple questions are pretty solidified on stack overflow"
sure thanks jensPW
"A tip is to google each step separately, and not the entire problem at once"
:slightly_smiling_face: sure
Anyone know of a good tutorial that has information on creating child processes with asyncio?
<https://docs.python.org/3/library/asyncio-subprocess.html>; if that is what you mean.; the documentation is pretty straightforward
"ah yeah, thanks. I was wandering about in the subprocess docs; very silly"
"<@Kathleen> I know that isn’t the same. But I recommend use Celery, in which is useful in many situations. If you interest here a documentation/tutorial: <http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html>"
"Hey guys, i updated my windows machine this morning and now VirtualBox throws an error. I have tried looking into Virtualization tech on BIOS settings, enabled that. Installed a new version on VB and removed all vm's with their files. Yet i still get this: 

```
Command: [""startvm"", ""7c2921d7-c254-4c23-83c1-b8d181c4b46e"", ""--type"", ""headless""]

Stderr: VBoxManage.exe: error: The virtual machine 'twm_default_1512472873306_36464' has terminated unexpectedly during startup with exit code 1 (0x1).  More details may be available in 'C:\Users\Staff\VirtualBox VMs\twm_default_1512472873306_36464\Logs\VBoxHardening.log'
VBoxManage.exe: error: Details: code E_FAIL (0x80004005), component MachineWrap, interface IMachine
```

Has anyone else had this?"
what’s in that file path where details are?; hmm.  do you get the same issue with the current - 1 version of virtualbox?
I'm currently on 5.1.30; Think its sorted now :-0
how’d you fix it
"I've written a small Python script to start up my Windows apps in a particular order and to ask me if I want to auto-launch my work programs when I login. I am using `psutil.Popen([[path_to_process]])` to execute the programs but I am finding that after the program runs and the script executes sys.exit() to close the window hangs instead of going away. Furthermore, when I actually close the window manually by hitting X it then proceeds to shut down several of the apps I opened as if they were tied to the script calling them somehow. Any recommendations on better ways to execute programs on Windows without associating the program with the script?"
"Team,When i am using psutil to get disk i/o usage .Are these read_bytes and write_bytes calculated per sec ?; disk_io_counters() in psutil"
<@Dominica> are you not getting `read_time` and `write_time`?
no
What OS are you on?
<@Rheba> i am just extracting read_bytes and write_bytes; what are the units of measuremnt
Right but `disk_io_counters()` returns read and write times on non-BSD systems
is it per sec ?; ya correct i dnt extract that value
it’s per the read or write time
this is the read time read_time=1540250161347L; i am not able to undestand this value; what is the unit of measurement
ms
like in bsd if you type; systat -vmstat
are you in BSD?
yes; freebsd; i want values like systat -vmstat command gives
you can’t on BSD with `psutil`
"KB/t , %busy"
None
ok ok but what is the other way; of doing it in freebsd; any idea
nope; just a heads up though all of this is in the `psutil` docs <https://psutil.readthedocs.io/en/latest/#psutil.disk_io_counters>
in bsd `disk_io_counters()` returns me read and write bytes but i am not sure about units of measurement
bytes
bytes /sec ?; you mean
"no, just bytes; it’s `bytes_read` not `bytes_read_per_second` or anything"
ya that is not the right approach; but when it is read or write it has to per unit right ?; i mean speed
unit is bytes; no
<@Dominica> please read this: <https://psutil.readthedocs.io/en/latest/#psutil.disk_io_counters>
its taking the units of bytes at the exact time you make the call
"```
read_bytes: number of bytes read
write_bytes: number of bytes written
```"
^
"```
read_time: (all except NetBSD and OpenBSD) time spent reading from disk (in milliseconds)
write_time: (all except NetBSD and OpenBSD) time spent writing to disk (in milliseconds)```"
hmm but not solving my purpose; <@Meg> any idea how to get disk io on freebsd system ?; any other way
Have you looked anything up?
i looked but i could not find anything; there is a command in freebsd systat -vmstat
You could always run that and parse the results
"but when you write it to file its messes up the file; as the output refreshes after some interval; when i just redirect it to a file; and open that file; it looks like this; ^[[5Dprcfr^[[14;44Hdtbuf^[[14;59Htotfr^M
Namei     Name-cache   Dir-cache^[[15;44Hdesvn^[[15;59Hreact^M
   Calls    hits   %    hits   %^[[16;44Hnumvn^[[16;59Hpdwak^[[17;44Hfrevn^[[17;59Hpdpgs
^[[5Dintrn^M
Disks   md0   da0   da1 pass0 pass1^[[19;59Hwire^M
KB/t^[[20;59Hact^M
tps^[[21;59Hinact^M
MB/s^[[22;59Hcache^M
%busy^[[23;59Hfree
^[[4Dbuf^[[19;36H^[[H    1^[[1;22H1.74  1.10  0.88^[[1;56HDec  5 14:17^[[5;5H9801140  111776 72064064   164076 1637452
^[[41D9917476  163284 1146657k   301328^[[8;66H4257^M; not useful at all; i am just trying this way systat -vmstat &gt; text"
I mean run it within a subprocess and get the output all within the script if you need it in python
ya i have tried that; does not work; as i told you the command output of systat -vmstat is refreshing every now and then
`iostat` has a simpler output to be parsed; yes but you can capture output from a subprocess once
hmm unfortunately my fsd is controlled one as dnt have iostat in it; i mean bsd; i dnt have iostat on my freebsd system
its part of BSD base installs ¯\_(ツ)_/¯
buts mine is customised one so not all the libs are present
"Anybody ever seen this pycharm issue?; any dropdown on click is detached; Unless I'm on my primary monitor, setup is left top, left bot (primary) right middle"
nope.. that’s really weird; what version pycharm?
"newest, proffessional; before updating to 2017.3 2017.2 did same."
:thinking_face:; what os?
"windows, dell laptop, video connection through usb-c docking.; Only program I've had this issue with is pycharm; I looked through their issues yesterday and didn't see anything like it."
I run pycharm/webstorm in the upper right one
Really frustrating because I really want to run pycharm in the top left.
think it might be the dock?  can you run vga out and hdmi just for comparison?
mini display port to vga cable on right monitor; dvi -&gt; dvi on top left.; I don't have other cables around.; I'll probably submit an issue to the repository.
<@Glinda> try passing -Dsun.java2d.uiScale.enabled=false VM option to PyCharm (in vmoptions file: Help &gt; Edit custom VM options).
if that doesnt work there are already several issues opened around this: <https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000134584-When-using-multiple-monitors-popup-windows-and-context-menus-are-not-positioned-correctly->
That worked.; Even more interesting is that it didn't happen with clion
"It may be because one resided on two monitors at some point, that makes Jetbrains IDEs wonky"
"Thanks for your help, been dealing with it for a while. did you use intellij search for that or something else? I searched for a bunchof variations yesterday and didn't find appropriate issues."
Just googled “intellij dropdown menu not in correct location”
anyone using aws lambda?
"<@Lashell> Yep, a few of us do, what’s up?"
"I’ve never used it before, but I am considering trying it out. I just have a simple express server that I am using as an http proxy for an api (requests to my api will go through this proxy server so that I can hide the api key from the public). Is this a good use case for  using aws lambda, or is there a better option out there?"
So you want to use lambda to host a proxy for all of the calls?
yes
"You’d have to set up a proper trigger, probably with an API Gateway (<https://aws.amazon.com/api-gateway/>) but if this is going to be proxying every call, the lambda is going to be called a lot, which is not going to be cheap; Depending on the load, you are probably better off running a small instance on EC2 or whatever you prefer to host the proxy; but if its low enough load, it may be cheaper for the lambda, depending on how long that lambda takes to run"
I don’t expect the calls to be too frequent. But I think you’re right that it would probably be cheaper using an ec2 instance.
"Well, if it’s light enough, then it’s not cheaper"
"Just don't try to setup lambda manually. Use a framework, like serverless (<https://github.com/serverless/serverless>); I had to do that once, for two dependent functions, using cloudformation, and it was a nightmare"
thanks <@Collette> i was looking for that
Is lambda free tier eligible? I know that I could get 1 year free using the ec2 instance.; Is it the same story for using lambda
"<https://aws.amazon.com/lambda/pricing/?nc1=h_ls>; Free Tier
1M REQUESTS

per month
400 GB-SECONDS

of compute time per month."
wow 1M requests; Thanks for the information
Does anyone know the best way to go about matching likeness of strings? We have a large dict of string mappings for `correct_input : known_incorrect_inputs`. I want to compare these input strings against all values for each key and determine which `correct_input` key had the most likeness based on the values it mapped to; Something like sequence matcher?
check out levishtein distance
<@Meg> that's what seems to be most recommended. I'll look into it. Thanks also <@Joann>
"PS you don’t need a DB to do it, though its a nice functionality for PG :slightly_smiling_face:"
np.
"<@Myong>, semi-related: <https://github.com/seatgeek/fuzzywuzzy>"
Saw that one as well. Gonna have to look into them to see what better fits my needs.
fuzzywuzzy is levenshtein anyway ¯\_(ツ)_/¯
Might decide to basically take the value list and select highest likeness ration then compare all the picked ones and choose the best match of them all; Or average the ration between the whole list?; hmmmmm
"Hello Folks :-),
is there a Json mapper like Jackson for python? Or an easy way to convert a dict into an object?

"
there's the built-in `json` module
"and if you’re using django with django rest framework, it allows you to construct the serializer definition.  much like jackson, IMO"
Thank you - i will read the docs
"json will do alot, but IIRC it has trouble with dates, so you oftentime have to make a custom handler for that; <https://stackoverflow.com/questions/35869985/datetime-datetime-is-not-json-serializable>"
"Great! Thanks for the hint. :-)

I also found this here for mapping json into an object:
<https://stackoverflow.com/questions/6578986/how-to-convert-json-data-into-a-python-object>"
"I usually serialize to unix time (seconds since epoch); kept in UTC too, it’s sort of a helpful baseline to be able to assume throughout a project"
"So I got the word matching to work quite well. For the most part it picks the correct items, I do wish there were a way to change the weight of suffixes or preffixes on the word though"
"Hi quick question…  I want to run a python script from cron to add/modify entries to the /etc/hosts file on Ubuntu, daily.  I have never been good at reg ex and struggling this this simple code.  I admittedly googled this syntax and don’t completely understand it.

```
with open('/tmp/hoststest', 'r') as hosts_file:
    hosts_data = hosts_file.read()
    print(hosts_data)
    new_hosts_data = re.sub(r'(#StartStoreLocations.*?\n+)(.*)(#EndStoreLocations)',r'\1' + new_hosts_data + r'\3',hosts_data, flags=re.M|re.DOTALL)
    print(new_hosts_data)
```
Result
```
#StartStoreLocations
#StartStoreLocations
10.242.90.195    VN0394
#EndStoreLocations
#EndStoreLocations
```
Original Contents
```
#StartStoreLocations
10.242.90.195    VN0394
#EndStoreLocations
```
So it looks like its finding the section to replace but not replacing the start and close tags. I’ve been playing with it for an hour and cant figure it out."
have you considered dns instead?
":slightly_smiling_face: I knew someone would mention that. Yes I would love to use DNS but in this situation I dont have that control; this will serve my needs but for my education, I’d like to understand the regex better"
"so the pattern is `r'(#StartStoreLocations.*?\n+)(.*)(#EndStoreLocations)'`. what does that pattern do, as you understand it, <@Season>?"
"um, I don't think new_hosts_data is defined inside the re.sub function?; this is pretty convoluted, would you be able to transmit a diff and then use `patch` to apply it to your /etc/hosts?"
"its there and sort of working, I jsut must have a problem with my regex because its putting the data inside the file but not replacing the starting and ending tags.  so it replaces 
```
#StartStoreLocations
10.242.90.195    VN0394
#EndStoreLocations
```
With
```
#StartStoreLocations
#StartStoreLocations
10.242.90.195    VN0394
#EndStoreLocations
#EndStoreLocations
```"
"it seems to me like new_hosts_data already has the tags, so you're inserting them between the literal tags in your regex; that's just a guess"
yes that exactly what happening.  I just cant figure out how to fix it
"```new_hosts_data = '#nhdtag\ninfo\#nhdtag'

yields:
#StartStoreLocations
#nhdtag
info
#nhdtag
#EndStoreLocations```; you'll fix it with; `new_hosts_data = re.sub(r'(#StartStoreLocations.*?\n+)(.*)(#EndStoreLocations)', new_hosts_data ,hosts_data, flags=re.M|re.DOTALL)`; if you want to keep the new_hosts_data tags; if you want to keep the literals but throw away the new_hosts_data tags, then I'd suggest preprocessing new_hosts_data to drop those lines"
does `#StartStoreLocations` or `#EndStoreLocations` ever change?
<@Frieda> no; <@Shavonda> that worked except it wiped out the rest of the file with the new data
? you said the original file only had 3 lines; at least in your example
I simplified it. there are other entries in my hosts file.  I want to update those.
"if they never change, make them non-matching groups and only replace the parts in between; at it is now, it looks like you're always copying them back in"
"thats why I was placing the entries between those tags.  here is my current code with your tweaks

```
with open('/etc/hosts', 'r') as hosts_file:
    hosts_data = hosts_file.read()
    if '#StartStoreLocations' in open('/etc/hosts').read():
        new_hosts_file = re.sub(r'(#StartStoreLocations.*?\n+)(.*)(#EndStoreLocations)', new_hosts_data ,hosts_data, flags=re.M|re.DOTALL)
    else:
        new_hosts_file = hosts_data + new_hosts_data
    
with open('/etc/hosts', 'w') as outfile:
    outfile.write(new_hosts_file)
```; <@Frieda> agreed,  thats what I want to do but I am literally brain dead when it comes to regex.  I cant figure out the syntax, which is why I posted here."
"if new_hosts_data has the tags, just do:
`new_hosts_file = re.sub(r'#StartStoreLocations.*?\n+(.*)#EndStoreLocations', new_hosts_data ,hosts_data, flags=re.M|re.DOTALL)`; I personally don't really like that `.*?` because it's slippery, so I might change it to `new_hosts_file = re.sub(r'#StartStoreLocations\s*(.*)#EndStoreLocations', new_hosts_data ,hosts_data, flags=re.M|re.DOTALL)`; but if you like it, it's sorta personal preference"
I like what works at this point :slightly_smiling_face:  trying to wrap my head around it still
"can even drop the perens around `(.*)` since you're not using the backrefs any more, but I think they make it easier to read"
<@Shavonda> works PERFECTLY  thanks!  Now I need to make sure I understand it.  Ive been coding off and on for 20 years and regex has always made my head hurt
"yeah, I wrote a decent bit of perl for like 4 years, but there's a reason people sometimes call regexes a ""write only language""; if you write some guru stuff and don't come back to it for 6 months, you might have no idea what you did"
I don’t use reg much so whenever I looks at it my eyes are like wtf am I looking at.  I’ll go watch a lynda video or something sometime soon
"yah, I sorta recommend against it. I don't know where your input comes from or anything, but as a cron job you might just consider transmitting diffs around and apply them using `patch`; it's a pretty well established and understood format with tools built around it; in your case, your format is pretty straightforward, and hosts files already have a format that generally will avoid any weird regex problems, so it probably doesn't matter"
"Anyone have an example (for the front end mainly) of a way to organize a bunch of different reports? I want to make them easier to find, but I am not sure what I should use for it; Also, I am not opposed to solutions that need backend work, but the primary goal is to make it easy for end users to use"
did you get this resolved?; At work I have to add --trusted-host=<http://pypi.python.org|pypi.python.org> to every PIP command to get it to work. It seems to try to insert my companies SSL certificate into the mix.; I literally just figured this out so I thought I'd pass it along <@Myong>
"Yeah, I've been using that work around, but it's just not the best option simply because it leaves room for a man in the middle attack; now I don't think that will happen but it's always possible; And you can follow the link to make it so you dont have to specify it every time you do `pip install ...`; <https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host>"
"it's for me always a bit difficult to determine when ""all"" will return a generator and when it will be evaluated; (to get short circuiting); the problem with all being of course that bool(generator) will be True; I guess I'm just bitten by an empty generator"
"Any good tutorials for working with linux servers, activating bash scripts, redirecting output from subprocesses? I'm running into a lot of the same problems and I think it's a knowledge gap that's causing the issues."
"guys, anyone using python with vscode?"
"Example of one problem, ssh server, activate bash script which starts an interpreter for prolog console, input commands, supress output and then pipe output to file."
"```ID=""$(curl -X GET $PLATFORM_URL/foo \
                     -H ""x-cookie: token=$TOKEN"" \
                    | jq '.[] | .[] | select(.name==""'$NAME'"") | .id')""```
`NAME='bar'`
Anyone know how i can fix this parsing error?
 ```jq: error: syntax error, unexpected $end, expecting QQSTRING_TEXT or QQSTRING_INTERP_START or QQSTRING_END (Unix shell quoting issues?) at &lt;top-level&gt;, line 1:
.[] | .[] | select(.name==""bar
jq: 1 compile error```
having a brain fart"
Do you need to escape the `'`?
"`| jq '.[] | .[] | select(.name==""${NAME}"") | .id')""` tried this as well and no luck"
"Also not sure you are paring all your quotes, (which order they are nested in). you have two sets of each."
"```ID=""$(curl -X GET $PLATFORM_URL/foo \
                     -H ""x-cookie: token=$TOKEN"" \
                    | jq '.[] | .[] | select(.name==""bar"") | .id')""```; this works; I just cant seem to be able use the variable instead of bar; jq bombs out"
"I don't know anything about jq, are you trying to parse the string in python for the value `$NAME` and `$TOKEN`? What is the actual string you want ID to look like?"
"<@Glinda> this is in shell, ID will look like this ID=int; ID=1234; Token is just a token; It works when I hardcode the name=""bar"" part; but I seem to be having some string escaping issues i think"
shell variables dont get parsed in single quotes `'`
"`select(.name==""$NAME"")` this wont parse the variabke $NAME either?"
"this should technically work:
```ID=""$(curl -X GET $PLATFORM_URL/foo \
                     -H ""x-cookie: token=$TOKEN"" \
                    | jq \"".[] | .[] | select(.name==\""$NAME\"") | .id\"")""```"
<@Marcie> trying that
i like to simplify my work by splitting my curls and jqs into two separate actions though
"```q: error: syntax error, unexpected INVALID_CHARACTER (Unix shell quoting issues?) at &lt;top-level&gt;, line 1:
.[] | .[] | select(.name==\""$NAME\"") | .id
jq: 1 compile error```; didnt seem as it picked it up"
ahh the fun of bash
i spent like 30 min on that one line lol; everything works fine when its hardcoded. :disappointed:
"Alright, I got a question I'm hoping one of you might be able to point me in a better direction.

I'm trying to identify an item based on the name given in an a Description. There are about 25-30 possible items and each possible item has anywhere from 2-20 possible spelling/spacing/wordorder/special characters combinations in the description. For example something like this:

```
ICE_WATER = [""ice/water shield"", ""i/w shield 1 sq"", ""i/w shield 1sq"", ""i/w"",
""i/w shield - surface area"", ""i/w valley"", ""i/w shield"", ]
```

There are overlaps in the description names with other items, so I don't think using any ""distance"" or other search algo will get me accurate results. Hence why I've resorted to exact name matching. (If you disagree maybe I could give you some more examples and I could look into it more.)

originally, I put these all the possible names in one large dictionary with the function to call as the value. I didn't really like how long and ugly the list was and difficult to maintain (as I find new possible items or terms are added) so I'm wondering how ugly/slow using a long list of `if/elif desc in ITEM_LIST` might affect my program (as long as it doesn't add more than a second I think I'll deal with it) or if there is another alternate (possibly even obvious) method I can use to identify these items (each with different calculations that need to be performed). And route them to the appropriate (now) methods."
"You mean, curl request get response; than in other variable do the jq stuff?"
"I'll probably clean it up to where I'm only assigning 2 or 3 attributes per item rather than a separate method for each, but I still need a better way to identify them."
it be nice if .py had switch statement; i think it make this easier; but maybe you can write your own switch
You can make a switch with a dictionary; That's essentially what I had before
"<@Arlene> from testing this might do it
```ID=""$(curl -X GET $PLATFORM_URL/foo \
                     -H ""x-cookie: token=$TOKEN"" \
                    | jq "".[] | .[] | select(.name==\""$NAME\"") | .id"")""```; as this works:
```NAME=foobar
echo ""$(cat ./test.json | jq "".[] | select(.name==\""${NAME}\"")"" )""```"
I guess I could put all of the descriptions in a table with their appropriate attributes and query the table
<@Marcie> :boom: that works; Oh man I am tired today.; lol; <@Marcie> Thanks for taking the time sir!
"<@Staci> you could have descriptions and associated calls in a dict; something like
```checks = {
    'ice_water': [""ice/water shield"", ""i/w shield 1 sq"", ""i/w shield 1sq"", ""i/w"",
""i/w shield - surface area"", ""i/w valley"", ""i/w shield""]
}

def identify_item(self):
    for func_name, attributes in checks.items():
        if self.desc in attributes:
            getattr(self, func_name)()
            break```; though i'd probably move away from the whole bunch of methods on self to more of a composition style in general; yeah thats my normal flow"
"Yea, that is my plan, I just need a way of identifying the items so I can assign the appropriate attributes; I think I may have talked myself into just creating a table, that way it won't require a code change if/when I need to add items in the future; or descriptions rather; but I appreciate your feedback <@Marcie> I like that pretty well"
"Hello, so i want to write a script that reads from an excel sheet made by my collegues, and  based on that, will send some mails (reading both the mailadress to sent to and the mail contents from the spreadsheet). So with my limited knowledge, i feel i have few ways to go around that, and i want to pick up the least painful direction. So:; 1. is it easier to use pandas or openpyxl and work directly on the spreadsheet, or convert .xls to .csv and go with that?
2. The actual mailsending thourgh smtplib seems pretty straitghforward, but i would like to use the local account to which my collegue is logged in on thunderbird - i fear it might cause troble (security). Also, how difficult would using an ssl certificate be?
2. Ideally, i would like to make an executable from the script, so that my collegues can easily use that on their PC. Can you recommend pyinstaller?"
"quick on as ill be stuck on  plane for 7hrs to figure this out, but i was hoping someone could point me in the right direction


```class Block:
    def __init__(self, index, timestamp, data, previoius_hash):
        self.index = index
        self.timestamp = timestamp
        self.data = inventory_transaction()
        self.previoius_hash = previoius_hash

    def inventory_transaction(self, data):
        self.data = {
            'buyer': 123456,
            'seller': 654321,
            'cpm': 1.00,
            'url': '<https://google.com>'
        }```

I am trying to add the above into the `self.data` doing it like this…would it work? I am new to classes"
no it wouldn't; what are you trying to do?
"<@Ora> I’ve had really good results writing to csv first (via csv.writer), then using csv.reader to read the csv into Excel via xlwt /  xlrd / xlutils. These don’t actually use Excel, but read / write xls 5.0-compatible sheets that you can then use Excel on."
"Signal handlers can be used to execute a specific set of code when the program receives a particular signal.
I want to know that which signal is received when the system is set to shutdown and also where do I place my signal term handler so that it actually executes on receiving the signal?"
<@Theo> which process ?
<@Theo> it has to SIGTERM
I'm trying for the same <@Sara> but the code is not being executed at shutdown.
where are you executing this script ?; <@Theo>
"Terminal. My program is actually a Daemon for which I've written an init.d script and the daemon part is working fine. It's job is to record the number of mouse clicks, scrolls and moves and append it inside a file at shutdown."
Any resources to learn machine learning
<@Theo> is it in a docker container?
"Not really. I've used .join() to join the three functions that I defined in my program which captures the number of mouse clicks, scrolls and drags via a listener and adds their values inside a dictionary."
"<@Theo> what if the user doesn't shut down for a long time.
Shouldn't you instead be appending every x seconds?"
The program is running in background <@Winnie> so there shouldn't be any issues if the user doesn't shut down.
"if you continuously store every single mouse movement in ram for a very long period of time, then there will be issues :slightly_smiling_face:"
That makes sense. 
<@Marg> do you see the error message? Do you understand what it says?
"if now_time &gt;= time.time(""13,18""):; This is the correct statement you're looking for.^^; time() is a package not a function which is defined inside it. A package can never be callable in a statement."
yhee i am calling a object ub sirenwbt; found the problem forgot to the right import string
"hi guys. iam glad to be here. coming from the dry lands of js now into pyhton i have a question to round accuracy. please consider this codewars kata, that iam trying to solve. my soution should work, but it doesnt due issues on round, can someone help me here. not with a concrete solution, but you can if you want ;.) but more with docs, that help me to understand the problem? the gist ist <https://gist.github.com/janpauldahlke/42f6773a7b0ff5cf63aaaddf11b32dc9>, the kata is here <https://www.codewars.com/kata/sum-of-the-first-nth-term-of-series/train/python>"
None; <@Blaine> have you tried using the builtin `round` ? as shown above it's possible numpy as a different behavior
hi <@Ciera> before i imported numy i did round rom built in; same effect; :disappointed:
there might be an answer here <https://docs.python.org/3/tutorial/floatingpoint.html#tut-fp-issues>
"but i will check yout tutorial, i read a lot at stackoverlflow, and from what i understood numpy round with 128b accuracy"
Trying to think about Blockchain but for open RTB bidding. Creating a block chain or an idea of one for a transaction of a bought / sold impression in digital advertising. Instead of self.data = data I was hoping to use data Asa. Dictionary to store multiple values within data; If that makes sense?
I don't quite get what you mean; what do you want to happen when a block is initialised?
For it to capture the data generate a hash and a time stamp. I think I am way over my head lol. ; Still pretty new to python the fundamentals I get. Maybe a block chain project is ott for the moment 
"```
class Block:
    def __init__(self, index, timestamp, data, previoius_hash):
        self.index = index
        self.timestamp = timestamp
        self.data = data
        self.previoius_hash = previoius_hash
```; does that not achieve what you're after?"
It does but now how can I specify what goes into data. ; Thats what was confusing me slightly as I want data to be a dictionary like my first example 
"```
...
data = {
    'buyer': 123456,
    'seller': 654321,
    'cpm': 1.00,
    'url': '<https://google.com>'
}
Block(index, timestamp, data, timestamp)
```; it's whatever you want it to be"
Ok I get it now. As that doesn’t haven’t to be in a function it can just be a single dictionary 
`time_in_range` missing in action
"Hi, quite new to python here. I would like to create a script that collects video stream and do some image processing on the frames then proceed to send the frames to the server. On the side while serving a flask application that shows the video feed. I would like to have some guidance on how do i approached this as most of the guide i found is on video streaming flask application, that would only works if there is a request to the flask url."
What specifically you have trouble with?
basically im having trouble showing the frames in the flask application; here's a gist of what i have; <https://gist.github.com/anonymous/08edbaf788f8c4c5d342ab03779bd18b>; that works fine but the problem with that is faces wont be sent to the server if there is no request
"Anyone knows how to get IE11 on Win7 to send along credentials when loading a script from our application?

We have a script that is behind auth, and works perfectly on Chrome/FF/Safari/Win10 IE but when we try to get this script on Win7 IE11 it shows our login page? When opening in a new tab it works… It’s on a different domain"
<@Casie> what kind of auth?
<@Marcie> the default Django session auth; the js file gets rendered from a view
check the network dev tools to see if the cookie header is being sent along with the JS request; i remember some similar behaviour with an internal tool at my last job that was on the intranet and had some security settings in IE11 that didnt allow the cookie to be passed along with it in some conditions
<@Marcie> will check
Guys I am looking for a postgre gui client. Something like phpMyAdmin but for postgre. Aaaaand preferably free
pgadmin?
thank you!
solution is; <https://gist.github.com/janpauldahlke/42f6773a7b0ff5cf63aaaddf11b32dc9>
:thumbsup:
Hey guys! Can someone help me. I am new at Python and I am stuck on this script for 2 days. I have script (<https://gist.github.com/2filip3/bd8d0f26491572c1cce355e9f7e0d366>)that monitors folder and notifies me when files are changed. I want to notify me on email but I don't want my email to get spammed because the file changes every 5 sec. So can som1 tell me what change to make in script so I can get notified ONLY when files are NOT CHANGED OR CREATED so I would know my script has stopped. Thank you!; It supposed to be running on server 2.7 Python
"I don't understand; <@Ivonne> 
You
&gt; notifies me when files are changed
but also
&gt;  I can get notified ONLY when files are NOT CHANGED OR CREATED; can you clarify?"
"Yeah sure. Script I am running is monitoring my folder. In that folder i have files tar.gz that are being updated every 5 sec. In my script I get notifications about every change that happens in specified folder. Now, because I wont to get those notifications on email, I need to rewrite script so it doesn't notify on every change because my email would be spammed. I need to modify it in the way that notifies me ONLY when files in specified folder are not being changed/updated or created so I would know when my other script(that is making those files to be updated) has stopped working."
are these like rolling log files?; do you maybe only want a notification when a new file gets created?
Sounds like he just wants to be notified when his script crashes
Could just put an atexit handler on the script
What happens if the host crashes?; Not saying it's relevant in this case
then the script-monitoring script probably went with it; ¯\_(ツ)_/¯; need a little more specifics if we're going to go down this particular rabbit hole
I think it might be easier to use a process manager to monitor the first script; than check if files are being created/modified
depends on how the first script typically stops working
"I need to monitor files, not script guys.; Script can be runing but the server that are downloading files from can be busy or at full capacity so my files wouldn't get updated and changeed; I just need to modify script which i've put above in the link so it can notifies me when the files are NOT updated"
"sounds like you should define the files you want to be notified of updates with a unique prefix or suffix; and your script will check all modified files for that; if it matches, send an email"
"I am monitoring whole folder, and i can get notifications on every change. Now I just need tomake little change to notifies me when the files are not changing but I don't know how to do that"
use an interval
are you certain there will not be any files there which are _normally_ not changing?
check every 30 seconds or so for changes
"yah, just stat the files and check for update times more than X seconds old; ```for file in file_list:
  if (os.path.getmtime(file) - time.time()) &gt; 30:
    print 'it has been more than 30 seconds since {} was updated'.format(file)```; something like that"
Well I think this is helpfull but before this I would need to make a function that states whenever the file is created it should be added in the file_list so I can iterate within it. Right?; I was more looking to find some simple solution to modify watchdog; script above
"I don't know how many file notification events you were getting before, or how long you want to wait between checking for activity, but this is probably more efficient than the event based system; the problem with the watchdog is that any event you get will always be the brand new, so you won't really be able to use it to check how 'stale' a file is unless you add some pretty wacky logic; you _could_ use the watchdog to build up your file list and add new files to the list any time you catch a file creation event"
you could also use something else that is built for watching files. you may be able to configure syncthing’s inotify to watch the folder and hit the syncthing rest api. <https://docs.syncthing.net/dev/events.html>
Is there a jobs board associated with this slack channel?
<#C080T8XT2|job_board>
"Oh, awesome. Didn't see it listed. Thank you so much."
:slightly_smiling_face:
"Guys, I have an API client and I want to extend it to track all API calls and keep logs of each call in an SQLite DB. Specifically the _get(), _post(), _put() and _delete() functions in this simple API wrapper <https://github.com/sammchardy/python-kucoin/blob/develop/kucoin/client.py>; Whats the best way of doing that? Can I used decorators on those functions for this? Can decorators interact the variables in the decorated function scope? Or do I have to extend those functions and inject the logging/tracking stuff before the return for each of the functions that call these?"
You could create a decorator for sure
You can use a decorator for this
"Can anyone help a python scrub figure a “simple error” out? I’m trying to import matplotlib (specifically, matplotlib.pyplot) and i’m getting the error ```  ImportError: No module named matplotlib.pyplot ``` I was getting this same error for when I was trying to import numpy, pandas, etc. But I somehow was able to install pip and use ``` pip install blah``` Been searching online but the answers are all super case specific..? Am I installing these modules somewhere else (I believe I have both Python3 and 2.7 and whatever came with the OS) Can anyone shed some light on the situation for me? Thank you!"
<@Cecille> Are you using a virtual environment
(hopes you’re talking to me)
Oh yeah; Idk why it tagged that person lol
"N/w hahaha, I am (I think) I’m using jupyter notebook; with anaconda?; I believe; OHHH; Do I need to conda install those modules on?"
<https://stackoverflow.com/questions/38368318/installing-a-pip-package-from-within-a-jupyter-notebook-not-working>; If you're trying to install within a jupyter notebook
Not really sure where in that thread the answer was but I tried the most upvoted and I got the same thing
"Decorator can work too, but I think it's best to add a couple of lines to _request"
"<@Cecille> Can you explain what your setup is. You say you're using a jupyter notebook correct? So all your code is in the notebook itself, yes?"
Yessir; I found this online: <https://github.com/jupyter/notebook/issues/1524> seems to be the same issue
Yeah so basically you need to figure out what python interpreter it's using
how would I go about doing that?
"maybe ```import sys
print sys.version```; ?"
"```import sys
sys.executable
```"
Interesting; So i’m getting that it’s reading from ```/usr/bin/python'```
"anaconda installs a pseudo-environment, I find it easier to use the whole thing in a virtualenv; then it will conda install things into its own path and that may or may not be the same sys.path as the repl"
"Thats fine, I just need to temporarily use these packages for some projects; If I need to install everything into the psuedo enviornment that is fine; Should I be using the conda cli then and installing the packages?"
you can cd anaconda and then source bin/activate then go pip install crazy; I've had too many of the issues you've described and I find doing a clean anaconda environment is the cleanest way for me to manage the different packages (and their installs)
Hmm
"I see that <#C23BP95K9|bots> is dead, are there any other good resources for slack bots here?"
in <#C2FMLUBEU|community_projects> we have sir-bot-a-lot which is our friendly neighborhood community bot.
"Oh wow, it looks much better than the official slack framwork.; Thank you."
<@Glinda> if you are looking into building a slack bot I created a slack client that you can find on the pyslackers github. <@Alesia> is not yet build on it but once I got time it will
This one? <https://github.com/pyslackers/slack-sansio>
yes
feel free to ask if you have any questions on it
"How do you deal with tokens? I'm doing this for a slack I don't own but contribute to their projects. Do I use my personal test slack working, and then commit the code to them and tell them to add their token to the environment?; I've been using the `xoxb-` tokens in a local environment with ngrok."
"Hello, does anyone have experience with `Celery`?  Basically, we want to publish an arbitrary data structure to a queue, SQS for the queue, and the object could be `{""foo"": ""bar""}`.  But, Celery expects objects to be in certain format, per the ""Messaging Protocol"" below:

<http://docs.celeryproject.org/en/latest/internals/protocol.html?highlight=message%20protocol>

Is there a way to make an intermediate adapter to handle arbitrary objects, and make them only the `body` in Celery's Message Protocol object structure?"
nobody has ever used Celery; is a Slack tutorial to create one
<@Carmella> you could use a lambda function as translation between the two
<@Marcie> ok got it. AWS Lambda. I was hoping there'd be a hook in Celery though
Hey everyone
"I’m writing a django query that returns a large amount of results. When I try to print those results, i get three results and “remaining elements truncated.” How can I print out all of the results? Im using something like: 

n = Example.objects.filter(name__contains = ‘John’).exclude(‘Smith’).values_list(‘name’) 

print (n)"
"<@Sunni> thats default behaviour for queryset objects, you could print the whole list with `print(list(n))`"
"that’s really helpful, thank you!"
I am trying to write a python wrapper for a java maven project. Any pointers on how to go about it? how to write it so that the resulting library has optimal performance.
"How do I properly download a `.gz` file? My code below:

```
import requests
response = requests.get(map_url, headers=headers)
    print(response.status_code)
    if response.status_code == 200:
        print('Downloading...')
        file_name = 'file.xml.gz'
```
it does download gz file but it's corrupted, only 1KB and when I try to unzip it adds `.gz.cpgz` in the file name"
<https://stackoverflow.com/a/16696317/6223515>
"yeah, stream for the rescue"
same issue :confused:; when unzip it creates `file-reports_2.xml.gz.cpgz`
<@Glinda> depending on what features you want you should ask them to create you a `bot` or a `workspace` token (see <https://api.slack.com/docs/token-types>)
"I made a private team for dev, it's much easier that way. And once your are finish ask them the token with the needed permissions; In the end the guy hosting the bot will need a token"
"<@Pasquale> what you're trying to download is an HTML page; &gt; As you were browsing, something about your browser
made us think you were a bot.; And there's a captcha"
"hmm but if that's the case, if I download manually it gets downloaded?"
"Hi team I need help understanding why my code loops through 20 times…I thought the items(1) cause it to loop once?

```#open/create csv file to append data to
csvFile = open('./logs/links.csv', 'a')

#use csv writer, reader, example
csvWriter = csv.writer(csvFile)
screener = api.user_timeline(screen_name = 'TechCrunch')


def get_tweets():
	'''gets curnchreport tweets'''
	for tweets in screener:
		for tweet in tweepy.Cursor(api.search, q = ""#crunchreport"", 
									since = date_N_days_ago, 
									until = today, 
									lang = ""en"").items(1):	                          		                                    	                           

    # Write a row to the CSV file with the id of the tweet
			csvWriter.writerow([tweet.id])
csvFile.close()```

Full code here (<https://github.com/peterglynch/crunch-report-sms/blob/master/CRsms.py>)"
you also loop over `for tweets in screener`. Is this expected ?
I’m not sure if it is intended by I wanted to first get to the user (‘TechCrunch’); So my thinking was `for tweets in TechCrunch` user time line search for tweet with #cruchreport; I’m not really sure how else I would implement
"Sure, since you are using the real browser. And the script isn't a real browser and fails a couple of checks probably."
<@Theressa> I'm not familliar with the tweeter API but what I think this does is loop over the timeline of TechCrunch and for each tweet in the timeline query twitter for a tweet with `#crunchreport`; There might be a way to search a specific user timeline
good point I’ll check the documents; <@Ciera> thanks
"Hey, Can anyone help me out with a Query? 

I have a table called Component supplier and im getting errors telling me that some components have the same supplier twice. 

So i need to make a query that will search either the components table or the Component supplirt table and highlight the records with duplicate suppliers.

At the moment im working from the SupplierComponent table.. and im trying to get the records that have matching part_no's and matching suppliers. 

Any help would be appreciated :slightly_smiling_face:; ```SupplierComponent.objects.values('component_supplier').annotate(name_count=Count('id')).order_by().filter(name_count__gt=1)
```

I have this which lists the supplier and how many components they supply. Now i just need to compare the component, if they have the same part_no and same supplier then i know that record has corrupt data."
Hi! Does anyone know library to build http request string (I mean I need plain http request string; I need to make a payload for goreplay)?
I don't know one but maybe `requests` provide this ?
Anyone have a particular `.xlsx` python module they like?
"I'm currently writing data to a csv, but I'd like to port it into a workbook with templating/formatting etc"
<http://xlsxwriter.readthedocs.io/>
"xlsxwriter; downside, that’s write-onluy"
Can I append with it?
so you can’t use it to modify an existing workbook
"well, it’s not `xlsxreadwriter`"
lol; true; Oh <@Patty> btw I think I figured out what the final project will be for next semester
whats that?; xlsx reader?; :troll:
:smile:; <http://xlsxwriter.readthedocs.io/introduction.html>; check ‘disadvantages’
"Same sort of beacon networking using the LoRa stuff, but found thse micro python embedded chips with native LoRa radios <https://pycom.io/product/lopy/>"
"ah nice!; i actually saw a job posting about LoRa the other day, lol"
Oh that's interesting. Friends company down here in Florida does a lot of work with embedded devices and IoT. I don't think they work with LoRa in particular but they have some proprietary devices they implement; For xlsxwriter is there a function similar to `writerow()` in the `csv` module where I can simply pass in a list of row items?\; I guess I can always do something like...
"<@Myong> I went to a talk by the auther of pyexcel the other day, seemed pretty cool; <https://github.com/pyexcel/pyexcel>; I've used openpyxl in the past and it was ok. <http://openpyxl.readthedocs.io/en/default/>"
Actually looks interesting
"Yeah, can't comment on the API ergonomics, but the objective of pluggable functionality is pretty cool"
It looks like it's really modular so you use what you need; Wow you legitimately just add a list of list to an ordered dict and it does everything else for you; <@Marg> check out line 35 in your snippet; You're missing an indent
noted
Also may be a good time to mention <https://www.python.org/dev/peps/pep-0008/> to get some more consistency
"I started using pep8 a while back, But I've seen that even with pep8 there's stylistic choices and then pycharm will regularly yell at me for things that idk what is going on.; like this ```def on_open(ws):
    logger.debug('Connection Started - Auto Greeting new joiners to the network')


def run_bot():
    setup_logging()
    url_response = start_rtm()
    web_socket = websocket.WebSocketApp(url_response,
                                        on_message=on_message,
                                        on_error=on_error,
                                        on_close=on_close
                                        )
    # ws.on_open
    web_socket.run_forever()


if __name__ == '__main__':
    run_bot()
```; it doesn't like the `ws` in on_open."
in the comments because of scope?
`parameter 'ws' is not used`
"<@Glinda> you can suppress individual types of error by pressing alt+enter in PyCharm and choosing ""Ignore errors like this""; hmmm, I don't know if it differentiates on comments, do you? had never really thought/tried"
That's usually an issue I want to keep.
"agreed, I wonder if there's a way to get more granular, /wonder; as in that's about as far I'm willing to go even though I probably have run across that exact thing; <http://pep8.readthedocs.io/en/latest/intro.html#configuration>"
<https://www.jetbrains.com/help/pycharm/suppressing-inspections.html>
"sigh, pycharm used pep8 to justify pep8 error handling; ```(*) In the default configuration, the checks E121, E123, E126, E133, E226, E241, E242, E704 and W503 are ignored because they are not rules unanimously accepted, and PEP 8 does not enforce them. The check E133 is mutually exclusive with check E123. Use switch --hang-closing to report E133 instead of E123.

(^) These checks can be disabled at the line level using the # noqa special comment. This possibility should be reserved for special cases.

Special cases aren’t special enough to break the rules.```"
come again?
"errr getting my style and my zen mixed up, they used Zen of Python to justify their Pep8"
I need to find certain identifiers(datetime related keywords) in JQL (jira query language) and possibly remove them without breaking syntax. How do I go about parsing this JQL? Is there a well known tool or a better approach?
"```# noinspection PyUnusedLocal
def on_close(ws):
    <http://logger.info|logger.info>('Connection Closed')```; that works."
"<@Cordie> did you checked out jira lib?
<https://jira.readthedocs.io/en/master/>"
waat that never came up in my google search
@leo where are datetime saved? Changelog?
no for example
It depends. In my Opinion you can‘t find all via jql
jql=“label=‘string’ AND blah &gt; ‘2017-10-11’; i want to remove “blah &gt; ‘2017-10-11’”; but it is not as simple as using just a regex; i think the link you provided is more to do with working with jira’s api; my problem is more on parsing a language…
"I see. I can‘t really help you.
But just of curiosity - what is the use case?

Who wants to do this change? And through which interface?"
<@Cordie> are these values strings or datetimes?
<@Jeffery> it’s just an app I am building. Jira has a kanban board and i am importing the jql that populates the board; <@Glinda> well i need to cover all hahaha
I don’t really see the value of letting you know there are unused params when it can simplify functions or signal you’re doing something off ¯\_(ツ)_/¯; why would you be writing functions with unused params anyway?
"Yeah, I agree"
Anyone here use jupyter notebooks  &amp; anaconda to manage their environments? I’ve managed to create and manage my packages using the enviornments from anaconda but I can’t seem to get jupyter notebooks to read from the right enviornment too
"joe, it's something with `websocket`; <@Rheba>"
I’ve legit been stuck for 2 days now on this issue :cry:
<https://stackoverflow.com/questions/37085665/in-which-conda-environment-is-jupyter-executing>; I'm a little out of practice with jupyter/ conda but me switching away from those two was partly due to issues with virtual environments.
<@Glinda> if it’s `on_open` then you just do `ws.on_open = on_open` and drop the `ws` argument since it’s not used. it’s not required for websockets
Dude it fucking blows <@Glinda> but every data scientist I run into uses it :disappointed:
So just drop ws?
yep; same with in `on_close`
"Hmm, must have been a python 2 thing; Bunch of what I was doing was ported from python 2 :confused:; Aite thank you."
"if any argument _must_ be there and isn’t used, naming it `_` is also a preferred method"
"<@Cecille> the problem from transitioning from anaconda to pip is that you're going to run into issues with numpy/ pandas.; conda is great for installing those packages.; And it's really not difficult for someone who has experience with python to do it, but dealing with the binaries _while_ learning python and wanting todo data science is probably the biggest reason I see people pushc onda.; If you have a student id, you can get pycharm pro for free and they are working their darndest to steal that data science money from spyder/ conda.; Give me a second, I want to see if the new changes make it easy to deal with numpy/ pandas in a windows"
"btw <@Glinda> you’re right, the `ws` lib is going to provide that argument by default, so `_` may be better if you aren’t using it"
"Thanks man,  the main reason for asking isn't finding a working solution but best practice."
"yeah it made me realize that it may be forcing that positional arg in, feels like it should be a kwarg but hey i didnt implement it ¯\_(ツ)_/¯"
"It's probably better to treat the socket as a class.; <@Cecille> So I opened a new pycharm project. Typed `ctrl +alt+ s` and created a new virtual environment and applied to this project. Then I  created a folder with these imports. ```import pandas as pd
import numpy as np
import matplotlib.pyplot as plt```; It told me package wasn't installed in virtual environment. So I clicked on them pressed alt enter; ```11:51 AM	Packages installed successfully: Installed packages: 'numpy'

11:54 AM	Packages installed successfully: Installed packages: 'matplotlib'

11:54 AM	Packages installed successfully: Installed packages: 'pandas'```; Addded this to my script ``` s = pd.Series([1, 3, 5, np.nan, 6, 8])
print(s)```; ```0    1.0
1    3.0
2    5.0
3    NaN
4    6.0
5    8.0
```; Now im installing jupyter; and sympy; <https://www.jetbrains.com/help/pycharm/using-ipython-jupyter-notebook-with-pycharm.html>; ```11:59 AM	Packages installed successfully: Installed packages: 'sympy'

12:01 PM	Packages installed successfully: Installed packages: 'jupyter'
```; Now I can take this virtual environment I have, and save it with some name. To use as a base for all projects."
"Hry guys just found a small bug; In inserting rows of data I have a small thing for inserting `None` in cells which are missing data in order to keep formatting in order for headers and what not; But my issue is that in some cases when there are two or more cells of data missing, the way I am inserting the data into excel is as such; nvm cant put the code; but, my question is, is there a way to order a list based on the order of another list?; so if I have something like `[""hello"", ""bye"", ""ok""] and [""ok"", ""bye""]`; I want the resulting list to be `[""bye"", ""ok""]`; Wait I think I got it actually; Figured it ou!; out"
nice job; Do you use windows 64 python 3?
"Uh oh, another issue :confused:"
?; Maybe take a step back and explain the problem
"So basically I have an excel file I'm generating; Now the response from the GET I make to this API send me XML with a bunch of nodes that have child nodes; I grab the text from the child nodes in the order which it appears; But in some cases the data doesnt contain every node which the header contains; so say the header covers 38 columns cause it can contain 38 different pieces of data; Sometimes I only get 35 from any given node; so I'm missing data; But I wanna insert it under the correct header; so I have a list of headers and the headers are the ""id"" nodes which are always included in the response; I also store each different main node as a dictionary, and place the dictionary in a list"
Can you show an example of the response?
I can not actually
"Even just the header list with id, and another row list of id."
I cant do snippets on this computer; I would just post my code if i could
snippets?; Do you not have `` key?; So since you say order of nodes matter you get the header data first right? So can you get the key from each header item and use it later to match the column from the rows of data?
Yeah basically I have all possible headers and theyre in the proper order; I put the masterlist of headers and also the current headers for the current set in a `set()`; then I take the difference of one set minus the others
Any chance you tried to use a dictionary?
"to get the headers which arent in the data set; I am using a dictionary, yes; When I first filter the data; But I still have to check if the key exists in the data and if it does not I dont add a key to it for that header; debugging right now i have one id i know is messing up; I think I know actually what is happening"
"Without seeing your data and what you want to happen, or code. It's pretty hard for me to help more."
Yeah I know; But I think I know the issue; if there are like 3 keys
Explain why you are using `set()` to filter?
with set you can use `set1 - set2`; so like
set doesn't preserve order
"I reorder it; with filter; `filter()` based on index of headers; but the issue is this; just realize; when inserting into a list with different size than the main header list so like inserting into a size 35 list based on indexes of size 38 list; So if I have `[1,2,3,4,5,6,7,8,9,10]` as a main list"
"Okay so if you wishto preserve order and subtract items from list_2 from list_1 this is one way you can do it:
```list_1 = []
list_2 = []


list_removed = []
for item in list_1:
    if not item in list_2:
        list_removed.append(item)
        ```; If you wish to add a space to the list when you remove: ```list_1 = []
list_2 = []

list_removed = []
for item in list_1:
    if not item in list_2:
        list_removed.append(item)
    else:
        list_removed.append(None)```"
It seems mostly to be an issue when two missing cells are next to each other towards the end of the list; and there is also a missing cell towards the beginning
"This will also work: `map(lambda x:x if not x in list_2 else None, list_1)`; ```&gt;&gt;&gt; a = [1,2,3,4,5,5,6,7,8]
&gt;&gt;&gt; b = [1,7,8]
&gt;&gt;&gt; list(map(lambda x:x if not x in b else None, a))
[None, 2, 3, 4, 5, 5, 6, None, None]```; Actually that works. forgot the not"
"<@Myong> So you're receiving XML, and ultimately you want to build a spreadsheet with it? I'm assuming you're generating a csv file that you're opening in excel, is that right?"
"Yes, I can do pretty much everything but there is an issue with formatting it correctly"
It seems like you're manually generating the csv yourself.
It's pretty complicated to explain you can read back but for now im just debugging it
Have you tried <https://docs.python.org/2/library/csv.html#csv.DictWriter>
you can even specify a restval to fill in gaps where you don't have a value for the field.
"If you can get the XML into a dict, you can throw each one into a DictWriter object and it will take care of everything for you."
I got it; I think it actually worked the whole time and I looked at the wrong file :upside_down_face:; Okay now I found the issue; It's in deciding what order to insert the items
<@Glinda> got it!
What did you did up doing?
"Found a stackoverflow which pointed to a conda package called ``` nb_conda``` that you need to install; Which is also in the docs butttt they don’t mention that you need to install nb_conda  on the machine and the env; or maybe im just a scrub, who knows. But it works!"
I can’t find the function definition for settimeout in <https://github.com/python/cpython/blob/3.6/Lib/socket.py>; where is settimeout defined?
<@Sabra> <https://github.com/python/cpython/blob/d3187158c09cf899e9849f335bdff10594209167/Modules/socketmodule.c#L2584>
Thanks <@Patty>
No problem!
"Guys in python lists there is a method called insert ,can someone clarify can it insert or single element or multiple elements in to the list ?"
"`list.extend()` can take an iterable and add all of that to the list, <@Bette>; <https://docs.python.org/3.6/tutorial/datastructures.html#more-on-lists>"
"an extend with an index is a bit trickier to do but also possible; ```&gt;&gt;&gt; base_list = ['a', 'b', 'c', 'd']
&gt;&gt;&gt; insert_0_list = ['1', '2', '3']
&gt;&gt;&gt; [base_list.insert(1, item) for item in reversed(insert_0_list)]
[None, None, None]
&gt;&gt;&gt; base_list
['a', '1', '2', '3', 'b', 'c', 'd']```"
"@joe  it will allow single argument like append or multiple argument like extend that's my question,hope you got it"
single argument
Thanks Johnson :+1: 
So im not sure if im doing it wrong or just not understanding but how do you make a server using asyncio? I dont get how you write the web handlers
you would need to use the equivalent of something like requests which is aiohttp.
i also think requests now supports asyncio.; let me find a link.
"Like in node and express you use app.get/app.post then the url after the server url, isnt there a sinple way to do this in python?"
I find <#C0LN2AD7T|flask> to be the most express-esque python server
"Well their home page is nice haha, looks very node/express-y"
<@Tangela> when you use the `with cursor` context manager it closes the cursor after the code block; so you need to move all `cursor.execute()` statements to be within that context manager
Thanks @joe worked perfectly
<@Patty> :taco:
thanks <@Winnifred> :slightly_smiling_face:
(you beat me to the answer); :stuck_out_tongue:
"<@Patty> any help on running flask? Haha
Their example on how to run it doesnt work"
"sure I can help, let’s take it to <#C0LN2AD7T|flask> to be in the right channel"
What exceptions are you worried about?
string too long and invalid chars...
"You kind of have a lot of things happening in this single statement.; What do you want to happen when you encounter 1. string too long, and 2. invalid chars?; Also can you paste the code here, I'd rather not retype most of it the images are helpful."
"1. When encounter a string too long I want inform the user that string is too long for store it on db, 2. The user cannot store on column emails invalid characters like /, *,&amp;, %, etc."
Are you using python &lt; 2.7
I'm using 2.7
"Okay; So I split your system into three parts.; So now you have a single location where you might have an exception `db_cursor.execute('INSERT INTO {table_name}s({table_name}) VALUES {row}'.format(table_name=table_name, row=row))`"
Thank you very much <@Glinda> I was using try..except in everywhere but with your code was reduced to 3 at least
"You know, I don't think you need the `cursor.close()`; Couple of things: 1. Don't use user=root, pw = '' set your password to something if you must use root.; 2. Try to define functions and make them reusable; Make your functions do as limited as possible; The more they do, the harder it is to debug.; A bunch more things I can suggest. But primarily, try and use python 3, and try and use a ORM like sqlalchemy.; If you're just getting into python, it's better to start off with python 3.; Anyways, feel free to ask any more questions, or more help. I'll be around here for a little while longer tonight."
"I see, from now on I will write more generic functions, I usually don't do that, later I got lost in the errors, py2.7 should be discontinued so maybe better try the most actual, there huge differences between it?"
Probably the biggest thing you'll notice is in python3 print is a function `print('string')`
"hi guys. a ver beginner question. considering this piece of code, that should sort an array of strings by their length ```def sort_by_length(arr):
    
    return sorted((a for a in arr), key=(len(a) for a in arr))```the 3.6 compiler tells me : `Traceback:
   in &lt;module&gt;
   in sort_by_length
TypeError: 'generator' object is not callable`. can someone be so kind to tell me whats going on, without to much solution spoilers :slightly_smiling_face: good morning EU and thanks in advance"
The `key` should be a function.  <https://docs.python.org/3/howto/sorting.html#key-functions> might help you.
"ok, but len is a build_in? i will read and contemplate.; thank you <@Gisele> i've learned a lot on this. Solution is very compact ```def length(word):
    return len(word)

def sort_by_length(arr):
    return sorted(arr, key=length)```; even shorter with this; ```def sort_by_length(arr):
    return sorted(arr, key=lambda x: len(x))
    
````"
"yes, len() is built in.; this may be a spoiler, but

```def sort_by_length(arr):
    return sorted(arr, key=len)```

is shoter a bit."
"argh, i see, even shorter and also more intuitve. sometimes i think way to complicated; thanks for your attention. may the code be with you :slightly_smiling_face:"
"Hey everyone.
How get number from this string in python 2.7
```print u'\u517145\u9875'
共45页```"
number for this string? :confused:
*from
"```
&gt;&gt;&gt; for c in s:
...   print(c, c.isdigit())
... 
(u'\u5171', False)
(u'4', True)
(u'5', True)
(u'\u9875', False)
```; Remove trailing non-digits; Join what's left and convert to an int; Works for simple cases only, and won't work for ""aa10bb15"""
thanks
Anyone using Rollbar for logging in Django and passing in `extra` when using Pythons logging module rather than `rollbar.`
"Hello, I'm new to Python and I'm trying to find some data with a regular expression. Does anyone have any idea why this does not match?
```
regex = r'(?&lt;=Travis )CI'
match = re.match(regex, 'Travis CI')
```"
"try search instead of match; for match, pattern must match from the beginning of string"
"<@Lachelle> Thanks, that worked. :slightly_smiling_face:"
"Hi guys. I am working with Celery, and it’s pretty cool. However, I would need a way to communicate with my application and I was thinking of nameko due to the wide range of communication protocols.; I am still in the learning mode, so I am not sure if it is a good idea or not; how do you usually provide your application with a communication layer; that can be rpc or pub/sub?"
From what I know most of the times people try to use redis to store celery result
"Or rabbitmq, those are probably the 2 big backends"
"oh yes, if you need to store results  you can use a few backends service. However, my questions is about the integration of the two project.; Let say that the main business logic of the workers is made with celery.; but I need to expose a public api; and I don’t want to use flask or some other REST api; oh well, I would like to use something different than that; something more message oriented.; I am not sure if combine together the functionalities of nameko and the logic of celery is a good catch or a bad idea"
you want to expose an API over the network other than HTTP ?; nameko seems to be over http or AMQP
yes. I am trying to integrate it with AMQP
Hi .. how to iterate over json stream.. to prient both key and value for all the items in the json steam.. pls help me on this 
And I need to help for reading data from xml  stream also .. 
Here is the full info ... 
I am trying fetch the configuration from Jenkins api .. using python-jenkin module.. I got the xml output ..  now I need to convert this to readable formate like key value in the print screen.. I tried convert the xml stream to json stream using xmltojson module .. after that I got the json steam ... But when I try to iterate over the json items I am getting error saying like.. attribute Error. 'str' object has no attribute 'items' ... I tried in Google but luck .. pls help me if u know the way to to
<@Alexa> you are probably missing a conversion from json string to dict; json.loads(your_str)
I have that in my code ... ; A = json.loads(json.dump(xmltodict.parse(xmlstream))) this my conversation code; After this I am trying to iterate using for loop 
"<@Jacki> i don't know if i understood your question. Are you worried about using nameko and celery in your service, because both are over AMQP protocol?"
<@Alexa> why are you converting to json when you alreayd have xml to dict conversion?
"<@Alexa> could you post the code here as pyhon snippet? And yeah, loads after dumps is nosense."
<@Meg>  i am not able extract data from dict.. also  
"if I read your code right, you’re converting xml to a dict, then to json string, then load that string it as a dict; what do you get when you do `type(xmltodict.parse(stream))`?"
<@Meg> let me check
that should be a dict; <https://github.com/martinblech/xmltodict>
<@Meg>  i am getting OrderedDict ([(....
"ok, that’s a dict there; so how are you accessing the keys?"
<@Wade>  any way to achieve this 
<@Alexa> btw beware: json.dump and json.dumps are quite different methods
"one relies on a file, and the other relies on a string; <@Alexa> use this for code formatting; <https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages#code-blocks>; because what’s appearing here is you’re doing the wrong thing with loading the data into a dict, and reading from the dict"
'for i in A.items():'
and then?
"""""""for i in A:
	for k,v in i.item():
		print(k,v)"""""""
"those are backticks, not quotes; on the left side of the 1 key; usually; :smile:; ok, there are a number of problems here; first, you have to use `items()` for `A`, and not inside it"
it was type mistake items only there..
"eg 

```for i in A.keys():
    for k, v in i.items():
        print(k, v)
```; because you need to specify _what_ you’re trying to get from the dict"
ok; lmc
because its not an iterable by default
"this will fail if one of your ""outer"" dict values are not dict themselves; uh wait"
<@Wade> <@Meg> not i am getting above error
that doesn’t make any sense at all; are you using `A = xmltodict(stream)`?
"in your snippet ""i"" is one of the keys of a dict; and it's not possible it's a dict, because dicts are not hashable by default (probably OrderDicts are, but idk); (and dict keys needs to be hashable...ofc)"
"<@Wade> yes, I was wondering if it is a good solution in terms of performance and design. What I would like to have is an agnostic adapter for the APIs side of the application. Moreover, I’vent found that much about nameko and AMQP. Do you have any good example how to use it with Redis or Rabbit? Thanks a lot ; <@Tangela> could you show what kind of data your CSV have? "
<@Wade>  got it but it is not the key.. in dict let me ping the full code then u guys will get the clear idea ..
"<@Tangela> other than the error you are getting (probably because that 'row' is invalid) , there is another kind of error (a LOT worst). You are exposing your system to be SQLInjected. If someone puts in that CSV a malicious snippet of SQL code, you run it in your database :slightly_smiling_face: look at psycopg2 docs and about SQLInjection generally <http://initd.org/psycopg/docs/usage.html>"
Thanks <@Wade>! going to check it
"<@Jacki> no, i'm sorry. I've not used celery or nameko. I only heard of them and look'd at their API some time ago"
"I use celery alot, but not with nameko; celery tasks are integrated with django apps, so I call them through regular django HTTP API calls"
"Hey slackers,  I started work for a new company 6 weeks ago, that is in desperate need of automation across the board..  I have been implementing python and bash scripts here and there to prove concepts and add some immediate value.  I want to step this up a notch and implement some type of integration platform that I can use to consume and push to rest APIs.   This is what I have been doing with python, bash and cron, but I’d like some sort of platform versus a bunch of scripts and cron.  I was looking at <https://zato.io/> and wondered what you all thought about it and if there are others I should check out as well."
"That won’t prevent SQL injection, you’re putting the values directly into the query without sanitizing them; <http://bobby-tables.com/python>; though it depends on which database module you are using; Also, a small thing, but it’s a lot easier to share code/output on here with snippets or code formatting with backticks instead of screenshots"
"idk MySQLdb syntax, so you should check the API yourself. Consider using psycopg2, which support almost all SQL drivers <http://initd.org/psycopg/docs/usage.html>; in the usage there is also the example to avoid SQLInjection"
`psycopg2` supports other dialects?
you sure psycopg2 supports mysql?? I can't find anything about it mentioned in their documentation or anywhere else...
I’m 99% sure `psycopg2` is specifically postgres
"for mysql he should be using MysqlDb, which also supports DB API2; me too, I got really surprised when I read such an statement"
"So, maybe should be better using a ORM like SQLAlchemy?"
"Realistically you should be using some type of framework that makes it so you don't have to write out the sql statements. I like sqlalchemy, but my experience level is like maybe a total of 50 hours. Some people here can provide you good alternatives."
"<@Patty> <@Keneth> aww gawd, i'm so dumb. Yeah it's postgresql specific :sweat:"
#sorry
"I used SQLAlchemy some years ago, was my first touch with a ORM, I guess will not be problematic try to implment,  anyway better that use pure sql statements. Thanks <@Wade>  <@Patty> <@Keneth> <@Glinda>"
"<@Tangela> if you are adventurous enough, give a try to peewee. A simpler and smaller ORM, but yet powerful enough. I've been using it with Flask and I love it.; it has extensions for some of the most used databases, and it's quite awesome. The author, owner and maintainer helps with doubts on Stackoverflow quite quickly.; anyway, there's no problem using SQL sentences, if you need them. But the DBApi2 interface supports parameters, which sanitizes the input for you for the values, so things like SQLInjection are less prone."
"Hi ... I am new to django and I keep running to migration problems like `django.db.utils.DatabaseError: ORA-00904: ""CORE_COMMAND"".""HIGH_RISK_JUSTIFICATION"": invalid identifier`.  Is there a trick in trouble shooting these sort of issues?"
<@Keneth> +1 for peewee. I tried it and was so smooth and easy
is this oracle?
yes
"what happens when you google examples of that error; not sure how oracle handles it, but invalid identifier seems to me its a bad type or null value when there’s something expected"
oh its pretty clear that the column high_risk_justifitication does not exist in the core_command table.  But the the django core/model.py references that field.
"did you make a migration?; a new one, that is"
and I have done the makemigrations and migrate
is the first in the migrations?
about the only thing I can think of is there’s some sort of migration out of order.
or one didn’t generate correctly and the SQL may show the field wasnt being created
"is this a new column name, or is it being re-used from a previously deleted/renamed column?"
There is a migration file that adds so I'd say it s new column
do you set a default value for the field?
would zapping the pyc files help at all or be a disaster; I'll check for a default value; nope no default value
"ok, if the field is not nullable, that’s a bad thing; because if you’re changing a db table by adding in a not null field,you need to specify _some_ value to be inserted"
"`    high_risk_justification = models.TextField(blank=True, null=True)`; so I need to add a default?; looks like it is nullable ..."
"what I’d do is remove `null = True`; <https://simpleisbetterthancomplex.com/tips/2016/07/25/django-tip-8-blank-or-null.html>; &gt;Now, where most developers get it wrong: Defining null=True for string-based fields such as CharField and TextField. Avoid doing that. Otherwise, you will end up having two possible values for “no data”, that is: None and an empty string. Having two possible values for “no data” is redundant. The Django convention is to use the empty string, not NULL."
would that fix my oracle ORA-00904 issue or is that just a best practice suggestion
best practice; because I really don’t have a clue why that migration error is happening; if you run `manage.py migrate --list` do you have any unapplied migrations other than that one
cool thanks I'll try that
turned out that my django db user does not have privs to drop the tables before running my tests; so I had to log in via sqlplus as more priv'ed user and drop the tables
interesting.  too bad the migration errror didn’t give more detail about that…; nice find though
"after an `os.fork()`, from a a child process, how do I pick up from the parent process when the child calls `os._exit(n)`? I don't want my parent to wait on the child because I need to fork a few times, I just want to be able to poll for when all child processes have completed and then continue execution from there"
is there any way you can refactor from fork to use suprocess instead?
"That's the eventual goal but I'm trying to understand the root basics of forks and inter process communication before I use subprocess to hide the details; That and I tried it with subprocess first when I initially wrote the code but failed and ended up running everything in serial instead because it was simpler and faster to develop, but now I have time to go back and learn more about it so I'm starting at the very bottom; It's easier to learn when I can see the actual forks and exits and everything happening within the code itself"
"Hey, is anyone keen to briefly discuss a database design 2-3 tables with me ?"
Hi guys one of my friend told to use a IDE that will show code in left and it's output in right while typing ; So that my code understanding will be improved like that he told can anyone name such IDE for python ?
"It doesn't quite work like that in Python. You write a script, execute the code and you can display output using the print function, either in your terminal or an IDE. It doesn't just output on the fly. Try a simple editor/ide like IDLE, which comes bundled with Python"
Ok Julian I got your point ; My friend also suggested me to improve my logical skills in programming; Apart from programming skills how did you improved your logical skills ?; Any tips
"Some understanding of logic, specifically symbolic logic, is good for any programming language.; But I'd probably not recommend a new student rush out and sign up for a course in it."
"Symbolic logic ?; Never heard about it but will check; I read that it was containing some weired writing for substituting some thing,how it can be useful for programming?"
"<@Bette> hi i read it jsut now. iam doing a concept of katas. thereby you do small tasks in a TDD driven way and solve algorythmic puzzles. check this site, codewars, its quire nice and you can chose from many languages, also python is well supported <http://www.codewars.com/r/6syqMA|www.codewars.com/r/6syqMA>"
Thank you Paul I hope it's not math specific because I am really bad in math :wink:
":wink: as all things in the world logic is trainable, espacilly a type b language logic, read here for katas <https://en.wikipedia.org/wiki/Kata_(programming)> and be ensured. it comes by contemplating and doing it, and there will be MATH dont be mad, read the texts think, brute force them and with time you will get better. i like it and consider it a fun way to waste time"
"Guy, there some problem in store a url(domain) into database? Here I am getting 
'_mysql_exceptions.ProgrammingError: (1064, ""You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '['<http://00author.com|00author.com>'])' at line 1"")'"
what's the full query?
"db_cursor.execute('INSERT INTO {table_name}s{table_name} VALUES({row})'.format(table_name=table_name, row=row))
I know that's a good choice use in this wat because of SQLInjection. However I prefer deal with after"
:confused:
"When I used other approach previously, worked perfectly..."
"<@Tangela>: You should never do it that way; it's actually usually simpler to do it without a `.format()`.; And it's not just about SQL injection attacks; you have to quote the values correctly just for the query to work correctly at all, in the first place, so you don't have problems like the above."
"<@Louis> I know that's dangerous, I am just using this way because is I'm trying to find the error point so I did simple just to debug easier. Do you mean quote the {row} value? Well,  I tried put into double quotes, what print something like VALUES(""[\'<http://00author.com|00author.com>\']"")\' However I get the same error about syntax"
"<@Tangela>: Well, it's not just dangerous; it often just won't work at all. :); Python string escaping just is not the same as DB escaping.; If it worked before, it only worked by accident.; What's the actual data you have, and the query you want?"
"I have a list of domain and url's, I want insert into database, There are so many entries, so I using a loop."
"You can do it in a single `executemany()`, without a loop.; What are the rows?"
row in this case are  each line of file
"I know, but what's the structure? What are the columns?"
#ID #DOMAIN
"Note that adding the table name into the query is a special case: That's part of the query construction itself, rather than data parameters going into the query.; (That's why it's separate.)"
"<@Louis> Tried your code, I got this error: *TypeError: not enough arguments for format string* maybe is because of *%*"
Where do you get that error?
"on this line: db_cursor.executemany(query, rows); I'm using Python 2.7 I don't know if changed something about on 3.5 version"
That probably means the CSV rows aren't actually two columns?
"Not in really, I made some adjustments so now seem work fine, but now I got problem with another syntax problem while executing *executemany*; *_mysql_exceptions.ProgrammingError: (1064, ""You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'domain VALUES ('<http://00author.com|00author.com>'),('<http://00go.com|00go.com>'),('<http://00it.com|00it.com>'),('<http://03e.info|03e.info>'),('0n-line.' at line 1"")*; the new query is as follow: *query = 'INSERT INTO {}s {} VALUES (%s)'.format(table_name, table_name)*; Translating: INSERT INTO *DOMAINS*(DOMAIN VALUES( )"
"<@Tangela>: Okay, so according to that, your CSV is a single column, not two, so the query should be `(%s)` instead of `(%s, %s)`.; Your query has to fit the structure of the data you're inserting. :); Why do you have `{}s {}`? That doesn't make sense.; You should only have the table name there.; What are you passing in as the `table_name`?"
When try with *execute* got this:  _mysql_exceptions.ProgrammingError: not all arguments converted during string formatting
"Hey everyone.
In console i see this.

```INFO:root:Length stock id = 311
Length stock id = 311
INFO:root:Length stock name = 311
Length stock name = 311
```


```logging.basicConfig(level=<http://logging.INFO|logging.INFO>)
logger = logging.getLogger()
logger.addHandler(logging.StreamHandler())
```


```    <http://logger.info|logger.info>('Length stock id = ' + str(len(stock_id)))
    <http://logger.info|logger.info>('Length stock name = ' + str(len(stock_name)))
```

There is a repetition of the same.  To remove just StreamHandler? Right?"
"<@Louis> My table name is Domains, my Column is Domain"
"<@Tangela>: It needs to be `executemany` when you're inserting multiple rows, not `execute`.; <@Tangela>: Do the table and column names actually have to be dynamic here?"
"Yep, I saw now that I am not inside a for loop:sweat_smile:; Should be good dynamic because after probably I'll add about 160 columns :sweat_smile:; Maybe is dealing the ""."" as a separator?"
<@Tangela>: Does this actually need to be CSV at all?; It shouldn't; your previous examples showed it being parsed as expected.
"Not in really; could be txt; But even using text file instead csv show the same error; Forget it, I did remove :grimacing: but the error persist"
There's probably too many small errors and unknowns and not enough info for me to help debug further. :/
<@Tangela> it's coming along nicely. Starting too look more polished.
Much more! I could use ORM but first I want make this way work:grin:
"I remember your original question was ""where do I put try... except""; Looks like you didn't end up needint it"
Not for now
"Quick question, how can I use a patch decorator to patch a private static method?; `@patch('SomeClass.__some_method')` is giving me an error saying that it cannot find the module `SomeClass`"
<https://stackoverflow.com/questions/32193264/can-i-patch-a-static-method-in-python>
"I've tried that, it doesn't seem to work; My class is in a file called `someclass`, if I try `@patch('someclass.SomeClass.__some_method')` the result it the same; Oddly, if I make my method non private, it seems to work."
Why are you trying to make a method private?
"The method is only helpful for that class and not any other classes, so I think it should be private."
"It's my understanding that the ""were all consenting adults"" philosphy means if it' works without making it private don't make it private"
But can you do the patching while keeping it private?
"not sure about the patching, but if you do prefer to mark something as an implementation detail and not relevant to anybody else, prefixing with a _ is the pythonic way of doing that"
"it could be that by marking it private, it's preventing the patching from not working, because you're trying to access a private method.; I'm not really sure"
double underscore prefixes should generally be avoided
agreed
Ah I'll change it single underscore then; Thanks!
"hello, I want to break the following across a few lines for formatting.  Not turn it into multiple statements, just format it across multiple lines so it's more notebook friendly `return soup.find_all('table')[3].find('table').find_all('table')`; if I just throw an enter before the . like I normally do it's not playing nice, what's the generally pythonic way to format lines like that across lines?"
"Parentheses can help.; ```
return (soup.find_all('table')[3]
			.find('table')
			.find_all('table'))
```"
"ok cool , I like the explicitness of that thanks"
"Python joins lines wrapped in parentheses, brackets, or braces.
<https://www.python.org/dev/peps/pep-0008/#indentation>"
"Hello, Can we use multiprocessing in python ansible module to perform installation of master and slave node parallel?"
It shouldn't be necessary. Ansible can run roles in serial or in parallel
"I want to scan a website for few keywords and store the count on each webpage. I tried bs4, looking for urls recursively and then making dom of each page to look for the keywords. It has exponential time complexity. Any way to speed this up? Is their an Open source project which I can benchmark against?"
"hi guys. iam interested in programing a raspbery pi and look for advices, or something to read about building small lego technic robots. does anyone here does something, knows blogs, where python is used on sensors with lego technic? i appriciate your links. may the code be with you :slightly_smiling_face:"
hello  guys; is there any django developer
"Should I be trying to subclass logging to create a new `logger.new_method` call if I wish to have a separate logging name for different types, or is there a better way of specifying specific events go to certain files?"
"<@Glinda> use different handlers, <https://docs.python.org/3/howto/logging.html#logging-advanced-tutorial>"
"if I use `<http://logger.info|logger.info>('some thing')` it works, should I be using `logger.new_member('some thing')` to access this new handler?"
"You need to have two logger instances: `logger = getLogger(__name__)` for general-purpose log messages and `new_event_logger = getLogger(f'{__name__}.new_member')` for ""new_member"" log messages; And you configure ""info_file_handler"" to work only with your ""my_module"" logger, but ""new_member_event"" handler - with ""my_module.new_member"" logger; Then `<http://logger.info|logger.info>(""..."")` goes to, say, ""info_file_handler"" handler and `<http://new_event_logger.info|new_event_logger.info>(""..."")` goes to ""new_member_event"" handler"
"So I have that working. But I think I'm directing the output to console somehow. ```ERROR:src.app:test a
ERROR:src.app.new_member:test b```"
"That's because you also configured ""root"" logger with all handlers"
oh darn
It's because it's not finding the config file
"```import json
import logging.config
import os

logger = logging.getLogger(__name__)
new_event_logger = logging.getLogger(f'{__name__}.new_member')


def setup_logging(
        default_path='log_config.json',
        default_level=<http://logging.INFO|logging.INFO>,
        env_key='LOG_CFG'
        ):

    file_path = os.path.join(os.path.dirname(__file__), default_path)

    if os.path.exists(file_path):
        with open(file_path, 'rt') as f:
            config = json.load(f)
        logging.config.dictConfig(config)
        print('test')
    else:
        logging.basicConfig(level=default_level)
```; That did it :slightly_smiling_face: Thanks"
Cool
You could try looking into scrapy - this seems to be its MO.
"i ask here, there are no ppl around in the learning python channel. dont be mad for repost; hi guys, i ask myselft and you :slightly_smiling_face: can this somehow be asked in boolean return
```Traceback:
   in &lt;module&gt;
   in test
   in abbreviate
AttributeError: 'list' object has no attribute 'split'```
i want to konw if split would work, and if not, due its only one word, do somethng else


[15:00] 
 ```if len(list_of_words.split('')) &lt;= 1:
        print('is solo string')
        return doit(s)
        
    elif list_of_words.split(' '):
        print('is list')
    else:
        print('is_else')```"
"if split doesn't match anything in the string, then it returns a list with the string as the first item; ```&gt;&gt;&gt; 'word'.split(' ')
['word']```; your two splits appear to be inconsistent. the first is an empty string, the second splits on a space."
"So <@Blaine> You want to take in a single string with and split it on spaces to see if there's multiple words?; Now instead of splitting them why not check if you have a space; ```
def is_string_words(input_str):
    return ' ' in inpu_str```"
"i want to iterate over different args, they might be one word as string, but they might also be mulitple words in one string, i need to seperate them and distinguish(my english?) between them. i know soelved it with this for now ```def abbreviate(s):
    
    list_of_words = s.split(' ')
    
    def doit(word):
      //doFOo
            
    
    if len(list_of_words) &lt;= 1:
        print('is solo string')
        return doit(s)
        
    else:
        ret_string = ''
        for elem in list_of_words:
          #do fo```; <@Glinda> thanks also a good solution"
"```def is_string_words(input_str):
    return ' ' in inpu_str


def abbreviate(s):
    
    if not is_string_words(s):
        print('is solo string')
        return doit(s)
        
    else:
        ret_string = ''
        for elem in list_of_words:
          #do fo```"
What do you use in order to communicate to Celery?; do you use rpc or rest api?
Celery is generally running on redis or rabbitMQ
"yes; but, let say that you have to send tasks to the application where celery runs; i was wondering how to you communicate with it"
is this using a web app?
no; only backend services
"ok.  I use django, which integrates well with celery; so you have your `tasks` module"
"Can you expand on “communicate”? Are you looking to send tasks, receive them, etc?"
"let say I have a serviceA which has tasks to be consumerd; consumed; and let say that serviceB is my Celery application in charge of dealing with tasks; how I can request to serviceB to run tasks?; so, in other words,; how do you expose the APIs of the serviceB; ?; <@Patty>, yes i am looking to send tasks"
"makes sense.

what I do is each django app’s celery tasks are integrated with the exposed api for that app; where some POST requests explicitly trigger one or many tasks"
"ok, but what if I do not have django but just a stand alone backend application; that just does one job"
just follow the regular celery documentation; should be the same; that would handle executing tasks
"oh well, is what I am doing, but still something it’s not that clear"
what do you mean?
"moreover, I have to put that application into a docker container, so; I need to communicate with that service"
"uhm, I think you’re not entirely understanding of what celery is"
"i am pretty new to Celery, but this is my structure; ‘’’json; docker-cluster-with-celery-and-rabbitmq
  -- test_celery
    -- __init__.py
    -- celery.py
    -- tasks.py
    -- run_tasks.py
  -- docker-compose.yml
  -- dockerfile
  -- requirements.txt; so, I am able to run tasks, such as sending emails; but, my question is, do I need to integrate Celery with django or I can use it; in a stand alone application adding a layer of communication; like, RPC or REST or whatever; and use it just as a distributed task Q"
"hmm, ok.  So to be clear, celery consists of three parts:
worker, broker and task; you’ve already written up the tasks; and you apparently already use rabbit to handle the task queueing"
Can anyone recommend a library for grabbing an address from coordinates?
"the worer is completely de-coupled from everything, and just listens to messages from the broker; geocoding?; so you have that cluster and communication, <@Jacki>; thing is, tasks are highly specific, are they not?; you can use OOP and task classes to create levels of inheritance, but in the end, a task is highly specific to the thing it is supposed to do"
<@Myong> <http://geocoder.readthedocs.io/api.html#reverse-geocoding>
"true; but still, if i have to send 100 email to 100 users; I have to communicate the array of those 100 email addresses"
no
"oh,"
"well, yeah.  but not exactly; you have the data from your backend service; you post it to your rabbit broker; and the workers pick it up"
<@Jacki> do you _want_ to handle sending emails to users? that can be a mess and end up with your email server running into all kinds of problems when it starts getting blacklisted. if youre looking to move this up to production-level i’d integrate with an external mailing service
"and I suppose it’s the same with Redis; <@Patty>, yes I already have an external mailing service where all the stuff; and basically yes I have to send email mgs as result of some actions"
"so, long story short, you can indeed make a service layer of sorts to handle the task calling and execution; question is, does having this explicit layer make sense in your overall application and project structure?"
"well, yes because I can only send a payload to a serviceA; and I don’t have to take care of broker; or other technology stack"
uhm you _do_
serviceA will be in charge of
because you need that for celery
do whatever he wants to do
or for any kind of asynchronous task queue
"oh yes, serviceA has celery and use Redis in my example; and he has a public endpoint; just to receive the work to perform; is that make sense?"
"What I get from you is Service A is a backend service, and you need it to pass off async tasks to celery workers."
"@http(‘POST’, ‘/api/email_dispatcher’)
          task = tasks.send_email.delay(payload_to_send,url_to_call)"
<@Ciera> question about slack api. I have two application credentials 1. real slack  2. test slack. I got my application to work using the test slack and now i want to go back and get the `xoxb-` token for real slack. Problem is when I try and use the real slack token it's apparently connected only to the test slack.
something like that
"why not import the task module in Service A and execute it there via 

```task = SomeTask()
task.apply_async(args = [arg1, arg2], queue = 'specific_queue')
```"
Is there a universal way to query an API to ask for entries where keys dont exist?
"yes is what I did; but,; in my local env; I have one console with the celery worker runs; and another one where I run the serviceA; in order to expose the APIs"
"<@Myong> no, this is something that would only be available if the API implemented it"
figured as much
but I don’t know how to put those guys into docker containers and then into production
"I don’t think you should dockerize celery in prod; since the workers are running as daemons, anway; at least, they should; so, docker really doesn’t apply here, IMO"
<@Glinda> are you sure you haven't mixed up your tokens ? :smile: A token is link to a slack team
Pretty certain
uhmm; but from an architectural point of view
"I tried it a few times last night, and even reinstalled application"
<@Jacki> <http://docs.celeryproject.org/en/latest/userguide/daemonizing.html>
I'm trying to use the RTM api and I'm wondering if it's a cache issue.
does it make sense to have a serviceA with a public APIs and Celery?
"uhm, yes"
"oh ok, but I think you can put it into a container; but"
"oh, for development certainly"
if I can have a serviceA with public API and Celery inside
but production?
I should have to run the serviceA with python service.py and at the same time; the celery worker; am I right?
correct
"so, in the end, Can Celery be used as a standalone distributed task management?; @dd2 thanks a lot for helping me.; @dd2 <https://nickjanetakis.com/blog/dockerize-a-flask-celery-and-redis-application-with-docker-compose>"
"yeah, I’ve seen that before, and have talked with Ken Cochrane at Docker about this very thing; FWIW, I like that setup for development; production, no"
what do you suggest for production?
"so, I I have a 10 servers on AWS; and 12 different queues; workers on celery servers are daemonized, where workers are listening to one or more queues, depending on the task resource requirements, run time, etc; for example, tasks that run in five seconds require fewer resources than tasks with 6 hours run time; then my app API pushes new tasks into the rabbit broker queues"
and what about scalability
"no problem.  Spin up 1 or 10 new servers, map them to the queues required and its hands off after that; then when it comes time to spin down, shut down the worker processes and wait for them to finish executing the currently executing tasks"
"ok, makes sense."
"once that’s done, the workers will stop listening to the queue, and the broker doesn’t care"
problably I am using a cannon to shot a fly
"if all you’re doing is sending out emails with this, then yeah; much better ways to handle that"
like coding a queue; and send email using aiohttp
"no, use an external mailing service; because you’re running the risk of being blacklisted"
i can’t really use an external service for policy; so no mailchimp or stuff like that; and I can assume that I won’t be backlisted
something like this might make more sense for you; <https://github.com/nvie/rq>
I’ll have a look at; thanks
good luck :smile:
"so, in a nutshell, when Celery is a good solution?; a large collections of vms taks deployments?; loading the top 100 stories from a remote services?"
"when you have repeatable tasks that you want to keep out of the http request-response loop; with quality scale up/down capability; for example, I just finished indexing 10 million mirrored web pages in solr for search using celery.  took 3 days to do; brought online some extra servers from AWS to handle the extra load, and shut them down when it was done"
"great.; cool, I know how I’ll spend the rest of the day; thanks again; I’ll try to sort it out"
<@Glinda> there is no cache that I know of for the rtm
"but may I ask you why you don’t like the docker solution; for a production env; i mean, docker is strong enough and reliable; is it something related to celery itself ?"
"just don’t see the need for it; because celery workers are already daemonized; so, why go through the docker layer?"
"to have a configuration ready to start in different env; you do the conf once, you can repeat everywhere, even localy"
"```pip install -r requirements.txt
cp celery-default /etc/default/celeryd
sudo service celeryd restart
```"
I’ll try your way
that’s pretty much it for me.
ok
"that said, I am going to be teaching myself docker this winter.  It has benefits I can use; but I just don’t see any distinct advantage to containerizing celery on dedicated servers that are wholly responsible for async workers"
portability is one of the main advantages; your container is not  coupled to your server
Where should I ask questions about test cases for a project?
"but, yes, I see your point; anyway I am trying to put my celery app into a container; and see what’s going on"
"you might want to check out <https://github.com/pyslackers/website>; when you signed up for the group, that’s the website that’s behind it"
ah ok; thanks
Hey <@Patty> I was using google for queries with `geocoder` but I'm finding I'll quickly be over the limit as far as requests go. Which other provider is good to use?
"<@Ciera> figured it out, pycharm ""refactored"" when I moved old creds to `archive` folder and my creds was pointing to the wrong variable.; :facepalm:"
<@Myong> <http://geocoder.readthedocs.io/#providers>
"right now I have `creds.py`in a file, with that file added to `.gitignore` Currently testing locally, what are some better ways than that?"
environment variables; and second choice would be args to pass at startup for testing
"Trying ArcGIS atm, giving error for SSL cause of works WiFi..."
"I tend to favor Environment variables as well, primarily because in the case of a deployed environment it allows you to change them without a re-deploy. I usually have a settings file that can be loaded that refrences the envvars to keep it tidy and not leak envvars all over the code base"
yeah environment variable is usually the way to go and it's really easy to load them in a script
"how do I convert `""2017-12-08 17:19:36 -0600""` to `""2017-12-08 23:19:36` in python"
<https://docs.python.org/3/library/datetime.html>
"I receive that date format from an api, but need to conver it to 2017-12-08 23:19:3 ill look in the docs; to see"
I'm not sure if you have control of the API but it might be easier to change it to a timestamp
"no control of the api; timestamp wont work for me,; ill try to see if i can get it to be `2017-12-08 23:19:36` in this format"
"```
&gt;&gt;&gt; import arrow
&gt;&gt;&gt; s = ""2017-12-08 17:19:36 -0600""
&gt;&gt;&gt; dt = arrow.get(s, 'YYYY-MM-DD HH:mm:ss Z')
&gt;&gt;&gt; print(dt)
2017-12-08T17:19:36-06:00
&gt;&gt;&gt; print(<http://dt.to|dt.to>('UTC'))
2017-12-08T23:19:36+00:00
```"
never used arrow :confused: looks nice
it's a beautiful thing :slightly_smiling_face:
WOW that is AWESOME; Thanks <@Suellen>
:tada:
Turns out bings API isn't ratelimited and allows upwards of 250k queries a year so that should do.; so I guess it is rate limited at 250k queries a year but whatever
does anyone has ever used Celery with Redis sentinels?; it is driving me crazy …
"Question: I have a server-side application that automates downloading a bunch of excel files, performs some ETL, and writes them to a SQL db. I have like 30 functions that contain each search (automated through selenium, and the site's HTML doesn't really lend itself to iterating through those searches in a single function). I currently have one master function that calls all 31 functions, but is there a more pythonic way to run all of these searches without calling every function in another function? It just looks amtuerish to me."
Are the functions just different in terms of the search arguments they're called with or are they actually different functions?
"Also, is this a blocking function or are you using some sort of task queue like Celery?"
<@Antionette> They are different functions.; <@Nicole> I'm not using a task queue.
Is there an easy way to wrap a `slackclient` rtm_socket in a flask app so I can host on `pythonanywhere`
Not that I know of but the you could host it on digital ocean 
I didnt know time objects would be such a big pain today haha. If I have the time in a string like `2017-12-11 11:21:29` is there a good way to convert string times like that into UTC times in python?
There is the arrow lib <@Suellen> showed you or `datetime.strptime`
do you know the timezone?
"I do, but it be nioce not to have to know it"
you can't convert time to UTC without knowing its original timezone
whatever whatever -0600 is; central USA i think; yea lets say its central
"<@Enid> Running a lot of discrete tasks server-side sounds, at least on the surface, like a possible application for Celery ... especially if the tasks don't have a lot of dependencies.  It doesn't really sound like a question of ""pythonic"" or not."
And Celery is but one (popular) approach.
"I think i got it with this; ```
In [48]: x
Out[48]: '2017-12-11 11:21:29'

In [49]: date_str = x

In [50]: datetime_obj = datetime.strptime(date_str, ""%Y-%m-%d %H:%M:%S"")
    ...:
    ...:

In [51]: datetime_obj_utc = datetime_obj.replace(tzinfo=timezone('UTC'))
    ...:

In [52]: print datetime_obj_utc.strftime(""%Y-%m-%d %H:%M:%S %Z%z"")
    ...:
2017-12-11 11:21:29 UTC+0000

In [53]: print datetime_obj_utc.strftime(""%Y-%m-%d %H:%M:%S"")
    ...:
    ...:
2017-12-11 11:21:29
```"
this didn't change the time. You just added the timezone info to be UTC
is that what you want ?
thats what i wanted; sorry about that
"hi guys, a more pen question. how do i write an single regexp that matches multiple conditions in pyt? iam trying with condition 1. six or more elements `(.{6,})`2.condition at least one upper and 3. one lower case and 4 one number at least but my syntax like this ```(.{6,})([A-Z]+)([a-z]+)([0-9]+)```and iam also trying it with positive lookup like ```(?=.*.{6,})(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)```. you dont need to solve it for me, but please tell (or show me docs to read) how i can say AND to multiple conditions in a single regexp. i would :heart: too"
i read here <https://stackoverflow.com/questions/469913/regular-expressions-is-there-an-and-operator/470602#470602>
"I'd probably just do multiple passes to make it simple myself, it also allows you to provide better validation reasons for why it may have failed.; It would be a little more flexible to, as you effectively can make a rules engine:

```
class Validator(object):
    def validate(self, value):
        raise NotImplemented

class MinLenthValidator(Validator):
    min_len = 10

    def validate(self, value):
        if not len(value) &gt; self.min_len:
            raise ValidationError('The password is too short')

class HasUpperCaseValidator(Validator):
    pass


for validator in [MinLengthValidator(), HasUpperCaseValidator(), ...]:
    validator.validate(user_input)
```"
"hi matt, and thanks, normaly i go for the same but iam trying to solve this headcracker <https://www.codewars.com/kata/regex-password-validation/train/python> in a onliner. time to resharp my regex blade i guess :slightly_smiling_face:; but this way you wrote it its way more readable for hoomans"
"<@Blaine> I think the look ahead version you posted is close, but it looks like there's also a condition where only alphanumeric characters are allowed which isn't accounted for"
i will follow your breadcrumbs. ty sir
[Is there any way for me to replicate a POST/GET request sent to a java server to generate a query that way I can simply use the `requests` module to do so? Or is this something I have to do with `BS4` or a similar library by entering the data to fill in each form field; I have the source of the form data from the POST in the format `owner_name=&amp;asr_r_zipcode=&amp;radiusChoice=all&amp;fiLatDeg=` and so on. Would I have to pass these form fields to `requests` in the form of a dictionary/json?
I believe requests would just accept them in the url but not 100% sure on that; You could use this to parse to a dictionary (<https://docs.python.org/3.6/library/urllib.parse.html?highlight=url%20parse#urllib.parse.parse_qs>)
"Hmmm, can't seem to get it to work for a multi select list of items; <@Antionette> thanks for the link, just trying to get this multi select list to work. Doesnt fill anything in for it"
Can you post the actually string you have for it here?
Yeah one sec; <http://wireless2.fcc.gov/UlsApp/AsrSearch/asrAdvancedSearch.jsp?fromRefine=Y&amp;radiusChoice=all&amp;fiLatDir=N&amp;fiLongDir=W&amp;fiRadiusMetricType=Kilometers&amp;fiHeightChoice=all&amp;fiOverallAGLExactMetricType=Meters&amp;fiOverallAGLRangeMetricType=Meters&amp;ars_r_struct_code=PIPE&amp;fiDateType=asr_r_date_last_action&amp;fiSelDateSearchType=fiToFromDateRange&amp;fromDate=01%2F01%2F2017&amp;toDate=12%2F11%2F2017&amp;fiFromMonth=01&amp;fiFromDay=01&amp;fiFromYear=2017&amp;fiToMonth=12&amp;fiToDay=11&amp;fiToYear=2017&amp;fiExactMatchInd=N&amp;fiRowsPerPage=100&amp;fiSortBy=registration_num&amp;Submit=Submit&amp;jsValidated=true>; The problem is in the key `asr_r_struct_code`; Doesn't select any of the 15 options it shows; It's one of those multi selects where you have to use either Shift or Ctrl to select multiple items; Not sure if that's because they have to be actually clicked or what.
It might need to be `asr_r_struct_code[]`; hmmm although the name is just asr_r_struct_code
Yeah
"When you say it doesn't select any of the 15 options shown, what do you mean? because none of the params come up filled in for the get request to that page.  Do you mean when you post its not returning the correct/expected results?"
"Yeah, in the post request the page that loads up, the parameters which I enter do not get sent"
oh in your original link you have `ars_r_struct_code` but the field name is `asr_r_struct_code`
On the backend it must just not take in the parameters for the select; okay let me check; Still doesn't take in the parameter; odd...
Can you post the dictionary that you're passing to requests?
"Yeah; `{'radiusChoice': ['all'], 'fiLatDir': ['N'], 'fiLongDir': ['W'], 'fiRadiusMetricType': ['Kilometers'], 'fiHeightChoice': ['all'], 'fiOverallAGLExactMetricType': ['Meters'], 'fiOverallAGLRangeMetricType': ['Meters'], 'asr_r_struct_code': ['BANT', 'BPOLE', 'BTWR', 'GTOWER', 'MAST', 'MTOWER', 'NNGTANN', 'NNLTANN', 'NNMTANN', 'NNTANN', 'POLE', 'TOWER', 'TREE', 'UPOLE', 'UTOWER'], 'asr_r_status_code': ['G'], 'fiDateType': ['asr_r_date_last_action'], 'fiSelDateSearchType': ['fiToFromDateRange'], 'fromDate': ['01/01/2017'], 'toDate': ['12/11/2017'], 'fiFromMonth': ['01'], 'fiFromDay': ['01'], 'fiFromYear': ['2017'], 'fiToMonth': ['12'], 'fiToDay': ['11'], 'fiToYear': ['2017'], 'fiExactMatchInd': ['N'], 'fiRowsPerPage': ['100'], 'fiSortBy': ['registration_num'], 'Submit': ['Submit'], 'jsValidated': ['true']}`; Sorry, I can't do snippets; This is direct output from `parse_qs`; from the raw string input after pre-selecting what I wanted and viewing the form data in the post"
"Hmmm and it looks like the results are filtered correctly per the other params, just not the the struct_code multie select?"
"Yeah, it's odd; Let me try; and do multiple selects on the other menu; one sec; Yeah, I guess it just needs to physically be entered. It doesn't pick up anything in those menus at all it would seem.; The request just brings you back to the page to select everything, so I'm not sure what I'm missing; let me try to post again with python instead of just entering the url..."
what url are you posting to? `<http://wireless2.fcc.gov/UlsApp/AsrSearch/asrResults.jsp?searchType=TRA>`?
yeah; I guess it might actually be grabbing the content; Gotta find the function to pretty print it; Yeah not sure at this point actually.
You could try writing the response to a file and then opening that local file in a browser to see if it matches what you'd be expecting; alternatively the title of the results page is `ASR Registration Search Results` whereas the title of the search page is `ASR Advanced Registration Search` so you might be able to do a quick check of that to see if the page is at least right even if its a bit harder to check if the results match what you'd expect
"Yeah it's the search itself, not the results"
ah kk
I'm heading out now so I'll take a look into it tomorrow.; Thanks for your help <@Antionette> :taco:
"kk, feel free to send me the actual code your using and I can take a look at in a bit"
"hello,
So lets say we have to process a list and compare every list indice to the next indice like this:
if foo(list[n]) == bar(list[n+1): 
The way I implemented that in my script (ignoring what the foo and bar actually do) is something like this:; And i feel like it's really unpythonic and bad : &lt;"
maybe try using enumerate and compare backwards instead of forwards
"So you want to compare each value in list to the next one, but you're actually doing `foo(value_1)` to `bar(next_value)`"
"no, a value needs to be compared only to the next value"
So what is `foo` and `bar` in your syntax?
"doesn't matter i think really, i'm just asking if writing code this way is good, actually we could get rid of foo and bar and just compare the values. The code actually works, but i think it could be made more readable"
"```def compare(input):
    for first, second in zip(input, input[1:]):
        if first == second:
            print('hooray!')
        
        
if __name__ == '__main__':
    input = [1,2,3,4,5,6]
    input2 = [1,2,3,4,4,6]
    compare(input)
    compare(input2)```; That shouldwork nicely."
awww this is so nice !; thanks : D
replacing `==` with `is` also works for integers and strings
"gotta remember that; on a side note; is it normal for a begginer that slowly starts to write code that actually does sometging meaningful, to look at my code and think ""this is such a mess"", even if it works? Also, do you know a good place where i can show more experienced people my code for review? I know there is a code review subreddit but didn't see much traffic there."
"1. I can't answer this one, I learned python after c/c++ so even the simple things looked less messier. 2. You can probably show anywhere you want, but there's _sooo_ many things to improve on don't feel bad if you're writing ""bad"" code. Just keep improving."
"trying to, thanks for the help : )"
To clarify 1. Python looked much cleaner than c++
"Team,i need some help in running a python script which is on windows via ubuntu machine; i have created a paramiko session to that machine; and when i pass this command to exec command func of paramiko  command = 'cmd.exe /c ""C:\Users\Administrator\AppData\Local\Programs\Python\Python36\python.exe C:\pythonattempt\try.py""; its not working; can some one guide me here; i have ssh server running on that machine"
can you import another python script only if time is in range ?
"Hi all.
I have little problem with performance may little function:
```
import itertools


def removNb(n):
    numbers = list(range(1, n + 1))
    pairs = list(itertools.combinations(numbers, 2))
    total = sum(numbers)
    pairs = list(filter(lambda par: par[0] * par[1] == total - (par[0] + par[1]), pairs))
    result = pairs + list(map(lambda par: (par[1], par[0]), pairs))
    result.sort()
    return result
```
Any idea haw make this better. I'm only beginner in Python :slightly_smiling_face:"
Could you explain what is the end goal of the function ? :slightly_smiling_face:
"a sorry; He says that the product of a and b should be equal to the sum of all numbers in the sequence, excluding a and b.
Given a number n, could you tell me the numbers he excluded from the sequence?
The function takes the parameter: n (n always n &gt; 0) and returns an list of the form: `[(a, b), ...]`
It happens that there are several possible (a, b). The function returns an empty array if no possible numbers are found.
#Example:
```
removNb(26) should return [(15, 21), (21, 15)]
```; As I said, I'm a beginner :slightly_smiling_face:"
"I would start with something like ```
for x in range(n/2):
  for y in range(n/2, n):
    if ....
```"
but `n/2` not always is int
oh yeah my bad. you should cast it to an int. `int(n/2)`
"but still it does not give the intended effect because now `a` is max 12 and as you can see an example, `a` is equal to 15 and in the next tuple 21; a is x; and should check all possible pairs of numbers"
ah yeah my bad. I wasn't sure a `/2` would work.; anyways you can do two loops in `range(n + 1)`. (forgot the +1 also :p); that's quite fast; it's the `map/filter` that are longer I suppose; I'm going to go eat something. I can make a better snippet afterwards if needed :slightly_smiling_face:
"unfortunately, I have tried this too and it is even slower; ```def removNb(n):
    numbers = list(range(1, n + 1))
    total = sum(numbers)
    result = []
    for first in numbers:
        for second in numbers:
            if first == second:
                continue
            if first * second == total - (first + second):
                result.append((first, second))
    return result```; this work nice if we have numbers below 100; and after I try this way:; ```def removNb(n):
    numbers = list(range(1, n + 1))
    pairs = list(itertools.combinations(numbers, 2))
    total = sum(numbers)
    result = []
    for first, second in pairs:
        if first * second == total - (first + second):
            result.append((first, second))
            result.append((second, first))
    return result```; still to slow; Bon Appetit,
and I would be very grateful for your help.; I'm back to work now if you find something please send to me directly, thx :slightly_smiling_face:"
I'm not sure what are the limits of `n` are but I think once you reach higher number you need to be clever about it and skip ranges of number.
"Problem has piqued my curiosity! Yeah, that's what I'm thinking, <@Ciera>. Have to think about the mathematics of the problem and find a shortcut so you don't need to compute so much"
"For instance, you don't need to check pairs where both numbers are greater than `sqrt(sum(range(n)))`"
which for large `n` should cut out a lot of pairs
"I win a big chunk of time by removing the `list` from  `list(itertools.combinations(numbers, 2))` as it's not usefull"
"What's the complexity of the naive approach? `sum(range(n))` is `n(n-1)/2`, and then by comparing all pairs, you check `n(n-1)/2 * n(n-1)/2` pairs; So the complexity is essentially `O(n**4)`?; `n**2*(n-1)**2/4` pairs to check"
let's say that `n` will not exceed 1k
"By checking for `(first  &lt; sqrt(sum(range(n)))) and (second &lt; sqrt(sum(range(n))))`, you can reduce that to..."
"but anyway, from what I was leaving it, I do not know if it comes `n` to until 1k.
I suspect that the max is much lower."
"If I'm not wrong, even if n=1000 that still requires checking 249500250000 pairs of numbers"
"Well, that's a lot.
But as I said, I do not think it ever came to n = 1000.
I think it's going to be hard to make it halfway. (n=500); for research purposes, let's set it for not more than 300.; not only do you worry about the speed of action. If, for example, I have to check with 50 x `n` where `n` &lt; 100; for this, this function should be as fast as possible"
It also depends what is as fast as possible. Maybe there are solutions in C library
"I do not say that it must be done in this way, it is completely different solution that will give the desired result; oki, then how this need looks?; I'm just learning this fascinating language and I can not get everything in flight yet.; Any hint how it should look like? :slightly_smiling_face:"
"Your code earlier looked really nice. On the whole, list comprehensions are much faster than `for` loops, so I think your first answer looked pretty good. Like <@Ciera> suggested, you can remove the `list`structure"
"oki, <@Ciera>, <@Fabiola> thanks for your help :slightly_smiling_face:; :+1:"
"You can use the `itertools.product` to find combinations of the `range(n*(n-1)/2)` and `range(np.sqrt(n*(n-1)/2)`; And because the product is symmetric, at the end you can reverse all the pairs you have found and add them to the solution set; ie. if `(a, b)` is a solution, then so is `(b, a)`."
"nice; Check it out as soon as I find a moment because now I am at work :slightly_smiling_face: and will certainly write back what I sent. Once again, thanks a lot for your help"
"Yeah, me too, it's an interesting problem! I'll try an run some of my own benchmarks to see if my calculations reflect reality ^^; And <@Hipolito> you can give tacos to people if you found them helpful  :taco:"
haw do this? :slightly_smiling_face:
type `@user :taco:` :slightly_smiling_face:
thx
:+1:  Speak later :slightly_smiling_face:
<@Fabiola> :taco:; <@Ciera> :taco:
"Hi all,
Has anybody successfully bundled OpenCV and PyQt using PyInstaller on OSX?  I’m having a nightmare getting it to work.    Everything works perfectly before bundling with PyInstaller, however when I run the app created by PyInstaller I get the following error:; If I comment out the ‘import cv2’ the app works (but without the opencv functionality obviously)"
"IIRC, opencv dependencies are a pita to make portable"
Is there a better alternative?
I just installed the deps using a linux vm; and added the python binaries via a virtualenv
I am attempting to create a short video file from individual image frames; Installing deps on a linux vm won’t help me build an OSX app though will it?
"nope; so, with this, seems like its worth escalating to the pyinstaller repostitory issue page or going to the opencv mailing list"
Ok will do.  Thanks for the indo!; *Info
"good luck :slightly_smiling_face:; that said, there are a number of projects where packaging is a pain, I feel; opencv is one; gis is another (geodjango, etc); and depending on the machine/OS, numpy/scipy, pandas…"
Probably best asking in the <#C0LMFRMB5|django> channel
"oh yeah, my bad haha"
:grinning:
"Update to my logging question, I got logging to work. 
```logger = logging.getLogger(__name__)
new_event_logger = logging.getLogger(f'{__name__}.new_member')
all_event_logger = logging.getLoggeR(f'{__name__}.all_events')```
config file: <https://github.com/OperationCode/operation_code_pybot/blob/master/utils/log_config.json>"
But right now both sub loggers are duplicating the file.
FYI you can also use yaml for the config file (can be more readdable :slightly_smiling_face: )
I saw that; I'm kind of regretting the json
there is a key to deactivate that
So both `new_event_logger` and `all_event_logger` have the same data.
see <https://github.com/pyslackers/sirbot-pythondev/blob/master/config/prod.config.yml#L96>; ah no you already have it
"` ""disable_existing_loggers"": false,`; Maybe something to do with root?"
the root logger use both handlers; how do you log a message ? `<http://all_event_logger.info|all_event_logger.info>('my log')` ?
Yes
I'm not a pro on logging but your config seems fine to me :confused:
"maybe something to do with my setup function?; <https://github.com/OperationCode/operation_code_pybot/blob/master/utils/log_manager.py>; Not sure if I need to have ```logger = logging.getLogger(__name__)
new_event_logger = logging.getLogger(f'{__name__}.new_member')``` within that file"
you shouldn't use `__name__` there.; name is the python path of the file `mymodule.submodule.filename`; so you don't get the correct logger
Cause I'm using `logging.handlers.RotatingFileHandler`
you should do `logging.getLogger('my_module.new_member')`
I think that's working better :slightly_smiling_face:
for `all_events` it could be interesting to just set the message in DEBUG mode and log the debug elsewhere; haha I see you also had some trouble with the stupid `Bot ID`. I can't understand why they haven't changed that yet
"I'm not even sure if I need it.; But was working with someone and he included that utility to get the bot id; This first iteration we are just using the RTM, the next step is to turn it into an app so we can incorporate buttons. Do you know if that's something your wrapper can do?"
"the wrapper doesn't handle button by itself but yeah it can handle messages with buttons.; try the `/gif` command to see some buttons :wink:; it's a bit of work to get buttons and commands working correctly as you will need a webserver, Most likely Django, Flask or an async one; you should use `logger.exception(e)` here; <https://github.com/OperationCode/operation_code_pybot/blob/master/src/app.py#L117>; so no need to do the traceback thingy"
"Yeah, probably go with flask at first.; I saw you were working on a curio implementation; I really wanted to learn async using curio first.; Been hearing lots of crap about asyncio"
"I have never really used it, I usually stick to the standard python async; well it works for me ¯\_(ツ)_/¯"
I don't disagree
but I can understand that there is other implementations that are easier to get into
"```  while True:
            try:
                parse_slack_output(slack_client.rtm_read())
                time.sleep(delay)
            # TODO determine which exceptions can be ignored and which can be handled.
            except Exception as e:
                logger.error(f'Some exception occured: {e}')
                logger.exception(e)
                slack_client.rtm_connect()``` 
Can you comment on a better way of doing this?"
seems :thumbsup:
Thanks
Anyone used `grequests` for async requests?
"I did :slightly_smiling_face:; It's pretty fast, although I had difficulties when a number of URLs reached ~10k; <@Myong> so... what did you have in mind"
"So I've got a webpage where I download some data from the items on the page by sending a request to download a csv, I then have to do an individual request to scrape data from each individual row/item in the csv; So basically just download the csv, grab all the item id's, format them into the url, go to each url and grab the data and store it in a dictionary then put it all into a csv at the end; But first gotta find the request necessary to download the info I need from the csv"
"grequests is suitable for this I think, when you have a hundred URLs"
"Yeah it'll be around that; Just trying to figure out the url to grab this csv....; If I'm not seeing a GET/POST go through on downloading this file, what exactly can I do to get the file to actually download? Basically just cant find the URL"
Is it public? Can you give an URL?
"Hi everyone, I'm having somewhat of a weird issue : when doing a docker-compose up I get the following error message : WARNING: no logs are available with the 'syslog' log driver
I've tried restarting the docker service, the syslog service and making sure they were both working (I can tail and see logs in the syslog file), I've also tried restarting the server. (I haven't found much by googling the error either)

(<https://pastebin.com/x38Ndcts>)

the syslog service is currently running

(when I run the following command) dpkg-query -l '*syslog*' | grep ii
ii  rsyslog            8.24.0-1     amd64        reliable system and kernel logging daemon"
"Short Question: Is it possible to use a MS Office file as a source to render a webpage with one of the web frameworks? If so, what would you use? (I am looking for a simple yes/no on the possible question. And if possible, just direct me to the package/module and I'll read the docs from there...)

Long Version: Our IT dept keeps our documentation in a bunch of MS office files. It is all quite well organized and standardized. A directory for each area of IT (network, storage, vmware, voip, etc). Each folder has a single .docx, a .xlsx, and a .vsdx.
The issue we run into is that we rarely update but frequently reference. Since we all have RW permissions to the files, whenever we open one of them, it locks the file so no one else can edit. So, whenever we have to make an edit, we have to find who has it open and ask them to close it.
Its not enough of a bother for anyone else to have done anything about it, much less be willing to spend anything on a better solution.
So, my thinking is that if I could use my django server (on which I am still learning...) to host a webapp that would render a page from each of those files, we could use that as reference and only open the file when we need to make an update. 

My general thoughts on the high level program would be as follows:
1. point the program at the root directory. 
2. it would generate links for each folder, once clicked, it would display another set of links for subdirs or files. If files, it would display a page rendered with the content of the office file. If folder, display links to folder contents, rinse repeate.

I dont know how to do any of this, yet. I'll figure it out.
What I am looking for is if it is even possible to render a page with Django using a MS Office file as a source.
If I know I can do that, I'll figure out the rest. 
If that is not possible, I wont be wasting my time trying to figure it out...

Thank you for any input!"
"Fellas, completed the MIT 6001 course and started 6002 and realized the data scientific approach for python isnt interesting to me, any other general python courses you can recommend?; i already ran thru ATBS"
"<@Del> Realpython has a series of courses on Python with a web focus: <https://realpython.com/courses/>
Coursera has tons of Python programming courses as well, for example: <https://www.coursera.org/specializations/python>
There is also <https://automatetheboringstuff.com/>"
i'm a fan of <https://teamtreehouse.com>'s Python stuff :smile:
"So I'm working on some code pulling in data from Xero accounting and it's brutally slow. Not sure what's going on other than it's taking a few minutes to establish one connection.
Setup some logs for the requests library and it looks like it sits on 
`DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): <http://api.xero.com|api.xero.com>`
Anyone have any insight?"
but that's because I'm the teacher for them
"Once it hits the proper url everything is all good, just stuck in that starting new connection for a long time :rage:; unless it's waiting for xero to respond that long ¯\_(ツ)_/¯"
might be a proxy? <https://stackoverflow.com/questions/28521535/requests-how-to-disable-bypass-proxy>
"Nope, you know what, it's xero, it's taking a few minutes to get a reply. Uuuugh."
joy
"thanks <@Kiersten> - already did Automate TBS, will look into the other. im already doing flask so just wondering if there was something else that got deep down into advanced basics like decorators, etc."
<@Del> <http://shop.oreilly.com/product/0636920032519.do>
I really like the Learn Python book for those topics as well.
"And <http://www.effectivepython.com/> too; Yeah Learn Python is a gem, good idea <@Johana> :taco:; <@Frieda> You wouldn't happen to know how to get a log of the actual response time?"
or just google decorators. there are lots of good resources. checkout out the python module of the week.
I guess I can just use the time module.
<https://pymotw.com/2/functools/>; <https://pymotw.com/3/functools/>
"yeah i already know the basics of those so i wanted a course or something about topics like that; metaclasses, decorators, advanced regex; cause i can google them but wanted to see if there was something that packed them; for now i have enough material to keep studying, thanks!"
"<@Kiersten> i'd probably just use the time module, yeah; but I'm lazy and I try not to be clever"
Roundtrip time: 203.51362252235413 :rage:
seconds?
yeah
time to go async :smile:; maybe something with the tls version ?
"<@Fabiola>, <@Ciera> after changes my function finish in 0.10725951194763184 sec. when I put `n` = 1000
and 35.36659622192383 sec. when I put in loop `n` for range(10, 1001), I think it is very good result :slightly_smiling_face: :+1:"
nice <@Hipolito> :taco: . Care to share your final code ? :slightly_smiling_face:
"is not change much:
```import itertools


def removNb(n):
    numbers = range(1, n + 1)
    pairs = itertools.combinations(numbers, 2)
    total = sum(numbers)
    new_pairs = list(filter(lambda par: par[0] * par[1] == total - (par[0] + par[1]), pairs))
    result = new_pairs + list(map(lambda par: (par[1], par[0]), new_pairs))
    return result```

but still can be better :slightly_smiling_face:"
"<@Ciera> Yeah I was thinking that too, but xero had performance issues yesterday on their status page, though today it says all is good. I'm just gonna get in touch with support and see if they have some insight on their end before I chase rabbit holes."
<@Hipolito> Another idea that would be slower overall but faster for the first results would to make `removNb` a generator; and yield pairs as you find them
possible
anyways good job :thumbsup:
"thx; but funny is, I don't know haw use yield :slightly_smiling_face:"
"Can someone point me in a good direction for using ngrok with pycharm, or if the new http client has any way of replacing ngrok?"
"Hi all, i have an issue about python, when run command line `/usr/bin/xattr` it will show error `Traceback (most recent call last):
  File “/usr/bin/xattr-2.7”, line 7, in &lt;module&gt;...pkg_resources.DistributionNotFound: The ‘xattr==0.6.4’ distribution was not found and is required by the application`. How i can fix it ?"
"api_1 =\
  MultisigIota; api_1 =\
  MultisigIota(.........)

can someone explain what is *api_=\* in this code"
"the same as `api_1 = MultisigIota()`, but with a line break"
api_1=\ is a variable ?
"No, `api_1` is"
<@Collette> thanks :slightly_smiling_face:
"Anyone have a sugestion on how I might get a serious investor for my idea, here's two links of what it used to do, need to resurrect it <https://www.youtube.com/watch?v=-EiCraPtVIY> &amp; <https://www.youtube.com/watch?v=E8VxffpCQ3w&amp;t=3370s>"
"i am using tkinter text widget to display 3 diffrent text messeges at diffrent time . but i am havint trouble to use 
txt.delete(1.0, END) to clear txt an input a new content at a specific time.."
Is it good choice to develop payment gateway from scratch using Django and Django rest framework?
IMO payment is the same as crypto never do it yourself :smile:
"it's a function, so you need to call it; a.next_number() vs a.next_number"
&gt; The comparison operators &lt;&gt; and != are alternate spellings of the same operator. != is the preferred spelling; &lt;&gt; is obsolescent.; <https://docs.python.org/2.7/reference/lexical_analysis.html#operators>; but it doesn't looks like it's in the 3.x doc
thank god it's not
oups wrong channel :stuck_out_tongue:
thanks
Any experts in celery ?
"Hey guys, just getting into Python and CS generally, and curious to your perspective. I'm following some course, but there's no real explanation about the process of solving a problem/building your project. Is there a process you guys use to go from problem/start of project (for example in my case, building an interactive dictionary) to finish?"
Does anyone here have experience using pathos ?
"Which module should I be using if I wish to plot pathways over a google map, or any type of map (using latitude and logitude)"
Can't you use the google maps api?; <https://developers.google.com/maps/documentation/embed/guide#directions_mode>
"This is more along the lines I want: <https://jsfiddle.net/api/post/library/pure/>; I was googling bad terms, and seems most of the things that were coming up were numpy/ pandas applications that only ran on python2."
"hmm. I have many databases with a common prefix (`cloud_`) I need to insert a record into all of them into a specific table. all the databases have the same structure. I can get a list of all the db names by querying `information_schema.TABLES` but i havent had to insert data into them dynamically before. how do I do that.; I basically want to see if its possible to condense these 2 inserts into one dynamic query, where i can get the DB names from information schema (`key` column is a uniqe and is the PK)
```
INSERT IGNORE INTO db1.constants (`key`, `value`) VALUES ('the_answer', 42);
INSERT IGNORE INTO db2.constants (`key`, `value`) VALUES ('the_answer', 42);
```"
is it a one shot ?; maybe something with `psql` so you don't have to connect to each db
"it is in mysql. for work; i have it as part of a normal migration, which will hit all of them. but ops wants me to get it into a data migration, which are just SQL files; So I am trying to see if its possible. when the service goes live, there will be many `cloud_%` dtabases; as they will be based on clients that pay for that part of our software"
"not sure you can consolidate it into one statement, but output what you need into a single file that can execute sequentially using dynamic sql to generate the sql for all the tables you pull out of information_schema"
can't you ask ops the same file on each DB ?
"yea, unfortunately the way our tooling is done now, it wont support that easily. we have 2 types of migrations. normal which use typical migration files with an `up` and `down` method, and data only migrations which are just .sql files.; i can ask but the way the tooling works now, it may not do that. i would have to specify the db name in the sql file. which is annoying. i may have to have a longer talk with him about updating the tooling for this. or just letting me do it as a normal migration since i already have a PR on github for that."
"Let me know if I should write this better. I have been reading up on Server Side Events. If I have a url that has event-stream as a content type, how can I get that data from the url to python so I can manipulate or store the data?"
this with a web app?; because edge or IE don’t support SSE at all; <https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Browser_compatibility>
"I think I understand the question, I’m using flask and this is an external url; <@Meg> Hey, I think I figured out my question. Definitely looked at that link you’ve sent over. Thank you for the help. Here’s what I found: <https://stackoverflow.com/questions/27639356/python3-4-read-content-stream-web-request> sseclient"
any reason an `ALTER TABLE` to insert a column would take 10+ minutes? would it take that long even if there are a million records in the db?
if there are a million poorly indexed records maybe
"running it locally it runs almost instantly. but on staging, its taking almost 15min now."
i've made that mistake before; but it was a ~22million record table so im not sure about the low millions
"its a high access table so we thought maybe if records were being inserted, but processlist didnt show any open connections."
"`mysqldump {table}` -&gt; regex to add the new column -&gt; regex to add the new column value
`mysql {table} &lt; {the edited dump file}`; shitty but works, unless you're doing more than adding a column; hilariously shitty"
"well, the field im adding is also adding an index to that field."
hmm yea that could take more time
if it needs to reindex all the table it can take some times
"oh well now...; apparently the table only has `44,270,310` rows..."
"rip; I'd just let it chew until either it finishes or your devops guy starts throwing stuff at you, that's how I usually know I've pegged the DB"
"well, we have to do this on 25 databases..."
lol
"sooo, might have to rethink this migration."
"Hi all, does anyone know if there is a way to make PyQt apps scale correctly on high-res screens like a Surface Pro?  The text on buttons etc is tiny by default."
"So I'm trying to get this replace a birthday and for some reason I can't figure out why it's adding a space; It won't let me pass this question unless I figure out why it's doing it.; ``` Your program output did not match the expected output.

Your output:
Adam            Smith           11111985Theodore        Anderson        03201990Monty           Biscuit-Barrel  10181980Adam            Smithers       00000000Ruthy           Anderson        06062010
Expected output:

Adam            Smith           11111985Theodore        Anderson        03201990Monty           Biscuit-Barrel  10181980Adam            Smithers        00000000Ruthy           Anderson        06062010 ```"
is the problem of adding spaces or removing them? Looks like you need to get rid of B.strip() to me (since that is removing the spacing)
"Not sure which channel to ask this in, but I'm trying to `ssh` into a server from Windows PowerShell. I'm able to successfully ssh in, but when I do `git remote update` it prompts for a password. It should be `agent-forward`ing my ssh key. Everything works in `Git Bash` perfectly. Anyone have any idea what's going on?"
In my output it's adding a space which it shouldn't
can you do that forward an ssh key ? usually I just create a key/user for the server i'm pulling from with adequate rights
<@Ciera> i'm not super experienced with it but git bash seems to do it with no problems?
shouldn’t you be using `ForwardAgent` in the ssh config?
i have `ForwardAgent yes` in my ~/.ssh/config file
"so, the same key you’re using to ssh into; is that the same key that’s for your github?"
Does your ssh agent have the identity loaded
"<@Meg> ya, we looked at it today and it's the same key. let me just make sure and check again though."
I don't know what the powershell equivalent of `ssh-add -l` is
<@Marilyn> so I tried `ssh-add` and `ssh-add -l` in PowerShell and it wasn't working
and I suspect that’s the difference; powershell and bash are different beasts entirely
ya...PowerShell says `Could not open a connection to your authentication agent.` after `ssh-add -l`
Whenever I run into this it's always my ssh agent not having the loaded key from a restart or something; That part I can't help with on powershell though but hopefully it points you in the right direction
"*def _execute(self, request):*
this function is protected or private ?; how can i import it in some other class."
"it's technically neither as we don't have those things in python; assuming your new class extends the class that owns `_execute`, you'll have access to it on the instance-level"
"can i import this function 
or i have to import its class and then make an object of that class to call this function"
"<@Gemma> have you seen if __name__ == ""__main__"" in python before?
<http://thepythonguru.com/what-is-if-__name__-__main__/>"
"<@Gemma> it's not a function, it's a class method, so you'd have to have an instance of the class to use the method; methods belong to classes and are unusable (for the most part) outside of their class's instances"
"<@Frieda> you've done this before, and I'm guessing your spidey sense/experience knows that's his angle, but what did you key in ?; (versus where I'm going with it)"
"<@Seema> uh, just that it's obviously an instance method (`self` in the signature) and asking about ""some other class"""
he said import and that's what I was keying on
"i mean, maybe?"
"<@Devorah> I guess am reading it wrong, but from what I can see from the text you pasted
`Your output` has 1 space less preceeding 00000000Ruthy and Anderson as compared to `Expected output`"
"<@Gemma> when you say import, do you mean how do you get an instance of that class to use or do you mean from one python script/file to another?"
from one python script to another.
you'll still need to do what kennethlove was saying but first visit that link and it will explain the key to import from one script to another
<@Gemma> in that case you won't import that method but the whole class itself and instantiate the class into a var and then call the _execute method on that var in your python script
"okay let me try that 
thanks all  <@Frieda> <@Miguelina> <@Seema> :slightly_smiling_face:"
"<@Miguelina> do you see why it's doing that? I can't figure out why it's doing that, it should be a fixed length field with 16 for first and 16 for last and 8 for birthdate"
<@Devorah> can you replace `workers = workers[:(XX+15)] + B.strip() + workers[(XX+24):]` with `workers = workers[:(XX+15)] + B + workers[(XX+24):]` and see
"<@Devorah> by default strip will remove white spaces before and after your string
```
In [9]: foo = ' Hello '

In [10]: bar = foo.strip()

In [11]: foo
Out[11]: ' Hello '

In [12]: bar
Out[12]: 'Hello'
```"
with it removed it's still adding a space
hmm; <@Devorah> can you tell me what exactly is the goal of the exercise? you wanna search and replace something?
"``` Fixed Length Records
You will be passed the filename P, firstname F, lastname L, and a new birthday B.

Load the fixed length record file in P, search for F,L in the first and change birthday to B.

Then save the file.```"
<@Gemma> any questions about that?
<@Devorah> whats the output without the B.strip() can you share that here please
"``` LAST RUN on 12/13/2017, 5:52:02 PM
Program Output

Your program output did not match the expected output.

Your output:
Adam            Smith           11111985Theodore        Anderson        03201990Monty           Biscuit-Barrel  10181980Adam            Smithers       00000000Ruthy           Anderson        06062010
Expected output:

Adam            Smith           11111985Theodore        Anderson        03201990Monty           Biscuit-Barrel  10181980Adam            Smithers        00000000Ruthy           Anderson        06062010
```"
"<@Seema> if a class is inherited from another class e.g class me(person)
can i create object of class me simply *anybody=me()*
or i should pass person class object in its arguments as well"
"just to be clear,do you want to inherit or create an instance of a class?; in the case of Person, you might want an instance me, you, him, her, but then you might want to have a different behavior and inherit from person into baby and include a method for pooping pants; (anyone can poop their pants, it's the best example I could come up with on the spot :\)"
<@Gemma> take a look at this <http://eflorenzano.com/blog/2008/05/04/inheritance-vs-composition/> might help you in choosing what path to take
ok thanks guys
"<@Devorah> you could just use regex's to find F, L and replace B"
I'm not there yet <@Miguelina> how would I do that?
"without knowing all the details I can't give the exact code but would look something like this
```
import re
new_text = re.sub(r'(F)\s+(L)\s+(\d+)',r'\g&lt;3&gt;B',workers)
```; will need to try it out a bit and tweak it maybe"
cool will do thanks!
If you run into any trouble with regex I highly recommend using <http://regex101.com> which has a Python option for testing
"The string worked off the bat, but it's still saying there's a space in the 'correct' one that isn't being shown in mine..; I've spent way too much time on this one problem, it's such a pain when beginning and getting hung up on this tiny dumb part."
<#C07EW4DNE|learning_python>
"Hi <@Ora>, you can always ask on here for a code review! I'm sure someone will be willing to have a look. I gave someone some feedback on a small github project they wrote the other day and I'd be happy to do so again (as long as it's not too complicated :wink: )"
"Hey has anyone seen a nice tutorial or guide on how to make haystack facets work?
Its more of the rendering side i'm struggling with, facet data is being collected I just cant render to templates
The documentation is not the best."
"With that kind of stuff I’ve found it’s usually best just to dive into the source and look, because yeah the docs aren’t so hot.  :confused:"
"Hey guys I have a json data that looks like this after using `json.dumps(data)`: `{\""id\"": 5, \""first_name\"": \""b\"", \""last_name\"": \""b\"", \""email\"": \""<mailto:b@gmail.com|b@gmail.com>\"", \""username\"": \""bb\"", \""date_joined\"": \""2017-12-05T16:49:22.527214+00:00\"", \""country\"": \""a\"", \""goal\"": \""a\"", \""mobile_number\"": \""a\""}""`; I want to take out all the `\`; how do i do that since `'\'` isn't allowed in `.replace()`"
it doesn't allow `\`? you'd think there'd be an escape character (ex. `\\`) but im pretty new
Yes `\` is the escape but when I tried to replace `\\` it didn't work :disappointed:
"It’s just “ signs , they are escaped because the whole string here is wrapped with “”; Try print(json.dumps(data))"
are you printing that out?; or is it just displaying in the shell
so the solution was `json.loads(json.dumps(dict))` haha
huh?
that feels unintuitive though haha
you never answered my question though; you’re just loading the dict back into a dict after dumping to json; so what does `print(json.dumps(data))` look like?
yeah its super weird hold on i'll upload pics; This one using `json.dumps(user_details)`
what is `user_details`? Looks like you're dumping a string to a string
"its a dictionary; So i guess it makes sense, I json-ified the dict then made it readable using `json.loads`"
"what are you trying to do?; because if you’re printint the data out to a template, you don’t need to do the json stuff; and if you’re logging to file, you don’t need that either; basically, I think you’re driving yourself into an area of confusion about something that has zero relevance"
story of my life
"<@Meg> sorry for the late reply, the data being presented by the endpoint included the `\\` and I just wanted to remove it to make the front end api calls easier."
Would it be worth it to multi-thread a computationally heavy for loop with 3000+ iterations that takes 20+ minutes to complete?
how often do you need to do this?
Once a day; Or should I just be creating a bunch of workers
really depends- do you care that it takes 20m? :)
"I’d go the multiprocessing route over threading, but yeah, like <@Joann> said - depends how much you care; could be a good excuse to try the technique though"
Currently sitting at my desk awaiting completion so I got 20 minutes lol
heh; I mean if it’s something you have to wait for the result for then I’d say yes.  How many cores does your machine have?
"if the work you're doing is cpu bound I'm not sure if traditional multi-threading will help that much, wouldn't it be stuck on one core anyway?"
8 total with hyperthreading
"huh? no; well, idk what you mean by 'traditional multi-threading' to be fair, but Linux threads will certainly get you access to multiple CPUs..."
In pure cpython you are block by the GIL
I meant python threads vs a library like multi processing
<@Antionette> I believe `ThreadPoolExecutor` works properly
you need to drop in C or use multiprocessing
"oh, ugh, forgot which slack I was on. :); silly python"
"Multithreading for IO bound, Multiprocess for CPU bound"
really good talk about concurrency in python <https://www.youtube.com/watch?v=9zinZmE3Ogk> :slightly_smiling_face:
IIRC; How many processes should I have running at once?
"with 8 HTs, I'd probably try 10; you could time that and then vary the # of processes and see if there's much change"
n° of core + 1 is the rule I heard but I don't really know :smile:
"it really depends on a lot of different things, heh."
yeah; very hard even to estimate
The difference is likely to be relatively small in total runtime anyway tho.
but it's easy to shoot yourself in the foot and make parallel code work slower than one-core-one-thread; RE: multiprocessing communication overhead
Now the attempt to get `tqdm` to work with this
<@Myong> Looks like you can afford to spend about a day or two on this before you wipe out any gains in time you make over a year: <https://xkcd.com/1205/>; Assuming you shave 5-10 minutes off the task
haha nice chart :smile:
relevant xkcd!
I like how some are greyed out. Like `you should have already done it` :smile:; today's one was kind of happy/sad
oh no
"wow, yeah, hadn't read it yet"
"<@Myong> have you checked your time-complexity, for example, do you have inner and outer for loops?  also have you profiled the code at all?"
Yeah I ran a profile on it; It's basically a word likeness algorithm that runs on a few thousand inputs
"<@Myong> I don't know what the task is, but would it be possible to run it as a cron job before you need it, so you're not actually waiting for it?"
It spends about 97% of the time inside a single function
Or is it something you need to run on up to date data when you get it?
hope it's not the slow Levenstein
It's useing `FuzzyWuzzy`; <https://github.com/seatgeek/fuzzywuzzy>
it might be a good opportunity to learn cython :smile:
You could be correct; I'm just not busy at work and trying to improve this little script
"""cheap"" ways to *potentially* increase speed are to compile the program or try pypy, though reference that time chart for pypy :wink:"
Okay I'll check it out
yeah pypi is a good idea :thumbsup:
"lol, I can never get the name right"
the python package index?; Oh I got confused for a sec
"pypy is a python compiled python interpreter, no C underneath"
haha no I go it wrong you got it right <@Seema>
lol
what's happenin
wait isnt that pypy?; LOL
I'm confused
<https://pypy.org/> != <https://pypi.python.org/pypi>
"right, so i'm not having a stroke; that's good"
what a rush; <@Ciera> so <http://pypy.org|pypy.org> and download the interpreter?
!= <https://en.wiktionary.org/wiki/pipi>; yeah with a bit of luck it should automagically work
it shouldn’t?  :stuck_out_tongue:
Hopefully im not lucky
"*IIRC*, you need python to use C to use python to create the python interpreter so not as easy as ""download the interpreter"", you'll need to build it.  Last I saw it was a long build time.; can someone tell me I'm wrong and that you can download it?"
it's late here :coffee: :cry:
I have a download im looking at here
I think there’s a binary distribution for it.
BUT Idk
"at the very least, you'll learn a lot :slightly_smiling_face:"
Looks like they have SVM here <http://buildbot.pypy.org/nightly/trunk/>
Where are you at?
I'm in belgium. It's not that late but it's getting dark
"My brother-in-law lived there for 10+ years, he's from California so there was a bit of weather shock.  He loved it otherwise.; I think he lived in Leuven, spoke Dutch and English, had to learn French"
yeah the weather is not too good at the moment :disappointed:; Leuven is pretty nice.
he tells the story of over a 100 days of no sun and he had an upcoming bike trip
haha 100 days of no sun is a bit exagerated :smile: we are not England
"just as he goes on his trip, the sun opens up for 5 or 6 days and he has this glorious ride and then it goes back to cloudy, he said the whole country kinda slumps"
well it's a shithole afterall :trollface: :trump:
are you Belgian?
yeah. I was born in France but moved to belgium when I was 12
Alright about to try it out
where are you at ? I suppose US west ?
"northern California, east of San Francisco; it's been 4 to 16 degrees out here and I'm not use to this, I'm from southern california; I have thermals and ear muffs , often in the house"
is that °F or °C ?
C
ah yeah that's pretty cool for California; it's around 0° here; you don't have good heating in the house ? More focused on cooling usually ?
"brrr, I live on the way to the mountains so if I was a skiing fan this would be great, about 2 hours to some great slopes.  Too bad I can't deal with the cold.; Most of the houses in US are old double-pane windows that no longer hold the insulation, often about 2000square feet, so the heaters are kind of useless, the concern in most of the state is air conditioning"
yeah well I guess in the south temperature are usually higher.
"It's highly variable too, in San Francisco, you might never use your heater but a couple of weeks a year because the proximity to the ocean keeps the temperature even"
at least in Belgium house have good insulation and heating; but then in the summer when there is a bit of sun nobody can handle it
"central california is a giant, and I mean HUGE valley, easily ges in the 100s.... errr 40+, part of southern california too but the closer to the beach, the less craziness, the more expensive, nice community,etc"
I couldn't deal with 40+ :smile:
is air conditioning a normal thing to have?
"no, nobody has it"
"that's interesting, how many times a year would you say it's needed?"
you would only use it for a few weeks over the year. nt worth it
"Seattle is like that and they've been having warm, dry summers.  My (ex) co-workers were miseable, weeks of hot, muggy, no relief, no way to cool at night; you working on any interesting projects?"
yeah it's usually like that. But temp rarely reach 30; Average should be about 24-25 in the summer
that's nice!
"Yeah I was working on making our postgresql replicate, and before that on a SIP server with asyncio; pretty cool stuff to do; and you ?"
"lately, tinkering, I'm hobbyist not full-time programmer.  I've been playing with Dask <http://dask.pydata.org/en/latest/>; Also, been trying to figure out how I can level up, my decorators, metaclasses, context managers, properties knowledge is non-existent; do you roll your own SIP?"
"I don't really know anything about datascience / analytics in python but it looks interesting :smile:; well it's always by doing that you learn, there is no secret."
TRUE
No but we have the need for a custom SIP server/proxy in some specific cases
"I used to manage the VOIP and the Lync servers, some of that stuff is black magic, some of it cool, most of it a pain"
If you haven't already watched them I can recommend all the raymond hettinger talks
"I like his, then I'll balance it with a Dave Beazley talk just to keep it light, lol"
Most of it was a pain to do :smile: but we got something working. It's not perfect but does the job; <https://github.com/Eyepea/aiosip>
"""proto-duction"""
David Beazley is like the crazy uncle of python; I have to go. talk to you later :wave:
take it easy; o/
Alright installed the binaries but there is no actual binary anywhere
start a new shell session?
On Windows fyi (save me). But it's nowhere at all let me see if this works gonna download one of the newer binaries; ahhh there it is
"ah, no idea about windows.  :slightly_smiling_face:"
Yeah I got it. I guess I downloaded the source but for some reason there was no distinction between the two
Alright im excited to see how this works with  pypy; just as slow so far in pypy as normal python build; :disappointed:
"Hello, I've got a celery worker that runs task that involves calling `subprocess.check_call(cmd)`. The cmd is a Python script. Is it possible to debug it using Pycharm inside a Celery worker debugger?"
Sweet! Implemented multiprocess and the speed has doubled so far non pypy
"<@Myong> play around with it, I've even heard of things initially going slower on pypy before going MANY times faster; nice"
Worth running on pypy with multiprocessing?
"<@Mirian> if you set `CELERY_ALWAYS_EAGER = True` in settings, then the worker will run synchronously and you’ll be able to debug in pycharm"
"but not sure whether you’d be able to hook into the subprocess.  that might be best left as a standalone debug, where your inputs match those from the subprocess call"
"that's a good question (euphemism for I don't actually know), though pypy is an interpreter with a GIL, I would imagine you'd see improvements; do tell how it turns out if you do"
okay about to start
"I can debug celery worker itself, just cannot figure out how to setup breakpoints within Python script executed with subprocess; debugging the rest of the code works :slightly_smiling_face:"
the problem is that the subprocess runs on an entirely different process than what the debugger is attached to
there is a settings `attach to subprocess automatically while debugging` <https://www.jetbrains.com/help/pycharm/python-debugger.html>; but maybe it's an external process; and I've misunderstood that
I’ve never had any success with that; ¯\_(ツ)_/¯
"anyway, thanks for the tips <@Meg> :taco:"
Moment of truth for pypy w/multiprocessing
"<@Seema> Starting out as fast as normal python interpreter w/out MP, but im gonna let it run the full length and see what happens"
It's slowly going up. 10% through and its gone from 1.5 it/s to 2.35 it/s and keeps climbing
cool; what are you using to display the number of iterations per second?
`tqdm`!; Awesome library for progress bar; And I just found the code to work alongside multiprocessing
"seems like a win, take the rest of the week off!  lol j/k"
That's what I'm saying
pypy often requires warming up; such is life with JIT
Just read up on JIT so now I understand; <@Seema> half way through at 2.65 it/s so about 35% slower than normal python atm both w/MP; Time for cython?
that's a strange result
could I possibly have too many workers?; I have 8 total cores and 10 workers; should i drop it down and see what happens
"<@Myong> how does the pool communicate with the main process?; do you submit something to the pools, or just tell it where to read from, or..?"
"I submit them with list comprehension; `futures = [executor.submit(self.find_match, radio) for radio in self.missing_list]`"
and what's the typical size of the submitted data?
It's a string usually no longer than ~20 characters
"huh; I'm not 95% sure it's a communication overhead; each piece of data needs to be serialized, transmitted to the process, and deserialized. And then the same when the process finishes and communicates the result back"
Its just weird cause the normal interpreter improved ~80% from the MP
maybe PyPy was already fast so less room for improvement?; what if you submitted a chunk of data each time? like a hundred entries or so
Difference in speed is `2.55 it/s vs 3.9 it/s`
too much fuel in the carb! lol
ugh now `with open()` in pypy can't take the `newline=''` argument
mine does :open_mouth:
:disappointed:
how is it going?
"I haven't run it in a bit, but it was still running around 2.7 it/s"
:disappointed:; is it public code?
<@Meg> I've figured it out! This script was an setup.py's script and I've changed it to the actual path of the file
and it now magically works; but I'm not sure why :stuck_out_tongue:
It is not. It's just a small script that deals with data that's not very sensitive. I'm gonna profile it again on pycharm w/PyPy
alright
"<@Suellen> huh, I just found something interesting; downloaded the 3.5 version binaries, but python 2.7 installed..."
how did you install and invoke python?
So Installed it from their nightly py3.5 branch here; <http://buildbot.pypy.org/nightly/py3.5/>; I downloaded the top most `pypy-c-jit-latest-win32.zip`
"and when you type python, 2.7 comes up?"
"When I go into the directory; And open up pypy.exe; I see python 2.7.13; `Python 2.7.13 (5ef9bb870cd2, Dec 14 2017, 07:11:07)`"
:open_mouth:
How does that work lmao
very cruel joke on their part
I cant find the stable release binaries...
what about earlier releases like <http://buildbot.pypy.org/nightly/py3.5/pypy-c-jit-93274-44b347a2f013-win32.zip>
There is only the source that you have to build yourself and it looks quite extensive; And 502 error on their site lol; Downloading now
very bad luck lol; you should buy a lottery ticket
LOL; So I somehow did download 2.7; Cause this one has `pypy3.exe` as opposed to the one I have now `pypy.exe`
"kbman, I'm not going to ""should"" you because I've been where you are.  I am however going to suggest that the conversion to linux can be done, it may take several attempts, much like quitting smoking.  There's a considerably lower barrier to entry for programming in linux imho.; Also, windows has some much nicer VM support currently if you'd like to play around."
I'm unfortunately unable to because I'm on a work computer.
"fair enough, may the ActiveDirectory gods show you mercy then :wink:"
"I'm all about linux, I would love to have it, but I'm not sure that's an option; Thank you brother :pray:; love me some <http://reddit.com/r/unixporn|reddit.com/r/unixporn>"
very wholesome community we have here :blush:
:heart:; if there's one thing I hate about windows its `\` vs `/`; like why
"iirc, there are many places that MS will accept *nix slashes now, I was floored when I saw that.  Shows my geekiness."
"Hey guys, I have a list of tuples such as [(1,2), (3,4)] I want to subtract the values in each tuple pair. So it would look like 1-2, 3-4 and so on. What’s the most efficient way to do this?"
"Hey <@Cliff>, so do you want to subtract the same value from each?"
And maintain the structure as a list of tuples
Yea I want to subtract each pair and return a list of the results
Okay so since tuples are immutable you wont be able to touch the values. You can grab them though and place them into a list
I was looking into functools but couldn’t quite think of something without using for loops
There's an easier way that's a bit cleaner one sec
Yea I mean returns new list not change the existing one
So say you wanna subtract 2 from each value
"```
&gt;&gt;&gt; numbers = [(1, 2), (3, 3), (5, 2)]
&gt;&gt;&gt; [x - y for (x, y) in numbers]
[-1, 0, 3]
```"
Yes that; As im writing it lol
That’s perfect. Thanks guys 
":tada:; Thanks for :pineapple:, I'll put it on my pizza :slightly_smiling_face:"
dont start this
:lower_left_ballpoint_pen: - this I didn't get; it's not going on any pizzas
"sorry, you said pizza but my brain thought pen pineapple apple pen"
"ooh, nice reference"
Okay so now I don't have the `pypy-c.exe` to install into my virtualenv...
:no_mouth::gun:
"This is a ball, boys; Yeah just getting an incompatibility error when trying to directly do a venv with pypy.exe in main directory"
did you tell it what version ?
yeah pypy3.exe; `the following executable... pypy3.exe is not functioning`; `It thinks sys.prefix is 'c:\\users\\kbowman\\documents\\code\\python\\auto                          mation\\model matcher' (should be 'c:\\users\\kbowman\\docume~1\\code\\python\\au                          toma~1\\modelm~1\\pypy-env')`
"Another question guys. How do you pair up elements in an array that was right next to each other. For example: [1, 2, 3, 4] would be [(1,2),(3,4)]; I’m currently using itertools.combinations but that’s not what I’m looking for"
"```virtualenv -p c:\bin\pypy\pypy.exe pypy
copy c:\bin\pypy\lib_pypy \virtualenvs\pypy
copy c:\bin\pypy\lib-python \virtualenvs\pypy
virtualenv -p c:\bin\pypy\pypy.exe pypy```"
I found that on SO <https://stackoverflow.com/questions/13578593/how-to-create-virtualenv-with-pypy>
"Manny, you can take every nth element in a list with [start:stop:step], so you could zip the every otther.... wife calling, hang on"
"`[tuple([0:2]), tuple([2:])]` manually"
What package does izip come from?
izip?
Tried to import it from itertools; Yea 
its itertools; `from itertools import izip`
I’m getting the error that it’s not an attribute of itertools
what IDE
if using an IDE
Python IDE
That comes with python; I have zip_longest and that’s it
izip doesnt exist
"back, zip is a builtin"
past 2.7
Izip is also a built in?
no; zip is
I think I’m using 3.5
"`zip(x,y)`"
Okay so it’s basically the same as izip
"```Python 2.7.12 (default, Nov 20 2017, 18:23:56) 
[GCC 5.4.0 20160609] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; a = [1,2,3]
&gt;&gt;&gt; b = [2,3,4]
&gt;&gt;&gt; c = zip(a,b)
&gt;&gt;&gt; c
[(1, 2), (2, 3), (3, 4)]
```; I'm sure there are more elegant ways to do it but I'm a bit of a long-hand kind of guy; in your case a would be 1,3,5 [0::2] and b would be 2,4,6 or [1::2], then zip(a,b)"
"I have:
def chunkwise(t, size=2):
    it = iter(t)
    return izip(*[it]*size)
; Sorry I’m using my phone so I have to type everything out; <@Seema> yea but I’m only using one list tho ; A = [1,2,3,4,5,6] ; Trying to split A into pairs"
izip requires that you pass the iterables that you will zip; plural
Yea but in this case I set the iterable to a variable and set the size of each pair to 2
you said 3.5 right?
"Actually wait I think you were right. I’d do something like zip(A[::2], A[1::2])"
"looks good, and....?"
Yup that was it. Thanks man
you did the work
You pretty much did lol. Cant take all the credit
Are you doing python on your phone too?
"What's everyone's opinion on the following (complex) scenario:

I am building a platform which retrieves order data of multiple webshops, those orders have different suppliers (depending on the products).

Each of these suppliers have complete different API's. Expect data to be mapped differently and have different features. For example:

Supplier #1 has ""Post Order"" (POST to API), ""Get Stock"" (from FTP), ""Get Order Status"" (from FTP).
Supplier #2 has ""Post Order"" (SOAP WSDL), ""Get Stock"" (SOAP WSDL).
Supplier #3 has ""Post Order"" (Through E-mail)

We have a ""BaseSupplier"" class right now, and want every feature to be a mixin (""PostOrderMixin"", ""GetStockMixin"", ""GetOrderStatusMixin""). However, these Mixins still just have abstract functions because the actual implementation for a supplier is so different. But I'm not really able to move forward on this right now because it's starting to feel ugly..

How would you design this?"
"I think your approach is appropriate, abstract the stuff you can, mixin the stuff that needs tweaking.  I have a story that goes with this...; <@Casie> so my dad once worked as a buyer and the problem was that all the suppliers had their own way they supplied the data.  The product was a commodity so buying was mostly based on availability and price and not features; he implemented an ingest system and said to the suppliers, ""this is our system, here are the tools to adhere, we'll even teach you, if you don't adhere, we will buy from the other companies that do.""; there was a bunch of squabbling but my dad's company won because a) they were a big buyer and b) the tech the companies were offering was awful (word docs, xeroxed sheets, faxes(!))"
"<@Seema> nice story! hehe, yeah it's really weird seeing all these suppliers holding on their own outdated stacks and tools; I'll try to build a little further on the design I had in mind and see how it goes :slightly_smiling_face:"
"Day one of SANS Automation with Python (573) and I highly recommend it. Learned more (beginner) in an hour, than hours of videos."
how to give read only persmission to a user in linux ?; i have root and abc user
anyone using visual studio code . and now if you can import python-tksnack  so i can test the code ?; or any other sound module
i want to restrict user abc to a particular directory as in make him read only for that directory; but root should have full permission for that directory; its only abc user which should have read only persmission for that directory
"<@Sara> default permissions are 644 for a file and 755 for a directory, which means the owner can read-and-write, and others can only read and go from dir to dir; so if root creates a file, the users can't write to it by default"
how do i make aplay only play the wave file once  or twice and the stop
how can you connect spyder to remote linux machine; to access code; a better question rstudio has a version which runs remotely and can be accessed through browser. is there something similar for python?
I want to convert a string character of 'ü' to '&amp;uuml;; Anyone have any ideas? apart from string replace
"stdlib lacks in this regard it seems; ```
from html.entities import codepoint2name

def escape(char):
    name = codepoint2name[ord(char)]
    return f'&amp;{name};'

print(escape('ü'))
&amp;uuml;
```"
Thanks <@Suellen>
"If I'm looking to find something in a 2d array can you use str.index(x,y) to return two positions?; or does it just do one"
didn't get it; what are you trying to find? Find 'y' inside the array indexed by 'x'?
"My problem says - #
# Searches the 2d array 'records' for firstname, lastname.
# Returns the index of the record or -1 if no record exists
#; so I'm wondering if they want both values returned"
"nope, I don't think so"
or just to match both then return either one in order to figure out the index of birthdya
"for quick tests like these I would recommend you using the python REPL; however, to help you on that matter, what is the answer you're supposed to give?; (x, y) where x is the index of the firstname and y the index of the lastname?"
"So, I am creating a flask app where the models will be constantly updated in the background (once I get that running). If I wanted to have the endpoint being accessed to have the latest changes in the models and render the data in real-time for the user, what would need to be done?"
right now they're having me create a bunch of functions first and then piece it all together afterwards.
I see. I don't know how your data structures are laid out
it's horrible
"however, this seems like a dict or something"
the online ide won't let me check it step by step until it's all done
damn. Can't you copy everything to a file and run it on your pc?; I usually do this; for online tests and stuff
yeah that's what I've resorted to
:thumbsup:
it's hard to figure out with these systems what's a limitation of their teaching platform and whats the limitation of the program
this data structure of names; it sounds a lot like a dict
"Yes, it's a 2d array"
firstname for the key of an array of lastnames
imported from | delimited file
for me my model is a MySQL server so i can just make a direct SQL query for the freshys
but when I import it locally it's giving me the \n and when I .rsplit it's not stripping it
or i can analyze the request and pull from cache depending
hmmmm; you can iterate easily over the lines of the files
if you want to get real fancy it sounds like a job for an ETL to handle
"with open(""file"") as f:
   for line in f:
      print(line)"
"keep you API totally decoupled, just parses a route and makes a data request"
if you need the line numbers to do some specific operation you can do the following
then your ETL system handles making sure you get the right data
"with open(""file"") as f:
   for i, line in enumerate(f):
      print(i, line)"
"of course i'm relatively new and just hacking things together, there could certainly be better practices (and I'd be interested in hearing them!)"
"So this is what I have here : ``` def load2dArrayFromFile(P):
  # Your code goes here:
  names=open(P, 'r')
  workers = names.read()

  print(workers)
  delimiter='|'

  newarray=workers.splitlines(delimiter)
  workers= workers[2].replace('\n', '')
  return newarray  ```"
"OH i just reread your thing, let me give you a better answer"
"try what I said and print the lines; with open(P, 'r') as names:
   for name in names:
      print(name)"
ajax request to the server from the browser?
just to debug; the with block is useful as it guarantees that the file is closed after you use it
websockets?
your code is leaving the file open
the most real-time you can get
"I would whip up a flask-restful API (way easier than it sounds if you havent) then handle requests there and pull the required data either directly from a DB or from an ETL. You're front end would be handling the ""real time"" updates, i'm familar with using Angular or Knockout.js to bind elements to data models. Then you would have some ajax request firing occasionally to poll for new data"
"it shouldn't be harmful in this simple example but it can generate a lot of bugs; strings also have the split funcion; you can do name.split(""|"") to get an array of strings"
"that's a good thinking question tho, what the best way to do a live check for new data...."
I had it that earlier but it was still giving me new lines in the string
"the problem was with read; read loads the file in a single string with the ""\n""s; if you iterate over the lines that shouldn't be a problem"
"``` nick|julius08025978

clash|shareef|07257980

robot|jones|08041872

sponge|square|09091999
&lt;_io.TextIOWrapper name='python-challenge.txt' mode='r' encoding='cp1252'&gt;
None ```; so that's the response I get now"
ok; weird file though; what are those blank lines?
don't know it's is kind of weird; they weren't there before
"if its ok to ignore them, you can; if line.index(""|"") &gt;= 0:
   #do stuff
   line.split(""|"")"
"I forgot to add that my database is sqlite, not like that’s relevant. Are there any tutorials out there on ajax requests specific to this <@Corrinne>? I’ve never actually played with it."
<@Ozie> ETL?
Not that I know off the top of my head but it's quite simple; Create a view in Flask that returns the data
"I guess a better question is to ask what I can google, I have trouble with the terminology and can be spinning my wheels."
1 sec
no problem
<https://api.jquery.com/jQuery.ajax/>
"So I have it like this now ``` def load2dArrayFromFile(P):
  # Your code goes here:

  with open(P, 'r') as names:
    for name in names:
        print(name)
        print(names)
        newarray=name.split('|')
    print(newarray) ```; and it's only giving me the last set"
"So in your HTML template, make sure you import the jquery CDN script tag"
"``` &lt;_io.TextIOWrapper name='python-challenge.txt' mode='r' encoding='cp1252'&gt;
['sponge', 'square', '09091999'] ```"
what I assume is i have a script that queries the database and ajax will call that script?
A typical ajax post request looks something similar to this..
also why is it spitting out that io.textiowrapper ?
"idk, but your print is outside the loop man; it is not indented; and you are printing names everytime, inside a loop over names; I dont think that makes sense"
"```$.ajax({
      type: ""POST"",
      url: '<http://flask-app.com/data-end-point>',
      data: JSON.stringify(any data you want to send to the server),
      contentType: ""application/json"",
      dataType: ""json"",
      success: function(response){
          console.log(response);
      },
    });```"
"you can print it once outside the loop; if you want to see it; btw, the object dump you posted is probably the output of print(names)"
in your case you might be better off using a get request; <https://api.jquery.com/jquery.get/>; You may also have to pip install the flask-cors package
"ok so now I have 4 lists it looks like, but it still has the \n; but if I put in rsplit() in it I can strip it but then it shows up as ``` ['nick|julius08025978', '']
['clash|shareef|07257980', '']
['robot|jones|08041872', '']
['sponge|square|09091999'] ```; other wise it's ``` ['nick', 'julius08025978\n']
['clash', 'shareef', '07257980\n']
['robot', 'jones', '08041872\n']
['sponge', 'square', '09091999'] ```; sorry if I seem dense but this course has been killing me. I'm just not seeing iteration clearly yet."
"Your JS would likely look something like this..; ```&lt;script&gt;
$.get(""<http://your-server/my-data>"").then(function(response){
    // Do something with the response
    console.log(response);
    });
&lt;/script&gt;```; Your flask view might look something like this..; ```@app.route(""/my-data"", methods=[""GET"", ""POST""])
def dash_data():
    if request.method == ""GET"":

        # Get the data you want to return from the DB

        return data```; ```@app.route(""/my-data"", methods=[""GET"", ""POST""])
def my_data():
    if request.method == ""GET"":

        # Get the data you want to return from the DB

        return data```"
"<@Corrinne> thank you, I’ll reach out again if any questions. what would be <http://your-server/my-data> in this case? I’m assuming what I’ll need (as said earlier) is a file (.py) that queries the database. Would it be that?"
"You would query the DB from the view in the flask app; for example your `app.route(""/my-data"")` would be where you would query the server using the ajax script as above; When the AJAX script runs in the browser, it makes a request to the view in Flask. The view is run and returns whatever you want it to back to the browser"
anyone familiar with git hooks?; sorry this isn't a Python question but I'm about to pull my hair out
<@Corrinne>: thank you for the explanation. 
No probs
"Nice article on Python logging, Python 2 but still a great read:
<https://fangpenlin.com/posts/2012/08/26/good-logging-practice-in-python/>"
Does anybody know if you can disable the slack tutorial?
"Hi everyone, I started to implement a simple web service for image processing in Python 3.6.3. High throughput is very important, because we do real time processing. The concept is very simple - download image from azure blob storage -&gt; resize -&gt; apply some filters -&gt; response.  So I used Flask for the first prototype, after few load tests I realized that we need something asynchronous, so I switched to Tornado. But the problem of overloading still persists, I have only ~77% success requests for 250 concurrent users, which is sad (I use visual studio online load tests). I use single core VM for testing, on another similar VM I run our existing resizer written in C#, which handles loads perfectly with 100% request rate (tho single request is much slower). The logs don't have any failed requests, which means that the failed requests didn't even come into the web server request pool... I use docker container BTW, and odd thing is that CPU has ~65% load idle, tho the python processes consume 0% idle... This is my first ever web Python experience, so I'm frustrated a little bit, may be some help would be appreciated. Could it be a problem of Tornado? Docker? Should I try Sanic or japronto? Should I use another layer over built in web server in Tornado?"
"I have column of time such as 10/03/2004 18.00.00 ( Hours from 0 to 23). I’m trying to convert the columns to epoch time. The column type is object (dtype=object). I tried to convert the object column to the datetime as follow before conversion to epoch:
```df.loc[:,'Epoch'] = pd.to_datetime(df['Datetime'])```
But I get this error:
```TypeError: Unrecognized value type: &lt;class 'str'&gt;```
Does anyone how may I resolve this issue?"
"<@Adan>
&gt; The logs don't have any failed requests, which means that the failed requests didn't even come into the web server request pool... 
That _is_ strange"
Is it possible that the web server is overloaded to accept any other incomming connections so it just drops them before they actually logged?
<@Ciera> do you happen to know if you can get slack to disable the new user tour for a workspace?
"Well, it's possible, but I'm not sure. Tornado is a top-notch framework, but it depends"
is it good for image processing?
I don't think there is. Maybe in the owner option. Why do you want that? If I remember correctly you can skip it; <@Glinda> :point_up: 
"I want to replace it with a modal; They got back to me really fast too; Okay <@Ciera>, last question before I get back to work. The slack api on dialog says this: `Users trigger your app's dialogs by clicking on buttons, selecting from menus, or invoking slash commands. Dialogs contain a variety of guided input types.`; Do you know of a way to turn the `team_join` event into an event with a `trigger_id`; So I can send new users a modal instead of private message?"
What's a modal? 
or dialog; <https://api.slack.com/best-practices/creating-useful-dialogs>
It's just a message? It's been some time since I have look at their api. Maybe they changed things :thinking_face: 
It's like a popup message
I don't have the time at the moment but I can look tomorrow. Oh that's a new thing I believe; <@Alesia> send a message on user joining but a pop-up could be nice :) ; I plan to rework on it soon 
We just got ours going so it sends them a pretty nicely formatted message with buttons; And then sends a message to our mentor channel to greet them
Nice :thumbsup: 
<@Casey> have you tried the <#C0LMFRMB5|django> channel? Might be a better place to start :smile:
Thanks <@Corrinne> Will post there!
"Hi, another Pycharm question - is it possible to debug multiple docker services at once (e.g. like a two run configurations). To be specific, I've got a Pyramid app and a Celery worker - those are two services managed by docker-compose. I'd love to have a possibility to run two debuggers - one for an Pyramid API and the second for Celery worker at the same time"
"seriously wtf. lol. ive been trying to import a large database table from staging to local that keeps failing. and i found out why. a few columns state that it should have `NOT NULL` values, yet 2 columns have all null values, and others are mixed with either NULL, or proper data (most are DATE fields. others TIMESTAMP."
<@Bruno> still mysql? 
even I’ve tried ```df[df==-200] = np.nan``` still same result; even I’ve tried applying on that specific column and still doesnt replace the value of that column from -200 to nan; ```ff=df.applymap(lambda x: np.nan if x == '-200' else x)``` still same result
Yessir. at work; i got it working. i just removed the `NOT NULL` constraints locally. lol.; so terrible.; were trying to clean it up and rebuild parts of it. this is one thing that will be getting fixed.
that's the one thing that I'm afraid of in mysql. That data doesn't respect enough my schemas and things will be messed up later on
"this is the app that im trying to push to a python service. at least parts of it that can be offloaded.; yea. well, they had to disbale the checks when inserting data. then put in bad data. thats the only way i can see that happening."
idk but either way it seems f*cked up; how do you get date file and timestamp mixed up. it's just scarry that something like that could happen
"yea. and the guy we inherited it from knows it. it was written a couple years ago in a hurry. but now our team is taking it over slowly but surely. its in node. but next week I should have it running in docker. which then I will start trying to offload parts to a python container.; oh no. the DATE fields were all dates, or NULL, the TIMESTAMP fields were all timestamps or NULL. the data types werent mixed."
oh ok. well anyways good luck :stuck_out_tongue:
there were a couple others too. 5 columns total i think.; yea. well i was able to import it. but now I get other errors from a different issue. so yea.
help/random question... I installed 3.7a3 but it's not in /usr/bin and find -type f -name python3.7* returns /.dbus and /.cache but no 3.7.... how do I find it??
how did you install it ?
"oh, right, I make/made it; there it is, why it didn't show on find, well, I'm sure it's my terrible linux skills; OHHH, it's Python3.7 with a capital p"
I'm not sure but it should have been installed somewhere else than `/usr/bin` and if it's not the case be carefull to not mess up your system python
"I've been there once before, not good, I always warn people about it, even if they are only vaguely asking about installing a second version ""don't get all tidy and try and uninstall the 'older' python"""
I usually recommend using <https://github.com/saghul/pythonz> to easily install other python version; there is also <https://github.com/pyenv/pyenv> but it's a bit more tricky (and I'm sure others have their own preference)
"I can type python3.7 from terminal and open it, but Pycharm is not willing to offer it to me"
you should be able to manually add new interpreter to pycharm if you know the location
"this is a dev box so I installed them all locally and consciously choose the interpreter, might be bad form, but no issues yet"
:thumbsup:
"yep, little green plus if I wanted to add it, thanks"
"```# main.py
from slackclient import SlackClient
slack_client = SlackClient(TOKEN)

def main_method():
    # do some things
    slack_client.api_call(**params)
----------------------------------------------------------------------------
# utils.py

from slackclient import SlackClient
# how do I reference the initial instance?
def some_utility_funct(**args):  
    response = slack_client.api_call('<http://users.info|users.info>', user=user_id)
```"
"you should not depend on a variable initialized 'outside'.  `main` is you program entrypoint and could be a good point to initialize the client.
A good approach is that your utils function take as input an instance of the client. Something like
```
#utils.py
from slackclient import SlackClient
def some_utility_funct(client: SlackClient, *args, **kwargs):  
    response = client.api_call('<http://users.info|users.info>', user=user_id)
```; (if you're not using python 3 the type annotation will result in a invalid syntax error)"
"`pyenv update &amp;&amp; pyenv install 3.7-dev`
too tricky :o"
well there is the shims and stuff like that
"they are implementation details a user isn't supposed to touch; at least, I know I've never touched shims at all; and PyCharm discovers pyenv virtualenvs on its own, which is nice"
well for example it's not working out of the box with tox <https://www.holger-peters.de/using-pyenv-and-tox.html>; it's not really a big trouble and I use it daily but for a beginner it might be too abstract
"well, Tox expects to find all python versions on PATH, so some changes are necessary; for example you do:
`pyenv local 3.4.3 3.5.2 3.6.4 3.7.0`; and Tox will work OK after that; not ideal of course"
I'd really like to avoid passing the slack client all over the place
something like a singleton?
I guess so
"i personally don't like singletons, too much shared state initialized *somewhere* in the code. Moreover i think the way i wrote the above function is easier to test too. Still, if you're ok with a singleton it should work :slightly_smiling_face:"
"What about creating a decorator; `@pass_instance_object` or something; Trying to get better at unit tests. Currently have this function I want to check: ```def combined_route_director(json_data: dict, required_key: str) -&gt; None:
    """"""
        Recieved json response data from slack api and uses route dictionary {string: method}
        to direct to the correct method.
        :param json_data: dict
        :param required_key: str
        :returns response: dict
        """"""
    route_dict = {
        'greeting_buttons': bot.help_menu_interaction,
        'greeted': bot.greeted_interaction,
        'suggestion_modal': bot.suggestion_submission,
        'mentor_request': bot.mentor_submission,
        'team_join': bot.new_member
    }

    if json_data[required_key] in route_dict.keys():
        route_dict.get(json_data[required_key])(json_data)

    # test_route_handler(json_data)```; Tests are passing, but I want to make sure that I'm not making them pass by doing it wrong."
i don't think it'll solve the problem. Just shifting the responsibility to find the client instance to the decorator
"Hey guys I have a list of strings from a separate string that I split, but in some cases if the string contains typos where they dont include spaces my script will not catch it. I want to essential turn a list that looks like this `['[usa-az][h]paypal', '[w]', 'gtx', '1080', 'ti', 'and', 'gtx', '1070']` into this `['[usa-az]', '[h]', 'paypal', '[w]', 'gtx', '1080', 'ti', 'and', 'gtx', '1070']`"
"do you need those square brackets?; if not, you can always remove them/add space and it would make splitting easier I guess"
Scraping reddit uh?; Also use regular expression to isolate your patterns
Yeah just looking for regex for `]`; Guess it's just `\]`
"it's difficult for me to contrast the the two lists, you can use triple tilda to make code blocks in slack"
I cannot figure out this regex lol
show us
"<@Suellen> `re.findall('\[[a-z\-a-z]+[a-z]\]', l[0])` for this string `'[usa-az][h]paypal'`; It gives me `[usa-az]` but nothing else; I've just never really used regex; so not sure; This one matches everything except the string on the end it gives nothing 
`re.findall('(\[.*?\])|(\].*?)', l[0])`; Just need to figure out what to put instead of `|` to match the other string on the end"
"Will the string always be in the same format?; `r""\[\w{3}\-\w{2}\]\[\w\]\w+""`"
The thing about it is this is a type; so typo; so if its in the correct format I dont need to touch it; I need to separate them
You want them as separate groups?
yeah; `\[.*?\]|\]` this works; in `re.findall`
and is this the entire string? `'[usa-az][h]paypal'`
Yeah that will be the input
with the quote marks?
"no quotes sorry; `\[.*?\]` finds the two strings with brackets; so it returns `['[usa-az]', '[h]']`; oops"
And what do you want it to return?
"But I cant figure out how to find the string on the end so basically `]paypal` bit dont include the closing bracket; I want the two previous strings plus `paypal`; `['[usa-az]', '[h]', 'paypal']`"
`(?P&lt;group_1&gt;\[\w{3}\-\w{2}\])\[\w\](?P&lt;group_2&gt;\w+$)`
doesn't find the `[h]`
I thought you said you didnt want the h?; oh ok sorry i just saw
"No worries; The only thing though, not sure if it will always be 3 character a dash then two characters, what can I use to match any number of character? Just `\w`; ?; Or +"
"What are the possible combinations?; This should work; `r""(?P&lt;group_1&gt;\[\w{1,3}\-\w{1,3}\])(?P&lt;group_2&gt;\[\w\])(?P&lt;group_3&gt;\w+$)""`"
Got it!
"```import re

test_str = ""[usa-az][h]paypal""

regex = r""(?P&lt;group_1&gt;\[\w{1,3}\-\w{1,3}\])(?P&lt;group_2&gt;\[\w\])(?P&lt;group_3&gt;\w+$)""

compiled_r = re.compile(regex)

match = re.search(compiled_r, test_str)

if match:
    print(match[""group_1""])
    print(match[""group_2""])
    print(match[""group_3""])```; Worked for me"
Yep same here
woo
There are so many ways people could make mistakes in the title this is gonna be fun
how do you mean?
So basically the title format is `[location]` then `[h]` then whatever else followed by `[w]` and other stuf; But in some cases people do or dont include spaces; And it can be mixed and matches; matched
Where is the data coming from?
Reddit; It's submission titles; Just building a notifier for /r/hardwareswap; It works but cant deal with badly formatted titles
"hmm, probably better to make the regex more flexible"
Yeah
are all of the submissions inside square brackets?
Yes they have to be
ok that helps
so if they're not they get taken down and im not worried about that; So the reason I'm doing this is to check if the item you are looking for is being sold or is wanted; I only want stuff being sold; So I check if the index of  the item is between the indexes of [h] and [w] that way I know it's being sold
I see
It only becomes an issue if the item is in the format like `[h]1070 gtx[w]...`
But there's no kind of validation; Still think there's a way with regex to filter it
"Yeah; I can always just grab the item the person wants; and see if the starting point of the string is between the start of the want and have tag; that might be easier; Lol; Instead of splitting it up; But then I have to check if the string occurs both before and after, but in that case it doesn't matter I can just grab the first occurence"
I'm not sure how the input is received
<https://stackoverflow.com/questions/32430620/python-string-search-starting-from-a-specific-position-within-a-string>; It's received as a simple string; I split it
"On the r/hardware site now; Ok so people just put it in the title; `[USA-FL] [H] Paypal [W] Dell u2718q, Cablemods (black and white) for EVGA PSU`"
Yup
Ok the good thing is they all look formatted in a similar way
Yeah the only thing is the spaces
does the [h] mean payment method right?
It differentiates between have and want
"they all seem to be formatted like `[h]paypal`; or in this case `[H] Paypal, Local Cash [W] Used 1080/1080Ti`; This should take care of any white spaces..; ```import re

test_str = ""[USA-MD] [H] Paypal [W] Bluetooth mouse""

regex = r""\[(?P&lt;country&gt;\w+)\-(?P&lt;state&gt;\w+)\]\s?\[H\](?P&lt;payment_methods&gt;.*)\[W\]\s?(?P&lt;wants&gt;.*$)""

compiled_r = re.compile(regex)

match = re.search(compiled_r, test_str)

if match:
    print(f""Country: {match['country']}"")
    print(f""State: {match['state']}"")
    print(f""Payment Methods: {match['payment_methods']}"")
    print(f""Wants: {match['wants'```"
Thank you
"No worries, good practice for me :slightly_smiling_face:"
Getting a `Runtime Error: dictionary changed size during iteration`; Basically iterating through the dictionary and popping off keys that dont pass a certain `if` statement; I tried to create a temp dict but didnt work; I made a list comprehension that does the same thing; lets see if it works
Could you create a new dict with the keys `not in`?
Got it to work
Rather than pop as you iterate
"Was thjis; now `return {k: v for k, v in match_dict.items() if have_index &lt; v &lt; want_index}`; No issues so far lets see if this beast works"
tasty
One thing I still haven't figured out about list comprehensions and such is when to use if at the end or before the `for` portion.
Think you always use it after for as its a conditional statement; But i could be wrong; I know you can get pretty complex with some of these comprehensions
Yeah I did one earlier that nearly took two lines lol
haha
They're satisfying when you get them right; I remember my professor gave extra points when I first really got into python for doing list comps so that's all I ever did
Yeah totally; They can really condense a lot of code into a nice one liner
"I did something with that sub. Also used regex to get what i needed. Check out the Post, you may find a piece or two useful. <https://rorixrebel.github.io/reddit-hwswap-flask-app.html>; Mine works more as a, find what i need rather than notification; But it also filters by location and type of transaction"
"Hello guys..

Is it a good idea to replace rqworker task with python3 async method?; <https://github.com/ui/django-rq>; <https://docs.python.org/3/library/asyncio.html>"
"I am not getting a valid json object from this url, <http://omniexplorer.info/ask.aspx?api=gettx&amp;txid=5fa342f704ca6a9ae84134de8f2d987c18980de70a744d1aa8472e847555fcbd> how can I convert it to Json?"
Because it's not JSON
&gt; Content-Type: text/plain
"And it doesn't look like JSON:
```
""txid"":""394a072ed46088e218ac335cb4106050463960f916d420ca86a13ef1d393d2cb"",""fee"":""0.00199455"",""sendingaddress"":""3MbYQMMmSkC3AgWkj9FMo5LsPTW1zBTwXL"",""referenceaddress"":""1NTMakcgVwQpMdGxRQnFKyb3G1FAJysSfz"",""ismine"":false,""version"":0,""typeint"":55,""type"":""Grant Property Tokens"",""propertyid"":31,""divisible"":true,""amount"":""50000000.00000000"",""valid"":true,""blockhash"":""0000000000000000000bb0377d40904b665f1932f6619e9721245050615add34"",""blocktime"":1513424094,""positioninblock"":871,""block"":499593,""confirmations"":2
```; rather, it looks like JSON without curly brackets :)"
"<@Suellen> Yes, that it's what I see too, but how can I convert it to JSON or append curly brackets to it?; <@Suellen> Nope. didn't work. Thanks :slightly_smiling_face:"
no? why?
<@Suellen> the string format wont work
"I would do a split on the `,` and then split on the `:` to load the key/value in a dict"
"Oh no, what I suggested is completely wrong"
Can you specify JSON as the response from the API?
"<@Corrinne> No I can't, I have no options for that.; <@Corrinne> There is probably a bug in the API because the docs says it should return a JSON object."
"Hi, is there someone who’s fluent in Celery? :slightly_smiling_face:; I need to build a service that schedule tasks in the future (along with background task processing)
Celery’s `eta` and `countdown` is exactly what I’m looking for; The only thing that bothers me is that it seems as if it loads every task to memory and manage ETA in userland; So I load everything to RAM (even though a backend with priority queue could be better fit); and it isn’t optimal ¯\_(ツ)_/¯"
it's 144 if you include the quotes; Your regex is currently only looking inside the `'''`
<@Devorah> Just in case you hadn't seen it tools like <https://pythex.org/> have been a real lifesaver for me
<https://regexr.com/>
Interesting I wonder if they meant the quotes for that answer. I just spammed 6 spaces and it let me move on.
"OpenCV question: I have a large set of images which are cellphone photos taken of the same document type (driver’s license).  They come in all shapes and sizes, meaning, different angles of the camera, different distances from the camera to the driver’s license, different lighting, etc.; is there any way in OpenCV to identify in each image a known landmark, then crop, resize, rotate, etc each image so that for the final result, I have a set of images that are completely uniform (e.g. driver’s license fills the whole image, they all look the same, etc)?; and if it’s possible, would it be monumentally hard to do?"
"<@Dexter> its potentially doable with something like training a haar classifier, difficulty depends on your familiarity with opencv and training sets"
(caveat: my knowledge around this stuff is pretty old and there's likely better things in the modern machine learning world?)
"Here, I'm green. On my GitHub it says that 'This branch is 2 commits ahead of pyslackers:master.'
1) I don't understand why I'm ahead.
2) I don't understand how I created a new 'master' fork/branch.; Here's my whole interaction w/ this...
A couple of days ago, forked it.
Yesterday did a PR.
Today, before making more changes, attempted to sync newest version of master w/ my local copy."
<@Deedee> your branch is ahead because you have changes not present yet in the original master; the changes you made a PR for; you created a forked master the second you introduced any changes
"Hmm I have an issue, I’m trying to run some pipe processes with Popen and write the result in a file (That is a bzipped file basically), the application run fine but the bzip2 file cannot be decompressed (It is corrupted apparently); Here is the part of the related code; It’s the first time I’m piping binary data, maybe there is something specific to do ?"
"What the difference between the black Python shell and the white IDLE one ?; How do I know where I want to run my scripts ?; I keep on getting the ""SyntaxError: invalid syntax when I try to run python get-pip.py"
"idle is a very simple integradted development environment; python shell is where you write directly to the interpreter; so if you’re getting a syntax error from code you’ve written in idle, then its not going to run"
I get that but I am wondering what I am doing wrong. I am geting the syntax directly from Azure
syntax error means you’re writing invalid python
post your code
"and without your code, nobody can help"
python get-pip.py
???; that’s an execution command
Post the code you've written in IDLE
or pip install virtualenv
you need to post what you wrote in `get-pip.py`
Is this the 1st time you've written any code? Not asking that in a mean way
"ok, that’s why"
"Yes, I'm a DBA who wants to learn Python"
"ok, so you know the difference between terminal and db shell; what you need to do with the above is write in the terminal, not the shell"
You have to start somewhere right ? lol
equivalent for mysql would be you writing `mysqladmin …. ` in the mysql shell :slightly_smiling_face:
Of course. Have you tried any totorials / courses online?
"Yes, the basis stuff from teach your kids how to program with python and automate the boring stuff... Idle worked for what I needed it to. I also used anaconda notebook to query a sql database"
OK so you should get yourself familiar with executing python files from the terminal
"no, that’s the python shell"
You don'r run a pip command from within the python terminal
that’s activated when you entered in `python` in the terminal
exit python; and try pip install virtualenv
in my cmd window ?
yes
yes
type `exit()` into the python console; Then from the terminal of your machine. run `pip install virtualenv`
that worked. So how do I save my multi-line scripts then ?
You need to write them in a text editor
"use a text editor or ide; sublime text, atom, etc"
save them with .py at the end
And then I would execute them through cmd line ?
yes exactly; so once you've written some code in a .py file; navigate to the same directory as that file from your terminal; and run `python myfile.py`; or whatever you call it
oh nice another dba. i came into python via the database world too!
Do I need to save my scripts to a specific location based off of my PATH ?
no
No you can save them anywhere
"""ahead b/c of changes not yet in original master""
""changes made for PR""
""created forked master when inro'd changes""

So in my head, this is how it all went down:
1) I forked, and a new ""forked master"" (as you called it) was created.
2) I made changes and committed to MY forked master (my fork; my local copy).
3) I did the PR and it was accepted.
4) My changes were implemented on the original master.
5) Others made numerous changes to original master.
6) I want to make a new contribution so I want to sync my local copy with original project master.

After doing step 6, I get that I'm ahead by 2. I should be on par, at best. Or one or 2 behind if new changes have been made since I sync'd, shouldn't I?"
just cd into the same directory from your terminal
"So another ignorant question... if I see ""./path/file.py"" what does the ""./"" mean ?"
where are you seeing this?
I'm not seeing it right now but I see it a lot in the dev community
"`./` means execute the file at the given path starting current directory; if you omit the `.`, it means start from the root directory"
"open any text editor and type `print(""Woohoo I'm running a python script!"")` and save it to your desktop as hello.py; open your terminal; cd into desktop; and type `python hello.py`; You can use idle if you want by going up to `file` and selecting `new`"
"If other changes were made, you don't have them yet, right?"
I should have gotten them when I sync'd it
That's true :\
"I have made no changes after sync'ing.

Just realized that I found this last nigh <https://stackoverflow.com/a/12636345> and haven't gone through it. I'll give it a read in a little bit and report back."
<@Suellen> :taco:; Thanks for your time
:o
"ok, i got it"
You're welcome :))
probably python2 vs 3?
could be; try the command `python3 hello.py`
"I had to create a new IDLE page without the ""Python 3.6.3 ... version info"
Show us your file
"<@Hassie> Also, instead of uploading the screenshots, you can upload the actual text from the terminal/command-prompt or your python script by clicking the '+' sign at the left and selecting ""Code or txt snippet"""
Yeah you don't ever need that
Thanks everyone. I appreciate the help!
"No problem, we all have to start somewhere"
<@Hassie> :taco:
Some good online courses out there
1st Python Script
<@Hassie> :taco:
That's what I am working up to. I just struggled getting anything started.; So what;s this taco ordeal ?
how did you do the automate the boring stuff?
"I didn't get everything done, I got up to the lessons and used idle. I got some temporary Azure credits and I'm trying to see what I can get done quickly.  If that makes sense"
"Here's a link to the group's recommended resources: <https://github.com/pyslackers/learning-resources/blob/master/topics/essentials.md>
""Automate the Boring Stuff""
and the official python tutorial at <https://docs.python.org/3.6/tutorial/index.html> are probably best places to start"
If you're not afraid of spending a bit of cash to learn. Treehouse is a really good option; <http://teamtreehouse.com|teamtreehouse.com>
"one of the people here, <@Frieda> has a number of courses there.  He’s not there anymore, but the content still is"
Yeh Kenneth's courses are great
"Thanks, I know I need the basics but want to concentrate on the data related items as much as possible and Azure if I can."
"I would concentrate on getting the syntax down and comfortable with the language; then you can dig into using pandas, numpy, etc; you can do all this locally, no need for azure"
<@Meg> Thanks for the help and advice ! :taco:; <@Corrinne> Thanks for the help and advice ! :taco:
You're welcome. Good luck!
<@Deedee> Thanks for the help and advice ! :taco:; <@Johana> Thanks for the help and advice ! :taco:
:thumbsup:
So pass around the hot sauce! Maybe someday soon I'll be contributing to newbies like myself!
"This is quite a good place to start for free, learning basic syntax <https://youtu.be/oVp1vrfL_w4>"
i don’t think i actually helped do anything but i love tacos!
nom nom
i was caught in the taco crossfire; love when that happens.
especially close to lunchtime when the tummy is starting to a-rumble
He's got a playlist of 68 videos on basic python
:smile:
Damn I could demolish some tacos
<@Corrinne> :taco:
<@Suellen> nom nom nom
"If I want to download a `csv` via `requests` must I first store the data in a variable then write it to a file or can I write as I read, line by line?"
you can!; `r.iter_content()`
"<http://docs.python-requests.org/en/master/api/#requests.Response.iter_content>
don't forget to make chunk_size larger"
"<@Suellen> Having some trouble getting this to work. Iterator returns bytes when attempting to read the lines into another file, so I gotta figure out how to make it a string"
I think you entered the food fight when you tossed him a taco
<@Myong> just open CSV with a `wb` mode and write there; it's not gonna mess anything up
Seems it doesn't like byte mode either
well that's shouldn't be so
"`_csv.Error: iterator should return strings, not bytes (did you open the file in text mode?)`; `    with open('ouput.csv', 'wb') as f:`"
"yeah, but forget about `csv` module for now"
oh wait; Nevermind didnt fix it but okay forgetting about it
"Don't create a CSV writer or anything; it's just a file, and a stream"
gotcha; Yeah it seems to come in as bytes
"Got a question on regex; I need to split ```Y_BEAUTWD_GREYCHK_A.jpg``` into ```'Y_BEAUTWD', 'GREYCHK', 'jpg'```"
Is the string in the same format every time?
Yes
You could probably use `.split()`
"```test_str = ""Y_BEAUTWD_GREYCHK_A.jpg""

split_str = test_str.split(""_"")

print(split_str)```; output.."
"`['Y', 'BEAUTWD', 'GREYCHK', 'A.jpg']`; Then you could split the last item in the list on the .; And concatenate them together as you need them"
:thumbsup:; Thanks dude
orrrrr
"```import re

desired_output = ""'Y_BEAUTWD', 'GREYCHK', 'jpg'""

test_str = ""Y_BEAUTWD_GREYCHK_A.jpg""

r_comp = re.compile(r""""""
    (?P&lt;item_1&gt;\w{1}\_[a-zA-Z]+)\_  # Group 1
    (?P&lt;item_2&gt;[a-zA-Z]+)\_\w\.  # Group 2
    (?P&lt;ext&gt;\w+)$  # Group 3
    """""", re.VERBOSE)

match = re.search(r_comp, test_str)

if match:
    print(match.groupdict())```; Output..; `{'item_1': 'Y_BEAUTWD', 'item_2': 'GREYCHK', 'ext': 'jpg'}`"
"Alright <@Suellen> I elected to, for the time being, simply store the decoded rows in a list instead of streaming the content"
I still think it's a resolvable issue
Yeah you're probably correct.; I'm just unsure how to go about doing it. Can I load the iterator into a separate variable then open an output file and write the rows to the csv?
"well I guess you can; StringIO or something like that, which is a ""file"", but in memory"
"Found what might be an answer to the issue where someone had to wrap `iter_lines()` with `codecs.iterdecode()`; <@Suellen> it worked with the `codes.iterdecode(r.iter_lines(), 'utf-8')`; <https://stackoverflow.com/a/38677619> second answer.; Got it to work writing the iterator directly to the file; Sweet; That works as well; Guessing the writing to csv takes care of formatting with newlines and delimiters"
"Hey guys, I wanna learn more about the following topics: Distributed systems, concurrency with coroutines,
threading, multiprocessing. I would be glad If you can lead me to some good resources based on your experience."
"like, general concepts?"
check out any of the talks by Raymond Hettinger.; <https://www.youtube.com/watch?v=Bv25Dwe84g0>
type triple tilda before and after code blocks
Okay so trying to write to a csv file but getting `No such file or directory found`... It's not just creating a new csvfile...
"You need to allow it to create a new file in the open function: (filename, 'w+')"
"we are getting the following error in our code, not sure how to fix this issue. We are using Flask for our frameworking for web

`[error]     return compile(expr, filename, mode, PyCF_ONLY_AST)`
`[error] TypeError: compile() expected string without null bytes`"
:astonished:
lol
Might want a snippet lol
:point_up:
<@Chong> Left side of the text input area there is a `+` symbol. If you click it you can upload long pieces of code that are condensed and more easily readible
What `mode` passed to `open`?
we talk about sharing code in the intro doc :point_up:
and <@Johana> is the Flask guru. If anyone knows it's him
pfft; i’m ok. your error seems to indicate you have a null for some string value that you should have a value for.; idk what PyCF_ONLY_AST is
I'm sitting here wondering why my csv file wont create itself... help
its part of the AST module
what’s up with your csv?
<@Myong> I'm writing to you in a thread :D
Okay cool
are you returning it as a Response?
Yes and a bit more maybe.
"<@Johana> many fun things, mike"
My response got buried by the code block :joy:
i’m actually writing some csv export code now.
Thanks :slightly_smiling_face:
"I think it's either mode, or a directory doesn't exist"
<@Johnie> I tried your solution and no luck
i’m writing a package called box-exporter that uses kennith records that uses plain SQL to take data from the db and upload it to <http://box.com|box.com>
"Oh, bummer. I was certain because I have done that more than once..."
then it's a non-existent output directory I think
Even prepending the cwd no luck; It was working before tho; that's the thing
a classic :); are you 100.1% sure?
I am testing again; Yeah I think it works I may have made an oopsie
"I also recommend the Python Cookbook. It has a whole chapter on this sort of stuff. there is even code to write a task scheduler using a queue, and also one using green threads. it’s pretty awesome and will get you coding something yourself that works."
Yeah I did and I knew it too; I was trying to format the string inside the `with open()` and I feel bad :upside_down_face:; Hey <@Johana> or <@Suellen> tell me if this is not really possible. So I have a request which comes back as a stream using `iter_content`. Can I pass these to a futures `ThreadPoolExecutor.map()`
"yea, idk.; i’ll have to look it up in the docs."
"Beacause I'm currently doing that and getting `TypeError: a bytes-like object is required, not 'NoneType'`"
and you didn’t like using it as a context manager?
"hmmm; maybe that's it?; Too many context managers?; `with concurrent.futures.ThreadPoolExecutor(max_workers=10) as executor:`; ```with concurrent.futures.ThreadPoolExecutor(max_workers=10) as executor:
        content = tqdm_parallel_map(executor, process_request, urls)
    return content```; ```def write_csv(url):
    file_name = ""{}.csv"".format(os.path.splitext(os.path.basename(parse.urlparse(url).path))[0])
    with open(file_name, 'wb') as f:
        try:
            r = requests.get(url, stream=True, verify=False)
            r.raise_for_status()
        except requests.HTTPError as err:
            print(err)
            return
        for chunk in r.iter_content(1024):
            if not chunk:
                break
            f.write(chunk)```; Apologies I cannot use snippets; ```def tqdm_parallel_map(executor, fn, *iterables):
    """"""
    Equivalent to executor.map(fn, *iterables),
    but displays a tqdm-based progress bar.

    Does not support timeout or chunksize as executor.submit is used internally

    **kwargs is passed to tqdm.
    """"""
    futures_list = []
    for iterable in iterables:
        futures_list += [executor.submit(fn, i) for i in iterable]
    kwargs = {
        'total': len(futures_list),
        'unit': 'it',
        'unit_scale': True,
        'leave': True,
        'desc': 'Collecting data...'
    }
    content = [ET.fromstring(f.result()) for f in tqdm(concurrent.futures.as_completed(futures_list), **kwargs)]
    return content```"
"any Sanic experts? What is the best way to send a response with an image (bytes, not static file)?"
all i know is that you gotta go fast
you might want to post your question in <#C07G5276F|async>
"good call, thanks"
Thank you so much for your wonderful advice. I hope life brings you more good.
n/p. you too!
<@Ciera> were you talking to me?
no it was for alex
"Ah okay; Okay I got it to work now; Holy cow `parse.parse_qs()` does not like to work; Giving `parse_qs` a url with a single argument and instead of the dict key of the argument being the argument itself, it's the whole url"
"Hello all! Im writing a quick and dirty program to crop multiple images from a single file and export them all to new files, but I can't remember for the life of me how to set the arguments in the command line, posting a hastebin of my code; <https://hastebin.com/tenuxugehe.coffeescript>"
The arguments should be taken in by useing `sys.argv[n]`
im sorry i mean typed into the command line
So you are already using `sys.argv` in your code?; Okay one sec
yeah; thank you! I appreciate the help
"Show a screengrab or type an example of what you normally put in here; For argv[2] you may have to separate the x and y coordinates; or try to input them as a tuple as such `(x, y)`"
yeah thats what im trying to do
Yeah you probably have to separate them
its kind of unwieldy but i have like 9 arguments to pass
Yeah you may want a more interactive script; instead of 9 arguments of the command line
"im seperating them with a space, did the tuples in a tuple, but i think its still reading all of em at once; wanted to try something quick and dirty but yeah i probably should; so i switched all the code to ask for inputs; ```PS C:\Users\lerug\Desktop\VASSAL WORK\Tarwa &amp; Saipan&gt; py .\counter-cutter-beta.py testcounters.png
Coordinates of first cell: (107, 25)
Traceback (most recent call last):
  File "".\counter-cutter-beta.py"", line 21, in &lt;module&gt;
    start_pos = start_x, start_y = input(""Coordinates of first cell: "")
ValueError: too many values to unpack (expected 2)
PS C:\Users\lerug\Desktop\VASSAL WORK\Tarwa &amp; Saipan&gt;
```; thats the error message I keep getting"
"`start_pos = start_x, start_y = input(""Coordinates of first cell: "")`; what is the goal of this line ?"
"to get the x,y coordinate of the first piece of a counter that I'd be cutting; im thinking it may just be easier to read all this from a file; rather than ask the user for input"
"when you use `input(""Coordinates of first cell: "")` you get a string back; you can't unpack a string in two variables"
"unless you're using python 2, right? then it's eval'd; (don't use python 2, and don't use `input` in python 2 especially)"
"ah yeah im using 3, used to use 2 years ago"
"```
coords_input = input(""Coordinates of first cell: "")
coords = coords_input.split(',')
```"
ahhh i knew I forgot the split
<@Frieda> I don't know but it wouldn't surprise me :stuck_out_tongue:; you should also check that `coords` is only a len of 2. To be sure your users don't enter crap
"I figured I would add error checking on a later version, right now I just have like 3000 counters to cut and doing them by hand I think would take 30+ hours haha; thank you guys i appreciate it; huh; ```Traceback (most recent call last):
  File "".\counter-cutter-beta.py"", line 41, in &lt;module&gt;
    for col_m in range(major_columns):
TypeError: 'str' object cannot be interpreted as an integer
PS C:\Users\lerug\Desktop\VASSAL WORK\Tarwa &amp; Saipan&gt;```; i was able to input all the info, but it seems i need to explicitly convert these?"
"yes, you'll have to convert everything; `""2, 2"".split()` results in `[""2"", ""2""]`"
`coords = [int(x) for x in coord_input.split()]`; that gives a list of ints
ahhh ok
"and you can set x, y = coords"
<@Myong> Python says you can't have a generator running in 2 or more threads
I actually got the previous thing to work properly
"would this also work? `int(input(""Counter Width and Height: "").split(','))`"
"you'd basically be doing `int([""2"", ""2""])`"
"no, that won't work because you can't turn a list into an int"
you need to pull each value out
got it; wait im sorry i'm still a little confused; been working with rust recently so my understanding of python is out of whack
No problem what's up
i need to try to keep the variable names the same so they work with the code at the bottom
"Okay; just take input in a different variable like `coord_input = input(""Enter coordinates (x, y)"")`; Then do the following; `start_pos = start_x, start_y = [int(x) for x in coord_input.split("","")]`"
"awesome, I think I see whats going on there"
"So if someone inputs ""2,2,2"" you will get a list of [2,2,2]"
we need the for loop to extract the ints
"Yeah it's just a clean way to do a for loop; So it iterates over the items returned by `coord_input.split("","")` which basically splits the strings at the comma; and removes whitespace; It returns a list object; but the items are strings, we want integers"
"i was wondering how it returned a list, because we enclosed it in a list?"
".split just splits the string up, and each actual charcter in the string is placed into the list; so if I did `""my name is kbman"".split("" "")` I'd get `[""my"", ""name"", ""is"", ""kbman""]` back"
ah ok
But it doesn't modify the original string; it simply returns a value
now I could use the same coord_input variable for counter size right?  I can maybe format the message to reference counter size?
You can reassign the variable but when it takes the input the `coord_input` variable is a string of values entered by the user
"right; what would I do for just one value? assuming that whatever the user sends back is going to be a string; agh; I got an error from the split method; ```Enter coordinates of first cell (x, y): (107, 25)
Traceback (most recent call last):
  File "".\counter-cutter-beta.py"", line 22, in &lt;module&gt;
    start_pos = start_x, start_y = [int(x) for x in coord_input.split("","")]
  File "".\counter-cutter-beta.py"", line 22, in &lt;listcomp&gt;
    start_pos = start_x, start_y = [int(x) for x in coord_input.split("","")]
ValueError: invalid literal for int() with base 10: '(107'
PS C:\Users\lerug\Desktop\VASSAL WORK\Tarwa &amp; Saipan&gt;
```"
"you can make it into whatever data type you'd like (assuming you have all values required like a key and value for dictionary); Looks like you input it incorrectly; you dont need the prentheses; just put it in a `""""`"
Oh!; got the same error
"is it ""107 now"
"'""107'"
Yeah; Hmmmm; Wait is this on the commandline; or a separate input I apologize
seperate; well wait
"Okay okay gotcha,; Just put the two numbers"
i mean like yeah its using the command line
separated by comma
ok no string i see
YEah but not as argv
right; ok making progress i think
Okay
"```Traceback (most recent call last):
  File "".\counter-cutter-beta.py"", line 45, in &lt;module&gt;
    for col_m in range(major_columns):
TypeError: 'str' object cannot be interpreted as an integer
PS C:\Users\lerug\Desktop\VASSAL WORK\Tarwa &amp; Saipan&gt;
```"
link your code again
"1 sec; oh wait, i think i know what it is"
It's the same thing
"`input("" how many whatever"")`"
you gotta make any inputs that need to be an integer actual integers
right
"you can do `int(input(""number here""))`"
hooray; thank you dude i appreciate it
No problem
"so would I need the results folder built first here? I figured it just could have created it automatically; ```Traceback (most recent call last):
  File "".\counter-cutter-beta.py"", line 53, in &lt;module&gt;
    crop.save(save_at_template.format(frame_num))
  File ""C:\Users\lerug\AppData\Local\Programs\Python\Python36-32\lib\site-packages\PIL\Image.py"", line 1925, in save
    fp = builtins.open(filename, ""w+b"")
FileNotFoundError: [Errno 2] No such file or directory: 'results\\counter_001.png' ```; yeah that was it; its working, though it didn't cut the counters right, but thats probably just becasue I had the wrong numbers, thank you!"
"Hey <@Fabian> that issue may have been due to the directory results not existing; Something like this for setup would build it for you
```    import os    
    if not os.path.exists(dir):
         os.makedirs(dir)```"
thank you!
"These are just conventions, you don’t have to use `_variables` at all if you don’t want to.  They can be useful to communicate your intentions to someone using your code, but a lot of people don’t bother with them."
how to uninstall anaconda from computer and reinstall miniconda with everything working and intact
<@Junita> Thanks for the reply. I was just worried that I didn't understand the logic of why the same person used it in one place and not another but your probably right its not something to lose sleep over
"yeah given that it’s convention you’ll find even individual people use it inconsistently; I honestly just don’t bother most of the time anymore, although I’ve always found the idea of protected data kind of silly"
"things like `.x` and `.y` are often accessed from outside a class, where something like `_cards` is meant to track an internal state"
iknow the problem is the root.after cmd but don´t know how to fix it
"Hello, someone could help me to figure out one problem?"
probably; if you asked a question that is :)
"My question is concerning some kind of bug that I could not understand and maybe because of my few experience with processes in Python. I am scraping data from one website called <http://castorama.fr|castorama.fr> and in my script I am printing just to show for me the products that I inserted to my database. I am using a map function and processes with Pool.; Sometimes it blocks and it does not print anymore products despite the fact that there are more. I should Ctrl-C to stop.; p = multiprocessing.Pool(processes=4)
    magasins = magasin_ids()
    p.map(get_all_data,magasins)
    p.close()
    p.join(); This is my main function. My question is there any possibility to be the processes that I am using not to be synchronized at some point ?"
:thinking_face:
"when I stop with the problem the message is : ^CProcess ForkPoolWorker-6:
Process ForkPoolWorker-7:
Process ForkPoolWorker-5:
Process ForkPoolWorker-2:
Traceback (most recent call last):
  File ""castorama.py"", line 261, in &lt;module&gt;
    main()        
  File ""castorama.py"", line 255, in main
    p.map(get_all_data,magasins)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 260, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 602, in get
    self.wait(timeout)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 599, in wait
    self._event.wait(timeout)
  File ""/usr/lib/python3.5/threading.py"", line 549, in wait
Traceback (most recent call last):
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 249, in _bootstrap
    self.run()
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 93, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 108, in worker
    task = get()
  File ""/usr/lib/python3.5/multiprocessing/queues.py"", line 342, in get
    with self._rlock:
Traceback (most recent call last):
  File ""/usr/lib/python3.5/multiprocessing/synchronize.py"", line 96, in __enter__
    return self._semlock.__enter__()
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 249, in _bootstrap
    self.run()
KeyboardInterrupt
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 93, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 108, in worker
    task = get()
  File ""/usr/lib/python3.5/multiprocessing/queues.py"", line 342, in get
    with self._rlock:
  File ""/usr/lib/python3.5/multiprocessing/synchronize.py"", line 96, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Traceback (most recent call last):
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 249, in _bootstrap
    self.run()
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 93, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 108, in worker
    task = get()
  File ""/usr/lib/python3.5/multiprocessing/queues.py"", line 342, in get
    with self._rlock:
  File ""/usr/lib/python3.5/multiprocessing/synchronize.py"", line 96, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
    signaled = self._cond.wait(timeout)
  File ""/usr/lib/python3.5/threading.py"", line 293, in wait
    waiter.acquire()
KeyboardInterrupt
Traceback (most recent call last):
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 249, in _bootstrap
    self.run()
  File ""/usr/lib/python3.5/multiprocessing/process.py"", line 93, in run
    self._target(*self._args, **self._kwargs)
  File ""/usr/lib/python3.5/multiprocessing/pool.py"", line 108, in worker
    task = get()
  File ""/usr/lib/python3.5/multiprocessing/queues.py"", line 343, in get
    res = self._reader.recv_bytes()
  File ""/usr/lib/python3.5/multiprocessing/connection.py"", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File ""/usr/lib/python3.5/multiprocessing/connection.py"", line 407, in _recv_bytes
    buf = self._recv(4)
  File ""/usr/lib/python3.5/multiprocessing/connection.py"", line 379, in _recv
    chunk = read(handle, remaining)
KeyboardInterrupt"
"It looks OK; Not that 1000 lines of stack trace :); well, does it block on close or join?; i.e., if you do a `print('just before join')` and same after join, you could see that it blocks on join or on close; that's expected since it's waiting for all tasks to finish"
Is that mean that a process didn't finish?
not yet; it depends on how long it blocks on close &amp; join; if it's too much maybe something is wrong
I am using 4 processes to a list with 102 elements; The saddest thing is that for 90 elements it collects the information perfectly but after that it blocks.
hm.. maybe the task hangs and it's a good idea to track execution of the tasks themselves
I added print before join and after but it is blocked right now and doesn't print anything
so it blocks on close?; I'm 90% sure a task just hangs for whatever reason; how complex is the worker func?
"it depends on 3-4 functions which are relatively simple for execution; there is also a connection to database; maybe it could bug on connecting to database so all the other workers wait for him; it would be an idea to put print (""connect successful!!"") after the connection to mysql"
tips for beginners ?
"<@Bennie> can you be more specific; If you're new to python two things I can recommend:
1. Write as much python as you can
2. Read as much of other people's python as you can. 

1-&gt; come up with things you want to do in python. Automate tasks, build webpages, play with all the python standard library modules.; 2-&gt; <#C07EFMZ1N|help>, <#C07EW4DNE|learning_python> , <#C1PB8ME48|sqlalchemy> , and a bunch of other channels will introduce you to new python just by reading others questions. Also reddit's /r/learnpython is pretty good"
"are there any proficient search engineers here?  Having some issues figuring how to fine-tune queries; specifically, we have around 23 million web pages of US college catalogs indexed in a solr search engine, and I’m trying to figure a way to specify whether to look for course descriptions or program details; data indexed is in the document format

```
{
    'content': plain text from html page with all tags stripped,
   'path': URL to page on S3 bucket,
   'title': page title
   'institution': institution name
   'catalog_year': academic year of this catalog
   'catalog_id': database id for this catalog
}
```; so, lets say a user is looking for `chemistry`, and a checkbox indicates that they’re specifically looking for program details; I’m considering constructing a query like `content:chemistry^1.5 and content:program^1.5`; am I on the right track?"
is it possible for python to open vmware workstation and access the cmd? for example i want python to open vmware app and go through the vm to the cmd and run a command
maybe; <https://github.com/vmware/pyvmomi>
"ok, need some quick help, if anyone is a bash fiend. I have an env var JOB_ID, and I want to concat it with `_default`, so basically `echo ""($JOB_ID)_default""`, except the parens dont get pulled out"
"```
 λ  ~  JOB_ID=5
 λ  ~  echo ""($JOB_ID)_default""
(5)_default
 λ  ~  echo ""${JOB_ID}_default""
5_default
```"
whaaaaat shell is that?
"zsh; but it is bash-compatible; ```
leovp@minty ~ $ JOB_ID=5
leovp@minty ~ $ echo ""($JOB_ID)_default""
(5)_default
leovp@minty ~ $ echo ""${JOB_ID}_default""
5_default
```"
interesting format! yah I'm a fish user
I don't like fish; too many bones and just.. dunno
<@Suellen> :taco:; fish is nice. I've been using xonsh for a while now though
<https://media2.giphy.com/media/26tnk9cXrC8Z9vJug/giphy.gif>; wow; t h a n k s
Anyone know how to set a datetime object's timezone? It's currently complaining about it not being naive? Why does that even matter?; thank you in advanced :slightly_smiling_face:
<https://docs.python.org/3/library/datetime.html?highlight=datetime#datetime.datetime.astimezone>
"I’m running into:

&gt; TypeError: catching classes that do not inherit from BaseException is not allowed

When attempting to catch a custom extension of `Exception` that I have raised myself. Google’s results do not seem to relevant; My custom exception:

```
class NoDeletionOccurredError(Exception):
    """"""Exception raised for when no deletions occurred.

    Attributes:
        message -- explanation of the error
    """"""

    def __init__(self, message):
        super(NoDeletionOccurredError, self).__init__(message)
        self.message = message
```

Raising the exception:
```
        if actual_numer_of_rows_deleted == 0:
            raise NoDeletionOccurredError.NoDeletionOccurredError(f""No deletions occured when attempting to delete rule_id {rule_id} for user_id {user_id}"")
```

Catching the Exception
```
    try:
        foo()
    except NoDeletionOccurredError as e:
```; Any thoughts?"
NoDeletionOccurredError or IncorrectNonZeroDeletionsOccurredError?
Pardon.; Copy and paste error; _Fixed_; I wrote two exceptions and both are resulting in this error.
I suspect this is the cause: `raise NoDeletionOccurredError.NoDeletionOccurredError`
"My import looks like this:
`from database import NoDeletionOccurredError`"
your raise and except don't use the same exception it seems
"if I remove the first `NoDeletionOccurredError` and end up with `raise NoDeletionOccurredError`, it believe its just talking about the module itself?; <@Myong> I think you’re right, but I’m not sure where the mismatch is occurring"
"just for good practices, I’d move the custom exception to its own module; and then import it directly; like `from databases.exceptions import NoDeletionOccurredError`"
If you import `NoDeleteOccurredError` and that is the name of a file `NoDeletionOccurredError.py` then you need to use the dot operator to import the exception object/class
that would be clearer about location and responsibility
"You can also `Ctrl-B` in some IDE's to go to the definition of the object. Or right click, go to definition/find references"
"Ok. I’m going to try to read up on:

&gt; then you need to use the dot operator to import the exception object/clas

Get that working and the move onto dd82's suggestion and make a separate module; Ok neat guys! I had my imports in the class that was `raise`ing correct all along, but the imports in my class that was `except` (catching) was incorrect.; So now it looks like

```
from database.NoDeletionOccurredError import NoDeletionOccurredError
from database.IncorrectNonZeroDeletionsOccurredError import IncorrectNonZeroDeletionsOccurredError
```; Thanks guys! I’ll look into doing the separate module now; much appreciated! <@Myong>++ <@Meg>++ <@Suellen>++"
":thumbsup: '; FYI, instead of using a karmabot or something with `++`, we use tacos; `@name :taco:`; just for reference :smile:"
"<@Meg> :taco:
<@Myong> :taco: 
<@Suellen> :taco:; naturally naturally"
:slightly_smiling_face:
:tada:
nom nom nom :slightly_smiling_face:
Truly a Taco Tuesday!
:wink:; Thanks dudes; love this slack team.; I usually hangout in <#C0JB9ATQV|data_science> but finding myself writing python unrelated to DS now as well
Yo I got tacos earlier. Still one left
"So I am setting up a postgresql db for the first time and I figured out that it creates a new postgres user that you use to access the interactive shell and if I want to access the db with psycopg2 then I also need to run my python script as the postgres user, however this is annoying given the setup I have in my serer as everything else is running under a different user than postgres, so how does one go about adding another user to the list of what I presume are the authenticated users allowed to sign in to psql with no password?"
you want to edit the `pg_hba.conf` file
<https://www.postgresql.org/docs/9.1/static/auth-pg-hba-conf.html>
Alternatively you can create a database level user rather than use a system based user
<https://www.postgresql.org/docs/8.0/static/user-manag.html#DATABASE-USERS>
"there is only one user on the server and it is in charge of running everything since this isn't something anyone will be logging into on a regular basis; It is just a few logging scripts I need to run, a small webserver to server up an API and a few daemons, had I known postgres created a user I would of just cheated and written everything under that postgres user but now I'm pretty far down the line and decided now was a good time to learn psql and switch off mysql; Oh that's interesting <@Antionette> that's probably what I want to do"
<@Frieda> Thanks man! I was able to pull in a senior dev to walk me through it all step by step. Going to read through the resource you provided later :grimacing:
Trying to hook up a mongo db with a api for my client side to run algorithms. Any best practices/architecture I should take into account?
use postgres
Do you prefer it over Mongodb?
yes
"boo I got Mongo to work. Will look at the docs for Postgres. Any tips on a simple api I can use?; Normally I would google something like this, but wanted to ask people on here to get some feedback. Do not feel like getting hacked."
a simple API for what tho?
currently we have a mongo db instance with user data that needs to call a different db to get a score for a candidate.; So ideally the algorithm db would get information and send back a score for the client side db to show
"you can whip up a custom flask API in no time, dunno how reasonable that is for you; just route http requests directly to an SQL call; i went from 0 python knowledge to a working API in a sunday afternoon; mine in particular just calls stored procedures so i don't have to worry about SQL injection; apache + mod_wsgi + pyenv + flask-restfull"
:point_up: + postgres :smile:
"hi all, been struggling with the following issue for a few hours now, I'm trying to use the variables created in the while loop, ive tried setting them to none first, global, and a bunch of other ideas, but im stuck. its a simple image editing program that creates multiple squares from a single image. It runs, but fails to process any of the numbers I put in instr.txt
```############################################
#
#
#       WARGAME COUNTER-CUTTER
#       Programmed by Ray Weiss
#       <mailto:lerugray@gmail.com|lerugray@gmail.com>
#
#
############################################

#  imports

import os
from PIL import Image
from sys import argv

save_dir = ""results""
filename = argv[1]  # Your counter sheet
img = Image.open(filename)

if not os.path.exists(save_dir):
    os.makedirs(save_dir)

with open(""instr.txt"") as f:
    line = f.readline()
    out = line.strip(""\n"")

    while line:
        line = f.readline()
        out = line.strip(""\n"")
        start_pos = start_x, start_y = [int(x) for x in out.split("","")]
        counter_size = w, h = [int(x) for x in out.split("","")]
        line = f.readline()
        out = line.strip(""\n"")
        major_columns = int(out)
        line = f.readline()
        out = line.strip(""\n"")
        major_columns_w = int(out)
        line = f.readline()
        out = line.strip(""\n"")
        major_rows = int(out)
        line = f.readline()
        out = line.strip(""\n"")
        major_rows_h = int(out)
        line = f.readline()
        out = line.strip(""\n"")
        columns = int(out)
        line = f.readline()
        out = line.strip(""\n"")
        line = f.readline()
        rows = int(out)


###################################
#
#  End of user supplied arguments
#  Start of program
#
###################################

frame_num = 1

w, h = counter_size

for col_m in range(major_columns):
    for row_m in range(major_rows):
        for row in range(rows):
            for col in range(columns):
                x = w * col + start_x + major_columns_w * col_m
                y = h * row + start_y + major_rows_h * row_m
                crop = img.crop((x, y, x + w, y + h))
                save_at_template = os.path.join(save_dir, ""counter_{:03}.png"")
                crop.save(save_at_template.format(frame_num))
                frame_num += 1```

And the instr.txt file:

```22, 18
80, 80
2
144
6
36
10
2```"
"how can I change a iterator in a for loop ?

```
for i in range(10):
    if i == 2:
        i+= 2
    print(i)
```"
<@Dimple> <https://stackoverflow.com/questions/8544559/how-to-correctly-modify-the-iterator-of-a-loop-in-python-from-within-the-loop>; I had to look that up today for something else
<@Fabian> I saw this post but is there a way to do it without use ```del``` or ```remove()``` instructions ?
I think the way you used it should work? let me open up a console; yep
<@Fabian> it doesn't work (the way I used). This works on c++.
"i just got it to work on the console; ```&gt;&gt;&gt; for i in range(10):
...   if i == 2:
...     i+=2
...     print(i)
...
4
&gt;&gt;&gt;```; make sure you're using the right indentation; If anyone is able to help me out with this, I would totally appreciate it"
<@Fabian> the output should be this (c++ on left): <https://i.imgur.com/BXmUZIo.png>; ops. right
ahh then you need to do something different in python
yep.. I will do a while loop. :slightly_smiling_face:
there you go
"<@Fabian> I found a way to do it with the same way of c++:
```
myList = iter(range(10))
for i in myList:
    if i == 1:
        myList.__next__()
        myList.__next__()
    print(i, end="""")
```
`output: 1456789`; a little ugly but works."
yeah i don't even know c++ so thats over my head lol
"is there such a thing as an API schema query, I know API are (loosely) convention based.  Is there some common query to return the schema?"
"that's what swagger and the like are for, right?"
"okay, I'll go check it out"
"Hi! I'm wondering if anyone could help me out with updating SciPy to the newest version. I've looked all over on how to update it, but I'm stuck. I'm running a Mac, happy to provide any more details!"
"<@Frieda> I'm thinking on the opposite side, as the consumer, is there a way to ask Swagger, can I see your schema?"
i could be completely wrong re: swagger; <@Seema> i really doubt there's a standard for that. a lot of people try to hide their API
"or in my case, hey government body with public API, your documentation is meh, just show me your structure"
it'd be awesome if you could do `/api/schema.json` and get a map of the api
yes! exactly
"yeah, i don't think that exists; but i'd happily sign a petition"
"```&gt;&gt;&gt; resp = requests.get(url)
&gt;&gt;&gt; resp.raise_for_status
&lt;bound method Response.raise_for_status of &lt;Response [500]&gt;&gt;
```; ¯\_(ツ)_/¯"
just bumping this again now that there's more activity
"which variables and in what manner do you want to use them?; I'm a bit confused about the ingestion, the instr.txt gets opened and read once, correct?  If so, your `while line:` is indented -&gt; performed under the open().  Is that intended for some reason...???"
"I dont think so, it's the variables at the bottom"
"`major_columns, major_rows` etc; so right now, for example, all the arguments to range at the bottom, are undefined apparently"
"okay.... I'm starting to wrap my head around what you're doing, you're attempting to manually, line by line, assign the values"
"use a list accumulator, close out the while loop and then you can iterate through the accumulator.  Or you'd really rather skip the iterator, you can straight assign the values manually"
could you show me an example of what you mean?  how would i assign the values manually?
"```lines = []
with open(""instr.txt"") as f:
  for line in f:
    lines.append(f)
```"
"then you could go with lines[0], lines[1], it's not the most pythonic way but it'll get you there"
"ok I think I can wrap my head around that, may ask you one or two related questions if i get stuck"
"go ahead and ask the room, I may be returning a gift that I forgot to return earlier today (doh!)"
"During the while loop, you're re-assigning the same variable several times without doing anything to them; Might be worth reading the document in. iterating over the lines using a for loop as <@Seema> suggested and making lists of items you need"
anyone has locking experience? this seems quite good: <https://gist.github.com/ionrock/3015700> (it will also delete stale locks)
"thank you guys, ill try screwing with it once I get pycharm to start up"
Probably worth throwing in a screenshot or sample of the `instr.txt` too
oh i included that in the post; its at the bottom
Pycharm will undoubtedly start shouting at you haha
"hahah; i see what you mean, was confused for a sec lol"
Ok i see the file sample
here's a post that goes a little more in depth as to my intent with an example source file <https://codereview.stackexchange.com/questions/183187/crop-multiple-images-from-single-image/183222#183222>
Have you tried it by just setting some default values here..
yeah at the top
"```major_columns = int(input(""Number of Pages: ""))
major_columns_w = int(input(""Width between cell to cell on the next page: ""))
major_rows = int(input(""Number of blocks per page: ""))
major_rows_h = int(input(""height between cell to cell on the next block: ""))
columns = int(input(""Number of columns inside a block: ""))
rows = int(input(""Number of rows inside a block: ""))
```"
"ah that was the old code; at the bottom is the newer code, before I was taking user input, its quicker to read a file"
"ok, besides taking any user input or reading in from a file, have you tried it with fixed values?"
yeah once i tried setting all of them to none first at the top
Ok and I'm guessing that didnt work
"nope; would i still use the while loop after?; still getting the same issue it seems when i try this; ```lines = []
with open(""instr.txt"") as f:
 for line in f:
   lines.append(f)

while lines:
    start_pos = start_x, start_y = [int(x) for x in lines[0].split("","")]
    counter_size = w, h = [int(x) for x in lines[1].split("","")]
    major_columns = int(lines[2])
    major_columns_w = int(lines[3])
    major_rows = int(lines[4])
    major_rows_h = int(lines[5])
    columns = int(lines[6])
    rows = int(lines[7])


###################################
#
#  End of user supplied arguments
#  Start of program
#
###################################

frame_num = 1

w, h = counter_size

for col_m in range(major_columns):
    for row_m in range(major_rows):
        for row in range(rows):
            for col in range(columns):
                x = w * col + start_x + major_columns_w * col_m
                y = h * row + start_y + major_rows_h * row_m
                crop = img.crop((x, y, x + w, y + h))
                save_at_template = os.path.join(save_dir, ""counter_{:03}.png"")
                crop.save(save_at_template.format(frame_num))
                frame_num += 1```"
you're never going to run out of `lines`
ah whoops
so `while lines:` will run forever
"```
with open(""instr.txt"") as f:
    lines = f.readlines()

[set vars here]
```"
Kenneth to the rescue :parrot_fast:
"ahhh; thank you :slightly_smiling_face:; agh; ```C:\Users\lerug\Desktop\Python\counter-cutter&gt;py counter-cutter-beta05.py testcounters.png
Traceback (most recent call last):
  File ""counter-cutter-beta05.py"", line 30, in &lt;module&gt;
    start_pos = start_x, start_y = [int(x) for x in lines[0].split("","")]
AttributeError: '_io.TextIOWrapper' object has no attribute 'split'

C:\Users\lerug\Desktop\Python\counter-cutter&gt;
```; kind of confused as to what that means"
It means you're trying to split something that can't be split
which effectively means you're splitting something that isn't a string
ah that means i dont need the split anymore!; interesting
this is where pdb and logging come in handy
pdb?; agh
"I think, looking at the data you're reading in, they were splitting a line with 2 numbers on it"
the python debugger; hold for link; <https://docs.python.org/3/library/pdb.html>
seems the file is closing before it could finish
the file state _shouldn't_ matter
ValueError: I/O operation on closed file.
"if it really seems to, declares `lines = []` before the `with`"
"i believe it is right now; ```lines = []

with open(""instr.txt"") as f:
 for line in f:
   lines.append(f)```; just a confusing error"
this just ran w/ no errors for me. python 3.6; and checking `locals()` shows them all set to reasonable values
oh so i should still be calling split then
¯\_(ツ)_/¯; just saying there's no exception raised by _that_ block
"fucking a it worked!; Thank you so much <@Frieda> you saved me, i really appreciate it"
:sparkling_heart: of course; that's what i'm here for
<@Frieda> :taco:
i need to get back to some form of teaching; i can feel myself getting rusty
You we're just teaching me object-oriented Python an hour ago :laughing:; Really enjoying the Treehouse courses dude
lol we'll see how well they age; i left treehouse about 3 months ago
That's a shame.. For Treehouse. Although I really like some of their other teachers too
Tried a few different learning platforms but found Treehouse really good; What are you up to now?
Software Engineer at O'Reilly Media
"How can I connect to a web server if `requests` gets a 503, `telnetlib` gets ""actively refused"" but within powershell I can `curl` and `telnet`"
"Oh nice, good luck with it man. Working on anything you can disclose?"
Just trying to automate a work process
I could maybe use python subprocess to `curl`?
<@Corrinne> it's really not very interesting. most of my work lately has been helping universities get students into our library more easily
<@Glinda> i mean...you could...but i'd probably spend my time figuring out why the other two are blocked. especially `requests`
Well I hope you enjoy it at least. That's the important part
"did all the logic look otherwise ok in my code? specifically the loop at the bottom? getting some funny results, math isnt my strong suit"
"yeah, so far, so good; <@Fabian> honestly not sure what you were trying to accomplish so i just cut that part. explain, in english, what you're looking to do?"
"ah ok give me one sec, its a little complex, or at least I think"
<@Fabian> You definitely don't need to be a math genius to learn. Just try and break it down into logical steps
"(that's why i said ""in english"" :smile: )"
that makes sense
Yeah English would help too :yum:
gotta get out of that code mindset
"<@Frieda> I know this is an open ended question, but what was the most effective way for you to learn Python / Development?"
"uh. i built things; i mean, where do you want me to start? when i first learned any sort of ""coding""?; or learning python specifically?"
Ok that was the answer I was hoping for / expecting
or how i learn stuff now?
Early days
"Ok so have to use a little code, what im trying to determine, is what exactly this is doing, `y = h * row + start_y + major_rows_h * row_m` ive been trying to get the right measurements  using gimp,, and i believe im manipluating the height between the major rows here, and my estimates are way off, so im not sure if this is doing what i think it's doing"
"Did you just pick a project, start building it and work everything out on the way?"
"so, i'm old. i learned BASIC in elementary and middle school. then taught myself HTML on a computer that wasn't connected to the WWW (_HTML For Dummies_ shoutout) and i snuck floppy disks into the public library to upload my web site to GeoCities"
"Haha, awesome"
<@Fabian> you understand PEMDAS?
Yeah its been a while but yes
"<@Corrinne> was that a bit earlier than you wanted?; <@Fabian> parentheses, exponents, multiplication, division, addition, subtraction"
No not at all. I find it interesting to known where everyone started their journey; Wish I had started earlier. But I'm only just creeping up to 30 :thinking_face:
"<@Fabian> so that line multiplies `h` by `row` (I'll call that `x`), then `major_rows_h` by `row_m` (`z`). then it adds `x` to `start_y` and the sum of that to `z` . finally it assigns the sum of that to `y`; <@Corrinne> there's no max age on programming; one of the reasons i went to ORM was because i got interviewed by a recent hire who looked to be in their 50s"
"The thing I realised shortly after starting to learn python / Web dev, is that you need to grasp a whole load of other technologies to put it to good use"
web dev is one of the hardest disciplines because you have to understand so many moving parts
I think I see
"frameworks, servers, git, docker, aws, app engine etc.."
each part is pretty simple but the cognitive load is no joke
Yeah exactly
ah ok i get it now; thank you again!
<@Fabian> break it out into multiple steps if you need to
It's all time and experience though
code is cheap; obvious code &gt; clever code
"True; DRY, KISS etc.. :sunglasses:"
"if you were a clever as possible when you wrote the code, how will you ever debug it?"
Yeh I learnt that quickly when I started out
"But hey, sometimes you don't know certain gems are in the standard lib"
"with python, at least, whatever you're wanting to do has probably already been done and put into stdlib; _always_ check the docs"
"Yup, Python goes so deep!"
i've been looking into learning Go lately and it's hard using a language that doesn't love you
"For me, the biggest benefit has been just learning general programming principles; Ooh yeh I've watched a few vids on GO. Doesn't look friendly"
"it's an interesting language, and definitely fast. but not friendly; i need to learn more Rust. that's a great community; and fun language"
rust  is fun as shit; ive been doing a bunch of it lately
i want the rust compiler for python
there's such a thing? It would make my life so much easier if I could do the GUI to this emulator im making in python
"no, there's not; i want it to exist, though"
i need to figure out how to make rust work with python
"CFFI; check out MilkSnake; at least, i think that's the name"
crates io?; <https://github.com/getsentry/milksnake>
"yes, that's the package"
"Hi!
Can people here help on python back-end development?"
"It’s best just to ask your question and if anyone can, they’ll chime in with an answer"
Hi all i'm working on pyinstaller to make EXE from my django project. while running my EXE getting error like template doesn't exist. I hope someone can help me
"Hi!
I just posted this on SO, wondering if anyone here who's familiar with PyTorch can help me with it. 
<https://stackoverflow.com/q/47900761/5596800>"
"Maybe someone know how to fix ` [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed` error, I'm using python with older debian distribution"
ssl is a pain in python; what version ?
betting on 2.7; my bet is 2.7.9
there are a lot of 2.7 sadly. But it might just be a self signed certificates
"I remember troubles with normal certs on 2.7, it was related to an old version of system openssl"
yeah and newer version of TLS are not available I believe; got trouble with the postgresql apt repo with ansible not too long ago due to python2.7
Why did you change `ovv` to `Ovv`?
Well names should start with a maj :smile:; and to differentiate with all my test accounts
:thinking_face:
"basicaly with all versions I'm getting this error; I have 2.7.13 , 2.6, 3.2, 3.5; I this it's something to do with lib"
can you share the url ?; are you sure the certs is a valid one ?
also when I try to pip upgrade I get `certificate: [SSL: CERTIFICATE_VERIFY_FAILED] certificate`; <@Ciera> url I'm using is in local network
and if you `wget` it?
"yep, it's same story"
thats.. interesting
`ERROR: The certificate of xxx is not trusted.`; `The certificate has expired `
probably something with the openssl installed and the certificates
well there you have it!
ah well it's something else :smile:
good old expiration
but why then pip also shows ssl erros?
proxy ?
hmm...; not sure
Try `pip -vvv [command]`; it's probably gonna spill a lot more details; if your network does something like mitm it's gonna be funny :|
```Could not fetch URL <https://pypi.python.org/simple/pip/>: There was a problem confirming the ssl certificate: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661) - skipping```
sadly not enough; `wget -d <https://pypi.python.org/simple/pip>`?
`ERROR: The certificate of <http://pypi.python.org|pypi.python.org> is not trusted.`; `The certificate has expired`; strage
sounds like there is something in between
"yeah, their cert is scheduled to expire on 27 September 2018"
Hm.. I will try to add certificate manually; so I figure out what was wrong; server date was `2018-12-20`
:dizzy_face:
kind'a stupid mistake
Any way to revert a git command?. I just did a git rebase --abort and it rolled back a lot of my work. (i never ended a rebase that i started without noticing)
you can use `git reflog` to find a commit to go back to I think
Ok. Crossing my fingers here; yeah i fuckup; today's a sad day
arg :confused:
<@Mariano> if the changes were ever staged you might find them with `git fsck --lost-found`
hello
hi
"Could someone to explain me, why we need to use `generators`, and for which reasons?"
<https://www.youtube.com/watch?v=D1twn9kLmYg> if you have 4 hours to spare :smile:
"<@Ciera> thanks, for the video! but could you explain in two words, why need to use generatos? sometimes, I’m a little bit confused."
"the goal are to win memory and sometime time; ```
for x in [1,2,3,4,5]:
  if x == 2:
    break
```; For example in this loop it will exit on the second item; so there isn't really a need to create a list with 5 item. If I have something that can give the item one by one I will win a bif of memory; ```
def give_items():
  result = []
  for x in range(10):
     time.sleep(2)
     results.append(x)
  return results

for x in give_items():
  if x == 2:
    break
```; In this case `give_items` will take a lot of time to return the full results; ```
def give_items():
  for y in range(10):
     time.sleep(2)
     yield y

for x in give_items():
  if x == 2:
    break
```; In this case it will be faster because once `give_items` yield 2 I can continue; does that make sense <@Bella> ?"
<@Ciera> Yes! thanks for the explanation! and main goal of generatos it’s save time?
mainly memory (I didn't really illustrate that here but imagine if the list is 1 million item long); it can save time but if you need to complete the loop if will take the same time
"<@Ciera> Okay, got it! thanks;)"
:thumbsup:; The video is really worth watching (as all :dabeaz: videos). Maybe not everything but just the beginning if you don't have the time
"<@Ciera> Yeah, David Beazley discuss about generators and etc a lot:slightly_smiling_face:"
What's the best way to run a separate python file as a subprocess?; When I use Popen its opening a python repl in my terminal that I launch the main script from...
"the cleanest way would be to use the `multiprocessing` module, but then you don't launch a file; otherwise `subprocess.Popen()` with `python path/to/script.py`"
"Well oddly enough when I run it on windows it runs as expected, however on linux it's opening the python repl in the terminal; subprocess.Popen([sys.executable, basepath+""/DeviceSocket.py""], shell=True)"
what does your python script do? does it require input?
"Currently have a Django list table view for books (w/ filters - book title, author, etc.). Books has a `foreign key` to comments, but comments has a `generic foreign key` to books (or anything else you could leave a comment on, like movies). 

*How could I go about having a free form text based search on a field pointed to a generic foreign key?* For instance, a text filter for searching (filtering) through the comment list view column."
"Just needs to run the 'DeviceSocket' script as a subprocess, and continue on with the code block below the subprocess call in the main script; However when I run my main script in the terminal when it gets to the Popen line for that subprocess it opens a python repl in the terminal as if i had typed in ""python3""; This problem only occurs when I got from windows to linux; in windows it continues on with the code block below the subprocess.Popen"
"hm, I like <@Ciera>'s approach. I personally use `subprocess.run()`."
"Yeah unfortunately I'm restricted to using subprocess, the rest of the application is too tightly coupled to implement multithreading"
<@Russ> what database are you using ? some db have full text search
Could it be that I don't have the file marked as an executable on my linux setup?
"no, you don't execute it anyway; you point Python to it"
"does this works ? `python -c ""print('hello world')""`"
as a subpocess
"what is the call you are using, <@Elsie>? Can you show us some code?"
"<@Ciera> I am utilizing MySQL, however, I am not sure how to have this Book list view be filtered by the comments - given that there is the generic foreign key from comments to Books."
"Where basepath is the path in which my main script and ""DeviceSocket.py"" are located; <@Ciera> using Popen?"
"yeah, my guess is it's not finding your script"
it should throw an error and not enter the repl in that case
hm okay
well at least on my system it does.
"And just to reiterate, it does not enter the repl on win7; python 3.4.3"
are you 100% sure it's the same script ?
100%
"<@Russ> I'm not familliar with mysql, you might have better luck in <#C0LMFRMB5|django> or <#C3X4T24LB|databases> :slightly_smiling_face:"
Copied everything over and tried running it
"can you run this from the directory where the script lives? so something like `[sys.executable, 'DeviceSocket.py']`?"
<@Winnifred> in the repl?
"Hello, I'm working with the lxml library, and when debugging I never get to the third line of the following code:
```
if node.text is not None:
            if node.text &gt;= target:
                print('Test')
```
After checking that node.text is not None, and target being a string just like node.text, I still get a TypeError: NoneType object is not iterable."
Scratch this. I just tested my hypothesis locally.
Not sure what happens when you use `&gt;=` with two strings
<@Winnifred> same behavior when run it in the repl
are you sure it's what you want ? what do you want to check ?
I want to make sure that the length of node.text is higher than the length of target.
<@Elsie> do you get any output on `stderr` or `stdout` ?
Or equal.
you should use `len(my_string)` I believe
<@Ciera> How should I check that?
"That throws the same error. Also, pylint states that you may not use len as a conditional value."
"```
&gt;&gt;&gt; a = 'aaa'
&gt;&gt;&gt; b = 'b'
&gt;&gt;&gt; a &gt; b
False
&gt;&gt;&gt; a &lt; b
True
```; I believe it's checking the numerical value of the letter and not the length of the string.; <@Elsie> <https://stackoverflow.com/questions/13398261/python-subprocess-call-and-subprocess-popen-stdout>. You might need to kill the process to make it finish if it hangs"
<@Ciera> So the only way to go about this is using len(string)?
"<@Elsie>, additionally, check out: <https://stackoverflow.com/a/43276598/3046539>"
"Ok thanks, I'll check thoe out"
"```
if node.text is not None:
            if len(node.text) &gt;= len(target):
                print('Test')
```
This throws the same error."
"instead of `shell=True`, you can do `stdout=subprocess.PIPE` and then poll to see if it is completed unless you need some output from subprocess."
<@Ashlea> What is `target`?
Target is an argument that the function expects. It's a string.
you sure ? can you print it ?
"Yes I can. And yes I am sure cause I'm running a unit test for this function, and I pass a string."
Can you post the stack trace?
"This is the only thing I have, I'm using VS Code:
```
ERROR: test_getFirstByContentContains (test_crawler.CrawlerTests)
Test method for getFirstByContentContains.
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/home/ps/Projects/LibCrawler/test/test_crawler.py"", line 27, in test_getFirstByContentContains
    found, content = cra.getFirstByContentContains(searchcontent, True)
TypeError: 'NoneType' object is not iterable
```"
"`cra.getFirstByContentContains(searchcontent, True)` is returning `None`; From the name I suppose because it couldn't find anything"
"Because it stops the function at the third line of what I posted.; Otherwise if the function would have found something it would `return True, 'thisiswhatIfound'` or `Return False, ''`."
Can you post the full function?
"```
def getFirstRec(self, target, node, isregex, isdeepsearch):
        """"""Recursively search for the given target in the xml tree
        and return the first hit.""""""

        if node.text is not None:
            if len(node.text) &gt;= len(target):
                print('Test')
                if isregex:
                    match = re.search(target, node.text)
                    if match:
                        return True, node.text
                elif target in node.text:
                    return True, node.text
        elif (node.items() is not None) and (len(node.items())) and isdeepsearch:
            for name, value in node.items():
                if value &gt;= target:
                    if isregex:
                        match = re.search(target, value)
                        if match:
                            return True, value
                    elif target in value:
                        return True, value
```; Sorry, had a part commented out.; ```
    def getFirstRec(self, target, node, isregex, isdeepsearch):
        """"""Recursively search for the given target in the xml tree
        and return the first hit.""""""

        if node.text is not None:
            if len(node.text) &gt;= len(target):
                print('Test')
                if isregex:
                    match = re.search(target, node.text)
                    if match:
                        return True, node.text
                elif target in node.text:
                    return True, node.text
        elif (node.items() is not None) and (len(node.items())) and isdeepsearch:
            for name, value in node.items():
                if value &gt;= target:
                    if isregex:
                        match = re.search(target, value)
                        if match:
                            return True, value
                    elif target in value:
                        return True, value

        if len(node):
            for child in node:
                found, content = self.getFirstRec(
                    target, child, isregex, isdeepsearch)
                if found:
                    return True, content
        else:
            return False, ''
```; This function has the issue.; The unit test just calls
```
    def getFirstByContentContains(self, target, deepsearch):
        """"""Search for the given target
        and return the first one found if there is a hit.""""""

        if target is not None:
            count = len(target)
            if count == 0:
                return False, ''

        return self.getFirstRec(target, self.rootnode2, False, deepsearch)
```; Which in turn calls the function with the issue."
`for child in node` could return `None` if `found` is always `False`
"Thanks for pointing that out. I'll fix that. However that part was commented out, so the issue remains."
what was commented out ?
"That loop.; ```
        if node.text is not None:
            if len(node.text) &gt;= len(target):
                print('Test')
```; This is the issue.; When debugging, I go from line to line, and when I execute that string compare `if len(node.text) &gt;= len(target):`, it leaves the function, leaves the function that the unit test is calling etc."
and throws the error? Couldn't that be beacuse that evaluates to false and then it continues to the `elif (node.items() is not None) and (len(node.items())) and isdeepsearch:` line where the error occurs?
"Well, the debugger in VS Code is kind of confusing, but for as far as I can tell that is not the case.; I'm actually looking for a noncommercial alternative to VS Code for Python, cause the IDE has issues with its Python extension."
Something seems off because the snippet you posted definitely does not appear to contain any iteration and comparisons/len called on None types would have thrown different error
"I thought the same.; Chances are the debugger is not clear enough, rather than that piece of code being incorrect?"
Ok the problem is the function `getFirstRec` is not returning anything but you are splitting the return values which has an implicit iteration
So none of your if/elif statements are evaluating to true for some reason
So we're missing a return statement then.
well with that part you said was commented out; that else should always get run; are you sure the error was the same in that casE?
"I changed that part based on <@Ciera>’s comment.; ```
        if len(node):
            for child in node:
                found, content = self.getFirstRec(
                    target, child, isregex, isdeepsearch)
                if found:
                    return True, content
                return False, ''
        else:
            return False, ''
```; It's no longer commented out, but the error remains the same."
"what if you comment it out and just have `return False, ''`"
"Oh it must be me being rusty. Have been away from coding for some time. Started recently again. What <@Ciera> pointed out, I fixed that, but I must've been running the test while you and I were talking without saving the changes. It no longer throws that error now.; Comparing my code now with the snippet I posted, the only change is that else block that was missing.; So the function indeed must've been returning nothing, since none of the if statements equated to True.; I'm new to Python, combine that with some rustiness and this happens. <@Ciera> <@Antionette> Thanks a lot for the help guys."
:+1:
glad to see it's fixed <@Ashlea>. Just the time to get home :smile:; <@Antionette> :taco:
hey guys; I am writing an upsert statement for SQLAlchemy - PostgreSQL
"oh man i am so new to python... `never_update=('created_at',)` is that comma wierd or?"
that makes it a tuple
neato
but you don't want `records=[]`; don't use mutable types as default arguments
"<@Frieda> yup, spot on"
<@Frieda> mentioned a file: <https://pythondev.slack.com/files/U700PV23F/F8HC4UWQ7/-.py|-.py>.
"there's actually a lot of python underneath that
<https://wiki.python.org/moin/TupleSyntax>; like some things are optional, that commas create tuples, and tuple assignment"
nice
"looks more or less OK, but it's hard to say"
if it's a classic upsert postgres as that builtin
better test it :smiling_imp:
"Can someone verify that my raw post request is equivalent to the python post?; ```import requests

'''
POST /Service.asmx/GetDiagnosticFile HTTP/1.1
Host: 127.0.0.1
Content-Type: application/x-www-form-urlencoded
Content-Length: length

filename=string
'''

filename = 'diagFile12442342343.txt'

head = {
    'Content-Type': 'application/x-www-form-urlencoded',
    'Content-Length': f'{len(filename)}'
   }
            
payload = {'filename':filename}            
proxy = {'http': '<http://disproxy:8081>'}


r = <http://requests.post|requests.post>('<http://127.0.0.1:1995/Service.asmx/GetDiagnosticFile>', 
                   headers=head, 
                   params=payload, 
                   proxies=proxy, 
                   timeout=10)```"
"you probably don't need to set Content-Length by yourself; hm.. and you need `data=payload` instead of `params=payload`; as `params` is applied to an URL as urlencoded parameters, like this: `GetDiagnosticFile?filename=string`; not as POST body"
I agree with <@Suellen> - don't set Content-Length by yourself (it's not the character count)
"Either way, the request I tried posting; should have returned any response?; It was just hanging forever until I added timeout."
"likely, yes; but it's best to test with a correct request"
Can I use a process pool to run a function on a list lists that modifies values and returns the updated list of lists?
"Okay, now I'm getting a 503 :disappointed:"
"<@Myong>, I'd guess you would have to think about how you map out the work there."
<@Glinda> better than nothing :))
Hmm
what's the response body?; maybe there's a hint
"```  &lt;body&gt;&lt;div align=""center""&gt;&lt;div id=""pagecontainer""&gt;&lt;img src=""http://www.mailcontrol.com/images/block.png"" class=""icon"" &gt;&lt;h1&gt;The page cannot be displayed&lt;/h1&gt;&lt;div class=""row""&gt;&lt;tab
le&gt;&lt;tr&gt;&lt;td class=""label""&gt;Reason:&lt;/td&gt;&lt;td class=""item""&gt;The page you are looking for is currently unavailable. The Web site might be experiencing technical difficulties.&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=""label""&gt;URL:&lt;/td&gt;&lt;td class=""item""&gt;IP HERE/&lt;/td&gt;&lt;/tr&gt;&lt;
tr&gt;&lt;td height=""20px""&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=""label""&gt;Options:&lt;/td&gt;&lt;td class=""item""&gt;&lt;ul&gt;&lt;li&gt;Click the Refresh button or try again later.&lt;/li&gt;&lt;li&gt;If you typed the page address in the Address bar, make sure that is spelled correctly.&lt;/li&gt;&lt;li&gt;If you a
re trying to reach a secure site, make sure your Security settings can support it.&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td class=""spacer""&gt;&lt;div class=""ruler""&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td class=""item""&gt;&lt;script&gt;document.write(""&lt;p class=\'last-item\'&gt;C
lick Go Back or use the browser\'s Back button to return to the previous page.&lt;/p&gt;"")document.write(""&lt;form&gt;&lt;input value=\'Go Back\' type=\'button\' onclick=\'history.go(-1)\'&gt;&lt;/input&gt;&lt;/form&gt;"")&lt;/script&gt;&lt;noscript&gt;Press &lt;strong&gt;Backspace&lt;/strong&gt; or use the B
rowser\'s Back Button to return to the previous page.&lt;/noscript&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;!-- Technical information: Invalid internal server --&gt;&lt;/body&gt;```; Invalid internal server?"
:o
"I'm guessing something like this may work...
Split the list into n equal parts where n = num of workers
Then submit each list to be worked on"
"^^ same thing I was thinking; can you operate on each list in the ""master"" list?"
What do you mean; I can access and take values then modify them and return a different list; then `del()` the old one to save memory
"is your structure like `[ [ ],[ ],[ ] ]` ?"
Yeah; BUT
"if so, each process/thread can work on each list and modify them in place (I think)."
"Technically it's not in that format; when I get it; Cause atm I basically run requests that pull a .csv from online and save into a list of lists where each internal list is a row in the .csv, however I do this ~9 times so I have a list of 9 lists with thousands of other lists within; So it's sort of setup already, however I don't want to just send those lists in cause one might be 5k items and another might be 500; I flatten the masterlist from `[ [ [ ], [ ] ], [ [ ], [ ] ] ]` -&gt; `[ [ ], [ ], [ ], [ ] ]`; But at that points its one main list of thousands of entries, and I need to split it up evenly so I may just do something like"
pool knows which process so submit to
You want to distribute work evenly? 
`[master_list[len(master_list) / num_workers * n : (len(master_list) / num_workers * n+1) - 1] for i in range(num_workers-1))]`; If the syntax works that should be okay but there may be some quirks; I will do some quick test
"I would go about it the same way. To get stuff done, I’d try without distributing work and then optimize like you’re doing. "
Good point
"I'd do
```
with ProcessPoolExecutor() as pool:
    futures = [pool.submit(worker, sublist) for sublist in yourlist]
    # Deal with completed futures, probably by using
    # concurrent.futures.as_completed
```"
Even if more sublists than workers for now?
"The executor maintains a job queue, why would you invent one outside of the pool by chunking the input?; Sure"
Yeah you have a good point
"I have an idea for a project I want to start, but every time I get a computer in front of me I don't know what to do. ; Any tips for jumping this mental barrier? "
start small and iterate over it
"```
for i in small.start():
```"
Hah. I'm not even sure how to start with the design; I guess that doesn't matter. Cli.py can be refacotrd 
I hope `small.start` is a generator <@Suellen>
of course it is; we can make our own rules!
"Now that I think about it, I'm kind of recreating cookiecutter; I want to have a template file, pass in a yaml file and template the vars from the yaml into a templated doc "
<@Collette> I can either submit a list of items to be processed which can be a bit long OR I can submit a single job at a time via `executor.submit()`. Which would be more beneficial? Many smaller jobs OR few very large jobs in comparison
bigger chunks -&gt; less overhead
we want speed though :racing_car:
:parrot_fast:; It's not gonna be more than ~200MB of data ever really; In this case
"I like trying to scale ""horizontally"""
"if you want speed with ProcessPoolExecutor: 
try to reduce the amount of data transmitted
Giving each worker a huge data structure and getting it back is generally not good
Giving a small piece of data so that each worker completes in about 0.1s is generally not good too"
It really depends on what your worker function does
"Sounds good. The worker function checks at a certain index in a list if it exists, then have some Regex that grabs a piece of it"
And which pool you're using
I'm basically converting lat and long in degrees minutes seconds to lat and long in decimal form; for a few thousand entries; I'm using processprool atm
"<@Myong> if you'll chunk the data by cpu cores, don't forget about grouper recipe from <https://docs.python.org/3/library/itertools.html>"
eli5: when would you guys use processpool vs. threadpool? what's the core difference?
And try switching to ThreadPoolExecutor - it may reduce execution times significantly
I think it's based on IO and CPU usage; Okay will do
<@Collette> GIL though
GIL only applies to bytecode execution
What should i be using groupby for?
doesn't kbman intend to compute stuff massively?
"If you do lots of math via numpy or `math` (which are basically C), you may be avoiding GIL at all"
"I'm, for the most part, only doing regex"
:thinking_face: makes sense; oh
But it's a pretty crazy regex token though it picks up everthing I need
oh? lemme see that regex pattern I love me some regex; unless you already posted it
"`[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d*(?:[eE][-+]?\d+)`; It catches all floats and integers"
all your values have the `e` for exponent?
No they do not I am gonna get rid of that
yeeee
It was just from stack overflow; no ngetatives either
i threw it at <https://regexr.com/> it's my go to for easy tests
"Pretty noob question here:
I'm going through a tutorial and got stuck at linking models because I keep getting FOREIGN KEY constraints failure.
How am I supposed to construct a foreign key in models?"
"`[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d` this works"
what about `1`; it wont pick it up
o
breaking regexes is clearly more interesting than fixing this bug i should be fixing
Not sure where that one is messing up; It doesn't match any single digit number; no bueno
lol append a `|(\d)`; the least elegant
easy enough; Will that provide the same output; or does that create another group with `re.finall()`
"oh it would def create another group; that was a solution, but not a good solution"
no it works actually; gives me a single list
"nice, i still think there's an elegant way to do that; what if you delete that last `\d`; i think that's what makes it require 2 numbers"
Might have to go with original one :confused:
"almost positive; `[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?` as opposed to `[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d`"
Yeah the thing is that I need to catch decimals also; The original very first one does exactly what I need; and it's actually pretty quick; We shall see I appreciate the help
"right on, for me that first one `[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d*(?:[eE][-+]?\d+)` seemed to require the `e` for exponent; `[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d*` this part seems fine though; i appreciate the distraction haha"
"Hi everyone, I was wondering, is there a good place to find help for locust related scripts?"
"what do you guys like for a minimal queuing system? I am not sure if we need the ""distributed"" nature of something like celery yet. But if its an easy setup it could be fine. I also saw RQ as well. I am going to try a minimal example setup for processing some work in python through a queue and using docker. we are trying to rewrite a portion of our stack from node."
i used python-rq for a long time but after learning celery i probably would have just used celery.; the Python Cookbook has some really good examples too.; if you want something minimal.
"ok cool. so celery is easy to get setup? ill have to check out the cookbook; does celery need redis? using docker, would it need to talk with a redis container for storage?"
"I was curious about the function return type annotations. My Python book used them throughout but I almost never seen it in real code, is it some thing that is generally ignored?"
celery needs some kind of broker.; you can use redis or rabbitmq.
oh i was thinking rabbitmq was synonymous with celery
"nope, it’s a broker. they are often used together so probably why you thought that."
ah
when you instantiate celery you pass the connection string to the broker.
"hmm. in node theres a library called `kue` which is nice since we just import it, and it talks to redis directly to handle the queue.; ah ok."
this is my celery config. some of the tasks are loading the database with data as others are computing student mastery of topics and other things. <https://github.com/openstax/biglearn-sparfa-server/blob/master/sparfa_server/celery.py>; aside from that you add a task decorator to whatever functions you want to execute async and that’s about it.; oh and you have to make sure to run your celery workers process and then run your celery beat process; if you want to use celery-beat
"when using the decorator, it puts the funtion into the queue based on when it does I/O ?; or just when the function is called"
"the latter, wherever you decide to use it in code you will have `.delay()` method.; my_async_function.delay()"
"oh wait, with the config. i think i see. so the config is basically scheduling these ""loaders"" to run at given intervals?"
"yep, that part is using celery-beat."
ah ok.
if you’re not running anything on a schedule you can ignore all that.
ok. so thats more like running it as a cron setup?
"yea, you can use cron syntax or some others iirc."
"well, thats interesting. part of this is running on a cron like setup. but that, is processing some data and when work needs to be done, we want to send that to another queue so workers can process it.; currently this is all in one shitty service and managed through a Thread.js file and is messy. so were going to rebuild it and looking at using node or python. im pushing for python."
sounds like it would be achievable in celery.
"so the ""thread"" is run and looks to see if anything needs to be processed. if it does, it preps it, then starts up to 10 threads to do the work.; those threads doing the work, we just want as workers to monitor a queue to see when work needs to be done."
"yea, that’s why we have the different queues. you can create different ones for different workers.. you can add priority and other things."
ok cool. so why did you switch from RQ to celery?
we use celery in a lot of our other apps so it was to remain consistent.; i was the outlier using RQ.
ah. are there benefits to using RQ?
it’s “simpler”.
would it do what I need in your opinion based on what I described?
celery is often touted as having a large learning curve. that’s why i avoided it. but after working with it it isn’t all that bad.
ok
"yea, i don’t see why not. you may need to do a quick spike to see what you like best."
"yea.; so how is celery ""distributed"" ? looking at their page.; so you can have multiple instances replicating each others queues?; mostly, the threads that run and to the processes are long running and take time."
the workers are distributing the work and you can distribute the workers among any number of machines. they all know how to talk to each other b/c of the broker.
a larger process takes about 10 minutes. some times more. it takes about 10 hours to run them for all clients. and its done daily; ah ok. you cant do that with RQ?; or as easily?
not sure really. i haven’t used RQ to that capacity but i would assume so b/c all the workers need is a copy of the source code they can access.; the same goes for celery
yea. that was my thought; i just spin up workers based on need or load. and they have thecode. and just look to see what work needs to be done.
as long as they can all talk to the same broker it should work.
what about failover. if the queue container breaks or fails. how is that handled?; ok.
you get a bunch of rabbitmq errors.
"ah, or i suppose what if the broker fails.; ok.; we want to prevent lost jobs; well, we have to"
you can have celery retry a task a number of times.; if it keeps failing you can setup a dead-mailbox or something like that.; you can also have celery send an email.
"well, i mean if celery goes down. or, in this case, redis since its the backend store; hmm; i suppose if it goes down, we can re-run the main worker to rebuild the queue."
o wait n/m dead-letter queue is rabbitmq specific.
its a finite amount of work (that would get larger as we get more users) but its that they are long running.
"i got you. celery has what are known as signatures, chains, and groups, you can use these to execute your tasks in particular ways.; a chain for example will execute tasks in order and only when the first one completes."
ok. thats nice.
for monitoring: <http://docs.celeryproject.org/en/latest/userguide/monitoring.html>; flower is pretty sweet.
but what im thinking about. is the storage of the queue. in redis. what if redis goes down. For this case i would assume that the redis data has to be persisted onto a data volume or s3? or something. so if it goes down it can be restarted and get the data back. or we could possibly re-build the queue; ok ill check it out thanks.
"yea, you would need to run a persistent redis."
i just havent done this much yet for deploying all this.; would it save data to s3 or just a mounted volume or something?
i think redis has its own thing
were not using docker yet. well we are but only for a small service. im onw of the few that is trying to help and bring docker in by getting small things running in it.; ok.
yea it’s called RDB. <https://redis.io/topics/persistence>
ok. basically we cant afford to lose data.
"yea, says the RDB can be stored on amazon s3"
"this is all done every day. so backup would only need to be done for the current or last day.; main thing, is if it fails for whatever reason. when we bring it up we want to continue from where we left off.; &gt; RDB is NOT good if you need to minimize the chance of data loss in case Redis stops working (for example after a power outage); what we store in redis shouldnt be too large.; ok, i think the AoF part is more what im looking for."
is the current thing not working well?
"but, it may not be too big of a deal. the list of all work can be built in a couple minutes probably. so if redis goes down. we can probably just rebuild it.; it is working, but its really messy. its basically a small monolith.; its all done in 1 big thread managed in code. and spawns process threads (up to 10) to actually process the work. and its hard to debug. and right now, im debugging a race condition.; so when we have clients thats using this to monitor $1b worth of work reports, we want ti to be stable and easy to work on."
I have a module with a `def main():` block i’m trying to call this module from another file using the context trick (<https://github.com/kennethreitz/samplemod/blob/master/tests/context.py>) in my tests folder i’m trying to say module.main() and it’s telling me it’s not callable. any pointers?
"Hey guys im attempting to setup a notification system for reddit. It works fine, however in attempting to upgrade I want to enable multiple users with multiple search terms and key words. What is the bets method to use in a database approach to add item searches to users? I'm just having trouble figuring out if someone wants to search or be notified of a specific item, how to add different strings or aliases for the item to look for; Would something like a many to many relationship be a good idea between a user and an item?"
many to many seems find to me; but I'm no expert
"Hi, I have a list of boilerplate strings (to be contained in a file) and when a new message comes in, I have to check if this message contains any of the  boilerplate strings and replace with ( """" ). The file containing the boilerplate string will change as new ones will be added. How best do I do this search to be efficient? Will regex be enough for this?"
it depends how many boilerplate strings you want to test
I'm looking at something over 400 lines ; Each string can have 100 characters 
"Quick one, I am looking to replace WK30 in this str() ```&lt;a data-mmblock=""WK30-NewIn"" href=""/Womens-Clothing/New-In?mmid=MM-_-WK30_NEWIN""&gt;``` but the week will change each week, so I'm not sure how i can search for WKXX, any ideas?"
Regex?; Will be easy if the string is always formatted in the same way
you can find the index of `WK` in the string and replace that and the 2 next letters
`/(WK\d\d)/`
but yeah regex :thumbsup:
Great thanks guys!
My fav tool: <https://regex101.com/>
"I was able to make progress on my holiday project! I need help with writing a readme and naming the thing; I would also love to publish on PyPi, as an example, but I'm afraid everyone will laugh at my bad code"
Works wonders thanks guys
<@Marlon> don't be afraid of that. You will probably laugh at your own code a few years/month from now.; it means you have improved; just remember to use the testing pypy while your are trying stuff :slightly_smiling_face:
"Ha, i’ve been laughing at my code for years; i guess that means i’m learning; so the project takes a jinja template, and an yaml input file and uses the values from the input file to template out the yaml file. it will also allow undefined variables, and reading from environment. i took a lot of inspiration from `envtpl` and `jinja2cli`; is this a.) useful? anyone want to help me name it? i called it `jtpl`; and i hate it"
well I suppose it's at least useful to you if you created it and it's always new stuff to learn; I'm also very bad at naming things so can't hep you
i share my code all the time. it’s not always at it’s best but at least i’ve shipped it!
Hi guys I have studied about life time of local and global variables I had seen a few examples like if it's defined outside function block it's accessible only during the function execution if not it will be accessible throughout code execution my question here is how I can verify and visualize this any idea ?
yajinja?; yaml + jinja2 = yajinja
yaninja ? :smile:
i actually really like that
:smiley:
"most of the other tools won’t do yaml either; which is a crying shame; Thank you very kindly, i am going to steal that. and if i ever get a stable thing i’ll credit you for the name"
no need to credit me; wait which one did you like?; yajinja or yaninja?; lol; that should be on the README :point_up:
haha. very good.; i’m not sure yet. i’m leaning towards yajinja
"command line iteration question:
Reading in non-formatted in a easy way command line return and trying to set a couple dicts from it.
```Datacenter: ore
===============
Status=Up/Down
|/ State=Normal
--  Address       
UN  172.22.9.181   
UN  172.22.16.200     
Datacenter: vir
===============
Status=Up/Down
|/ State=Normal
--  Address        
UN  172.18.5.94    
UN  172.18.13.157```
just can not figure out how to grab the datacenter value and add the ips after it as keys until it sees the next datacenter, then do the same for it?"
can you split on ====?
`line.startswith('Datacenter: ')` -&gt; new entry
"ohh, i like <@Suellen> answer better."
Ok but how to keep it reading the lines?
something a bit like this
"Nice I was doing with only if and while, for is much better.; Thanks I knew it would be something simple I was not thinking of"
"it's just a template, I presume the actual format is somewhat different"
Yes but dropping in the for lets me iterate through as I need.
"Sigh...
```pip3 install -e ./
Obtaining file:///home/darin/Downloads/dataclasses
Installing collected packages: dataclasses
  Running setup.py develop for dataclasses
...
The installation directory you specified (via --install-dir, --prefix, or
    the distutils default setting) was:
    
        /usr/local/lib/python3.5/dist-packages/
```
So there's an option for that???  Okay, good because this is 3.6+
```pip install -e ./ --install-dir /usr/local/lib/python3.6/dist-packages/

Usage:   
  pip install [options] &lt;requirement specifier&gt; [package-index-options] ...
  pip install [options] -r &lt;requirements file&gt; [package-index-options] ...
  pip install [options] [-e] &lt;vcs project url&gt; ...
  pip install [options] [-e] &lt;local project path&gt; ...
  pip install [options] &lt;archive url/path&gt; ...

no such option: --install-dir
```"
what are you trying to do ?
"install dataclasses.py (cloned from git repo) into my 3.6 install; apparently it's -t for target for location, now onto a new error :slightly_smiling_face:"
seems risky to install something with `-e` not in a virtualenv
"apparently now I've tripped over a bug in pip from 2013, time to do this more manually and move the repo into 3.6 and install without -t; my whole dev box is a virtualenv, lol, okay, that was more of a nervous laugh about playing fast and loose"
fast AND loose
"it will be in 3.7 so I'm ""trusting"" that; orr..... install 3.7 and import it, duh, come on simmons!"
"Anyone recommend a forum software for bug reporting/feature request? It is alright if it takes up the entire site as I can just style the forum site to look like the other, but I would prefer it didn't since I would want to have user login info shared between the main site and the forum. 

Or would you recommend I jut build one myself (general forums should function similar to a multi-user blog which I feel confident in my ability to build). Either way I will still have a contact form, so I might not even need a forum but I still wanna look into it"
github issues?
It would mainly be for the non tech person so they probably won't be familiar with github (although I totally forgot about github for things like this)
trello? jira :shudder:?
"Hmmm one of those (particularly trello) sounds good, but I am not too familiar with it at the moment; I like Jira but the budget will probably say no"
GitHub has projects now
"yeah, github projects will _sorta_ replace Trello; but Trello is way friendlier for non-tech people"
hm.. I always thought of them as the same practically; not really great either of them
"oh, trello is great"
"Alright I shall look into those two and trying to connect or use them via an api with the site then. And yea, I have used trello before and it rocked, just never thought of using it as a forum on another site"
i probably wouldn't go that route but that's just me; good luck
Ok thanks! Oh and please accept these tokens of appreciation <@Frieda> <@Suellen> :taco:
thanks!
:tada:
i need some real tacos. it's been awhile.
Just got some today for lunch :pacman:
my wife and i have a local place we usually go to but haven't had time for a date night in awhile. gotta fix that
"I know that stuggle, I was craving carnita tacos, but the places that have the best in town were too far away so I went to Tijuana Flats instead"
honestly i'm a bigger fan of this places margaritas than i am their tacos :smile:
Hahaha priorities!
"Hey if I have a small application with a very minute number of users which uses a database to store information on each user, is it best to load in user details into memory on the system on startup for each user I have to avoid many database queries?"
not worth it IMO
small application with small # of users? sounds like you're already avoiding too many queries
Simple enough
"if you do start to have database contention there are things you can do. you could cache some queries, work on some of your indexes, etc.; but it’s probably too early to be worrying about all that."
"Yeah, it's a very simple system, I just wasn't sure about what the best practice is. Figured just sticking with the queries alone would be better"
Guys what's the max length that we can use to create a variable in python any idea ?
"79 characters; that's just a joke on PEP-8, not sure what you mean <@Bette>; do you mean the number of characters in a string?"
No; Max length of a variable name; Is there any restriction?
This SO article indicates there isn't one but I wouldn't be surprised if some implementations added restrictions <https://stackoverflow.com/questions/16920835/what-is-the-maximum-length-for-an-attribute-name-in-python>
I read that there is no restriction and it can be any reasonable length
yep :point_up: that's what I read
It's like unlimited :grin:
"""unlimited"" :stuck_out_tongue:"
I have also tested a variable name with length 80; I didn't get any errors; Little dark tough
haha the 79 character limit is actually just in the style guideline; nothing in the language enforces that; <https://www.python.org/dev/peps/pep-0008/#maximum-line-length>
You'll have trouble using `for` and `2good` as variable names though
yep `for` is a reserved identifier because it's used for `for` loops
:ok_hand:
and I believe the `2good` is unusable because it starts with a number; which Python prevents
"I made a thing, and i’d like some feedback. I’m not sure if this is the right place; <https://github.com/whereismyjetpack/yajinja>"
1) excellent use of ninja baby gif
that was all <@Ciera>
Love the name!
"Hi there! I’m trying to create a function that slide an mxm matrix into a bigger one, i’d like that for each step The mxm matrix sums all The elements. It’s a kind of “convolutional kernel”.; Is there something that i can use?"
"time.sleep will block the rest of the scripts; i have a messege that output to ttk.label that don´t fit on the screen so i am looking at solutions .. 

1. make the text scrolling
2. Make the txt.set(msg1) &gt;&gt; wait 2 sec &gt;&gt; txt.set(msg2) wait 2 sec txt.set(msg3) &gt;&gt; wait 2sec &gt;&gt;  loop back to txt.set(msg1)
3.make 2 rows to fit the message ( not looking good on the display 

what solution would be functionable with my code; is there a simple way to make a scrolling messege"
"People, anybody does how i could do this?; Matrix
 [[0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]]

Kernel
 [[1 1 1]
 [1 1 1]
 [1 1 1]]

 ====== STEP 1 ======
 [[1 1 1 0 0 0 0 0 0]
 [1 1 1 0 0 0 0 0 0]
 [1 1 1 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]]

 ====== STEP 2 ======
 [[1 2 2 1 0 0 0 0 0]
 [1 2 2 1 0 0 0 0 0]
 [1 2 2 1 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]]

 ====== STEP 3 ======
 [[1 2 3 2 1 0 0 0 0]
 [1 2 3 2 1 0 0 0 0]
 [1 2 3 2 1 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 0 0]]; Given a matrix NxN, I'd like to create a kernel (which could be different time by time), and each step it sums all the previous elements, just like in the example.; any suggestions?"
you really should look at numpy’s matrix operations
oooook
<@Harry> <https://www.kdnuggets.com/2017/03/working-numpy-matrices.html> could be a good way to start
"do you think it's easy? I'm a noob, so I wrote here :blush:"
"I think if you already know the basics of matrices, you’re three quarters of the way there"
"many thanks, 
I will let you know; [1 2 3 3 3 3 3 2 1]
 [2 4 6 6 6 6 6 4 2]
 [3 6 9 9 9 9 9 6 3]
 [3 6 9 9 9 9 9 6 3]
 [3 6 9 9 9 9 9 6 3]
 [3 6 9 9 9 9 9 6 3]
 [3 6 9 9 9 9 9 6 3]
 [2 4 6 6 6 6 6 4 2]
 [1 2 3 3 3 3 3 2 1] <@Meg> :grimacing:"
I'm trying to get data from the wunderground api. I'm able to get it using requests. when i print it out after I load it I'm having trouble retrieving specific keys I want to get.
are you loading the json response into a dict?
I believe so I can call current_observation and it pulls all the pairs under that; but I don't know how to call the nested ones
"you have a couple options; execute the api request in a rest client like postman, then inspect the response; or two, implement a recursive dict traversal to print out the keys in the dict; I’d go for the first"
"what's involved in the first one, never dealt with rest or postman"
"her eyou go; <https://www.getpostman.com/>; you have a request url you use to query the api; enter that in postman,; and you’ll see the data response"
"<@Devorah> if you're up for learning, the reading of the errors and parsing a bunch of dicts within a list within a dict is a great way to practice indexing and key/value iteration and searching, on the other hand, this has been solved long ago and if it doesn't interest you, can you skip for now or forever"
"Hi.  I am brand new to this group, so I hope I am not making any mistakes.  I am not a heavy programmer, but I am trying to help my father with an issue.  He is working on a camera built with a Raspberry Pi and Python for taking picture of a retina. The problem is that the code he has always saves the picture with the same name.  Thus, if you take a picture, it writes over the previous picture.  It should instead save each picture with a new name.  Also, at the end the script shuts down the camera, rather than letting you take multiple pictures without restarting the program.  Below is the code.  How can I change it to fix these problems?  If I should post this somewhere else, please let me know.  Thanks.  

import time
import picamera
import RPi.GPIO as GPIO

GPIO.setmode(GPIO.BCM)
GPIO.setup(17, <http://GPIO.IN|GPIO.IN>, GPIO.PUD_UP)
# GPIO 17 is the shutter button
GPIO.setup(22, GPIO.OUT)
# GPIO 22 is the infrared cathode
GPIO.setup(23, GPIO.OUT)
# GPIO 23 is the white light cathode
GPIO.output(22, False)
# Sets the infrared cathode to ground. The common anode of the 
# LED is set to 3.3 V, so setting GPIO 22 to ground causes the 
# infrared light to be on.
GPIO.output(23, True)
# Sets the white light cathode to 3.3 V

with picamera.PiCamera() as camera:
    camera.start_preview()
    GPIO.wait_for_edge(17, GPIO.FALLING)
    GPIO.output(22, True)
    GPIO.output(23, False)
    camera.capture('/home/pi/Desktop/image1.jpg', use_video_port=True)
    camera.stop_preview
    GPIO.cleanup()"
"Multiple options.
```# Generate a temporary file location
import tempfile
tempfile.NamedTemporaryFile()

# Use os.path to check for a unique name index
import os

filepath_template = '/home/pi/Desktop/image%s.jpg'
index = 0
while os.path.isfile(filepath_template % index):
    index += 1

filepath = filepath_template % index
```"
"<@Marco> welcome, if you are going to paste a lot of code, please click the plus on the side of the text bar and input the code there.  The `with picamera.PiCamera() as camera:` block is written to close down the `with` block when the process is complete, you could use a `while True:` block to keep the program alive though that is rough as it does not have a condition for closure."
"<@Marco> Because the script is already importing `time`, you could just follow same convention that most other camera software use: timestamp in YYYYMMDDHHMMSS format.

Change line
`camera.capture('/home/pi/Desktop/image1.jpg', use_video_port=True)`
To something like
```
datetime_captured = time.strftime(""%Y%m%d%H%M%S"")
camera.capture('/home/pi/Desktop/' + datetime_captured + '.jpg', use_video_port=True)
```
The above will produce file w/ name like `20171223140944.jpg` in `/home/pi/Desktop/`.

As for having software run until explicitly exiting, something along the lines of what <@Seema> suggested is way to go."
"Hi, I’m looking for a Python dev to help me create a Python app for a small project of mine. Any freelancers on here?"
<#C1DFN115F|freelance> :); there's a channel and _maybe_ you'll have better luck there
"Hello, please point me to the Flask Channel if you can. "
<#C0LN2AD7T|flask>
Any here used Scrapy with Celery? I get can scrape just fine when I run my spider via the terminal but I get a 403 when it runs as a Celery task... Can explain further if any has worked with the combination.
"```t1 = 'Sun Dec 24 17:25:14 +0000 2017'
t2 = 'Sun Dec 24 17:05:14 +0000 2017'
fmt = '%a %b %d %H:%I:%S %z %Y'
```
 I have two time strings. and format for `strptime`

`t2` matches the format but not `t1`. Help me spot the difference please."
"Does it match though?; `'Sun Dec 24 17:05:14 +0000 2017'` -&gt; `datetime.datetime(2017, 12, 24, 5, 0, 14)`; `17:05:14` -&gt; `05:00:14`; `%H:%I:%S` should be `%H:%M:%S`; %I is a AM/PM hour, that's why there's a (wrong) match for t2 but not t1"
Thanks <@Suellen> :slightly_smiling_face:
Why with celery? Doesn't scrapy already run with twisted?
Merry Christmas! I am learning python and have a bug in my basic pygame game. Can anyone help me please?; <https://pastebin.com/XF9hnMiE>; Some reason my game resets when it matches vertical axis even if you pass monster. 
"wow, looks nice"
"It is just supposed to be a Frogger like clone. Stole the images. Devil is just going back and forward. I can pass it but when it passes me, game resets but that is only supposed to happen upon collision. "
Has anyone got some more info on anvil.works ? 
"Is there anything I can do that is simple with python, to start importing methods and classes from diff files, in the src of my project?; Is there a simple trick to do where I set the path to something, etc... not 100% sure; i just did `export PYTHONPATH=.` worked well"
"<@Arlene> now remove that export, write a setup.py and do `pip install -e .`"
lol
What?
"<@Collette> sorry; what are you suggesting?; I wasnt paying attention, previously i apologize."
"&gt; remove that export, write a setup.py and do `pip install -e .`"
"Hello guys..

what is the fastest available solution for pdf report generation in python3

i’ve tried wkhtmltopdf and reportlab"
"can anyone help me, how can I write a regular expression to validate phone numbers of different countries like :
`+91 7737986479`, `7737986479`, `<tel:202-555-0152|202-555-0152>`, `<tel:+1-202-555-0152|+1-202-555-0152>`, `(202) 555 0152`, `01632 960706`, `+44 1632 960706`, `<tel:613-555-0164|613-555-0164>`, `<tel:+1-613-555-0164|+1-613-555-0164>`, `1900 654 321`, `+61 1900 654 321`
This are the dummy phone numbers of different countries to pass the example test case."
google has an opensource library for phone number verification
`libphonenumber`
<@Suellen> I need it for jQuery.
<https://github.com/catamphetamine/libphonenumber-js>
"Anyone know how I can remove the double quotes from the value `null`
`'{""profile"": {""firstName"": ""foo"", ""lastName"": ""bar"", ""mobilePhone"": ""<tel:555-415-1337|555-415-1337>"", ""secondEmail"": ""null"", ""login"": ""<mailto:test@gmail.com|test@gmail.com>"", ""email"": ""<mailto:test@gmail.com|test@gmail.com>""}}'`
on this data type"
are you converting to dict or json?
"the data needs to be a string i need to pass in, so i get a dict object and i do a json.dumps(dict) which gets me this ^^, but the api wants the value of null to not have doublt quotes; just be from `""null""` to `null`"
I wonder why...
i have no clue; this is in fact a first
"it's very strange to have a `""null""` instead of `null`"
"ok, that’s werd"
I see this
probably because the value is a string and not `None`
"i know, thats why id like to convert it to `null`"
"in the dict, if you do `dict_variable['secondEmail']`, is it a string or `None`?; because if its a string, then that’s your issue.  you should use `None` instead"
let me check; its a string
"that’s why; so if you want `null` to be output in the json serialization, you should have that value be `None`"
"OHHH; <@Meg> thats why; That makes sense,; thanks a lot"
welcome :slightly_smiling_face:
Also I couldn't able to understand the method any in tuple
"Python 3 does not allow that either - there are two issues - one you are trying to assign to an integer literal, and two variables cannot begin with numbers; I don’t know what the environment is that seemed to allow it, but it’s incorrect behavior to allow it"
Hi jkelly; I am trying it from a python 3.6 in a website; It works there and it's not working in 2.7
"I would stop using this website then, it’s not using a true python interpreter; what website is it?"
Python <http://tutor.com|tutor.com>; I got your point regarding variable rule
yeah perhaps they are doing something weird with the variables before passing them to an underlying interpreter.
Do you know about python any method; I'm scartaching my head to understand it
"yes, essentially it ensures that at least one value in an iterable evaluates to `True`; a related method is `all`, which assures that all values evaluate to `True`"
"Yeah. Read it but in the example; The output is 
True false true false; I'm wondering how"
"it’s basically the same as a function that is like this:

```
def any(iter):
    for item in iter:
        if item:
            return True
    return False
```"
It would be nice if you can explain me the output of above code
"the reason is python has a concept of “truthiness” - essentially values like 0, None and False all are roughly equivalent in boolean comparison"
Like how it was true or false
"and non-zero integers, non-empty strings, etc. and of course True are all True"
But in case 1 and 3 0 is there and still return true ?; Because we need atleast one true ?; Am I right ?
"exactly; if *any* value is true, then it returns true"
Got it mate :grin: ; Thanks for explaining
"No problem; at least for me, it’s not something I use often, except when writing tests"
Hehe I have been learning Python so making notes of these methods with examples:wink: 
that’s always a good idea.  are you by chance going through the list here? <https://docs.python.org/3/library/functions.html>
No mate; There is a site called <http://programiz.com|programiz.com> which is containing all most all methods for string tuple set dictionary list in a plain and simple manner
"How would I write a unit test for this decorator function? ```def validate_response(json_key, expected_value):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            data = json.loads(request.form['payload'])[json_key]
            if data is not expected_value:
                return redirect(url_for('HTTP403'))

            return func(data, *args, **kwargs)

        return wrapper

    return decorator```; I'd have to mock both `redirect` and `json.loads`"
"Why mock redirect?; You could check a return value, which is probably a response object with a correct status code and `location`"
"hey guys! wondering if someone could help me out with performing a regex replace; I am trying to do a case insensitive search and insert &lt;b&gt; html tag before and &lt;/b&gt; html tag after every match; right now I have code which does that but the problem is it replaces the actual word with the case of the search word instead of keeping the case in each scenario; content = ""Test tEst TEsT""
pattern = re.compile(""test"", re.IGNORECASE)
content = pattern.sub(""&lt;b&gt;{0}&lt;/b&gt;"".format(word), content)
#returns ""&lt;b&gt;test&lt;/b&gt; &lt;b&gt;test&lt;/b&gt; &lt;b&gt;test&lt;/b&gt;""
#want ""&lt;b&gt;Test&lt;/b&gt; &lt;b&gt;tEst&lt;/b&gt; &lt;b&gt;TEsT&lt;/b&gt;"""
<https://regexr.com/>; Have you used this before?; Actually this one is better; <https://regex101.com/>
hahaha yes i've gotten a lot of use out of those regex builders :slightly_smiling_face:
So your problem; there's a cerrtain word you want that is case insensitive; if you find such pattern  `.....{pattern}...`; you want to replace with; `.....&lt;b&gt;{pattern}&lt;/b&gt;...`
right; but I don't want to replace {pattern}; which is what my code does right now
"regex is fine; if you want an easy way; ```def string_match(input, compare):
    lower_case = input.lower()
    compare_lower = compare.lower()```; First conver to lowercase for both; Then use string methods to find all matches.; Use the found location indices"
right I was thinking that...; would regex be cleaner though?
"Now you might ask, well isn't it slow to remake a string?; It really depends; So if you know of that solution. Let's work on the regex one.; ```content = ""Test tEst TEsT""
pattern = re.compile(""test"", re.IGNORECASE)
content = pattern.sub(""&lt;b&gt;{0}&lt;/b&gt;"".format(word), content)
#returns ""&lt;b&gt;test&lt;/b&gt; &lt;b&gt;test&lt;/b&gt; &lt;b&gt;test&lt;/b&gt;""
#want ""&lt;b&gt;Test&lt;/b&gt; &lt;b&gt;tEst&lt;/b&gt; &lt;b&gt;TEsT&lt;/b&gt;""```; You should probably use; groups instead of string formatting; ```method = 'images/:id/huge'
re.sub(r'(:[a-z]+)', r'&lt;span&gt;\1&lt;/span&gt;', method)

'images/&lt;span&gt;:id&lt;/span&gt;/huge'```"
ahhhh; yes that's what I am looking for :slightly_smiling_face:
btw; I recently found out about python named group regex matching; and it's amazing.; ```'(?P&lt;name&gt;.*) (?P&lt;phone&gt;.*)'```; <https://regex101.com/r/xfWIfL/1>; I used both flags `/ig` for ingore case and global.
"hmm; so that creates a group test_word which contains every case-insensitive instance of ""test""?"
"Lastly here is another way that might be helpful; <https://stackoverflow.com/a/16720705>; using `(?P&lt;name&gt;pattern)` creates a named group where you can reference with `name` and searches for the word `pattern`; Another thing that's helpful; is regex matches in python are objects; which contain some useful attributes; <https://docs.python.org/3/library/re.html#match-objects>; specifically ```&gt;&gt;&gt; m = re.match(r""(?P&lt;first_name&gt;\w+) (?P&lt;last_name&gt;\w+)"", ""Malcolm Reynolds"")
&gt;&gt;&gt; m.groupdict()
{'first_name': 'Malcolm', 'last_name': 'Reynolds'}```"
wow that's pretty cool!; I'm getting an error when trying to implement the second option. says invalid group reference
Which one?; Uhh; might be you're referencing `\1` all times?
"you mean it would be \2 for the second match, \3 for the third, etc.?"
"```content = ""Test TeST TEsT""
words = [""test""]
for index, word in enumerate(words):
    pattern = re.compile(word, re.IGNORECASE)
    content = re.sub(pattern, f'&lt;b&gt;\{index+1}&lt;/b&gt;', content)```; maybe something like this; one sec"
"Hey all! I start learning python three months ago. Now, i’m working with Keras and Tensorflow framework, my question is: Is there a function that evaluate FROC curve?"
"<@Glenda> this is why: `Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl.`; It's only getting the first value.; ```import re
content = ""Test TeST TEsT""
words = [""test""]

match_pattern = r'(?i)(test)'


result_match = re.findall(match_pattern, content)
result = re.sub(match_pattern, r'&lt;b&gt;\1&lt;/b&gt;', content)

print(result)```"
cool!; is result_match necessary?
"```import re

def add_tag(pattern, content, tag):
    return re.sub(pattern, f'&lt;{tag}&gt;\\1&lt;/{tag}&gt;', content)

    
if __name__ == '__main__':
    pattern = r'(?i)(test)'
    content = ""Test TeST TEsT""
    print(add_tag(pattern, content, 'b'))```; <@Harry> you want the area under free response curve? Or you wish to create a free response curve?; Good luck bud; Also, here's a great read since you're doing regex with html; <https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags>; <@Harry> here's a script I found that evalutes it <https://github.com/gakarak/Camelyon2016Code/blob/master/Python-Caffe/Check_Evaluation/Evaluation_FROC.py>"
"Thanks for help! I'm working with microaneurysm detection, I also found this script, I was wondering if there's more :relaxed: cause It's little bit different using keras. I'm going to improve my skills"
"My background is in chemical engineering, but I'm a software developer. Perhaps we could figure out together how to change this script.; Well chemE and years ago I was a med lab tech who worked alongside a pathologist."
Cool! I'll be in touch soon
Let me know if you have any further questions since I'm not directly helpful.
I will. Many thanks
"<@Suellen> I gave that a shot and I'm trying to get a flask test harness setup, but I'm running into other issues.; So I try and test this function: 
```@app.route('/event_endpoint', methods=['POST'])
@validate_response('token', VERIFICATION_TOKEN)
@url_verification
def events_route():
    """"""
    Any event based response will get routed here.
    Decorates first make sure it's a verified route and this isn't a challenge event
    Lastly forwards event data to route director
    """"""
    response_data = request.get_json()
    combined_route_director(response_data, 'event')
    return make_response('', 200)```; Actually I think this works?"
"note that you’ll probably want to be patching relative to the module that you are testing, not the global path, so for example `flask.request.get_json`… yeah looks like you figured itout"
"I was getting an out of context issue; Am I able to call `request.get_json()`once?; Err, if I call it inside the decorator, can I call it inside the decorated function"
is there a way to route the std.out and std.err of a shell command when using `os.fork` and `os.execvp`?
"what does the double asterick in front of a dict/object mean?
For example:
` context = {""myApp"": myApp}
client.post_request(params=paramArr, myApp=myApp, async=False, callback=callback, **context) `"
"<https://stackoverflow.com/questions/36901/what-does-double-star-asterisk-and-star-asterisk-do-for-parameters>; in short, unpacks the dictionary provided into keword arguments for the method name"
Happy holidays. I have a small bug in my pygame. Please help. 
got it thanks
<@Leonarda> you have to post something code-related if you want help.  we’re not mind readers here
"I already posted my question but no one answered. Let me go back to history. ; Some reason after I pass enemy, collision occurs. ; And game resets; It occurs whenever enemy is passed and enemy enters vertical of player. ; So right when that red devil lines up with nerd emoticon player, game resets like collision occurred. "
"ok, so you have collision detection; start a debugger"
"Yes, a function. "
put a breakpoint at that spot; and run your code till the anomoulous condition occurs
Hmm. Not sure how because it is a function. 
and see what the values are vs what they should be; so?
"I am very new at this, sorry. "
ah ok; what are you using to write the code?
Can you please look at my code?; Idle
don’t have time; all I can suggest is you learn how to debug with python and idle; <https://www.cs.uky.edu/~keen/help/debug-tutorial/debug.html>
Okay. Thank you. 
"using that should get you closer to what’s causing the problem; and if you have issues, you can then ask a more detailed question without requiring people to load pastebin"
Great how-to. Thanks. Will work on it. 
"Hi. How i can ""pluginfy"" my application (<http://ezored.com|ezored.com>)? I want call a function inside another folder that is like a dependency of my tool. So inside ""dependency-http-httpclient"" i will have a file called ""xyz.py"" with a ""def do_build(params)"". So for each dependency i need ""import"" ""xyz.py"" and call the function ""do_build"" inside it (for each dependency folder). There is a way to do it?"
"<@Johnsie> plenty of ways:
* setuptools based one: <https://packaging.python.org/guides/creating-and-discovering-plugins/>
* from flask authors: <http://pluginbase.pocoo.org/>
* <http://yapsy.sourceforge.net/>
* <https://pypi.python.org/pypi/stevedore>
* <https://pypi.python.org/pypi/pluggy/0.6.0>
and others that aren't that easily googleable"
"But the folder is outside the tool, the tool is installed by pip and the folder can be in any place. It will works?"
"Nope, and it generally shouldn't.; It is a nightmare, to maintain plugins that aren't managed by python import system"
"Any suggestions? Today im calling python + script.py, like this:
<https://github.com/ezored/dependency-sample/blob/master/djinni-generate.py>"
"Sorry, I have no idea what that script does"
"no problems, im only showing how i do today; my tool call a subprocess; python + build.py; the problem is all that i need transfer of informaion to build.py is only by environment var"
How do you think a plugin system helps with that specific problem?
"Im not thinking about the plugin system, im checking any way to do it; i only call functions  from python files outside the tool folder"
"If you don't need to hook into some sort of framework by allowing users to write their own plugins, and you only need to run a script then what's wrong with just running a script as you do now?
What is the real problem you're trying to solve here?; I'd suggest to read <https://mikeash.com/getting_answers.html>"
Hi guys can someone help me out
<@Ryann> shoot it
Okay so I have a django form which takes in a keyword as input; I then pass the keyword to a python script; The python script is a google adwords api script that adds a keyword to a campaign; My question is how do pass I the updated django model to a function in a script; Also the keyword argument that is passed is going to be making a change in a object
How exactly you do that?
"def keywords_add(request):
    new_keyword = Keyword.objects.all()
    adwords_client = adwords.AdWordsClient.LoadFromStorage()
    ad_group_id = 'AD_GROUP_ID'
    ad_group_update.main(adwords_client, ad_group_id, new_keyword); the above code is in the views.py; And the script is something like this; def main(client, ad_group_id, keyword):
  # Initialize appropriate service.
  ad_group_criterion_service = client.GetService(
      'AdGroupCriterionService', version='v201710')

  # Construct keyword ad group criterion object.
  keyword1 = {
      'xsi_type': 'BiddableAdGroupCriterion',
      'adGroupId': ad_group_id,
      'criterion': {
          'xsi_type': 'Keyword',
          'matchType': 'BROAD',
          'text':  'MARS'
      },
      # These fields are optional.
      'userStatus': 'PAUSED',
      'finalUrls': {
          'urls': ['<http://example.com/mars>']
      }
  }; I want to change the text part of the keyword1 to the passed keyword argument"
"But you pass the new keyword already to the main function, no?; I see now you simply don't use that parameter at all"
Yes my question is how do i use the parameter to update the keywrod1 text
"<@Collette> Today everything that i need pass from .yml configuration file i need set in an environment variable. But i have a lot of configurations an logic in it, if the user set build_tv_os, so i need compile with one method, if false, with another method, and things like this.; If i can call do_build(param), i can pass everything that i want"
<@Ryann> You iterate over `new_keyword` list and construct dictionaries from `Keyword` instances
okay let me try that; I only have 1 keyword; Do i still have to iterate
<@Ryann> then you shouldn't do `Keyword.objects.all()`
"I think exec is what i want, without the ability to call a specific function"
Sounds scary; I'm not sure why would you need an environment variable if you already have a .yaml file. Can't you define a variable's value within that .yaml file as well?
"Man, the tool read entire file, but the isolated script not"
"Why can't that ""isolated"" script read the entire file as well?"
"<http://docs.tweepy.org/en/v3.5.0/api.html?highlight=cache>
I do noot understand how add cache to tweepy..
`cache=` And that I here indicate to the will be cache?"
should we use type hinting in new code?; or does everyone think this makes the code more “ugly” to read?
"I'd like to give a session about using Git to the company. Few questions about that:
1. Do you know any presentations I can use to give this session?
2. List of simple example to demonstrate different concepts (of course I can come up with my own, but would be nice to see some of these that were tested)
3. Online resources to practice and learn Git in more details I can link to for further reading.

Thanks!"
<@Dinah> do they know any other VCS already?; SVN maybe
"We are already working with Git. They pull/push/make PRs. But from different people that came up to with questions, seems like the understanding isn't deep enough to be effective with using Git. Things like the meaning of rebase, merge commits, commit ranges, the meaning of branches/tags and pushing to the remote."
as a further reading I'd recommend <https://git-scm.com/book/en/v2>
<https://twitter.com/girlie_mac/status/905270297128865792?lang=en>
:heart_eyes_cat:
"Cute, but I don't like the arrows. They are reversed. Each commit is pointing to its parent (or 2 parents for merge commits) and not the other way around. 
Maybe it's more clear in the send of ""flow"" though"
"Hi guys can someone explain me whats the difference between; new_list=list vs new_list=list[:]; As per my understanding the values of list is assigned to new_list,but what is the [:] means here ?"
"it's a very bad idea to name one of your variables `list`, `dict` , `str`"
"what <@Ciera> said.  To your specific question, new_list = list means they point at the same underlying data, where as `list[:]` copies the contents of `list`; <http://henry.precheur.org/python/copy_list.html>; that explains it with pictures."
"<@Ciera> I got your point but I followed a website example ,it was written like that"
"yeah like I mentioned yesterday, I think you should stop using that site.  :confused:"
"they do seem to have nice illustrations of your program. could be good for beginners. But yeah, sites that have bad example code should be banned"
yesterday it also seemed to allow invalid syntax; I feel kind of bad recommending not to use something without a good alternative though.  :confused:
"still, nothing is worse the giving a developer bad habits (not to mention wrong habits...)"
"IDLE, Jupyter Notebook and Anaconda Prompt."
"Yeah, certainly at least in the case of yesterday it actively caused some confusion, and yeah using builtins as variable names is definitely something to be avoided."
"With new_list = list, you don't actually have two lists. The assignment just copies the reference to the list, not the actual list, so both new_list and list refer to the same list after the assignment.; Where as new_list=list[:] you can actually slice it but is a weird syntax and dosen't make any sense."
"PyCharm as main editor, Jupyter for small prototyping and research (changed my world), IPython as REPL for quick stuff"
You can visit my blog: <http://pythonteaching.blogspot.in|pythonteaching.blogspot.in>
Are you using IDLE??? didn't know it existed until now and just opened it. I don't get it - why?
May be u are having problem regarding the installation..
"<@Junita> yesterday I found out that the error was on my side,I confused s little between 1 and l ,but today was a different case"
<#C07EYDP25|webdev>
"It looks weird at first, but it helps with doc strings, and your ide can help you fix common mistakes. For instance if you specify `def func(input: str)-&gt;str:` but you forget to return something or you have paths that don't return something then your IDE can say `hey bud you need to fix this your code is conflicting`.; <@Eugenie> have you tried pycharm? It's like IDLE but so much better."
"Oh.. is it I didn't tried it..
; Let me try that then"
"<@Bette> please stop using `list` when you reference a list. 
```&gt;&gt;&gt; tup = tuple((1,2,3,4))
&gt;&gt;&gt; tup
(1, 2, 3, 4)
&gt;&gt;&gt; some_list = list(tup)
&gt;&gt;&gt; some_list
[1, 2, 3, 4]
&gt;&gt;&gt; list = [1,2,3,4]
&gt;&gt;&gt; b = list((1,2,3,4))
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: 'list' object is not callable```; list is a function meant to convert some iterable object to a list. By using list as a variable name you're overriding this function which leads to bad things.; Additionally if you wish to get help here please stop using non-standard ways of showing us your code. The harder you make us to read and understand your work (bad images, pastebin, unformatted text) means you're going to get less help.; Please click the plus button to the left add `new code or text snippet` and select Python for highlighting."
"```
list = {}
```; not that's a workstopper"
I remember reading an article about someone who overrided `list` to make it lose some elements from time to time.
elements become loose?
not sure I could implement such a thing; ;-)
:coffee:
Why do you think he used dictionary notation `list({})`
"You can use the ""+"" button to the left of the text/message field and then select ""Code or text snippet"" when posting code blocks. Makes it much more readable. :slightly_smiling_face:"
I use IntelliJ Idea at work -- but oddly enough I don't use the Python plugin (which is essentially PyCharm) for Python development.  I tend to use Jupyter lab a lot lately -- also IPython and SublimeText.  But PyCharm is quite good.
yep.  IDLE should be used as an absolute last resort
I've used IDLE before when I was testing things out on RPi. :confused:; It's really not fun.
"""cat"" -&gt; Unix -&gt; Linux -&gt; Linus -&gt; git.  I get it now! :slightly_smiling_face:; Yes, if you do:; list = something; You could end up listless"
<@Glinda> point noted from next time I'll be little careful with variable names
"Hello Guyz, I need help to convert flat list of paths to dictionary; input = [('/config/db', ''), ('/config/db/0.0.0.0', ''), ('/config/db/0.0.0.0/ip', '0.0.0.0'), ('/config/db/0.0.0.0/port', '3333'), ('/config/db/1.1.1.1', ''), ('/config/db/1.1.1.1/ip', '1.1.1.1'), ('/config/db/1.1.1.1/port', '3333')]
output = {""db"":{""0.0.0.0"":{""ip"": ""0.0.0.0"", ""port"":""3333""}, ""1.1.1.1"":{""ip"":""1.1.1.1"", ""port"":'3333'}}}; I have following logic which creates dictionary but not able to place value in ti; paths_list = []
for k, v in input:
    paths_list.append(k)

def fun(group, items, path):
    sep = lambda i:i.split('/', 1)
    head = [i for i in items if len(sep(i))==2]
    tail = [i for i in items if len(sep(i))==1]
    gv = groupby(sorted(head), lambda i:sep(i)[0])
    return group, dict([(i, path+i) for i in tail] + [fun(g, [sep(i)[1] for i in v], path+g+'/') for g,v in gv])

menu = dict([fun('menu', paths_list, '')])['menu']
pprint(menu)"
"Hey bud, if you could use code formatting.; ```input = [('/config/db', ''), 
        ('/config/db/0.0.0.0', ''), 
        ('/config/db/0.0.0.0/ip', '0.0.0.0'), 
        ('/config/db/0.0.0.0/port', '3333'), 
        ('/config/db/1.1.1.1', ''), 
        ('/config/db/1.1.1.1/ip', '1.1.1.1'), 
        ('/config/db/1.1.1.1/port', '3333')]
output = {""db"":{""0.0.0.0"":{
                           ""ip"": ""0.0.0.0"", 
                           ""port"":""3333""
                           }, 
                ""1.1.1.1"":{
                            ""ip"" : ""1.1.1.1"", 
                            ""port"":'3333'
                          }
               }
          }```; Another thing, your function `fun` is doing way too much. This looks like you got the code from somewhere or are combining lots of code and are unsure of how it's working. Take it one step at a time and find out what is actually happening.; For instance, it looks like you're using ` sep = lambda i:i.split('/', 1)` to check if there's a `/` in the string. This can be accomplished in a more pythonic sense with `'/' in '/config/db/0.0.0.0'` which equals `True` and `'/' in '333'` which equals `False`"
Pycharm/Vim; My colleagues freak out if they have to look at code with vim :joy:
:heart: vim
"vim is pretty good, albeit with a steep learning curve; same with emacs; but I tend to use it alot when looking at stuff on the server"
Anyone have experience with 3D plots in Matplotlib and able to help me figure out how to make a 3D animated plot?
"<@Criselda> You can do this a couple of ways:
1) For long code samples, where numbered lines might help w/ communication, click the ""+"" button to the left of the message box and select ""Code or text snippet"".
2) For shorter code blocks, like the one <@Glinda> made, close the code in triple ticks"
Is there a way to prevent `*.egg-info` directories from installing when running `pip install -r ~/foobar/requirements.txt --no-compile --no-binary=:all: --isolated -t ~/foobar/vendor`?  Context: trying to setup an environment meant to be containered and not updated thereafter
"Hi. I have a tool called ezored (<http://ezored.com|ezored.com>) that use dependencies (another git repository fo example) and call inside each dependency a file ""build.py"" using subprocess. It is working perfect, but have some limitations. All data that i need make build.py see, i need pass it as an environment variable. The ezored project file has a lot of configurations from user, and build.py cannot see until i send as environment variable. So im searching a way to call a function inside build.py file, like ""do_build(param)"" that i can pass everything that i need as a dictionary. I cannot use import because the tool and the dependencies are in different directories, ezored is a pip package and depenencies can be any directory on user machine. What are the options in my case?"
"How to find the lowest IP value in a dict where the dict looks like:
```{'172.18.7.70': 'none', '172.18.4.5': 'none', '172.18.15.159': 'none', '172.18.12.176': 'none'}```"
the IP module probably has some tool for that
Nice
"<@Stacy> I think you need convert the IP to number first:

```
import socket, struct

def ip2long(ip):
    """"""
    Convert an IP string to long
    """"""
    packedIP = socket.inet_aton(ip)
    return struct.unpack(""!L"", packedIP)[0]
```"
"<@Stacy> here's an even simpler method: 
```&gt;&gt;&gt; import ipaddress
&gt;&gt;&gt; int(ipaddress.ip_address('192.168.0.1'))
3232235521
&gt;&gt;&gt; int(ipaddress.ip_address('192.168.0.2'))
3232235522```; and to get it back: ```&gt;&gt;&gt; ipaddress.ip_address(3232235522)
IPv4Address('192.168.0.2')```"
"`{'.'.join(['{0:0&gt;3}'.format(v) for v in ip.split('.')]):data for ip, data in d.iteritems()}`"
"```
hoststatus = {'172.18.7.70': 'none', '172.18.4.5': 'none', '172.18.15.159': 'none', '172.18.12.176': 'none'}
for k,v in hoststatus.iteritems():
        addr.append(ipaddress.ip_address(k.decode('utf-8')))
        print min(addr)```
returns 172.18.4.5; Worked with the ipaddress"
"Here's another fun method:
```data = {'172.18.7.70': 'none', '172.18.4.5': 'none', '172.18.15.159': 'none', '172.18.12.176': 'none'}
min(data.keys(), key = lambda t: ipaddress.ip_address(t))```"
Thanks <@Glinda> <@Johnsie> and <@Ciera>
And about my problem? Anyone can help me?
Hello; Anyone with AWS Experience?
"<@Christin> Some of the guys in <#C22DMH61M|devops> might be able to help, but then again they just may point you back to this channel for questions :upside_down_face:"
i am trying to get python to enter input into the cmd after i run a command is that possible?
"Thanks, its more of a deployment issue"
<@Lilliam>can you give an example?; Like you're trying to run a command on the console from within python?
yes this cmd runas /user:Administrator cmd and after that it ask for input which i want python to do that for me; <@Myong>
So you're on windows I imagine and attempting to run a command as administrator
yes; is it possible
"Hi, can anyone help me with s strange problem? 
<https://travis-ci.org/ezored/ezored/jobs/322719711>

On test log, i print:

```
Current data:
['flag']
['flag']
```

That is the lines:

```
new_target_data.c_flags.extend(['flag'])

print('Current data:')
print(target_data.c_flags)
print(new_target_data.c_flags)
```

The problem is when i extend ""new_target_data.c_flags"". The same data is applied to ""target_data.c_flags"". They are different objects, you can see on log the memory reference:

```
&lt;ezored.models.target_data.TargetData object at 0x2b59c0673590&gt;
&lt;ezored.models.target_data.TargetData object at 0x2b59c0673510&gt;
```"
"I'm looking at your code, and it looks like you're defining `c_flags` inside the class `TargetData` but not inside the the `__init__` for the class so it's a class and not an instance variable?"
but i need initiate it inside __init__ ?
I'm not sure one sec.
ok
Yeah that's the case it looks like; <https://repl.it/repls/CoarseFamousPitbull>; See how `first.variable` and `second.variable` have the same memory value prior to changing?; But `first` and `second` have different memory values?
yes; but im reading another thing that help too; you are correct; but the rule is only for dict/list; see; <https://repl.it/repls/GainsboroClutteredXiphiasgladius>
Yeah at first I tried setting it equal to 2; and I was like wtf
"with int var it doesnt happen, for ex; thanks, the problem was solved :slightly_smiling_face:"
python treats integers weirdly; np
"i think python list/dict is like c/c++ array, is always a pointer"
"Python caches small integers for efficiency; ```
&gt;&gt;&gt; a = 256
&gt;&gt;&gt; b = 256
&gt;&gt;&gt; a is b
True
&gt;&gt;&gt; a = 257
&gt;&gt;&gt; b = 257
&gt;&gt;&gt; a is b
False```; everything from 0-256 isnt created as new object, everything 256+ is"
"But what the best practices? All list/dict i put in __init__, and string, int, decimal, i put out of __init__. This is ok?"
"hello :slightly_smiling_face:; Do experienced python devs create virtualenvs for every single project??  Is this best practice? if not, then what is best practice?"
"&gt; Do experienced python devs create virtualenvs for every single project??  Is this best practice? if not, then what is best practice?
any time when you don't want to create docker container"
<@Johnsie> <https://docs.python.org/3/tutorial/classes.html#class-and-instance-variables>
"I wondered, why it was behaving like this."
"Hi all.
I have a Dockerfile. I run the command docker build. Then docker run.
My script creates a file, how to make so that it is stored on my PC, because if I the script will run using Docker, it is nowhere to be found."
<@Georgeann> have you checked for the file inside of the container?
after you've checked if the file exists inside of the container you should use docker-compose 'volumes' <https://docs.docker.com/compose/compose-file/#volumes>
"Agreed.
But also depends on what no-name wants to do. I didn't get much other than script creates a file that can't be found. Apparently should be written in host OS."
mmm you're right.
"<@Elma> <@Deedee> Look.
I have a pythonscript for example look like
```f = open('some.txt', 'w')
f.wrtite('Test')
f.close()
```
and i build docker, like
```$ docker build -t test/test1 .
```
then
```
$ docker run --rm idonotknowwhat
```
And what should I add to start to the file to appear in the same folder where I run the script?"
To share files between client and container you can create volumes; You should take a look on this <http://jdlm.info/articles/2016/03/06/lessons-building-node-app-docker.html#the-nodemodules-volume-trick>; or check in the official documentation <https://docs.docker.com/engine/admin/volumes/volumes/#choose-the--v-or-mount-flag>
"I looked at the official documentation and i run script like 
```
$ docker run --rm -v /home/cat/Documents/projects/mypr/my2pr:/home test/test1
```
And I still received the error.; Too hard :smiley:"
are you setted the WORKDIR in your dockerfile ?
"<@Johnsie> Best practice: anything that needs to be unique among instances needs to be in `__init__` or an instance variable anything that needs to be shared among instances needs to be a class variable. Code to the behavior here, don't code to the variable type."
Nope 
"<@Glinda>, ok thanks. You last phrase make senses a lot. ""Code to the behavior""."
"What is this behavior called: ```from src.modules import Module

# Instance the class and save a variable in this package. 
Module(important_variable)

# classmethod, that can reference 'important_variable'
# only if called after the above call
ModuleHelper.function('some string')```"
closure?; binding?
"That sounds right.; How bad of an idea is this: ```token = None

class Module:
    def __init__(self, variable):
        global token 
        token = variable
        
if __name__ == '__main__':
    print(token)
    Module('test')
    print(token)
    ```"
what's the goal ?
"I have a few classes in this module, all of them need access to this token.; I want to make the module as much like a package as I can; where you have to pass in a token instead of looking for one in the local area or define it within the package."
"you can create a variable inside a package; ```
&gt;&gt;&gt; import requests
&gt;&gt;&gt; print(requests)
&lt;module 'requests' from '/usr/lib/python3/dist-packages/requests/__init__.py'&gt;
&gt;&gt;&gt; requests.hello = 'world'
&gt;&gt;&gt; print(requests.hello)
world
&gt;&gt;&gt; 
```; I believe something like this should work"
Okay that sounds good.
"I'm trying to scrape data from wunderground with requests and its working but eventually after about 8 or so requests it gives me an exception, is there an easy way to tell requests to keep trying? not seeing anything after a few quick searches"
<https://www.wunderground.com/weather/api/d/pricing.html>; why not use the api?
I am; I'm using requests to get the data from the api
"what’s the exception you’re getting?; sounds like you’re on the developer plan, which limits you to 10 calls/minute and 500 calls/day"
whats your code?
"but given the number of requests you’re making, sounds like you’re hitting the limit per minute"
"Yeah, and they should be returning a status response.; But it's easier to ignore I guess."
<https://apicommunity.wunderground.com/weatherapi/topics/error-code-list>; &gt;just not something we ever put together ; :eyeroll: 
LOL
hahahaha
I did have it every 30 seconds and it would do it as well too
"What you should do for the responses is check if there's an error section. Scroll down that link I posted above with a sample response with an error ; And implement some try catches, exception handling and response code checks; I would suspect you're getting a number of error responses, and the api is just shutting you off as a result "
"Within pycharm... Myabe something to do with docstrings, wraps and decorators?"
"what’s the difference?; can’t see anything; oh, you have the docstring inside"
Yeah
hmm
"not an error; it's just pycharm being pycharm; See also: `callable object is not callable`; yes; function is obviously callable, right?"
Yup
<https://mail.python.org/pipermail/python-ideas/2013-May/020357.html>
cool thanks!
"I could do this ```def external_router(calls: List[ResponseContainer]):
    # slack, or airtable
    for call in calls:
        class_method = getattr(call.route, call.method, None)
        if iscallable(class_method):        
            class_method(call.payload)
        else:
            getattr(call.route, 'default')(call.method, call.payload)```; This is more of a learning excercise"
"have you looked into functools.partial ( <https://docs.python.org/3/library/functools.html#functools.partial> )?  I honestly have never implemented it, but it *may* be appropriate here?"
Thanks that looks cool.
you might also want to look at the `collections` module and/or use propriety instead; and `defaultdict`
propriety?
property ?; when I start to speak in frenglish I should go to sleep :smile:
ha
"Moved this in here b/c channel has taken another direction.

`docker run --rm -v /home/cat/Documents/projects/mypr/my2pr:/home test/test1`

`--rm` removes the container when it stops/exits. My guess is that any mapped volumes disappear as well. Do you have this issue if you DON'T use `--rm`?"
if it's working :thumbsup:; but it looks a bit scary :smile:
Yeah I figure when I properly make it into a module the `__name__` part will look better.
"I need help. I've read so many posts/responses/articles... even watched 2 hrs worth of vids on LinuxAcademy on Git that things like <https://git-scm.com/book/en/v2/Git-Branching-Rebasing> may as well be written as hieroglyphs.
What I need to do is replace my local repo w/ the most recent upstream. So sync my local copy so that it is exactly as the latest upstream/master copy.
fetch, rebase, pull, merge, sorcery, it all just produces errors. 
```
error: Failed to merge in the changes.
Patch failed at 0001 Rewording of copy on invite request form
The copy of the patch that failed is found in: .git/rebase-apply/patch

When you have resolved this problem, run ""git rebase --continue"".
If you prefer to skip this patch, run ""git rebase --skip"" instead.
To check out the original branch and stop rebasing, run ""git rebase --abort"".
```
help"
do you have local changes you need to keep ?
no.
"ok, do `git stash`; and then `git pull`; assuming you’re on the master branch, or whatever branch you need to be on"
"and i've thought about deleting my local copy but....
stash?"
or nuke the directory and clone again (but you won't learn anything)
"<https://git-scm.com/docs/git-stash>; &gt;Use git stash when you want to record the current state of the working directory and the index, but want to go back to a clean working directory. The command saves your local modifications away and reverts the working directory to match the HEAD commit."
"```
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git stash
pyslackers_website/slack/templates/slack/index.html: needs merge
pyslackers_website/slack/templates/slack/index.html: needs merge
pyslackers_website/slack/templates/slack/index.html: unmerged (6e48f250339b24494434d0bda54a338ef50fb659)
pyslackers_website/slack/templates/slack/index.html: unmerged (8a8b65c5964b3b35a3862525ec1d503090bcd37f)
fatal: git-write-tree: error building trees
Cannot save the current index state
```"
could you paste the output of `git status` it looks like you are in process of doing a rebase
"```
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git status
rebase in progress; onto db610e9
You are currently rebasing branch 'master' on 'db610e9'.
  (fix conflicts and then run ""git rebase --continue"")
  (use ""git rebase --skip"" to skip this patch)
  (use ""git rebase --abort"" to check out the original branch)

Unmerged paths:
  (use ""git reset HEAD &lt;file&gt;..."" to unstage)
  (use ""git add/rm &lt;file&gt;..."" as appropriate to mark resolution)

	deleted by us:   pyslackers_website/slack/templates/slack/index.html

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```"
do a `git rebase --abort` and after another `git status`
"lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean"
ok. then assuming the `pyslackers` remote is named `upstream`
yes
`git pull upstream master`; and then to sync your fork on github `git push origin master`
"```
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git pull upstream  master 
From <https://github.com/pyslackers/website>
 * branch            master     -&gt; FETCH_HEAD
Already up-to-date.
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git push origin master
Username for '<https://github.com>': khdc-me
Password for '<https://khdc-me@github.com>': 
Everything up-to-date
```
but this leaves a `This branch is 3 commits ahead of pyslackers:master.` on GitHub.; thanks for `git stash` <@Meg>; Or am I just supposed to ignore that?"
no that's because you have some merge commit in your master that aren't on pyslackers; I'm not sure what's the easiest way to fix that :thinking_face:; Link for those interested <https://github.com/khdc-me/website/commits/master>
I guess this is what I've been fighting with. haha FORMAT THE DRIVE!
<https://github.com/pyslackers/website/commits/master>
j/k
ok so `git checkout master` (just to be sure); then `git fetch upstream` (just to be sure bis); `git reset --hard upstream/master` to clear your master and use the upstream (pyslackers) one; `git push origin master --force` to push your local master to your fork
"```
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git fetch  upstream 
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git reset --hard upstream/master 
HEAD is now at db610e9 Fixes #142: Adds a feature for Django on the home page
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ git push origin master --force
Username for '<https://github.com>': khdc-me
Password for '<https://khdc-me@github.com>': 
Total 0 (delta 0), reused 0 (delta 0)
To <https://github.com/khdc-me/website.git>
 + 51c9193...db610e9 master -&gt; master (forced update)
lex@lana:~/Development/Python/PyCharm/pyslackers-com/website$ 
```
oh oh oh oh `This branch is even with pyslackers:master.`; <@Ciera> :taco:"
thanks :thumbsup:; good work on the website :wink:
no man. thank you!
you learn somthing every day; and git (or whatever VCS) is one of those things you do need to be comfortable with especially if you’re on a team
take care to create a new branch before doing any modifications
"yeah. I've been after this for a couple of days. tried reset, just hadn't used `--hard`. anyway, you guys are awesome."
Does anyone know of a good project structure for a sanic application?; I'm thinking about doing a straight copy of whatever flask would do.
Today I will try. Thanks. 
"New question, how does everyone here use pytest for REST apis?

I ask because I have things such as test_update_user that needs me to

- Setup a test user in the database via `post(/api/user, data=new_user_data)`
- Perform test on user update via `put(/api/user/&lt;username&gt;, data=updated_user_data) `
- Teardown the test user via `delete(/api/user/&lt;username&gt;)`

I don't really know how to consolidate the Setup and Teardown aspects of this into a fixture."
this might be overkill and I honestly haven't used it but I heard about this on pybyes podcast <https://taverntesting.github.io/>; <https://pythonbytes.fm/episodes/show/52/call-your-apis-with-uplink-and-test-them-in-the-tavern>
"Hello. I'm new to python and am a bit puzzled about using virtualenv and was wondering what the current best practices are surrounding that, especially for beginners"
"<@Sherley> I'm being a *bit* simplistic but the norm is virtualenv for everything.  If you use more than one version of Python, it becomes very handy, especially when you start using the switches/options."
<@Seema> has virtualenv been phased out in favor of docker?
"<@Sherley> I'd say start with `pipenv`. It has its quirks, but for an end-user it works better than just plain virtualenv"
Or is it still accepted to use virtualenv
docker is a whole different story
"Depending on your philosophy and desires, you can use both together or just a virtualenv.  They are not the same though can accomplish similar tasks"
"From what I understand, the point of virtualenv is to keep each project and its dependencies isolated; Which incidentally also coincides with my understanding of docker's purpose.. Or at least its central one"
"Docker creates composable environments while virtualenv creates a virtual environment, installing to a virtualenv is isolated from the system but available after deactivation.  Docker images are created, calling the same image next time will create the original environment; There are other advantages and disadvantages.  Are you developing for yourself?; The pros often come down to how you want to manage dependencies, system files, and whether you are sharing the environment.  Virtualenv really does take care of the majority of the issues in a simpler fashion; <https://stackoverflow.com/questions/41573587/what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrappe>"
<@Seema> The project that I was interested in is an open source project I found on GitHub
"The project will typically have a lead either by including a docker file or a requirements. Txt or possibly even both; I would follow the project in that case, ymmv"
"Ok. It recommends virtualenv but is missing explicit directions on how to use it in the readme, <http://GitHub.com/hackforla/adopt-civic-art|GitHub.com/hackforla/adopt-civic-art>"
"Like Malinoff said, you can use other virtualenv, either way, you'll create an environment, clone the repo, then pip install -r requirements.txt; The command will change depending on the program of course; (Off for the night, gn, good luck)"
Thanks
